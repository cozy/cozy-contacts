/*! For license information please see cozy.85d21fce.js.LICENSE.txt */
(self.webpackChunkcozy_contacts=self.webpackChunkcozy_contacts||[]).push([["611"],{1569:function(){},48424:function(e,t,r){"use strict";r.r(t)},39107:function(){},7856:function(){},83741:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonCozyHome=void 0;var a=n(r(96540)),o=n(r(89271)),i=n(r(94619)),c=r(7127),u=r(84660),s=n(r(12556));(t.ButtonCozyHome=function(e){var t=e.homeHref,r=e.isInvertedTheme,n=(0,u.useWebviewIntent)();return(0,c.isFlagshipApp)()||(0,i.default)("flagship.debug")?a.default.createElement("a",{onClick:function(){n.call("backToHome")},className:"coz-nav-apps-btns-home coz-nav-apps-btns-home--is-flagship","data-testid":"buttonCozyHome"},a.default.createElement(s.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:r})):t?a.default.createElement("a",{href:t,className:"coz-nav-apps-btns-home","data-testid":"buttonCozyHome"},a.default.createElement(s.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:r})):a.default.createElement("span",{className:"coz-nav-apps-btns-home","data-testid":"buttonCozyHome"},a.default.createElement(s.default,{className:"coz-nav-apps-btns-home-svg",isInvertedTheme:r}))}).propTypes={homeHref:o.default.string,isInvertedTheme:o.default.bool}},12556:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(24242),i=n(r(90774)),c=n(r(77395));t.default=function(){var e=(0,o.useBreakpoints)().isMobile;return a.default.createElement(i.default,{icon:c.default,size:e?28:32,className:e?"u-ml-half":void 0})}},27310:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(56493),i=n(r(89271)),c=n(r(94619)),u=n(r(39274)),s=r(57615),l=n(r(96979)),d=n(r(63274)),f=n(r(61363)),p=r(52765),h="apps-menu-grid",m=function(e){var t=e.isFetchingApps,r=e.apps,n=e.homeApp,o=e.closeMenu,i=(0,f.default)().t;if(!t&&(!r||!r.length))return a.default.createElement(u.default,{className:"u-mh-half",color:"error"},i("no_apps"));if(t)return a.default.createElement("div",{className:h},a.default.createElement(d.default,{key:"1"}),a.default.createElement(d.default,{key:"2"}),a.default.createElement(d.default,{key:"3"}));var p=n&&n.slug,m=r.filter(function(e){return e.slug!==p}),v=(0,c.default)("apps.sort")?(0,s.sortApplicationsList)(m,(0,c.default)("apps.sort")):m;return a.default.createElement("div",{className:h},v.map(function(e,t){return a.default.createElement(l.default,{key:t,app:e,onAppSwitch:o})}))};m.propTypes={isFetchingApps:i.default.bool.isRequired,apps:i.default.array,homeApp:i.default.shape({isCurrentApp:i.default.bool,slug:i.default.string,href:i.default.string}),closeMenu:i.default.func},t.default=(0,o.connect)(function(e){return{isFetchingApps:(0,p.isFetchingApps)(e),apps:(0,p.getApps)(e),homeApp:(0,p.getHomeApp)(e)}})(m)},96979:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppItem=void 0;var a=n(r(82710)),o=n(r(96540)),i=r(57615),c=r(52245),u=n(r(36040)),s=n(r(54697)),l=n(r(36885)),d=n(r(39274)),f=n(r(32485)),p=r(40061),h=n(r(73791)),m=(0,c.makeStyles)(function(){return{text:{lineHeight:"22.5px",fontSize:"12px",fontWeight:400}}}),v=t.AppItem=function(e){var t=e.app,r=e.onAppSwitch,n=(0,i.getAppDisplayName)(t),c=m();return o.default.createElement(l.default,{href:t.href||"",app:t,onAppSwitch:r},function(e){var r=e.onClick,i=e.href;return o.default.createElement(u.default,{height:"auto",component:"a",variant:"text",href:i,title:n,onClick:r,className:(0,f.default)("apps-menu-grid-item-wrapper","u-bdrs-5"),label:o.default.createElement("div",{className:"apps-menu-grid-item"},o.default.createElement("div",{className:"apps-menu-grid-item-icon"},o.default.createElement(s.default,(0,a.default)({app:t,key:t.slug},h.default.get.iconProps()))),o.default.createElement(d.default,{noWrap:!0,className:c.text},n))})})};v.propTypes={app:p.appShape.isRequired},t.default=v},63274:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AppItemPlaceholder=void 0;var a=n(r(96540)),o=n(r(55540)),i=t.AppItemPlaceholder=function(){return a.default.createElement(o.default,{variant:"rect",width:48,height:48,className:"u-m-1 u-bdrs-5"})};t.default=i},62338:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=n(r(27310)),c=n(r(74710)),u=n(r(90774)),s=n(r(26988)),l=n(r(83555)),d=r(24242),f=r(38675);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var h=(0,r(52245).makeStyles)({root:{"& .dialogContentInner":{"& .dialogContentWrapper":{paddingBottom:"0 !important"}}}});t.default=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2),r=t[0],n=t[1],p=(0,o.useRef)(),m=(0,o.useRef)(),v=(0,d.useBreakpoints)().isMobile,y=function(){n(!r)},b=h();return o.default.createElement("nav",{ref:p},o.default.createElement(c.default,{ref:m,onClick:y,className:"u-p-half"},o.default.createElement(u.default,{icon:l.default,size:"18"})),v?o.default.createElement(f.ConfirmDialog,{open:r,onClose:y,content:o.default.createElement(i.default,{closeMenu:y}),componentsProps:{dialogContent:{classes:b}},classes:{paper:"u-bdrs-7"}}):o.default.createElement(s.default,{open:r,anchorEl:m.current,container:p.current,getContentAnchorEl:null,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-10,horizontal:0},classes:{paper:"u-bdrs-7"}},o.default.createElement(i.default,{closeMenu:y})))}},85936:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(56211),c=n(r(61363));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}t.default=function(e){var t=e.code,r=e.links,n=(0,c.default)().t,u=(0,o.useState)(!0),s=(0,a.default)(u,2),l=s[0],d=s[1],f=(0,o.useCallback)(function(){return setTimeout(function(){d(!1)},100)},[d]);return(0,o.useEffect)(function(){f()},[f]),o.default.createElement("div",{className:"coz-bar-banner".concat(l?" unmounted":"")},o.default.createElement("p",null,n("banner.".concat(t,".description"))),r&&o.default.createElement(i.ButtonLink,{className:"coz-bar-banner-button",size:"tiny",href:r,label:n("banner.".concat(t,".CTA"))}))}},23185:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=t.mapDispatchToProps=t.default=t.Bar=void 0;var a=n(r(82710)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(56493),c=n(r(89271)),u=n(r(44819)),s=n(r(82092)),l=r(24242),d=n(r(23098)),f=r(7127),p=n(r(94619)),h=r(83741),m=n(r(85936)),v=n(r(62338)),y=n(r(73433)),b=n(r(58258)),g=r(52765),_=r(42895),w=r(38594),k=n(r(12841)),O=n(r(32485));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}var E=t.Bar=function(e){var t,r=e.fetchContext,n=e.fetchSettingsData,i=e.fetchApps,c=e.isPublic,g=e.barLeft,x=e.barRight,E=e.barCenter,C=e.barSearch,S=e.onLogOut,A=e.userActionRequired,P=e.searchOptions,M=e.isInvertedTheme,j=e.appSlug,D=e.hasFetchedApps,T=e.homeApp,I=e.componentsProps,R=(0,_.useClient)(),N=(0,l.useBreakpoints)().isMobile,L=(0,o.useCallback)(function(){!c&&(r(),n(!1),D||i())},[i,r,n,D,c]);return(0,o.useEffect)(function(){var e=function(){L()};return L(),R.on("tokenRefreshed",e),function(){R.removeListener("tokenRefreshed",e)}},[R,L]),o.default.createElement("div",(0,a.default)({},null==I?void 0:I.Wrapper,{className:(0,O.default)("coz-bar-wrapper",null==I||null==(t=I.Wrapper)?void 0:t.className),"data-testid":"coz-bar-wrapper"}),o.default.createElement("div",{id:"cozy-bar-modal-dom-place"}),o.default.createElement("div",{className:"coz-bar-container"},g||function(){if((0,f.isFlagshipApp)()||(0,p.default)("flagship.debug"))return o.default.createElement(h.ButtonCozyHome,{isInvertedTheme:M});var e=!c&&T&&T.href;if(N)return o.default.createElement(h.ButtonCozyHome,{homeHref:e});var t="home"===j;return o.default.createElement(u.default,{container:!0,alignItems:"center",className:"u-w-auto"},!t&&o.default.createElement(o.default.Fragment,null,o.default.createElement(h.ButtonCozyHome,{homeHref:e}),o.default.createElement(s.default,{orientation:"vertical",className:"u-mr-half",flexItem:!0})),o.default.createElement(d.default,{slug:j}))}(),E||null,o.default.createElement("div",{className:"u-flex-grow"},C||(P.enabled&&!N?o.default.createElement("div",{className:"u-flex-grow u-mh-2"},o.default.createElement(w.AssistantDesktop,{componentsProps:{SearchBarDesktop:{size:"small"}}})):null)),P.enabled&&N?o.default.createElement(k.default,null):null,x,!c&&("drive"===j&&N&&C?null:o.default.createElement(o.default.Fragment,null,o.default.createElement(b.default,null),o.default.createElement(v.default,null),o.default.createElement(y.default,{onLogOut:S})))),A&&o.default.createElement(m.default,A))};E.propTypes={appSlug:c.default.string,isPublic:c.default.bool,isInvertedTheme:c.default.bool,onLogOut:c.default.func,userActionRequired:c.default.object,componentsProps:c.default.shape({Wrapper:c.default.shape({className:c.default.string})})};var C=t.mapStateToProps=function(e){return{hasFetchedApps:(0,g.hasFetched)(e),homeApp:(0,g.getHomeApp)(e)}},S=t.mapDispatchToProps=function(e){return{fetchApps:function(){return e((0,g.fetchApps)())},fetchContext:function(){return e((0,g.fetchContext)())},fetchSettingsData:function(t){return e((0,g.fetchSettingsData)(t))}}};t.default=(0,i.connect)(C,S)(E)},67824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarCenter=function(e){var t=e.children,r=(0,a.useBarContext)();return(0,n.useEffect)(function(){if(r&&void 0!==r.setBarCenter)return r.setBarCenter(t),function(){r.setBarCenter(null)};console.warn("You should not use BarCenter outside of a BarProvider")},[r,t]),null};var n=r(96540),a=r(68520)},97190:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BarComponent=void 0;var a=n(r(82710)),o=n(r(13135)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),c=r(40961),u=r(52765),s=r(57275),l=n(r(23185)),d=r(56493),f=r(42895),p=r(7127),h=n(r(95926)),m=n(r(73791)),v=r(68520);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var b=function(){var e=(0,p.isMobileApp)()?"mobile":"browser",t=document.createElement("div");return t.setAttribute("id","coz-bar"),t.setAttribute("role","banner"),t.classList.add("coz-target--".concat(e)),t},g=function(){var e=b(),t=document.querySelector(s.APP_SELECTOR);return t?(document.body.insertBefore(e,t),document.body.classList.add("has-banner"),e):(console.warn('Cozy-bar is looking for a "'.concat(s.APP_SELECTOR,"\" tag that contains your application and can't find it :'(… The BAR is now disabled")),null)};function _(e){var t=e.children,r=e.wrapperElement,n=e.setWrapperElement,a=e.wrapperId,o=void 0===a?"cozy-bar":a;return((0,i.useLayoutEffect)(function(){var e=document.getElementById(o),t=!1;return e||(t=!0,e=g(o)),n(e),function(){t&&e.parentNode&&e.parentNode.removeChild(e)}},[n,o]),null===r)?null:(0,c.createPortal)(t,r)}t.BarComponent=function(e){var t,n=e.appName,c=void 0===n?(0,s.getAppName)():n,p=e.appNamePrefix,y=void 0===p?(0,s.getAppNamePrefix)():p,b=e.appSlug,g=void 0===b?(0,s.getAppSlug)():b,w=e.iconPath,k=void 0===w?(0,s.getDefaultIcon)():w,O=e.isInvertedTheme,x=e.isPublic,E=void 0!==x&&x,C=e.onLogOut,S=e.disableInternalStore,A=void 0!==S&&S,P=e.searchOptions,M=e.componentsProps,j=(0,v.useBarContext)()||{},D=j.barSearch,T=j.barLeft,I=j.barCenter,R=j.barRight,N=j.themeVariant,L=(0,i.useState)(null),F=(0,o.default)(L,2),B=F[0],z=F[1],H=(0,f.useClient)(),U=!E&&/^\/public/.test(window.location.pathname),V=r(93761).default;t=A?H.store:V(),(0,i.useEffect)(function(){t.dispatch((0,u.setInfos)(c,y,g)),m.default.init({cozyClient:H,onCreate:function(e){return t.dispatch((0,u.onRealtimeCreate)(e))},onDelete:function(e){return t.dispatch((0,u.onRealtimeDelete)(e))}})},[c,y,g,H,t]);var Z={appName:c,isInvertedTheme:O,appNamePrefix:y,appSlug:g,cozyClient:H,iconPath:k,isPublic:U||E,onLogOut:C,userActionRequired:(0,s.getUserActionRequired)(),searchOptions:void 0===P?{enabled:!0}:P,componentsProps:void 0===M?{}:M,onDrawer:function(e){B.dataset.visible=e}};return i.default.createElement(_,{wrapperElement:B,setWrapperElement:z},i.default.createElement(h.default,{variant:N,ignoreCozySettings:Z.isPublic},A?i.default.createElement(l.default,(0,a.default)({},Z,{barSearch:D,barLeft:T,barCenter:I,barRight:R})):i.default.createElement(d.Provider,{store:t},i.default.createElement(l.default,(0,a.default)({},Z,{barSearch:D,barLeft:T,barCenter:I,barRight:R})))))}},53496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarLeft=function(e){var t=e.children,r=(0,a.useBarContext)();return(0,n.useEffect)(function(){if(r&&void 0!==r.setBarLeft)return r.setBarLeft(t),function(){r.setBarLeft(null)};console.warn("You should not use BarLeft outside of a BarProvider")},[r,t]),null};var n=r(96540),a=r(68520)},68520:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useBarContext=t.default=t.BarContext=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var c=t.BarContext=(0,o.createContext)();t.useBarContext=function(){return(0,o.useContext)(c)},t.default=(0,o.memo)(function(e){var t=e.children,r=(0,o.useState)(null),n=(0,a.default)(r,2),i=n[0],u=n[1],s=(0,o.useState)(null),l=(0,a.default)(s,2),d=l[0],f=l[1],p=(0,o.useState)(null),h=(0,a.default)(p,2),m=h[0],v=h[1],y=(0,o.useState)(null),b=(0,a.default)(y,2),g=b[0],_=b[1],w=(0,o.useState)("normal"),k=(0,a.default)(w,2),O=k[0],x=k[1],E=(0,o.useMemo)(function(){return{barCenter:i,setBarCenter:u,barRight:d,setBarRight:f,barLeft:m,setBarLeft:v,barSearch:g,setBarSearch:_,themeVariant:O,setThemeVariant:x}},[i,m,d,g,O]);return o.default.createElement(c.Provider,{value:E},t)})},13627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarRight=function(e){var t=e.children,r=(0,a.useBarContext)();return(0,n.useEffect)(function(){if(r&&void 0!==r.setBarRight)return r.setBarRight(t),function(){r.setBarRight(null)};console.warn("You should not use BarRight outside of a BarProvider")},[r,t]),null};var n=r(96540),a=r(68520)},46603:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BarRoutes=void 0;var a=n(r(96540)),o=r(42895),i=r(38594),c=r(84976);t.BarRoutes=[a.default.createElement(c.Route,{key:"assistant/:conversationId",path:"assistant/:conversationId",element:a.default.createElement(a.default.Fragment,null,a.default.createElement(o.RealTimeQueries,{doctype:"io.cozy.ai.chat.conversations"}),a.default.createElement(i.AssistantDialog,null))}),a.default.createElement(c.Route,{key:"search",path:"search",element:a.default.createElement(i.SearchDialog,null)})]},78617:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarSearch=function(e){var t=e.children,r=(0,a.useBarContext)();return(0,n.useEffect)(function(){if(r&&void 0!==r.setBarSearch)return r.setBarSearch(t),function(){r.setBarSearch(null)};console.warn("You should not use BarSearch outside of a BarProvider")},[r,t]),null};var n=r(96540),a=r(68520)},25524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarTheme=function(e){var t=e.variant,r=(0,a.useBarContext)();return(0,n.useEffect)(function(){if(r&&void 0!==r.setTheme)return r.setThemeVariant(t),function(){r.setThemeVariant("normal")};console.warn("You should not use BarTheme outside of a BarProvider")},[r,t]),null};var n=r(96540),a=r(68520)},58258:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(74710)),i=n(r(90774)),c=n(r(37582));t.default=function(){return a.default.createElement(o.default,{component:"a",href:"https://support.cozy.io/",target:"_blank",rel:"noopener, noreferrer",className:"u-p-half"},a.default.createElement(i.default,{icon:c.default,size:"18"}))}},12841:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),o=r(84976),i=n(r(90774)),c=n(r(74710)),u=n(r(13691));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.default=function(){var e=(0,o.useNavigate)(),t=(0,o.useLocation)().pathname,r=(0,a.useCallback)(function(){e("/search?returnPath=".concat(t))},[e,t]);return a.default.createElement(c.default,{onClick:r},a.default.createElement(i.default,{icon:u.default}))}},62008:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(32485)),i=n(r(94619)),c=r(84660),u=r(42895),s=r(40543),l=n(r(70879)),d=n(r(27282)),f=n(r(72637)),p=n(r(38143)),h=n(r(20375)),m=n(r(83108)),v=n(r(23325)),y=n(r(78402)),b=n(r(90240)),g=n(r(83393)),_=n(r(90774)),w=n(r(82092)),k=n(r(36040)),O=n(r(39274)),x=r(24242),E=n(r(61363)),C=n(r(55657)),S=r(21732);t.default=function(e){var t=e.onLogOut,r=e.instance,n=e.diskUsage,A=e.closeMenu,P=(0,c.useWebviewIntent)(),M=(0,u.useClient)(),j=(0,E.default)().t,D=(0,x.useBreakpoints)().isMobile,T=r.data,I=T.public_name,R=T.email,N=(0,s.makeDiskInfos)(n.data.used,n.data.quota),L=N.humanDiskQuota,F=N.humanDiskUsage,B=(0,S.getSettingsLink)({client:M,hash:"menu"}),z=(0,S.getSettingsLink)({client:M,hash:"storage"}),H=D?"disabled":void 0;return a.default.createElement("div",{className:(0,o.default)("user-menu-content","u-flex u-flex-column")},a.default.createElement("div",{className:"u-flex u-flex-column u-flex-items-center u-mt-half"},a.default.createElement(C.default,{className:"u-mb-half"}),a.default.createElement(O.default,{variant:"h4"},I),a.default.createElement(O.default,{variant:"body2"},R),(0,i.default)("cozy.b2b.enabled")&&a.default.createElement(k.default,{label:j("userMenu.addAccount"),variant:"secondary",startIcon:a.default.createElement(_.default,{icon:h.default}),className:(0,o.default)("user-menu-content-add-account","u-mt-1")})),a.default.createElement(l.default,{className:"u-pb-0"},a.default.createElement(d.default,{button:!0,gutters:H,size:"small",component:"a",href:B,onClick:A},a.default.createElement(f.default,null,a.default.createElement(_.default,{icon:m.default})),a.default.createElement(p.default,{primary:j("userMenu.manageProfile")})),(0,i.default)("cozy.b2b.enabled")&&a.default.createElement(d.default,{button:!0,gutters:H,size:"small"},a.default.createElement(f.default,null,a.default.createElement(_.default,{icon:b.default})),a.default.createElement(p.default,{primary:j("userMenu.createBusinessAccount")})),a.default.createElement(d.default,{button:!0,gutters:H,size:"small",component:"a",href:z,onClick:A},a.default.createElement(f.default,null,a.default.createElement(_.default,{icon:y.default})),a.default.createElement(p.default,{primary:j("userMenu.storage"),secondary:j("userMenu.storageAvailable",L-F)}),a.default.createElement(f.default,null,a.default.createElement(_.default,{icon:g.default}))),a.default.createElement(w.default,{component:"li",variant:"inset"}),a.default.createElement(d.default,{button:!0,gutters:H,size:"small",onClick:function(){return(0,S.logOut)({client:M,webviewIntent:P,onLogOut:t})}},a.default.createElement(f.default,null,a.default.createElement(_.default,{icon:v.default})),a.default.createElement(p.default,{primary:j("userMenu.logOut")}))))}},55657:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(42895),i=n(r(27998));t.default=function(e){var t=e.className,r=e.size,n=(0,o.useClient)().getStackClient().uri;return a.default.createElement(i.default,{className:t,size:void 0===r?"m":r,src:"".concat(n,"/public/avatar?fallback=initials")})}},21732:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.logOut=t.getSettingsLink=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(42895),u=r(7127);t.getSettingsLink=function(e){var t=e.client,r=e.hash;return(0,c.generateWebLink)({cozyUrl:t.getStackClient().uri,slug:"settings",hash:r,subDomainType:t.getInstanceOptions().subdomain})},n=(0,i.default)(o.default.mark(function e(t){var r,n,a,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.webviewIntent,!((a=t.onLogOut)&&"function"==typeof a)){e.next=8;break}if(!((i=a())instanceof Promise)){e.next=6;break}return e.next=6,i;case 6:e.next=11;break;case 8:return e.next=10,r.logout();case 10:return e.abrupt("return",(0,u.isFlagshipApp)()&&n?n.call("logout"):window.location.reload());case 11:case"end":return e.stop()}},e)})),t.logOut=function(e){return n.apply(this,arguments)}},73433:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=n(r(74710)),c=n(r(26988)),u=r(24242),s=r(38675),l=r(52245),d=r(42895),f=n(r(62008)),p=n(r(55657));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=(0,l.makeStyles)({root:{"& .dialogContentInner":{"& .dialogContentWrapper":{paddingBottom:"0 !important"}}}});t.default=function(e){var t=e.onLogOut,r=(0,o.useState)(!1),n=(0,a.default)(r,2),l=n[0],h=n[1],v=(0,o.useRef)(),y=(0,o.useRef)(),b=(0,u.useBreakpoints)().isMobile,g=(0,d.useInstanceInfo)(),_=g.isLoaded,w=g.instance,k=g.diskUsage,O=function(){h(!l)},x=m();return o.default.createElement("nav",{ref:v},o.default.createElement(i.default,{ref:y,onClick:O,disabled:!_,className:"u-p-0 u-ml-half"},o.default.createElement(p.default,{size:b?"s":"m"})),b?o.default.createElement(s.ConfirmDialog,{open:l,onClose:O,content:o.default.createElement(f.default,{onLogOut:t,instance:w,diskUsage:k,closeMenu:O}),componentsProps:{dialogContent:{classes:x}},classes:{paper:"u-bdrs-7"}}):o.default.createElement(c.default,{open:l,anchorEl:y.current,container:v.current,getContentAnchorEl:null,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:-10,horizontal:0},classes:{paper:"u-bdrs-7"}},o.default.createElement(f.default,{onLogOut:t,instance:w,diskUsage:k,closeMenu:O})))}},61363:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(33616),o=n(r(44513)),i=n(r(46522)),c=n(r(75522)),u={en:o.default,fr:i.default,es:c.default};t.default=(0,a.createUseI18n)(u)},57275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserActionRequired=t.getDefaultIcon=t.getAppSlug=t.getAppNamePrefix=t.getAppName=t.APP_SELECTOR=void 0;var r=t.APP_SELECTOR="[role=application]",n=function(){var e=document.querySelector(r);return e&&e.dataset?e.dataset:{}},a=function(){var e=n();return e.cozy?JSON.parse(e.cozy):{app:{}}};t.getDefaultIcon=function(){var e=a(),t=n();return e.app.icon?e.app.icon:t.cozyIconPath?t.cozyIconPath:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},t.getAppName=function(){var e=a(),t=n();return e.app.name||t.cozyAppName||null},t.getAppNamePrefix=function(){var e=a(),t=n();return e.app.prefix||t.cozyAppNamePrefix||null},t.getAppSlug=function(){var e=a(),t=n();return e.app.slug||t.cozyAppSlug||null},t.getUserActionRequired=function(){var e=document.querySelector("meta[name=user-action-required]"),t=e&&e.dataset;if(t){var r=t.title,n=t.code,a=t.detail,o=t.links;if(n)return{title:r,code:n,detail:a,links:o}}}},81259:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"BarCenter",{enumerable:!0,get:function(){return o.BarCenter}}),Object.defineProperty(t,"BarComponent",{enumerable:!0,get:function(){return a.BarComponent}}),Object.defineProperty(t,"BarProvider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"BarRoutes",{enumerable:!0,get:function(){return i.BarRoutes}}),Object.defineProperty(t,"barReducers",{enumerable:!0,get:function(){return u.reducers}}),r(48424);var a=r(97190),o=(r(53496),r(13627),r(67824)),i=(r(25524),r(78617),r(46603)),c=n(r(68520)),u=r(52765)},1969:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.UnavailableStackException=t.UnauthorizedStackException=t.ServerErrorException=t.NotFoundException=t.MethodNotAllowedException=t.ForbiddenException=void 0;var a=n(r(47783)),o=n(r(92115)),i=n(r(7184)),c=n(r(62812)),u=n(r(91083)),s=n(r(77497));function l(e,t,r){return t=(0,c.default)(t),(0,i.default)(e,d()?Reflect.construct(t,r||[],(0,c.default)(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}t.ForbiddenException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="Forbidden",r.status=403,r.message=e||"The application does not have permission to access this resource.",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error)),t.ServerErrorException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="ServerError",r.status=500,r.message=e||"A server error occurred",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error)),t.NotFoundException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="NotFound",r.status=404,r.message=e||"The ressource was not found",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error)),t.MethodNotAllowedException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="MethodNotAllowed",r.status=405,r.message=e||"Method not allowed",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error)),t.UnavailableStackException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="UnavailableStack",r.message=e||"The stack is temporarily unavailable",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error)),t.UnauthorizedStackException=function(e){function t(e){var r;return(0,o.default)(this,t),(r=l(this,t)).name="UnauthorizedStack",r.status=401,r.message=e||"The app is not allowed to access to the requested resource",r.stack=Error().stack,r}return(0,u.default)(t,e),(0,a.default)(t)}((0,s.default)(Error))},88530:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.apply(this,arguments)};var a=n(r(30592)),o=n(r(93889)),i={},c={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"};function u(){return(u=(0,o.default)(a.default.mark(function e(t){var r,n,o,u,s,l,d,f=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},!((n=!(f.length>2)||void 0===f[2]||f[2])&&i.icons&&i.icons[o])){e.next=4;break}return e.abrupt("return",i.icons[o]);case 4:if(o=r.links&&r.links.icon){e.next=7;break}return e.abrupt("return","");case 7:return e.prev=7,e.next=10,t(o);case 10:if((s=e.sent).ok){e.next=13;break}throw Error("Error while fetching icon ".concat(s.statusText,": ").concat(o));case 13:return e.next=15,s.blob();case 15:u=e.sent,e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(7),e.t0;case 21:if(u.type){e.next=30;break}if(r.icon){e.next=24;break}throw Error("".concat(r.name,": Cannot detect mime type for icon ").concat(o));case 24:if(l=r.icon.split(".").pop()){e.next=27;break}throw Error("".concat(r.name,": Unable to detect icon mime type from extension (").concat(r.icon,")"));case 27:if(c[l]){e.next=29;break}throw Error("".concat(r.name,": 'Unexpected icon extension (").concat(r.icon,")"));case 29:u=new Blob([u],{type:c[l]});case 30:if(!u.type.match(/^image\/.*$/)){e.next=34;break}return d=URL.createObjectURL(u),n&&(i.icons=i.icons||{},i.icons[o]=d),e.abrupt("return",d);case 34:throw Error("".concat(r.name,": icon ").concat(o," is not an image."));case 35:case"end":return e.stop()}},e,null,[[7,18]])}))).apply(this,arguments)}},54235:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(94619)),o=n(r(47285));(0,n(r(20974)).default)(window,"cozy.debug.flagship",function(){return(0,a.default)("flagship.debug",!0)});var i=window.minilog||o.default,c=i("cozy-bar");(0,a.default)("bar.debug")||i.suggest.deny("cozy-bar","info"),t.default=c},99902:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i="io.cozy.apps";t.default=function(e){var t,r=e.getApp,n=e.onCreate,c=e.onDelete,u=e.cozyClient,s=(t=(0,o.default)(a.default.mark(function e(t){var o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t.slug);case 3:o=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Error("Cannot fetch app ".concat(t.slug,": ").concat(e.t0.message));case 9:"function"==typeof n&&n(o);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return t.apply(this,arguments)});try{var l=u.plugins.realtime;if(!l)throw Error("You must include the realtime plugin to use cozy-bar realtime features.");l.subscribe("created",i,s),l.subscribe("deleted",i,function(e){"function"==typeof c&&c(e)})}catch(e){console.warn("Cannot initialize realtime in Cozy-bar: ".concat(e.message))}}},86685:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.setInfos=t.setDefaultApp=t.receiveApp=t.isFetchingApps=t.isCurrentApp=t.hasFetched=t.getHomeApp=t.getApps=t.fetchApps=t.deleteApp=t.default=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(93889)),c=n(r(73791)),u=n(r(85)),s=n(r(94619));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f="DELETE_APP",p="RECEIVE_APP",h="RECEIVE_APP_LIST",m="RECEIVE_HOME_APP",v="FETCH_APPS",y="FETCH_APPS_FAILURE",b="SET_INFOS",g=t.isCurrentApp=function(e,t){return t.slug===e.appSlug};t.getApps=function(e){return e.apps?e.apps:[]},t.getHomeApp=function(e){return e.homeApp},t.isFetchingApps=function(e){return!!e&&e.isFetching},t.hasFetched=function(e){return e.hasFetched},t.deleteApp=function(e){return{type:f,app:e}},t.receiveApp=function(e){return{type:p,app:e}},t.setInfos=function(e,t,r){return{type:b,appName:e,appNamePrefix:t,appSlug:r}},t.fetchApps=function(){var e;return e=(0,i.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v}),e.next=4,c.default.get.apps();case 4:if(r=e.sent,n=(0,s.default)("apps.hidden")||[],o=r.map(k).filter(function(e){return!n.includes(e.slug)}),r.length){e.next=9;break}throw Error("No installed apps found by the bar");case 9:return e.next=11,t(_(o));case 11:return e.next=13,t({type:h,apps:o});case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t({type:y}),console.warn(e.t0.message?e.t0.message:e.t0);case 19:case"end":return e.stop()}},e,null,[[0,15]])})),function(t){return e.apply(this,arguments)}};var _=t.setDefaultApp=function(e){var t;return t=(0,i.default)(a.default.mark(function t(r){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=O("home",e))){t.next=5;break}return t.abrupt("return",r({type:m,homeApp:n}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("Cozy-bar cannot fetch home app data: ".concat(t.t0.message));case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(e){return t.apply(this,arguments)}},w={apps:[],homeApp:null,isFetching:!0,appName:null,appNamePrefix:null,appSlug:null,hasFetched:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return d(d({},e),{},{isFetching:!0});case"FETCH_APPS_SUCCESS":case y:return d(d({},e),{},{isFetching:!1});case p:return d(d({},e),{},{apps:(0,u.default)(e.apps,[k(t.app)],function(e,t){return e.slug===t.slug})});case h:var r=t.apps.map(function(t){return d(d({},t),{},{isCurrentApp:g(e,t)})});return d(d({},e),{},{isFetching:!1,hasFetched:!0,apps:r});case m:var n=t.homeApp;return g(e,n)?d(d({},e),{},{homeApp:d(d({},n),{},{isCurrentApp:!0})}):d(d({},e),{},{homeApp:n});case f:return d(d({},e),{},{apps:e.apps.filter(function(e){return e.slug!==t.app.slug})});case b:return d(d({},e),{},{appName:t.appName,appNamePrefix:t.appNamePrefix,appSlug:t.appSlug});default:return e}};var k=function(e){var t;return d(d(d({},e),!!(t=e.attributes)&&Object.keys(t).reduce(function(e,r){return e[r.split("_").map(function(e,t){return t?e.charAt(0).toUpperCase()+e.slice(1):e}).join("")]=t[r],e},{})),{},{href:e.links&&e.links.related})},O=function(e,t){return t.find(function(t){return t.slug===e})}},39978:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getHelpLink=t.fetchContext=t.default=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(93889)),c=n(r(73791)),u=r(49536);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d="FETCH_CONTEXT",f="FETCH_CONTEXT_SUCCESS",p="RECEIVE_NO_CONTEXT";t.getHelpLink=function(e){return e.helpLink},t.fetchContext=function(){var e;return e=(0,i.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:d}),!r().cozyBar.context.contextNotExist){e.next=3;break}return e.abrupt("return",t({type:f,context:null}));case 3:return e.prev=3,e.next=6,c.default.get.context();case 6:return n=e.sent,e.abrupt("return",t({type:f,context:n}));case 10:return e.prev=10,e.t0=e.catch(3),e.t0.status&&404===e.t0.status&&t({type:p}),console.warn("Cannot get Cozy context"),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[3,10]])})),function(t,r){return e.apply(this,arguments)}};var h={contextNotExist:!1,helpLink:null,isFetching:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return l(l({},e),{},{isFetching:!0});case f:var r=t.context&&t.context.data&&t.context.data.attributes;return l(l({},e),{},{helpLink:r&&r.help_link||null,isFetching:!1,contextNotExist:!1});case p:return l(l({},e),{},{contextNotExist:!0});case u.LOG_OUT:return h;default:return e}}},52765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInfos=t.reducers=t.onRealtimeDelete=t.onRealtimeCreate=t.logOut=t.isSettingsBusy=t.isFetchingSettings=t.isFetchingApps=t.isCurrentApp=t.hasFetched=t.getStorageData=t.getHomeApp=t.getHelpLink=t.getApps=t.fetchSettingsData=t.fetchContext=t.fetchApps=t.default=void 0;var n=r(82960),a=u(r(86685)),o=u(r(49536)),i=u(r(39978));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s=function(e,t){return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return t.apply(void 0,[r.cozyBar[e]].concat(a))}};t.fetchApps=a.fetchApps,t.setInfos=a.setInfos,t.fetchSettingsData=o.fetchSettingsData,t.logOut=o.logOut,t.fetchContext=i.fetchContext,t.getApps=s("apps",a.getApps),t.getHomeApp=s("apps",a.getHomeApp),t.isFetchingApps=s("apps",a.isFetchingApps),t.isCurrentApp=s("apps",a.isCurrentApp),t.hasFetched=s("apps",a.hasFetched),t.getStorageData=s("settings",o.getStorageData),t.isSettingsBusy=s("settings",o.isSettingsBusy),t.isFetchingSettings=s("settings",o.isFetchingSettings),t.getHelpLink=s("context",i.getHelpLink),t.onRealtimeCreate=a.receiveApp,t.onRealtimeDelete=a.deleteApp;var l=t.reducers={cozyBar:(0,n.combineReducers)({apps:a.default,context:i.default,settings:o.default})};t.default=(0,n.combineReducers)(l)},49536:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.logOut=t.isSettingsBusy=t.isFetchingSettings=t.getStorageData=t.fetchSettingsData=t.default=t.LOG_OUT=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(93889)),c=n(r(73791));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l="FETCH_SETTINGS",d="FETCH_SETTINGS_BUSY",f="FETCH_SETTINGS_SUCCESS",p="RECEIVE_STORAGE",h=t.LOG_OUT="LOG_OUT";t.getStorageData=function(e){return e.storageData},t.isSettingsBusy=function(e){return e.isBusy},t.isFetchingSettings=function(e){return e.isFetching};var m=function(){var e;return e=(0,i.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.get.storageData();case 3:return r=e.sent,e.abrupt("return",t({type:p,storageData:r}));case 7:return e.prev=7,e.t0=e.catch(0),console.warn&&console.warn("Cannot get Cozy storage informations"),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(t){return e.apply(this,arguments)}};t.fetchSettingsData=function(){var e,t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return e=(0,i.default)(a.default.mark(function e(r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l}),n=setTimeout(function(){t&&r({type:d})},450),e.next=4,r(m());case 4:clearTimeout(n),r({type:f});case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}},t.logOut=function(){var e;return e=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,c.default.logout();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.warn("Error while logging out in the cozy-bar",e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])})),function(t){return e.apply(this,arguments)}};var v={contextNotExist:!1,isFetching:!1,isBusy:!1,storageData:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return s(s({},e),{},{isFetching:!0});case d:return s(s({},e),{},{isBusy:!0});case f:return s(s({},e),{},{isFetching:!1,isBusy:!1});case"RECEIVE_NO_CONTEXT":return s(s({},e),{},{contextNotExist:!0});case p:return s(s({},e),{},{storageData:t.storageData});case h:return v;default:return e}}},94551:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(30592)),s=c(r(93889)),l=r(79081),d=c(r(88530)),f=c(r(99902)),p=r(1969),h=r(7127),m={401:p.UnauthorizedStackException,403:p.ForbiddenException,404:p.NotFoundException,405:p.MethodNotAllowedException,500:p.ServerErrorException},v=function(){return i.getStackClient()},y=function(){return new URL(v().uri)},b=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.headers=n.headers||{};return a.Accept="application/json","GET"===e||"HEAD"===e||void 0===r||a["Content-Type"]||(a["Content-Type"]="application/json",r=JSON.stringify(r)),v().fetch(e,t,r,n).then(function(e){if("function"==typeof m[e.status])throw new m[e.status];if(!e.headers.get("content-type").includes("json"))throw Error("Server response not in JSON");return e.json()})},g=function(e){if(!e)throw Error("Missing slug");return b("GET","/apps/".concat(e)).then(function(e){if(e.error)throw Error(e.error);return e.data})},_=function(e){return v().fetch("GET",e)};t.default={get:{app:g,apps:function(){return b("GET","/apps/").then(function(e){if(e.error)throw Error(e.error);return e.data})},context:(n=function(){return b("GET","/settings/context")},a={},o=void 0,(0,s.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o){e.next=10;break}return e.prev=1,e.next=4,n();case 4:o=e.sent,e.next=10;break;case 7:var t;e.prev=7,e.t0=e.catch(1),o=["NotFoundException","NotFound","FetchError"].includes((t=e.t0).name)&&t.status&&404===t.status?a:void 0;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,null,[[1,7]])}))),storageData:function(){return b("GET","/settings/disk-usage").then(function(e){var t=parseInt(e.data.attributes.used,10),r=parseInt(e.data.attributes.quota,10)||Math.max(1e12,10*t);return{usage:t,quota:r,isLimited:e.data.attributes.is_limited}}).catch(function(){throw new p.UnavailableStackException})},iconProps:function(){var e={domain:y().host,secure:"https:"===y().protocol};return(0,h.isMobileApp)()?{fetchIcon:function(e){return(0,d.default)(_,e,!0)}}:e},cozyURL:function(){return y().origin},intents:function(){return new l.Intents({client:i})}},updateAccessToken:function(){throw Error("updateAccessToken should not be used with a cozy-client instance initialization")},cozyFetchJSON:function(e,t,r,n){return b(t,r,n).then(function(e){var t=Object.assign({},e.data);return t.id&&(t._id=t.id),t})},logout:function(){return v().fetch("DELETE","/auth/login").then(function(e){if(401===e.status)throw new p.UnauthorizedStackException;return 204===e.status&&window.location.reload(),!0}).catch(function(){throw new p.UnavailableStackException})},init:function(e){var t=e.cozyClient,r=e.onCreate,n=e.onDelete;(i=t).isLogged&&(0,f.default)({getApp:g,onCreate:r,onDelete:n,cozyClient:i})}}},73791:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getIntents=t.default=t.cozyFetchJSON=void 0;var o=a(r(94551)),i=function(){if(!n)throw Error("client not initialized in cozy-bar");return n},c={init:function(e){return(n=o.default).init(e)},get:{app:function(){var e;return(e=i().get).app.apply(e,arguments)},apps:function(){var e;return(e=i().get).apps.apply(e,arguments)},context:function(){var e;return(e=i().get).context.apply(e,arguments)},storageData:function(){var e;return(e=i().get).storageData.apply(e,arguments)},iconProps:function(){var e;return(e=i().get).iconProps.apply(e,arguments)},cozyURL:function(){var e;return(e=i().get).cozyURL.apply(e,arguments)}},updateAccessToken:function(){var e;return(e=i()).updateAccessToken.apply(e,arguments)},logout:function(){var e;return(e=i()).logout.apply(e,arguments)},cozyFetchJSON:function(){var e;return(e=i()).cozyFetchJSON.apply(e,arguments)},getStack:i,getIntents:function(){return i().get.intents()}};t.default=c,t.cozyFetchJSON=c.cozyFetchJSON,t.getIntents=c.getIntents},93761:function(e,t,r){"use strict";var n,a=r(36126);t.default=void 0;var o=a(r(76729)),i=r(82960),c=a(r(70430)),u=r(27103),s=r(52765),l=r(79448),d=a(r(69282)),f=a(r(16920)),p=a(r(54235)),h=a(r(94619));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var v={storage:d.default,key:"cozy-bar",whitelist:f.default},y=(0,l.createLogger)({logger:p.default}),b=(0,u.persistCombineReducers)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s.reducers)),g=[c.default];(0,h.default)("bar.debug")&&g.push(y),t.default=function(){return n||(n=(0,i.createStore)(b,i.applyMiddleware.apply(null,g)),(0,u.persistStore)(n)),n}},40061:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.appShape=void 0;var a=n(r(89271));t.appShape=a.default.shape({slug:a.default.string.isRequired,name:a.default.string.isRequired,namePrefix:a.default.string,comingSoon:a.default.bool,href:a.default.string,links:a.default.shape({icon:a.default.string.isRequired})})},78859:function(e,t,r){"use strict";var n=r(59500);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},89271:function(e,t,r){e.exports=r(78859)()},59500:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1212:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===c||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===b||e.$$typeof===g||e.$$typeof===_||e.$$typeof===y)}},37120:function(e,t,r){"use strict";e.exports=r(1212)},56493:function(e,t,r){"use strict";r.r(t),r.d(t,{Provider:()=>w,connect:()=>J,createProvider:()=>_,connectAdvanced:()=>R});var n,a,o,i,c,u,s,l,d,f,p,h=r(56003),m=r(96540),v=r(45055),y=r.n(v),b=y().shape({trySubscribe:y().func.isRequired,tryUnsubscribe:y().func.isRequired,notifyNestedSubs:y().func.isRequired,isSubscribed:y().func.isRequired}),g=y().shape({subscribe:y().func.isRequired,dispatch:y().func.isRequired,getState:y().func.isRequired});function _(e){void 0===e&&(e="store");var t,r=e+"Subscription",n=function(t){(0,h.A)(a,t);var n=a.prototype;function a(r,n){var a;return(a=t.call(this,r,n)||this)[e]=r.store,a}return n.getChildContext=function(){var t;return(t={})[e]=this[e],t[r]=null,t},n.render=function(){return m.Children.only(this.props.children)},a}(m.Component);return n.propTypes={store:g.isRequired,children:y().element.isRequired},(t={})[e]=g.isRequired,t[r]=b,n.childContextTypes=t,n}let w=_();var k=r(40321),O=r(40160),x=r(54707),E=r(4146),C=r.n(E),S=r(20311),A=r.n(S),P=r(37120),M={notify:function(){}},j=function(){function e(e,t,r){this.store=e,this.parentSub=t,this.onStateChange=r,this.unsubscribe=null,this.listeners=M}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return!!this.unsubscribe},t.trySubscribe=function(){if(!this.unsubscribe){var e,t;this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&null!==e&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}})}},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=M)},e}(),D=0,T={};function I(){}function R(e,t){void 0===t&&(t={});var r,n,a=t,o=a.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=a.methodName,u=void 0===c?"connectAdvanced":c,s=a.renderCountProp,l=void 0===s?void 0:s,d=a.shouldHandleStateChanges,f=void 0===d||d,p=a.storeKey,v=void 0===p?"store":p,y=a.withRef,_=void 0!==y&&y,w=(0,x.A)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),E=v+"Subscription",S=D++,M=((r={})[v]=g,r[E]=b,r),R=((n={})[E]=b,n);return function(t){A()((0,P.isValidElementType)(t),"You must pass a component to the function returned by "+u+". Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",n=i(r),a=(0,O.A)({},w,{getDisplayName:i,methodName:u,renderCountProp:l,shouldHandleStateChanges:f,storeKey:v,withRef:_,displayName:n,wrappedComponentName:r,WrappedComponent:t}),o=function(r){function o(e,t){var a;return(a=r.call(this,e,t)||this).version=S,a.state={},a.renderCount=0,a.store=e[v]||t[v],a.propsMode=!!e[v],a.setWrappedInstance=a.setWrappedInstance.bind((0,k.A)((0,k.A)(a))),A()(a.store,'Could not find "'+v+'" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, '+('or explicitly pass "'+v+'" as a prop to "')+n+'".'),a.initSelector(),a.initSubscription(),a}(0,h.A)(o,r);var i=o.prototype;return i.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[E]=t||this.context[E],e},i.componentDidMount=function(){f&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.componentWillReceiveProps=function(e){this.selector.run(e)},i.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=I,this.store=null,this.selector.run=I,this.selector.shouldComponentUpdate=!1},i.getWrappedInstance=function(){return A()(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+u+"() call."),this.wrappedInstance},i.setWrappedInstance=function(e){this.wrappedInstance=e},i.initSelector=function(){var t,r,n=e(this.store.dispatch,a);this.selector=(t=this.store,r={run:function(e){try{var a=n(t.getState(),e);(a!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=a,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}}),this.selector.run(this.props)},i.initSubscription=function(){if(f){var e=(this.propsMode?this.props:this.context)[E];this.subscription=new j(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},i.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.isSubscribed=function(){return!!this.subscription&&this.subscription.isSubscribed()},i.addExtraProps=function(e){if(!_&&!l&&!(this.propsMode&&this.subscription))return e;var t=(0,O.A)({},e);return _&&(t.ref=this.setWrappedInstance),l&&(t[l]=this.renderCount++),this.propsMode&&this.subscription&&(t[E]=this.subscription),t},i.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,!e.error)return(0,m.createElement)(t,this.addExtraProps(e.props));throw e.error},o}(m.Component);return o.WrappedComponent=t,o.displayName=n,o.childContextTypes=R,o.contextTypes=M,o.propTypes=M,C()(o,t)}}var N=Object.prototype.hasOwnProperty;function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(L(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!N.call(t,r[a])||!L(e[r[a]],t[r[a]]))return!1;return!0}var B=r(82960);function z(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function H(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function U(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=H(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=H(a),a=n(t,r)),a},n}}let V=[function(e){return"function"==typeof e?U(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:z(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?z(function(t){return(0,B.bindActionCreators)(e,t)}):void 0}],Z=[function(e){return"function"==typeof e?U(e,"mapStateToProps"):void 0},function(e){return e?void 0:z(function(){return{}})}];function G(e,t,r){return(0,O.A)({},r,e,t)}let q=[function(e){return"function"==typeof e?function(t,r){r.displayName;var n,a=r.pure,o=r.areMergedPropsEqual,i=!1;return function(t,r,c){var u=e(t,r,c);return i?a&&o(u,n)||(n=u):(i=!0,n=u),n}}:void 0},function(e){return e?void 0:function(){return G}}];function W(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Q(e,t){return e===t}let J=(o=void 0===(a=(n={}).connectHOC)?R:a,c=void 0===(i=n.mapStateToPropsFactories)?Z:i,s=void 0===(u=n.mapDispatchToPropsFactories)?V:u,d=void 0===(l=n.mergePropsFactories)?q:l,p=void 0===(f=n.selectorFactory)?function(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=(0,x.A)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=r(e,o),c=n(e,o),u=a(e,o);return(o.pure?function(e,t,r,n,a){var o,i,c,u,s,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,b,g,_;return p?(m=a,g=!d(v=h,i),_=!l(m,o),(o=m,i=v,g&&_)?(c=e(o,i),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):g?(e.dependsOnOwnProps&&(c=e(o,i)),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):_?(b=!f(y=e(o,i),c),c=y,b&&(s=r(c,u,i)),s):s):(c=e(o=a,i=h),u=t(n,i),s=r(c,u,i),p=!0,s)}}:function(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}})(i,c,u,e,o)}:f,function(e,t,r,n){void 0===n&&(n={});var a=n,i=a.pure,u=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?F:l,h=a.areStatePropsEqual,m=void 0===h?F:h,v=a.areMergedPropsEqual,y=void 0===v?F:v,b=(0,x.A)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=W(e,c,"mapStateToProps"),_=W(t,s,"mapDispatchToProps"),w=W(r,d,"mergeProps");return o(p,(0,O.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:g,initMapDispatchToProps:_,initMergeProps:w,pure:void 0===i||i,areStatesEqual:void 0===u?Q:u,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},b))})},76515:function(e,t,r){"use strict";var n=r(8292);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},45055:function(e,t,r){e.exports=r(76515)()},8292:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},70430:function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}r.r(t),r.d(t,{default:()=>o});var a=n();a.withExtraArgument=n;let o=a},6023:function(e,t,r){"use strict";var n=r(65606),a=r(78965),o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(70777)),c=o(r(13135)),u=o(r(10464)),s=o(r(80539)),l=o(r(30592)),d=o(r(93889)),f=o(r(92115)),p=o(r(47783)),h=o(r(76729)),m=o(r(73916)),v=o(r(44377)),y=o(r(35970)),b=o(r(50014)),g=o(r(65611)),_=o(r(39754)),w=o(r(58156)),k=o(r(56173)),O=a(r(46846)),x=r(148),E=o(r(10169)),C=r(20032),S=r(6205),A=r(88237),P=r(11071),M=r(25972),j=o(r(59165)),D=a(r(55477)),T=o(r(1769)),I=o(r(2012)),R=r(20842),N=o(r(55552)),L=r(46728),F=r(65869),B=o(r(95527)),z=r(67989),H=o(r(25473)),U=o(r(27069)),V=r(29984),Z=r(5574);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){(0,h.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Q(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var J=function(e){return{get:function(t,r){return B.default.warn(e),t[r]}}},Y=function(e){var t;if(e&&"undefined"!=typeof window&&null!=(t=window.cozy)&&t.isSecureProtocol){var r,n=new URL(e);return n.protocol="https:",(r=n.toString()).endsWith("/")?r.slice(0,-1):r}return e},$="creation",K="update",X=function(){var e,t,r,a,o,k,T,G,Q,X,ee,et,er,en,ea,eo,ei,ec,eu,es,el,ed,ef,ep,eh;function em(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,em),(0,h.default)(this,"fetchQueryAndGetFromState",(e=(0,d.default)(l.default.mark(function e(t){var n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.definition,a=t.options,e.prev=1,e.next=4,r.query(n,a);case 4:return e.abrupt("return",r.getQueryFromState(a.as,a));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(t){return e.apply(this,arguments)}));var a=n.link,o=n.links,i=n.schema,c=n.appMetadata,u=n.capabilities,p=n.performanceApi,m=(0,s.default)(n,["link","links","schema","appMetadata","capabilities","performanceApi"]);a&&B.default.warn("`link` is deprecated, use `links`"),this.performanceApi=p||L.defaultPerformanceApi,this.appMetadata=void 0===c?{}:c,this.loginPromise=null,m.uri=Y(m.uri),this.options=m,this.queryIdGenerator=new z.QueryIDGenerator,this.isLogged=!1,this.instanceOptions={},this.handleRevocationChange=this.handleRevocationChange.bind(this),this.handleTokenRefresh=this.handleTokenRefresh.bind(this),this.createClient();var v=this.getStackClient();if(v.on("error",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["error"].concat(t))}),this.setLinks(Array.isArray(t=a||o||new E.default({performanceApi:this.performanceApi}))?t:[t]),this.schema=new I.default(void 0===i?{}:i,v),this.capabilities=u||null,this.plugins={},!(this.stackClient instanceof O.OAuthClient))try{this.loadInstanceOptionsFromDOM()}catch(e){}this._promiseCache=new U.default,m.uri&&m.token&&this.login(),this.storeAccesors=null,this.useCustomStore=m.useCustomStore||!1,!0!==this.useCustomStore&&this.ensureStore(),this.autoHydrate=m.autoHydrate||!1,this.disableStoreForQueries=m.disableStoreForQueries||!1}return(0,p.default)(em,[{key:"emit",value:function(){}},{key:"on",value:function(){}},{key:"removeListener",value:function(){}},{key:"registerPlugin",value:function(e,t){if(!e.pluginName)throw Error("Cannot register a plugin whose class does not have `pluginName` attribute.");if(this.plugins[e.pluginName])throw Error("Cannot register plugin ".concat(e.pluginName,". A plugin with the same name has already been registered."));var r=new e(this,t);return this.plugins[e.pluginName]=r,r}},{key:"addSchema",value:function(e){this.schema.add(e)}},{key:"registerClientOnLinks",value:function(){var e,t=W(this.links);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.registerClient)try{r.registerClient(this)}catch(e){B.default.warn(e)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"login",value:function(e){return this.isLogged&&!this.isRevoked?(B.default.warn("CozyClient is already logged."),this.loginPromise):this.loginPromise=this._login(e)}},{key:"_login",value:(e=(0,d.default)(l.default.mark(function e(t){var r,n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("beforeLogin"),this.registerClientOnLinks(),t&&(t.uri&&this.stackClient.setUri(t.uri),t.token&&this.stackClient.setToken(t.token)),r=W(this.links),e.prev=4,r.s();case 6:if((n=r.n()).done){e.next=13;break}if(!(a=n.value).onLogin){e.next=11;break}return e.next=11,a.onLogin();case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:if(this.isLogged=!0,this.isRevoked=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=26;break}return e.next=26,this.loadInstanceOptionsFromStack();case 26:this.emit("login");case 27:case"end":return e.stop()}},e,this,[[4,15,18,21]])})),function(t){return e.apply(this,arguments)})},{key:"logout",value:(t=(0,d.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLogged){e.next=3;break}return B.default.warn("CozyClient isn't logged."),e.abrupt("return");case 3:if(this.emit("beforeLogout"),this.isLogged=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=17;break}if(e.prev=6,!(this.stackClient.unregister&&(!this.stackClient.isRegistered||this.stackClient.isRegistered()))){e.next=10;break}return e.next=10,this.stackClient.unregister();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),B.default.warn("Impossible to unregister client on stack: ".concat(e.t0));case 15:case 20:e.next=25;break;case 17:return e.prev=17,e.next=20,this.stackClient.fetch("DELETE","/auth/login");case 22:e.prev=22,e.t1=e.catch(17),B.default.warn("Impossible to log out: ".concat(e.t1));case 25:t=W(this.links),e.prev=26,t.s();case 28:if((r=t.n()).done){e.next=41;break}if(!(n=r.value).reset){e.next=39;break}return e.prev=31,e.next=34,n.reset();case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(31),B.default.warn(e.t2);case 39:e.next=28;break;case 41:e.next=46;break;case 43:e.prev=43,e.t3=e.catch(26),t.e(e.t3);case 46:return e.prev=46,t.f(),e.finish(46);case 49:this.store&&this.dispatch((0,D.resetState)()),this.emit("logout");case 51:case"end":return e.stop()}},e,this,[[6,12],[17,22],[26,43,46,49],[31,36]])})),function(){return t.apply(this,arguments)})},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getStackClient().collection(e,t)}},{key:"fetch",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.getStackClient().fetch(e,t,r,n)}},{key:"all",value:function(e){return B.default.warn("\nclient.all is deprecated, prefer to use the Q helper to build a new QueryDefinition.\n\nimport { Q } from 'cozy-client'\nclient.query(Q('io.cozy.bills'))"),(0,P.Q)(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return B.default.warn("client.find(doctype, selector) is deprecated, please use Q(doctype).where(selector) to build the same query."),new P.QueryDefinition({doctype:e,selector:t})}},{key:"get",value:function(e,t){return B.default.warn("client.get(".concat(e,", id) is deprecated, please use Q(").concat(e,").getById(id) to build the same query.")),new P.QueryDefinition({doctype:e,id:t})}},{key:"validate",value:function(e){return this.schema.validate(e)}},{key:"create",value:(r=(0,d.default)(l.default.mark(function e(t,r,n){var a,o,i=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},r._type,o=q({_type:t},(0,s.default)(r,["_type"])),e.next=5,this.schema.validate(o);case 5:if(!0===e.sent){e.next=8;break}throw Error("Validation failed");case 8:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(o,n),a));case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"createAll",value:(a=(0,d.default)(l.default.mark(function e(t){var r,n=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",this.saveAll(t,r));case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"save",value:(o=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},n=t._type,a=(0,s.default)(t,["_type"]),n){e.next=4;break}throw Error("The document must have a `_type` property");case 4:return o=q({_type:n},a),e.next=7,this.schema.validate(o);case 7:if(!0===e.sent){e.next=10;break}throw Error("Validation failed");case 10:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(o),r));case 11:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"updateAll",value:(k=(0,d.default)(l.default.mark(function e(t){var r,n=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",this.saveAll(t,r));case 2:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"saveAll",value:(T=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i=this,c=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},1===Array.from(new Set(t.map(function(e){return e._type}))).length){e.next=4;break}throw Error("saveAll can only save documents with the same doctype");case 4:return e.next=6,Promise.all(t.map(function(e){return i.schema.validate(e)}));case 6:if(!((n=e.sent.filter(function(e){return!0!==e})).length>0)){e.next=11;break}throw B.default.warn("There has been some validation errors while bulk saving",n),Error("Validation failed for at least one doc");case 11:return a=t.map(function(e){return i.prepareDocumentForSave(e)}),o=void 0===t[0]._id?P.Mutations.createDocuments(a):P.Mutations.updateDocuments(a),e.abrupt("return",this.mutate(o,r));case 15:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"ensureCozyMetadata",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{event:$};if(void 0===this.appMetadata)return e;if(e._type){var n=this.schema.getDoctypeSchema(e._type);t=(0,w.default)(n,"doctypeVersion")}var a=this.appMetadata,o=a.slug,i=a.sourceAccount,c=a.sourceAccountIdentifier,s=a.version,l=new Date().toISOString(),d=(0,w.default)(e,"cozyMetadata",{});return r.event===$?d=q({metadataVersion:1,doctypeVersion:t,createdByApp:o,sourceAccount:i,sourceAccountIdentifier:c,createdAt:l,createdByAppVersion:s,updatedAt:l,updatedByApps:o?[{date:l,slug:o,version:s}]:[]},d):r.event===K&&(d=q(q({},d),{},{updatedAt:l,updatedByApps:[{date:l,slug:o,version:s}].concat((0,u.default)((0,w.default)(e,"cozyMetadata.updatedByApps",[]).filter(function(e){return e.slug!==o})))})),q(q({},e),{},{cozyMetadata:d})}},{key:"prepareDocumentForSave",value:function(e){var t=!e._rev;return this.ensureCozyMetadata((0,A.dehydrate)(e),{event:t?$:K})}},{key:"getDocumentSavePlan",value:function(e,t){var r=this,n=!e._rev,a=this.prepareDocumentForSave(e),o=n?P.Mutations.createDocument(a):P.Mutations.updateDocument(a);if(!(t&&Object.values(t).filter(function(e){return Array.isArray(e)?e.length>0:e}).length>0))return o;for(var i=0,u=Object.keys(t);i<u.length;i++){var s,l,d=u[i],f=e._type,p=this.schema.getRelationship(f,d);if(!((s=p.type).prototype.addReferences&&s.prototype.removeReferences))throw l=p.name,Error('The "'.concat(l,'" relationship does not support references. If you need to add references to a document, its relationship class must have the methods {add,remove}References'))}if(t&&!n)throw Error("Unable to save external relationships on a not-new document");return[o,function(e){var n=r.schema.getDoctypeSchema(e.data._type),a=r.hydrateDocument(e.data,n,{forceHydratation:!0});return Object.entries(t).map(function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return a[r].addReferences(n)})}]}},{key:"triggerHook",value:function(e,t){if(em.hooks){var r,n=W((em.hooks[t._type]||{})[e]||[]);try{for(n.s();!(r=n.n()).done;)(0,r.value)(this,t)}catch(e){n.e(e)}finally{n.f()}}}},{key:"destroy",value:(G=(0,d.default)(l.default.mark(function e(t){var r,n,a=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.triggerHook("before:destroy",t);case 3:return e.next=5,this.mutate(P.Mutations.deleteDocument(t),r);case 5:return n=e.sent,e.next=8,this.triggerHook("after:destroy",t);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"destroyAll",value:(Q=(0,d.default)(l.default.mark(function e(t){var r,n=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",this.mutate(P.Mutations.deleteDocuments(t),r));case 2:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"upload",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.mutate(P.Mutations.uploadFile(e,t),r)}},{key:"ensureQueryExists",value:function(e,t,r){this.ensureStore(),"loaded"===(0,D.getQueryFromState)(this.store.getState(),e).fetchStatus&&(t.skip||t.bookmark)||this.dispatch((0,D.initQuery)(e,t,r))}},{key:"query",value:(X=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,u,d,f,p,h=this,m=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=m.length>1&&void 0!==m[1]?m[1]:{}).update,a=r.executeFromStore,o=(0,s.default)(r,["update","executeFromStore"]),i=this.performanceApi.mark("client.query(".concat(t.doctype,")")),this.ensureStore(),c=o.as||this.queryIdGenerator.generateId(t),u=this.disableStoreForQueries?null:this.getQueryFromState(c,o),void 0===o.enabled||"boolean"==typeof o.enabled){e.next=9;break}throw Error("option.enabled should be a boolean for this query: ".concat(JSON.stringify(t)));case 9:if(!o.fetchPolicy){e.next=15;break}if(o.as){e.next=12;break}throw Error("Cannot use `fetchPolicy` without naming the query, please use `as` to name the query");case 12:if(o.fetchPolicy(u)){e.next=15;break}return e.abrupt("return");case 15:if(!(u&&Object.keys(u).length>0)||"loading"!==u.fetchStatus){e.next=18;break}return e.abrupt("return",this._promiseCache.get(function(){return(0,H.default)(t)}));case 18:return this.disableStoreForQueries||this.ensureQueryExists(c,t,o),e.prev=19,d=void 0!==o.backgroundFetching?o.backgroundFetching:this.options.backgroundFetching,this.disableStoreForQueries||this.dispatch((0,D.loadQuery)(c,{backgroundFetching:d})),f=a?function(){return Promise.resolve((0,D.executeQueryFromState)(h.store.getState(),t))}:function(){return h.requestQuery(t,o)},e.next=25,this._promiseCache.exec(f,function(){return(0,H.default)(t)});case 25:if(p=e.sent,!this.disableStoreForQueries){e.next=28;break}return e.abrupt("return",p);case 28:return this.dispatch((0,D.receiveQueryResult)(c,p,{update:n,backgroundFetching:d})),this.performanceApi.measure({markName:i,measureName:"".concat(i," success"),color:"primary"}),e.abrupt("return",p);case 33:if(e.prev=33,e.t0=e.catch(19),this.performanceApi.measure({markName:i,measureName:"".concat(i," error"),color:"error"}),this.dispatch((0,D.receiveQueryError)(c,e.t0)),!o.onError){e.next=41;break}o.onError(e.t0),e.next=46;break;case 41:if(!this.options.onError){e.next=45;break}this.options.onError(e.t0),e.next=46;break;case 45:throw e.t0;case 46:case"end":return e.stop()}},e,this,[[19,33]])})),function(e){return X.apply(this,arguments)})},{key:"queryAll",value:(ee=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,s=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=s.length>1&&void 0!==s[1]?s[1]:{}).as||this.queryIdGenerator.generateId(t),a=q(q({},r),{},{as:n}),e.prev=3,e.next=6,this.query(t,a);case 6:i=(o=e.sent).data;case 8:if(!(o&&o.next)){e.next=22;break}if(!o.bookmark){e.next=15;break}return e.next=12,this.query(t.offsetBookmark(o.bookmark),a);case 12:o=e.sent,e.next=19;break;case 15:return c=(0,D.getRawQueryFromState)(this.store.getState(),n),e.next=18,this.query(t.offset(c.data.length),a);case 18:o=e.sent;case 19:i.push.apply(i,(0,u.default)(o.data)),e.next=8;break;case 22:return e.abrupt("return",i);case 25:return e.prev=25,e.t0=e.catch(3),B.default.log("queryAll error for ".concat(e.t0.toString())),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[3,25]])})),function(e){return ee.apply(this,arguments)})},{key:"watchQuery",value:function(){return B.default.warn("client.watchQuery is deprecated, please use client.makeObservableQuery."),this.makeObservableQuery.apply(this,arguments)}},{key:"makeObservableQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ensureStore();var r=t.as||this.queryIdGenerator.generateId(e);return this.ensureQueryExists(r,e),new N.default(r,e,this,t)}},{key:"mutate",value:(et=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=u.length>1&&void 0!==u[1]?u[1]:{}).update,a=r.updateQueries,o=(0,s.default)(r,["update","updateQueries"]),this.ensureStore(),i=o.as||this.queryIdGenerator.generateId(t),this.dispatch((0,D.initMutation)(i,t)),e.prev=5,e.next=8,this.requestMutation(t,o);case 8:return c=e.sent,this.dispatch((0,D.receiveMutationResult)(i,c,{update:n,updateQueries:a},t)),e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(5),this.dispatch((0,D.receiveMutationError)(i,e.t0,t)),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return et.apply(this,arguments)})},{key:"requestQuery",value:(er=(0,d.default)(l.default.mark(function e(t,r){var n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chain.request(t,r);case 2:return n=e.sent,e.next=5,(0,Z.persistVirtualDocuments)(this,t,n.data);case 5:if(t.includes){e.next=7;break}return e.abrupt("return",n);case 7:if(!this.schema.getDoctypeSchema(t.doctype).relationships){e.next=13;break}return e.next=11,this.fetchRelationships(n,this.getIncludesRelationships(t));case 11:return a=e.sent,e.abrupt("return",a);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this)})),function(e,t){return er.apply(this,arguments)})},{key:"fetchRelationships",value:(en=(0,d.default)(l.default.mark(function e(t,r){var n,a,o,i,u,s,d,f,p,h,m,v,w,k,O,x,E,C,A,M=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=!Array.isArray(t.data))||0!==t.data.length){e.next=3;break}return e.abrupt("return",t);case 3:return a=n?[t.data]:t.data,o=new Map,i=[],u=[],a.forEach(function(e){return(0,_.default)(r,function(t,r){try{var n=t.type.query(e,M,t),a=e._id;o.set(n,[a,r]),n instanceof P.QueryDefinition?u.push(n):i.push(e)}catch(e){}})}),s=(0,j.default)(u),e.next=11,Promise.all(s.map(function(e){return M.chain.request(e)}));case 11:d=e.sent,f=(0,b.default)((0,y.default)(i),"_id"),p=(0,y.default)(d.map(function(e){return e.included||e.data})).concat(f).filter(Boolean),h={},m=W((0,g.default)(s,d));try{for(m.s();!(v=m.n()).done;)k=(w=(0,c.default)(v.value,2))[0],O=w[1],(x=o.get(k))&&(C=(E=(0,c.default)(x,2))[0],A=E[1],h[C]=h[C]||{},h[C][A]=(0,S.responseToRelationship)(O))}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",q(q({},(0,S.attachRelationships)(t,h)),{},{included:p}));case 18:case"end":return e.stop()}},e)})),function(e,t){return en.apply(this,arguments)})},{key:"requestMutation",value:(ea=(0,d.default)(l.default.mark(function e(t,r){var n,a,o,c,u=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=8;break}return a=(n=(0,i.default)(t))[0],o=n.slice(1),e.next=4,this.requestMutation(a);case 4:return c=e.sent,e.next=7,Promise.all(o.map(function(e){var t="function"==typeof e?e(c):e;return u.requestMutation(t)}));case 7:return e.abrupt("return",c);case 8:return e.abrupt("return",this.chain.request(t,r));case 9:case"end":return e.stop()}},e,this)})),function(e,t){return ea.apply(this,arguments)})},{key:"getIncludesRelationships",value:function(e){var t=this,r=e.includes,n=e.doctype;return r?(0,v.default)(r.map(function(e){return[e,t.schema.getRelationship(n,e)]})):{}}},{key:"hydrateDocuments",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.forceHydratation,o=void 0!==a&&a,i=this.schema.getDoctypeSchema(e);return i.relationships?t.map(function(e){return r.hydrateDocument(e,i,{forceHydratation:o})}):t}},{key:"hydrateDocument",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.forceHydratation;if(!e)return e;var a=t||this.schema.getDoctypeSchema(e._type),o=this.options.autoHydrate||void 0!==n&&n,i=this.hydrateRelationships(e,a.relationships,{forceHydratation:o});return q(q({},e),i)}},{key:"hydrateRelationships",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.forceHydratation,a=void 0!==n&&n,o=this.getRelationshipStoreAccessors();return(0,m.default)(t,function(t,r){var n;if(a||null!=(n=e.relationships)&&n[r])return(0,C.create)(e,t,o)})}},{key:"generateRandomId",value:function(){return this.queryIdGenerator.generateRandomId()}},{key:"getAssociation",value:function(e,t){return(0,C.create)(e,this.schema.getRelationship(e._type,t),this.getRelationshipStoreAccessors())}},{key:"getRelationshipStoreAccessors",value:function(){var e=this;return this.storeAccesors||(this.storeAccessors={get:this.getDocumentFromState.bind(this),save:function(t,r){return e.save.call(e,t,r)},dispatch:this.dispatch.bind(this),query:function(t,r){return e.query.call(e,t,r)},mutate:function(t,r){return e.mutate.call(e,t,r)}}),this.storeAccessors}},{key:"getCollectionFromState",value:function(e){try{return(0,D.getCollectionFromState)(this.store.getState(),e)}catch(t){return B.default.warn("Could not getCollectionFromState",e,t.message),null}}},{key:"getDocumentFromState",value:function(e,t){try{return(0,D.getDocumentFromState)(this.store.getState(),e,t)}catch(r){return B.default.warn("Could not getDocumentFromState",e,t,r.message),null}}},{key:"getQueryFromState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.singleDocData||!1,n=void 0!==t.hydrated?t.hydrated:this.options.autoHydrate;try{var a,o=(0,D.getQueryFromState)(this.store.getState(),e),i=o.definition&&o.definition.doctype,c=o.definition&&o.definition.id;if(!n&&!r)return o;var u=n&&i?this.hydrateDocuments(i,o.data):o.data,s=null==(a=this.schema.getDoctypeSchema(i))?void 0:a.relationships,l=s?Object.keys(s):null;return q(q({},o),{},{data:c&&r?u[0]:u,storeData:c&&r?o.data[0]:o.data,relationshipNames:l})}catch(t){return B.default.warn("Could not get query from state. queryId: ".concat(e,", error: ").concat(t.message)),null}}},{key:"register",value:function(e){return this.getStackClient().setUri(e),this.startOAuthFlow(M.authFunction)}},{key:"isReactNative",value:function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product}},{key:"startOAuthFlow",value:(eo=(0,d.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getStackClient(),e.next=3,r.register();case 3:return e.next=5,this.certifyFlagship();case 5:return e.abrupt("return",this.authorize({openURLCallback:t}));case 6:case"end":return e.stop()}},e,this)})),function(e){return eo.apply(this,arguments)})},{key:"certifyFlagship",value:(ei=(0,d.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getStackClient()).oauthOptions.shouldRequireFlagshipPermissions){e.next=4;break}return e.next=4,(0,V.certifyFlagship)(t.oauthOptions.certificationConfig,this);case 4:case"end":return e.stop()}},e,this)})),function(){return ei.apply(this,arguments)})},{key:"authorize",value:(ec=(0,d.default)(l.default.mark(function e(){var t,r,n,a,o,i,c,u,s,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=y.length>0&&void 0!==y[0]?y[0]:{}).openURLCallback)?M.authFunction:r,o=void 0===(a=t.sessionCode)?void 0:a,c=void 0===(i=t.pkceCodes)?{}:i,e.prev=1,u=c.codeVerifier,s=c.codeChallenge,f=(d=this.getStackClient()).generateStateCode(),p=d.getAuthCodeURL({stateCode:f,scopes:void 0,sessionCode:o,codeChallenge:s}),e.next=8,n(p);case 8:return h=e.sent,m=d.getAccessCodeFromURL(h,f),e.next=12,d.fetchAccessToken(m,void 0,void 0,u);case 12:return v=e.sent,d.setToken(v),e.abrupt("return",{token:v,infos:d.oauthOptions,client:d.oauthOptions});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.message===x.REGISTRATION_ABORT&&this.getStackClient().unregister(),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,17]])})),function(){return ec.apply(this,arguments)})},{key:"renewAuthorization",value:function(){return this.authorize({openURLCallback:M.authFunction})}},{key:"setStore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force;if(void 0===e)throw Error("Store is undefined");if(this.store&&!(void 0!==r&&r))throw Error("Client already has a store, it is forbidden to change store.\nsetStore must be called before any query is executed. Try to\ncall setStore earlier in your code, preferably just after the\ninstantiation of the client.");this.store=e}},{key:"ensureStore",value:function(){this.store||this.setStore((0,D.createStore)(this.performanceApi))}},{key:"checkForRevocation",value:(eu=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.stackClient instanceof O.OAuthClient)){e.next=4;break}return e.abrupt("return",this.stackClient.checkForRevocation());case 4:throw"checkForRevocation is only implemented for OAutClient";case 5:case"end":return e.stop()}},e,this)})),function(){return eu.apply(this,arguments)})},{key:"handleRevocationChange",value:function(e){e?(this.isRevoked=!0,this.emit("revoked")):(this.isRevoked=!1,this.emit("unrevoked"))}},{key:"handleTokenRefresh",value:function(e){this.emit("tokenRefreshed"),this.options.onTokenRefresh&&(J("Using onTokenRefresh is deprecated, please use events like this: cozyClient.on('tokenRefreshed', token => console.log('Token has been refreshed', token)). https://git.io/fj3M3"),this.options.onTokenRefresh(e))}},{key:"createClient",value:function(){this.options.client&&B.default.warn("CozyClient: Using options.client is deprecated, please use options.stackClient.");var e=void 0===this.options.warningForCustomHandlers||this.options.warningForCustomHandlers,t=this.options.client||this.options.stackClient,r={onRevocationChange:this.handleRevocationChange,onTokenRefresh:this.handleTokenRefresh};if(t){this.stackClient=t,t.options||(t.options={});for(var n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];t.options[o]?e&&B.default.warn("You passed a stackClient with its own ".concat(o,". It is not supported, unexpected things might happen.")):t.options[o]=r[o]}}else{var i=q(q({},this.options),r);this.stackClient=this.options.oauth?new O.OAuthClient(i):new O.default(i)}this.client=new Proxy(this.stackClient,J("Using cozyClient.client is deprecated, please use cozyClient.stackClient."))}},{key:"getClient",value:function(){return B.default.warn("CozyClient: getClient() is deprecated, please use getStackClient()."),this.getStackClient()}},{key:"getStackClient",value:function(){return this.stackClient||this.createClient(),this.stackClient}},{key:"reducer",value:function(){return(0,D.default)(this.performanceApi)}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"getInstanceOptions",value:function(){return this.instanceOptions}},{key:"loadInstanceOptionsFromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[role=application]",t=document.querySelector(e);if(!(t instanceof HTMLElement))throw Error("The selector that is passed does not return an HTMLElement");var r=t.dataset,n=r.cozy,a=(0,s.default)(r,["cozy"]);this.instanceOptions=q(q({},JSON.parse(void 0===n?"{}":n)),a),this.capabilities=this.instanceOptions.capabilities||null}},{key:"loadInstanceOptionsFromStack",value:(es=(0,d.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.query((0,P.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities")),this.query((0,P.Q)("io.cozy.settings").getById("io.cozy.settings.instance"))]);case 2:r=(t=e.sent)[0].data,n=t[1].data,this.instanceOptions={capabilities:r,locale:n.locale,tracking:n.tracking},this.capabilities=this.instanceOptions.capabilities||null;case 7:case"end":return e.stop()}},e,this)})),function(){return es.apply(this,arguments)})},{key:"setData",value:function(e){var t=this;this.ensureStore(),Object.entries(e).forEach(function(e){var r=(0,c.default)(e,2),n=(r[0],r[1]);t.dispatch((0,D.receiveQueryResult)(null,{data:n}))})}},{key:"setOnError",value:function(e){if(this.options&&this.options.onError)throw Error("On Error is already defined");this.options.onError=e}},{key:"toJSON",value:function(){return new F.CozyClient({uri:this.options.uri})}},{key:"setAppMetadata",value:function(e){this.appMetadata=q(q({},this.appMetadata),e)}},{key:"setLinks",value:(el=(0,d.default)(l.default.mark(function e(t){var r,n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.links=t||[new E.default({performanceApi:this.performanceApi})],this.registerClientOnLinks(),this.chain=(0,R.chain)(this.links),!this.isLogged){e.next=22;break}r=W(this.links),e.prev=5,r.s();case 7:if((n=r.n()).done){e.next=14;break}if(!(a=n.value).onLogin){e.next=12;break}return e.next=12,a.onLogin();case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,16,19,22]])})),function(e){return el.apply(this,arguments)})},{key:"getSettings",value:(ed=(0,d.default)(l.default.mark(function e(t,r){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.getSettings)(this,t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return ed.apply(this,arguments)})},{key:"saveAfterFetchSettings",value:(ef=(0,d.default)(l.default.mark(function e(t,r,n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.saveAfterFetchSettings)(this,t,r,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r){return ef.apply(this,arguments)})},{key:"resetQuery",value:(ep=(0,d.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,D.isQueryExisting)(this.store.getState(),t)){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return this.dispatch((0,D.resetQuery)(t)),r=this.getQueryFromState(t),e.next=7,this.query(r.definition,{as:t});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return ep.apply(this,arguments)})}],[{key:"fromOldClient",value:function(e,t){return new em(q({uri:e._url,token:e._token.token},t))}},{key:"fromOldOAuthClient",value:(eh=(0,d.default)(l.default.mark(function e(t,r){var n,a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._oauth){e.next=12;break}return e.next=3,t.authorize();case 3:if(a={oauth:(n=e.sent).client,token:n.token,scope:n.token.scope},!(o=new em(q(q({uri:t._url},a),r))).loginPromise){e.next=9;break}return e.next=9,o.loginPromise;case 9:return e.abrupt("return",o);case 12:throw Error("Cannot instantiate a new client: old client is not an OAuth client. CozyClient.fromOldClient might be more suitable.");case 13:case"end":return e.stop()}},e)})),function(e,t){return eh.apply(this,arguments)})},{key:"fromEnv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||(void 0!==n?n.env:{}),a=r.COZY_URL,o=r.COZY_CREDENTIALS;if(!a||!o)throw Error("Env used to instantiate CozyClient must have COZY_URL and COZY_CREDENTIALS");try{t.oauth=JSON.parse(o)}catch(e){t.token=o.trim()}return t.uri=a.trim(),new em(q({},t))}},{key:"fromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[role=application]",r=document.querySelector(t);if(!(r instanceof HTMLElement))throw Error("Cannot find an HTMLElement corresponding to ".concat(t));if(!r||!r.dataset)throw Error("Found no data in ".concat(t," to instantiate cozyClient"));var n=r.dataset.cozy?JSON.parse(r.dataset.cozy):q({},r.dataset),a=n.domain,o=n.token;if(a&&o||(a=a||n.cozyDomain,o=o||n.cozyToken),!a||!o)throw Error("Found no data in ".concat(r.dataset," to instantiate cozyClient"));return new em(q({uri:"".concat(window.location.protocol,"//").concat(a),token:o,capabilities:n.capabilities},e))}},{key:"registerHook",value:function(e,t,r){var n=em.hooks[e]=em.hooks[e]||{};n[t]=n[t]||[],n[t].push(r)}}]),em}();X.hooks=X.hooks||{},X.fetchPolicies=T.default,X.version="60.6.0",k.default.mixin(X),t.default=X},55552:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(76729)),c=n(r(58156)),u=r(55477),s=Object.prototype.hasOwnProperty;function l(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.default=function(){function e(t,r,n,o){var c=this;if((0,a.default)(this,e),(0,i.default)(this,"handleStoreChange",function(){var e=c.currentRawResult();!function(e,t){if(l(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!s.call(t,r[a])||!l(e[r[a]],t[r[a]]))return!1;return!0}(e,c.lastResult)&&(c.lastResult=e,c.notifyObservers())}),!t||!r||!n)throw Error("ObservableQuery takes 3 arguments: queryId, definition and client");this.queryId=t,this.definition=r,this.client=n,this.observers={},this.idCounter=1,this.lastResult=this.currentRawResult(),this.options=o}return(0,o.default)(e,[{key:"currentResult",value:function(){return this.client.getQueryFromState(this.queryId,{hydrated:(0,c.default)(this.options,"hydrated",!0),singleDocData:!0})}},{key:"fetch",value:function(){return this.client.query(this.definition,{as:this.queryId})}},{key:"fetchMore",value:function(){var e=this.currentRawResult();return e.bookmark?this.client.query(this.definition.offsetBookmark(e.bookmark),{as:this.queryId}):this.client.query(this.definition.offset(e.data.length),{as:this.queryId})}},{key:"currentRawResult",value:function(){return(0,u.getRawQueryFromState)(this.getStore().getState(),this.queryId)}},{key:"notifyObservers",value:function(){var e=this;Object.keys(this.observers).forEach(function(t){return e.observers[t]()})}},{key:"subscribeToStore",value:function(){if(this._unsubscribeStore)throw Error("ObservableQuery instance is already subscribed to store.");this._unsubscribeStore=this.getStore().subscribe(this.handleStoreChange)}},{key:"unsubscribeFromStore",value:function(){if(!this._unsubscribeStore)throw Error("ObservableQuery instance is not subscribed to store");this._unsubscribeStore()}},{key:"subscribe",value:function(e){var t=this,r=this.idCounter;return this.idCounter++,this.observers[r]=e,1===Object.keys(this.observers).length&&this.subscribeToStore(),function(){return t.unsubscribe(r)}}},{key:"unsubscribe",value:function(e){if(!this.observers[e])throw Error("Cannot unsubscribe unknown callbackId ".concat(e));delete this.observers[e],0===Object.keys(this.observers).length&&(this.unsubscribeFromStore(),this._unsubscribeStore=null)}},{key:"getStore",value:function(){return this.client.store}}]),e}()},62442:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(92115)),i=a(r(47783)),c=a(r(91083)),u=a(r(7184)),s=a(r(62812)),l=a(r(76729)),d=n(r(96540)),f=a(r(5556)),p=a(r(29140)),h=f.default.shape({subscribe:f.default.func.isRequired,dispatch:f.default.func.isRequired,getState:f.default.func.isRequired}),m=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){var a;if((0,o.default)(this,n),a=r.call(this,e,t),!e.client)throw Error("CozyProvider was not passed a client instance.");return e.store&&e.client.setStore(e.store),a}return(0,i.default)(n,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store||this.props.client.store,client:this.props.client}}},{key:"render",value:function(){return d.default.createElement(p.default.Provider,{value:this.getChildContext()},this.props.children)}}]),n}(d.Component);t.default=m,(0,l.default)(m,"propTypes",{store:h,client:f.default.object.isRequired,children:f.default.oneOfType([f.default.element,f.default.arrayOf(f.default.element)]).isRequired}),(0,l.default)(m,"childContextTypes",{store:f.default.object,client:f.default.object.isRequired}),(0,l.default)(m,"contextTypes",{store:f.default.object})},60023:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.computeChildrenArgs=t.getQueryAttributes=t.default=t.fetchQuery=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(61023)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(76729)),d=n(r(80539)),f=r(96540);n(r(6023));var p=n(r(5556));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}n(r(55552));var v={},y=function(e,t){return t.fetch?t.fetch():e.query(t.definition,{as:t.queryId})};t.fetchQuery=y;var b=function(e,t){var r=e.create.bind(e),n=e.save.bind(e),a=e.destroy.bind(e),o=e.getAssociation.bind(e),i="function"==typeof t.query?t.query(e,t):t.query,c=e.makeObservableQuery(i,t),u=c.fetchMore.bind(c),s=t.mutations,l=(0,d.default)(t,["mutations"]),f="function"==typeof s?s(e,c,l):s,p=c.fetch?c.fetch.bind(c):null;return{client:e,observableQuery:c,queryDefinition:i,createDocument:r,saveDocument:n,deleteDocument:a,getAssociation:o,fetchMore:u,fetch:p,mutations:f}};t.getQueryAttributes=b;var g=function(e){var t=e.observableQuery,r=e.fetchMore,n=e.fetch,a=e.createDocument,o=e.saveDocument,i=e.deleteDocument,c=e.getAssociation,u=e.mutations;return[m({fetchMore:r,fetch:n},t.currentResult()),m({createDocument:a,saveDocument:o,deleteDocument:i,getAssociation:c},u)]};t.computeChildrenArgs=g;var _=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){(0,a.default)(this,n),o=r.call(this,e,t),(0,l.default)((0,i.default)(o),"onQueryChange",function(){o.recomputeChildrenArgs(),o.setState(v)});var o,c=t.client;if(!t.client)throw Error("Query should be used with client in context (use CozyProvider to set context)");return o.client=c,o.observableQuery=null,o.queryUnsubscribe=null,Object.assign((0,i.default)(o),b(c,e)),o.recomputeChildrenArgs(),o}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.queryUnsubscribe=this.observableQuery.subscribe(this.onQueryChange),!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"executeQueryRespectingFetchPolicy",value:function(){if(this.props.fetchPolicy){var e=this.client.getQueryFromState(this.props.as);this.props.fetchPolicy&&"function"==typeof this.props.fetchPolicy&&this.props.fetchPolicy(e)&&y(this.client,this.observableQuery)}else y(this.client,this.observableQuery)}},{key:"componentDidUpdate",value:function(e){!1===e.enabled&&!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"componentWillUnmount",value:function(){this.queryUnsubscribe&&this.queryUnsubscribe()}},{key:"recomputeChildrenArgs",value:function(){this.childrenArgs=g(this)}},{key:"render",value:function(){return(0,this.props.children)(this.childrenArgs[0],this.childrenArgs[1])}}]),n}(f.Component);t.default=_,_.contextTypes={client:p.default.object,store:p.default.object};var w=p.default.object;_.propTypes={query:p.default.oneOfType([p.default.func,w]).isRequired,enabled:p.default.bool,as:p.default.string,children:p.default.func.isRequired,fetchPolicy:p.default.func},_.defaultProps={enabled:!0}},99900:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=r(96540),c=n(r(89248)),u=r(89612),s=r(94772);t.default=(0,i.memo)(function(e){var t=e.doctype,r=(0,c.default)();return(0,i.useEffect)(function(){var e,n=r.plugins.realtime;if(!n)throw Error("You must include the realtime plugin to use RealTimeQueries");var i={};"io.cozy.files"===t&&(i.enhanceDocFn=s.ensureFilePath);var c=function(e){(0,u.dispatchCreate)(r,t,e,i)},l=function(e){(0,u.dispatchUpdate)(r,t,e,i)},d=function(e){(0,u.dispatchDelete)(r,t,e,i)};return(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.subscribe("created",t,c);case 2:return e.next=4,n.subscribe("updated",t,l);case 4:return e.next=6,n.subscribe("deleted",t,d);case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){n.unsubscribe("created",t,c),n.unsubscribe("updated",t,l),n.unsubscribe("deleted",t,d)}},[r,t]),null})},2012:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(76729)),s=n(r(38970)),l=n(r(73916)),d=n(r(55364)),f=n(r(47091)),p=n(r(44742)),h=r(20032);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(e){var t=(0,l.default)(e.relationships||{},function(e,t){return v(v({},e),{},{name:t,type:(0,h.resolveClass)(e.doctype,e.type)})});return v(v({},e),{},{relationships:(0,f.default)(t)>0?(0,s.default)(t,"name"):null})},b=function(e,t){if(!e)throw Error(t)},g=function(e,t){var r=(0,p.default)(e,t,function(e){return e.name});b(0===r.length,"Duplicated names in schemas being added: ".concat(r.map(function(e){return e.name}).join(", ")));var n=(0,p.default)(e,t,function(e){return e.doctype});b(0===n.length,"Duplicated doctypes in schemas being added: ".concat(n.map(function(e){return e.name}).join(", ")))};t.default=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(this,r),this.byDoctype={},this.add(e),this.client=t}return(0,c.default)(r,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(e,function(e,t){return v({name:t},y(e))});g(Object.values(t),Object.values(this.byDoctype)),(0,d.default)(this.byDoctype,(0,s.default)(t,function(e){return e.doctype}))}},{key:"getDoctypeSchema",value:function(e){var t=this.byDoctype[e];return t||(t=y({name:e,doctype:e}),this.byDoctype[e]=t),t}},{key:"getRelationship",value:function(e,t){if(!e)throw TypeError("Invalid doctype ".concat(e));var r=this.getDoctypeSchema(e);if(!r)throw Error("Cannot find doctype ".concat(e," in schema"));if(!r.relationships)throw Error("Schema for doctype ".concat(e," has no relationships"));return r.relationships[t]}},{key:"validate",value:(e=(0,o.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},n=this.byDoctype[t._type]){e.next=4;break}return e.abrupt("return",!0);case 4:if(n.attributes){e.next=6;break}return e.abrupt("return",!0);case 6:e.t0=a.default.keys(n.attributes);case 7:if((e.t1=e.t0()).done){e.next=15;break}return o=e.t1.value,e.next=11,this.validateAttribute(t,o,n.attributes[o]);case 11:!0!==(i=e.sent)&&(r[o]=i),e.next=7;break;case 15:if(0!==Object.keys(r).length){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"validateAttribute",value:(t=(0,o.default)(a.default.mark(function e(t,r,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.unique&&this.client)){e.next=6;break}return e.next=3,this.client.collection(t._type).checkUniquenessOf(r,t[r]);case 3:if(!0===e.sent){e.next=6;break}return e.abrupt("return","must be unique");case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(e,r,n){return t.apply(this,arguments)})}]),r}()},73739:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));r(11071),t.default=function(){function e(t,r,n,o){(0,a.default)(this,e);var i=o.dispatch,c=o.get,u=o.query,s=o.mutate,l=o.save;this.target=t,this.name=r,this.doctype=n,this.get=c,this.query=u,this.mutate=s,this.save=l,this.dispatch=i}return(0,o.default)(e,[{key:"raw",get:function(){throw Error("A relationship must define its raw getter")}},{key:"data",get:function(){throw Error("A relationship must define its data getter")}}],[{key:"query",value:function(e,t,r){throw Error("A custom relationship must define its query() function")}}]),e}()},52043:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.updateRelationship=t.updateHasManyItem=t.removeHasManyItem=t.setHasManyItem=t.getHasManyItems=t.getHasManyItem=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(61023)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(76729)),d=n(r(10464)),f=n(r(58156)),p=n(r(55364)),h=r(11071),m=r(55477),v=n(r(73739)),y=n(r(95527));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=function(e,t,r){var n=-1===t?e.length:t;return[].concat((0,d.default)(e.slice(0,n)),[r],(0,d.default)(e.slice(n+1)))},w=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){var e;(0,a.default)(this,n);for(var t=arguments.length,o=Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o)),(0,l.default)((0,i.default)(e),"updateRelationshipData",function(t){return function(r,n){var a=(0,m.getDocumentFromState)(n(),e.target._type,e.target._id);r((0,m.receiveQueryResult)(null,{data:g(g({},a),{},{relationships:g(g({},a.relationships),{},(0,l.default)({},e.name,t(a.relationships[e.name])))})}))}}),e}return(0,o.default)(n,[{key:"fetchMore",value:function(){throw"Not implemented"}},{key:"exists",value:function(e){return this.existsById(e._id)}},{key:"containsById",value:function(e){return void 0!==this.getRelationship().data.find(function(t){return e===t._id})}},{key:"existsById",value:function(e){return!!(this.containsById(e)&&this.get(this.doctype,e))}},{key:"add",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.addById(t)}},{key:"remove",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.removeById(t)}},{key:"addTargetRelationships",value:function(e){var t,r=this;this.target.relationships||(this.target.relationships={}),this.target.relationships[this.name]||(this.target.relationships[this.name]={data:[]});var n=(Array.isArray(e)?e:[e]).filter(function(e){return!r.existsById(e)}).map(function(e){return{_id:e,_type:r.doctype}});(t=this.target.relationships[this.name].data).push.apply(t,(0,d.default)(n)),this.updateMetaCount()}},{key:"addById",value:function(e){return this.addTargetRelationships(e),this.save(this.target)}},{key:"removeTargetRelationships",value:function(e){var t=Array.isArray(e)?e:[e];this.target.relationships[this.name].data=this.target.relationships[this.name].data.filter(function(e){var r=e._id;return!t.includes(r)}),this.updateMetaCount()}},{key:"removeById",value:function(e){return this.removeTargetRelationships(e),this.save(this.target)}},{key:"updateMetaCount",value:function(){void 0!==(0,f.default)(this.target.relationships[this.name],"meta.count")&&(this.target.relationships[this.name].meta=g(g({},this.target.relationships[this.name].meta),{},{count:this.target.relationships[this.name].data.length}))}},{key:"getRelationship",value:function(){var e=this.target[this.name],t=(0,f.default)(this.target,"relationships.".concat(this.name));return t||(e&&e.length&&y.default.warn("You're trying to access data on a relationship that appear to not be loaded yet. You may want to use 'include()' on your query"),{data:[],next:!0,meta:{count:0}})}},{key:"updateTargetRelationship",value:function(e,t){var r=e.readDocument(this.target._type,this.target._id);e.writeDocument(this.updateRelationship(r,t))}},{key:"updateRelationship",value:function(e,t){return n.updateRelationship(e,this.name,t)}},{key:"dehydrate",value:function(e){return g(g({},e),{},{relationships:g(g({},e.relationships),{},(0,l.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return this.getRelationship().data}},{key:"data",get:function(){var e=this;return this.getRelationship().data.map(function(t){var r=t._id,n=t._type;return e.get(n,r)}).filter(Boolean)}},{key:"hasMore",get:function(){return this.getRelationship().next}},{key:"count",get:function(){var e=this.getRelationship();return e.meta?e.meta.count:e.data.length}}],[{key:"query",value:function(e,t,r){var n=(0,f.default)(e,"relationships.".concat(r.name,".data"),[]).map(function(e){return e._id});return new h.QueryDefinition({doctype:r.doctype,ids:n})}}]),n}(v.default);t.getHasManyItem=w.getHasManyItem=function(e,t,r){return(0,f.default)(e,"relationships.".concat(t,".data"),[]).find(function(e){return e._id==r})},t.getHasManyItems=w.getHasManyItems=function(e,t){return(0,f.default)(e,"relationships.".concat(t,".data"),[])},t.setHasManyItem=w.setHasManyItem=function(e,t,r,n){var a=w.getHasManyItems(e,t),o=a.findIndex(function(e){return e._id===r}),i=(0,p.default)({},a[o],n),c=_(a,o,i);return w.updateRelationship(e,t,function(e){return(0,p.default)({},e,{data:c})})},t.removeHasManyItem=w.removeHasManyItem=function(e,t,r){var n=w.getHasManyItems(e,t).filter(function(e){return e._id!==r});return w.updateRelationship(e,t,function(){return{data:n}})},t.updateHasManyItem=w.updateHasManyItem=function(e,t,r,n){var a=n(w.getHasManyItem(e,t,r));return w.setHasManyItem(e,t,r,a)},t.updateRelationship=w.updateRelationship=function(e,t,r){return g(g({},e),{},{relationships:g(g({},e.relationships),{},(0,l.default)({},t,g(g({},e.relationships?e.relationships[t]:{}),r(e.relationships?e.relationships[t]:{}))))})},t.default=w},19800:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getFileDatetime=void 0;var a=n(r(30592)),o=n(r(10464)),i=n(r(76729)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(2695)),d=n(r(91083)),f=n(r(7184)),p=n(r(62812)),h=n(r(13135)),m=n(r(58156)),v=n(r(90179)),y=n(r(63375)),b=r(11071),g=r(55477),_=r(148);n(r(73739));var w=n(r(52043));function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(e,t){var r=(0,h.default)(e,3),n=r[0],a=r[1],o=r[2];return[o?[n,a,o]:[n,a],t]},E=function(e){var t;return(null==(t=e.metadata)?void 0:t.datetime)||e.created_at};t.getFileDatetime=E,t.default=function(e){(0,d.default)(w,e);var t,r,n,i,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,p.default)(w);return e=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,e)});function w(){return(0,u.default)(this,w),h.apply(this,arguments)}return(0,s.default)(w,[{key:"fetchMore",value:(r=(0,c.default)(a.default.mark(function e(){var t,r,n,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.QueryDefinition({doctype:_.DOCTYPE_FILES}),n=(r=this.getRelationship().data)[r.length-1],e.next=5,this.dispatch(function(){var e=(0,c.default)(a.default.mark(function e(c,u){var s,l,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=E((0,g.getDocumentFromState)(u(),n._type,n._id)),l=x([i.target._type,i.target._id,s],r[r.length-1]._id),e.next=5,i.query(t.referencedBy(i.target).offsetCursor(l));case 5:return(d=e.sent).data.shift(),e.next=9,i.dispatch(i.updateRelationshipData(function(e){return O(O({},e),{},{data:[].concat((0,o.default)(e.data),(0,o.default)(d.data)),next:d.next})}));case 9:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"addById",value:(n=(0,c.default)(a.default.mark(function e(t){var r,n,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.isArray(t)?t:[t],this.addTargetRelationships(r),n=r.map(function(e){return{_id:e,_type:o.doctype}}),e.next=5,this.mutate(this.addReferences(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"removeById",value:(i=(0,c.default)(a.default.mark(function e(t){var r,n,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.isArray(t)?t:[t],this.removeTargetRelationships(t),n=r.map(function(e){return{_id:e,_type:o.doctype}}),e.next=5,this.mutate(this.removeReferences(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addReferences",value:function(e){if(this.target._type===_.DOCTYPE_FILES)return b.Mutations.addReferencedBy(this.target,e);if(e[0]._type===_.DOCTYPE_FILES)return b.Mutations.addReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"removeReferences",value:function(e){if(this.target._type===_.DOCTYPE_FILES)return b.Mutations.removeReferencedBy(this.target,e);if(e[0]._type===_.DOCTYPE_FILES)return b.Mutations.removeReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"dehydrate",value:function(e){return(0,v.default)(e,[this.name,"relationships.".concat(this.name)])}},{key:"data",get:function(){var e=this;return this.target._type===_.DOCTYPE_FILES?(0,m.default)(this.target,"referenced_by",[]).map(function(t){var r=t.id,n=t.type;return e.get(n,r)}).filter(Boolean):(0,l.default)((0,p.default)(w.prototype),"data",this)}}],[{key:"query",value:function(e,t,r){if(e._type===_.DOCTYPE_FILES){var n=(0,m.default)(e,"relationships.referenced_by.data",[]),a=(0,y.default)(n.filter(function(e){return e.type===r.doctype}).map(function(e){return e.id}));return a.length>0?(0,b.Q)(r.doctype).getByIds(a):null}var o=x([e._type,e._id],"");return(0,b.Q)(r.doctype).referencedBy(e).offsetCursor(o)}}]),w}(w.default)},50517:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=r(11071);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"addById",value:function(e){this.getRelationship().push(e)}},{key:"removeById",value:function(e){var t=this.getRelationship(),r=t.indexOf(e);-1!==r&&t.splice(r,1)}},{key:"existsById",value:function(e){return -1!==this.getRelationship().indexOf(e)}},{key:"getRelationship",value:function(){return this.target[this.name]=this.target[this.name]||[],this.target[this.name]}},{key:"dehydrate",value:function(e){return f(f({},e),{},(0,a.default)({},this.name,this.raw||[]))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var e=this,t=this.doctype;return(this.raw||[]).map(function(r){return e.get(t,r)})}}],[{key:"query",value:function(e,t,r){var n=e[r.name];return n&&n>0?(0,l.Q)(r.doctype).getByIds(n):null}}]),n}(n(r(73739)).default)},39994:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(2695)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(52043)),d=r(11071);t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,a.default)(this,n),r.apply(this,arguments)}return(0,o.default)(n,[{key:"data",get:function(){var e=this;return(0,i.default)((0,s.default)(n.prototype),"data",this).filter(function(t){return t.slug===e.target.slug})}}],[{key:"query",value:function(e,t){return(0,d.Q)("io.cozy.triggers").where({worker:"konnector"})}}]),n}(l.default)},42690:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(58156)),d=n(r(63560)),f=r(11071),p=n(r(73739)),h=n(r(95527));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"add",value:function(e){return this.setRelationship(e),this.save(this.target)}},{key:"remove",value:function(){return this.setRelationship(void 0),this.save(this.target)}},{key:"setRelationship",value:function(e){if(e&&e._type!==this.doctype)throw Error("Tried to associate a ".concat(e._type," document to a HasOne relationship on ").concat(this.doctype," document"));var t="relationships[".concat(this.name,"].data");e?(0,d.default)(this.target,t,{_id:e._id,_type:e._type}):(0,d.default)(this.target,t,void 0)}},{key:"set",value:function(e){h.default.warn("set is deprecated for has-one relationships. Use `add` instead."),this.setRelationship(e)}},{key:"unset",value:function(){h.default.warn("unset is deprecated for has-one relationships. Use `remove` instead."),this.setRelationship(void 0)}},{key:"dehydrate",value:function(e){return this.raw?v(v({},e),{},{relationships:v(v({},e.relationships),{},(0,a.default)({},this.name,{data:this.raw}))}):e}},{key:"raw",get:function(){return(0,l.default)(this.target,"relationships[".concat(this.name,"].data"),null)}},{key:"data",get:function(){return this.raw?this.get(this.doctype,this.raw._id):null}}],[{key:"query",value:function(e,t,r){var n=(0,l.default)(e,"relationships.".concat(r.name,".data"),{});return n&&n._id?(0,f.Q)(r.doctype).getById(n._id):null}}]),n}(p.default)},73206:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BelongsToInPlace=t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(73739)),d=r(11071);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"dehydrate",value:function(e){return p(p({},e),{},(0,a.default)({},this.name,this.raw||void 0))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){return this.get(this.doctype,this.raw)}}],[{key:"query",value:function(e,t,r){var n=e[r.name];return t.getDocumentFromState(r.doctype,n)||(0,d.Q)(r.doctype).getById(n)}}]),n}(l.default);t.default=h,t.BelongsToInPlace=h},6205:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedById=t.getReferencedBy=t.isReferencedById=t.isReferencedBy=t.create=t.resolveClass=t.attachRelationships=t.responseToRelationship=t.pickTypeAndId=void 0;var a=n(r(76729)),o=n(r(44383)),i=n(r(71086)),c=n(r(73739)),u=n(r(42690)),s=n(r(73206)),l=n(r(52043)),d=n(r(50517)),f=n(r(19800));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){return(0,o.default)(e,"_type","_id")};t.pickTypeAndId=m,t.responseToRelationship=function(e){var t;return(0,i.default)({data:Array.isArray(t=e.data)?t.map(m):m(t),meta:e.meta,next:e.next,skip:e.skip,bookmark:e.bookmark})};var v=function(e,t){return h(h({},e),{},{relationships:h(h({},e.relationships),t)})};t.attachRelationships=function(e,t){if(Array.isArray(e.data))return h(h({},e),{},{data:e.data.map(function(e){return v(e,t[e._id])})});var r=e.data;return h(h({},e),{},{data:v(r,t[r._id])})};var y={"io.cozy.files:has-many":f.default,"has-many":l.default,"belongs-to-in-place":s.default,"has-one":u.default,"has-one-in-place":s.default,"has-many-in-place":d.default};t.resolveClass=function(e,t){if(void 0===t)throw Error("Undefined type for "+e);if("string"!=typeof t)return t;var r=y["".concat(e,":").concat(t)]||y[t];if(r)return r;throw Error("Unknown association '".concat(t,"'"))},t.create=function(e,t,r){var n=t.name,a=t.type,o=t.doctype;if(e[n]instanceof c.default)throw Error("Association ".concat(n," already exists"));return new a(e,n,o,r)},t.isReferencedBy=function(e,t){var r,n;return((null==e||null==(r=e.relationships)||null==(n=r.referenced_by)?void 0:n.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t})},t.isReferencedById=function(e,t,r){var n,a;return((null==e||null==(n=e.relationships)||null==(a=n.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t&&e.id===r})},t.getReferencedBy=function(e,t){var r,n;return((null==e||null==(r=e.relationships)||null==(n=r.referenced_by)?void 0:n.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t})},t.getReferencedById=function(e,t,r){var n,a;return((null==e||null==(n=e.relationships)||null==(a=n.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t&&e.id===r})}},20032:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HasManyFiles",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"resolveClass",{enumerable:!0,get:function(){return d.resolveClass}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return d.create}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return d.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return d.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return d.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return d.getReferencedById}});var a=n(r(19800)),o=n(r(52043)),i=n(r(42690)),c=n(r(73206)),u=n(r(50517)),s=n(r(39994)),l=n(r(73739)),d=r(6205)},25972:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authFunction=void 0,t.authFunction=function(){throw"Not implemented"}},148:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES_ENCRYPTION=t.DOCTYPE_PERMISSIONS=t.DOCTYPE_FILES=t.REGISTRATION_ABORT=void 0,t.REGISTRATION_ABORT="REGISTRATION_ABORT",t.DOCTYPE_FILES="io.cozy.files",t.DOCTYPE_PERMISSIONS="io.cozy.permissions",t.DOCTYPE_FILES_ENCRYPTION="io.cozy.files.encryption"},52146:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_TYPE=void 0,t.APP_TYPE={KONNECTOR:"konnector",WEBAPP:"webapp"}},29140:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clientContext=void 0;var a=r(96540);n(r(6023));var o=(0,a.createContext)({client:null,store:null});t.clientContext=o,t.default=o},36280:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BulkEditError=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(77497)),d=n(r(30307));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.BulkEditError=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){var a;return(0,o.default)(this,n),(a=r.call(this,"Error while bulk saving")).name="BulkEditError",a.results=(0,d.default)(e,t,function(e,t){return p(p({},e),{},{doc:t})}),a}return(0,i.default)(n,[{key:"getUpdatedDocuments",value:function(){return this.results.filter(function(e){return e.ok}).map(function(e){return e.doc})}},{key:"getErrors",value:function(){return this.results.filter(function(e){return!e.ok})}}]),n}((0,l.default)(Error))},29984:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.certifyFlagship=void 0;var c=i(r(30592)),u=i(r(93889));i(r(6023));var s=r(49205),l=(n=(0,u.default)(c.default.mark(function e(t){var r,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.getStackClient(),e.next=4,r.fetchJSON("POST","/auth/clients/".concat(r.oauthOptions.clientID,"/challenge"),null,{headers:{Authorization:r.registrationAccessTokenToAuthHeader()}});case 4:return n=e.sent,e.abrupt("return",n.nonce);case 8:throw e.prev=8,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while requesting a challenge from CozyStack:\n"+e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return n.apply(this,arguments)}),d=(a=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i,u,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.platform,o=t.attestation,i=t.keyId,u=t.issuer,s=n.getStackClient(),e.next=5,s.fetchJSON("POST","/auth/clients/".concat(s.oauthOptions.clientID,"/attestation"),{platform:a,attestation:o,challenge:r,keyId:i,issuer:u},{headers:{Authorization:s.registrationAccessTokenToAuthHeader()}});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while giving attestation to CozyStack:\n"+e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,r){return a.apply(this,arguments)});o=(0,u.default)(c.default.mark(function e(t,r){var n,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("[FLAGSHIP_CERTIFICATION] Certification configuration is not set");case 2:return e.prev=2,e.next=5,l(r);case 5:return n=e.sent,e.next=8,(0,s.getAppAttestationFromStore)(n,t);case 8:return a=e.sent,e.next=11,d(a,n,r);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.warn('[FLAGSHIP_CERTIFICATION] Automatic certification for URI "'.concat(r.stackClient.uri,'" failed. This is expected on dev environments and non-official phones. Cozy-stack will continue with manual certification through 2FA')),console.warn(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[2,13]])})),t.certifyFlagship=function(e,t){return o.apply(this,arguments)}},49205:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getAppAttestationFromStore=void 0;var o=a(r(30592));t.getAppAttestationFromStore=(n=(0,a(r(93889)).default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("getAppAttestationFromStore can only be called from a React Native container");case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},47475:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrate=void 0;var a=n(r(13135)),o=r(20032);t.dehydrate=function(e){return Object.entries(e).reduce(function(e,t){var r=(0,a.default)(t,2),n=r[0],i=r[1],c=e;if(i instanceof o.Association)if(i.dehydrate)c=i.dehydrate(c);else throw Error("Association on key ".concat(n," should have a dehydrate method"));else c[n]=i;return c},{})}},88237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return n.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return n.deconstructRedirectLink}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return n.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return n.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return n.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return n.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return n.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return n.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return n.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return n.BlockedCozyError}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return a.dehydrate}}),Object.defineProperty(t,"editSettings",{enumerable:!0,get:function(){return o.editSettings}}),Object.defineProperty(t,"getQuery",{enumerable:!0,get:function(){return o.getQuery}}),Object.defineProperty(t,"getSettings",{enumerable:!0,get:function(){return o.getSettings}}),Object.defineProperty(t,"normalizeSettings",{enumerable:!0,get:function(){return o.normalizeSettings}}),Object.defineProperty(t,"saveAfterFetchSettings",{enumerable:!0,get:function(){return o.saveAfterFetchSettings}});var n=r(59848),a=r(47475),o=r(39472)},94772:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureFilePath=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(93889)),u=r(11071),s=a(r(6023));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=function(e){return{definition:function(){return(0,u.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),singleDocData:!0,fetchPolicy:s.default.fetchPolicies.olderThan(3e4)}}};n=(0,c.default)(o.default.mark(function e(t){var r,n,a,c,u=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:{},!t.path){e.next=3;break}return e.abrupt("return",t);case 3:return n=d(t.dir_id),e.next=6,r.client.fetchQueryAndGetFromState({definition:n.definition(),options:n.options});case 6:if(!(!(a=e.sent).data||!a.data.path)){e.next=9;break}throw Error("Could not define a file path for ".concat(t._id||t.id));case 9:return c=a.data.path+"/"+t.name,e.abrupt("return",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({path:c},t));case 11:case"end":return e.stop()}},e)})),t.ensureFilePath=function(e){return n.apply(this,arguments)}},39472:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t.extractKeys=t.editSettings=t.normalizeSettings=t.saveAfterFetchSettings=t.getSettings=void 0;var i=o(r(13135)),c=o(r(76729)),u=o(r(30592)),s=o(r(93889));o(r(6023));var l=o(r(1769)),d=r(11071);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=l.default.olderThan(36e5);n=(0,s.default)(u.default.mark(function e(t,r,n){var a,o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w(r),e.next=3,t.fetchQueryAndGetFromState({definition:a.definition,options:a.options});case 3:return o=v(e.sent.data),e.abrupt("return",_(o,n));case 6:case"end":return e.stop()}},e)})),t.getSettings=function(e,t,r){return n.apply(this,arguments)},a=(0,s.default)(u.default.mark(function e(t,r,n,a){var o,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=w(r),e.next=3,t.fetchQueryAndGetFromState({definition:o.definition,options:o.options});case 3:return i=v(e.sent.data),c=void 0,c="function"==typeof n?n(_(i,a)):h(h({},_(i,Object.keys(n))),n),s=y(r,i,c),e.next=10,t.save(s);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),t.saveAfterFetchSettings=function(e,t,r,n){return a.apply(this,arguments)};var v=function(e){return(Array.isArray(e)?e[0]:e)||{}};t.normalizeSettings=v;var y=function(e,t,r){var n=x(e);return"instance"===e?b(t,r):g(t,n,r)};t.editSettings=y;var b=function(e,t){for(var r=h(h({_id:e._id,_type:e._type,_rev:e.meta.rev},e),{},{attributes:h({},e.attributes)}),n=0,a=Object.entries(t);n<a.length;n++){var o=(0,i.default)(a[n],2),c=o[0],u=o[1];r[c]=u,r.attributes[c]=u}return r},g=function(e,t,r){for(var n=h({_type:t},e),a=0,o=Object.entries(r);a<o.length;a++){var c=(0,i.default)(o[a],2),u=c[0],s=c[1];n[u]=s}return n},_=function(e,t){var r,n={},a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;n[o]=e[o]}}catch(e){a.e(e)}finally{a.f()}return n};t.extractKeys=_;var w=function(e){return"instance"===e?O(e):"passwords"===e?O("bitwarden"):k(e)};t.getQuery=w;var k=function(e){var t=x(e);return{definition:(0,d.Q)(t).limitBy(1),options:{as:t,fetchPolicy:m,singleDocData:!0}}},O=function(e){var t="io.cozy.settings",r=x(e);return{definition:(0,d.Q)(t).getById(r),options:{as:"".concat(t,"/").concat(r),fetchPolicy:m,singleDocData:!0}}},x=function(e){return["instance","bitwarden"].includes(e)?"io.cozy.settings.".concat(e):"passwords"===e?"io.cozy.settings.bitwarden":"io.cozy.".concat(e,".settings")}},59848:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRegistrationDetails=t.rootCozyUrl=t.InvalidCozyUrlError=t.BlockedCozyError=t.InvalidProtocolError=t.InvalidRedirectLinkError=t.deconstructRedirectLink=t.deconstructCozyWebLinkWithSlug=t.generateWebLink=t.ensureFirstSlash=void 0;var u=c(r(10464)),s=c(r(70777)),l=c(r(30592)),d=c(r(93889)),f=c(r(92115)),p=c(r(91083)),h=c(r(7184)),m=c(r(62812)),v=c(r(77497)),y=c(r(13135));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);return r=t?Reflect.construct(n,arguments,(0,m.default)(this).constructor):n.apply(this,arguments),(0,h.default)(this,r)}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){return e?e.startsWith("/")?e:"/"+e:"/"};t.ensureFirstSlash=_,t.generateWebLink=function(e){var t=e.cozyUrl,r=e.searchParams,n=e.pathname,a=e.hash,o=e.slug,i=e.subDomainType,c=new URL(t);c.host="nested"===i?"".concat(o,".").concat(c.host):c.host.split(".").map(function(e,t){return 0===t?e+"-"+o:e}).join("."),c.pathname=_(n),c.hash=_(a);var u,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(r||[]);try{for(s.s();!(u=s.n()).done;){var l=(0,y.default)(u.value,2),d=l[0],f=l[1];c.searchParams.set(d,f)}}catch(e){s.e(e)}finally{s.f()}return c.toString()},t.deconstructCozyWebLinkWithSlug=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flat",r=new URL(e),n="nested"===t?r.host.split(".")[0]:r.host.split(".")[0].split("-")[1],a="nested"===t?r.host.split(".")[1]:r.host.split(".")[0].split("-")[0];return{cozyBaseDomain:r.host.split(".").slice("nested"===t?2:1).join("."),cozyName:a,pathname:r.pathname,hash:r.hash,protocol:r.protocol,searchParams:r.searchParams.toString(),slug:n}},t.deconstructRedirectLink=function(e){var t=e.split("#"),r=(0,y.default)(t,2),n=r[0],a=r[1],o=n.split(/\/(.*)/),i=(0,y.default)(o,2),c=i[0],u=i[1];if(!c.match(/^[a-z0-9]+$/))throw new w(e);return{slug:c,pathname:u,hash:a}};var w=function(e){(0,p.default)(r,e);var t=b(r);function r(e){var n;return(0,f.default)(this,r),(n=t.call(this,"Invalid redirect link ".concat(e))).redirectLink=e,n}return r}((0,v.default)(Error));t.InvalidRedirectLinkError=w;var k=function(e){(0,p.default)(r,e);var t=b(r);function r(e){var n;return(0,f.default)(this,r),(n=t.call(this,"Invalid URL protocol ".concat(e.protocol))).url=e,n}return r}((0,v.default)(Error));t.InvalidProtocolError=k;var O=function(e){(0,p.default)(r,e);var t=b(r);function r(e){var n;return(0,f.default)(this,r),(n=t.call(this,"Blocked cozy ".concat(e.toString()))).url=e,n}return r}((0,v.default)(Error));t.BlockedCozyError=O;var x=function(e){(0,p.default)(r,e);var t=b(r);function r(e){var n;return(0,f.default)(this,r),(n=t.call(this,"URL ".concat(e.toString()," does not seem to be a valid Cozy URL"))).url=e,n}return r}((0,v.default)(Error));t.InvalidCozyUrlError=x;var E=function(e){var t=e.protocol,r=e.hostname,n=e.port;return(""!==t?"".concat(t,"//"):"https://")+r+(""!==n?":".concat(n):"")},C=(n=(0,d.default)(l.default.mark(function e(t){var r,n,a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E(t)+"/public/prelogin");case 2:if(n=(r=e.sent).status,a=r.url,404!==n){e.next=6;break}throw new x(t);case 6:return e.next=8,S(r);case 8:if(!e.sent){e.next=10;break}throw new O(t);case 10:if(200===n){e.next=12;break}return e.abrupt("return");case 12:if(!(a&&t.origin!==new URL(a).origin)){e.next=15;break}return e.abrupt("return",!1);case 15:if(!(!(o=r.headers.get("content-type"))||-1===o.indexOf("application/json"))){e.next=18;break}return e.abrupt("return",!1);case 18:return e.abrupt("return",r.json());case 19:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});a=(0,d.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return r=e.sent,e.abrupt("return",r.rootUrl);case 4:case"end":return e.stop()}},e)})),t.rootCozyUrl=function(e){return a.apply(this,arguments)};var S=(o=(0,d.default)(l.default.mark(function e(t){var r,n,a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(503===t.status){e.next=2;break}return e.abrupt("return",!1);case 2:return a=(n=t.headers.get("content-type"))&&n.indexOf("json")>=0,e.next=6,a?t.json():t.text();case 6:if(!(null!=(o=e.sent)&&null!=(r=o.some)&&r.call(o,function(e){return"Blocked"===e.title}))){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),A=function(e){if(!["http:","https:"].includes(e.protocol))throw new k(e)},P=function(e){var t=e.hostname.split("."),r=(0,s.default)(t),n=r[0],a=r.slice(1),o=[n.replace(/-.+/,"")].concat((0,u.default)(a)).join(".");return new URL(E({protocol:e.protocol,hostname:o,port:e.port}))},M=function(e){var t=e.hostname.split(".").splice(1).join(".");return new URL(E({protocol:e.protocol,hostname:t,port:e.port}))},j=(i=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(t),e.next=3,C(t);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",{rootUrl:new URL(E({protocol:t.protocol,hostname:t.hostname,port:t.port})),isOIDC:r.OIDC});case 6:if(!/^[^.-][^.]+-[^.-]+\./.test(t.hostname)){e.next=13;break}return n=P(t),e.next=10,C(n);case 10:if(!(a=e.sent)){e.next=13;break}return e.abrupt("return",{rootUrl:n,isOIDC:a.OIDC});case 13:return o=M(t),e.next=16,C(o);case 16:if(!(i=e.sent)){e.next=19;break}return e.abrupt("return",{rootUrl:o,isOIDC:i.OIDC});case 19:throw new x(t);case 20:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)});t.fetchRegistrationDetails=j},88689:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.queryConnectFlat=t.queryConnect=t.withClient=void 0;var o=a(r(76729)),i=a(r(82710)),c=n(r(96540)),u=a(r(5556)),s=a(r(71382)),l=a(r(60023)),d=a(r(89248)),f=r(54703),p=a(r(95527));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.withClient=function(e){var t=function(t){var r=(0,d.default)();return c.default.createElement(e,(0,i.default)({},t,{client:r}))};return t.displayName="withClient(".concat(e.displayName||e.name,")"),t};var v=function(e,t,r){if(!t)throw Error("withQuery has no options for ".concat(e," (wrapping ").concat(r.name,")"));return function(r){var n=function(n,a){if(!a.client)throw Error("Should be used with client in context (use CozyProvider to set context)");var i="function"==typeof t?t(n):t;return t.doc?(p.default.warn("queryOpts.doc is deprecated"),c.default.createElement(r,m((0,o.default)({},e,i.doc),n))):c.default.createElement(l.default,i,function(t){return c.default.createElement(r,m((0,o.default)({},e,t),n))})};return n.contextTypes={client:u.default.object},n.displayName="withQuery(".concat(r.displayName||r.name,")"),n}};t.queryConnect=function(e){return function(t){var r=Object.keys(e).map(function(r){return v(r,e[r],t)});return s.default.apply(null,r)(t)}},t.queryConnectFlat=function(e){return function(t){var r=function(r){var n=(0,f.useQueries)(e);return c.default.createElement(t,(0,i.default)({},r,n))};return r.displayName="queryConnectFlat(".concat(t.displayName||t.name,")"),r}}},53733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(96540);t.default=function(){var e=(0,n.useRef)();return(0,n.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e}},20307:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=r(96540),i=n(r(53733));t.default=function(e){var t=(0,i.default)(),r=(0,o.useState)(e),n=(0,a.default)(r,2),c=n[0],u=n[1];return[c,(0,o.useCallback)(function(e){t.current&&u(e)},[])]}},81296:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAppLinkWithStoreFallback",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useCapabilities",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useFetchShortcut",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"useClient",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useQuery",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useQueries",{enumerable:!0,get:function(){return s.useQueries}}),Object.defineProperty(t,"useAppsInMaintenance",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useQueryAll",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useMutation",{enumerable:!0,get:function(){return f.useMutation}}),Object.defineProperty(t,"useInstanceInfo",{enumerable:!0,get:function(){return p.useInstanceInfo}}),Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return h.useSettings}});var o=a(r(5477)),i=a(r(51413)),c=a(r(56273)),u=a(r(89248)),s=n(r(54703)),l=a(r(48669)),d=a(r(6e3)),f=r(10696),p=r(76288),h=r(68519)},5477:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=r(11071),s=r(57615);t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=(0,c.useState)("loading"),l=(0,i.default)(n,2),d=l[0],f=l[1],p=(0,c.useState)(!0),h=(0,i.default)(p,2),m=h[0],v=h[1],y=(0,c.useState)(null),b=(0,i.default)(y,2),g=b[0],_=b[1];return(0,c.useEffect)(function(){var n;(n=(0,o.default)(a.default.mark(function n(){var o,i,c;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.query((0,u.Q)("io.cozy.apps"));case 3:o=n.sent,i={slug:e},v(!!(c=(0,s.isInstalled)(o.data,i))),c?_((0,s.getUrl)(c)+r):_((0,s.getStoreURL)(o.data,i)),f("loaded"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),f("errored");case 14:case"end":return n.stop()}},n,null,[[0,11]])})),function(){return n.apply(this,arguments)})()},[t,e,r]),{fetchStatus:d,isInstalled:m,url:g}}},48669:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(54703)),o=r(11071),i=n(r(6023));t.default=function(){return(0,a.default)((0,o.Q)("io.cozy.apps_registry").getById("maintenance"),{as:"io.cozy.apps_registry/maintenance",fetchPolicy:i.default.fetchPolicies.olderThan(6e5),singleDocData:!1}).data||[]}},51413:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=n(r(58156)),s=r(11071);t.default=function(e){var t=(0,c.useState)(),r=(0,i.default)(t,2),n=r[0],l=r[1],d=(0,c.useState)("idle"),f=(0,i.default)(d,2),p=f[0],h=f[1];return(0,c.useEffect)(function(){var t,r=(t=(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h("loading"),t.prev=1,t.next=4,e.query((0,s.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities"));case 4:r=t.sent,l((0,u.default)(r,"data",{})),h("loaded"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),h("failed");case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return t.apply(this,arguments)});e.capabilities?(l(e.capabilities),h("loaded")):r()},[e]),{capabilities:n,fetchStatus:p}}},89248:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(96540),o=n(r(29140));n(r(6023)),t.default=function(){return(0,a.useContext)(o.default).client}},56273:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=r(11071),s=n(r(6023));t.default=function(e,t){var r=(0,c.useState)(null),n=(0,i.default)(r,2),l=n[0],d=n[1],f=(0,c.useState)(null),p=(0,i.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)("idle"),y=(0,i.default)(v,2),b=y[0],g=y[1];return(0,c.useEffect)(function(){var r;(r=(0,o.default)(a.default.mark(function r(){var n,o,i,c,l,f;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return g("loading"),r.prev=1,r.next=4,e.fetchQueryAndGetFromState({definition:(0,u.Q)("io.cozy.files.shortcuts").getById(t),options:{as:"io.cozy.files.shortcuts/".concat(t),fetchPolicy:s.default.fetchPolicies.olderThan(6e5),singleDocData:!0}});case 4:if(!(l=null==(c=r.sent)||null==(n=c.data)||null==(o=n.metadata)||null==(i=o.target)?void 0:i.app)){r.next=13;break}return r.next=9,e.getStackClient().getIconURL({type:"app",slug:l,priority:"stack"});case 9:m(r.sent),r.next=16;break;case 13:f=new URL(c.data.url),m("".concat(e.getStackClient().uri,"/bitwarden/icons/").concat(f.host,"/icon.png"));case 16:d({data:c.data}),g("loaded"),r.next=23;break;case 20:r.prev=20,r.t0=r.catch(1),g("failed");case 23:case"end":return r.stop()}},r,null,[[1,20]])})),function(){return r.apply(this,arguments)})()},[e,t]),{shortcutInfos:l,shortcutImg:h,fetchStatus:b}}},76288:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useInstanceInfo=void 0;var a=n(r(54703)),o=n(r(6023)),i=r(11071),c=r(42314);t.useInstanceInfo=function(){var e=u("io.cozy.settings.instance"),t=(0,a.default)(e.definition,e.options),r=u("io.cozy.settings.context"),n=(0,a.default)(r.definition,r.options),o=u("io.cozy.settings.disk-usage"),i=(0,a.default)(o.definition,o.options);return{isLoaded:null!==(0,c.hasQueryBeenLoaded)(t)&&null!==(0,c.hasQueryBeenLoaded)(n)&&null!==(0,c.hasQueryBeenLoaded)(i),instance:{data:t.data},context:{data:n.data},diskUsage:{data:i.data}}};var u=function(e){return{definition:(0,i.Q)("io.cozy.settings").getById(e),options:{as:"io.cozy.settings/".concat(e),fetchPolicy:o.default.fetchPolicies.olderThan(54e4),singleDocData:!0}}}},10696:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useMutation=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=n(r(5556)),s=n(r(89248)),l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.onSuccess,n=void 0===r?void 0:r,u=t.onError,l=void 0===u?void 0:u,d=(0,s.default)(),f=(0,c.useState)("pending"),p=(0,i.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)(),y=(0,i.default)(v,2),b=y[0],g=y[1],_=(0,c.useState)(),w=(0,i.default)(_,2),k=w[0],O=w[1];return{mutate:(0,c.useCallback)((e=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(void 0),m("loading"),e.prev=2,e.next=5,d.save(t);case 5:if(O((r=e.sent).data),"function"!=typeof n){e.next=10;break}return e.next=10,n(r.data);case 10:m("loaded"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(2),m("failed"),g(e.t0),"function"!=typeof l){e.next=20;break}return e.next=20,l(e.t0);case 20:case"end":return e.stop()}},e,null,[[2,13]])})),function(t){return e.apply(this,arguments)}),[d,l,n]),mutationStatus:h,error:b,data:k}};t.useMutation=l,l.propTypes={onSuccess:u.default.func,onError:u.default.func}},54703:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useQueries=void 0;var a=n(r(13135)),o=n(r(76729)),i=r(96540),c=r(42445),u=n(r(58156)),s=n(r(89248)),l=n(r(95527)),d=r(29140);r(11071);var f=r(43832);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=(0,c.createSelectorHook)(d.clientContext),v=function(e,t){if(!m)throw Error("You must use react-redux > 7.1.0 to use useQuery (uses useSelector) under the hood");if(!e)throw l.default.warn("Bad query",e),Error("Bad query");var r=t.as,n=t.enabled,a=void 0===n||n,o=a?"function"==typeof e?e():e:null;if(!r)throw Error("You must specify options.as when using useQuery");var c=(0,s.default)(),d=m(function(){return void 0===t.singleDocData&&null!=o&&o.id&&l.default.warn("useQuery options.singleDocData will pass to true in a next version of cozy-client, please add it now to prevent any problem in the future."),c.getQueryFromState(r,{hydrated:(0,u.default)(t,"hydrated",!0),singleDocData:(0,u.default)(t,"singleDocData",!1)})},f.equalityCheckForQuery);(0,i.useEffect)(function(){!1!==a&&c.query(o,t)},[r,a]);var p=(0,i.useCallback)(function(){var e=c.getQueryFromState(r);return c.query(e.bookmark?e.definition.offsetBookmark(e.bookmark):e.definition.offset(e.data.length),{as:r})},[r,c]),v=(0,i.useCallback)(function(){return c.query(o,t)},[c,o,t]);return h(h({},d),{},{fetchMore:p,fetch:v})};t.useQueries=function(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var o=(0,a.default)(n[r],2),i=o[0],c=o[1];t[i]=v(c.query,c)}return t},t.default=v},6e3:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540);r(11071);var u=n(r(54703)),s=n(r(20307));t.default=function(e,t){var r=(0,s.default)(!1),n=(0,i.default)(r,2),l=n[0],d=n[1],f=(0,u.default)(e,t);return(0,c.useEffect)(function(){var e;(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("loaded"===f.fetchStatus&&f.hasMore&&!l)){e.next=5;break}return d(!0),e.next=4,f.fetchMore();case 4:d(!1);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[f.hasMore,f.fetchStatus,l]),f}},68519:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=void 0;var a=n(r(80539)),o=r(96540),i=r(88237),c=r(10696),u=n(r(54703)),s=r(42314),l=r(39472);t.useSettings=function(e,t){var r=(0,i.getQuery)(e),n=(0,u.default)(r.definition,r.options),d=n.data,f=(0,a.default)(n,["data"]),p=(0,c.useMutation)(),h=p.mutate,m=(0,a.default)(p,["mutate"]),v=(0,o.useCallback)(function(t){var r=(0,i.normalizeSettings)(d);return h((0,i.editSettings)(e,r,t))},[h,d,e]),y=(0,i.normalizeSettings)(d),b=(0,s.hasQueryBeenLoaded)(f)?(0,l.extractKeys)(y,t):void 0;return{query:f,values:b,save:v,mutation:m}}},42895:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0});var o={CozyLink:!0,StackLink:!0,WebFlagshipLink:!0,DataProxyLink:!0,compose:!0,QueryDefinition:!0,Q:!0,Mutations:!0,MutationTypes:!0,getDoctypeFromOperation:!0,Association:!0,HasMany:!0,HasOne:!0,HasOneInPlace:!0,HasManyInPlace:!0,HasManyTriggers:!0,isReferencedBy:!0,isReferencedById:!0,getReferencedBy:!0,getReferencedById:!0,deconstructCozyWebLinkWithSlug:!0,deconstructRedirectLink:!0,dehydrate:!0,generateWebLink:!0,ensureFirstSlash:!0,fetchRegistrationDetails:!0,rootCozyUrl:!0,InvalidRedirectLinkError:!0,InvalidCozyUrlError:!0,InvalidProtocolError:!0,BlockedCozyError:!0,cancelable:!0,isQueryLoading:!0,hasQueryBeenLoaded:!0,isQueriesLoading:!0,hasQueriesBeenLoaded:!0,getQueryFromState:!0,dispatchCreate:!0,dispatchUpdate:!0,dispatchDelete:!0,Registry:!0,RealTimeQueries:!0,manifest:!0,CozyProvider:!0,withMutation:!0,withMutations:!0,Query:!0,queryConnect:!0,queryConnectFlat:!0,withClient:!0,models:!0,fetchPolicies:!0,BulkEditError:!0,webPerformanceApi:!0,defaultPerformanceApi:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"CozyLink",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WebFlagshipLink",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"DataProxyLink",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"compose",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"QueryDefinition",{enumerable:!0,get:function(){return f.QueryDefinition}}),Object.defineProperty(t,"Q",{enumerable:!0,get:function(){return f.Q}}),Object.defineProperty(t,"Mutations",{enumerable:!0,get:function(){return f.Mutations}}),Object.defineProperty(t,"MutationTypes",{enumerable:!0,get:function(){return f.MutationTypes}}),Object.defineProperty(t,"getDoctypeFromOperation",{enumerable:!0,get:function(){return f.getDoctypeFromOperation}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return p.Association}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return p.HasMany}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return p.HasOne}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return p.HasOneInPlace}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return p.HasManyInPlace}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return p.HasManyTriggers}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return h.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return h.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return h.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return h.getReferencedById}}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return m.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return m.deconstructRedirectLink}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return m.dehydrate}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return m.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return m.ensureFirstSlash}}),Object.defineProperty(t,"fetchRegistrationDetails",{enumerable:!0,get:function(){return m.fetchRegistrationDetails}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return m.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return m.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return m.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return m.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return m.BlockedCozyError}}),Object.defineProperty(t,"cancelable",{enumerable:!0,get:function(){return v.cancelable}}),Object.defineProperty(t,"isQueryLoading",{enumerable:!0,get:function(){return v.isQueryLoading}}),Object.defineProperty(t,"hasQueryBeenLoaded",{enumerable:!0,get:function(){return v.hasQueryBeenLoaded}}),Object.defineProperty(t,"isQueriesLoading",{enumerable:!0,get:function(){return v.isQueriesLoading}}),Object.defineProperty(t,"hasQueriesBeenLoaded",{enumerable:!0,get:function(){return v.hasQueriesBeenLoaded}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return y.getQueryFromState}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return y.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return y.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return y.dispatchDelete}}),Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"RealTimeQueries",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"withMutation",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"withMutations",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"queryConnect",{enumerable:!0,get:function(){return x.queryConnect}}),Object.defineProperty(t,"queryConnectFlat",{enumerable:!0,get:function(){return x.queryConnectFlat}}),Object.defineProperty(t,"withClient",{enumerable:!0,get:function(){return x.withClient}}),Object.defineProperty(t,"fetchPolicies",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"BulkEditError",{enumerable:!0,get:function(){return A.BulkEditError}}),Object.defineProperty(t,"webPerformanceApi",{enumerable:!0,get:function(){return P.webPerformanceApi}}),Object.defineProperty(t,"defaultPerformanceApi",{enumerable:!0,get:function(){return M.defaultPerformanceApi}}),t.models=t.manifest=void 0;var i=a(r(6023)),c=a(r(20842)),u=a(r(10169)),s=a(r(51111)),l=a(r(23229)),d=a(r(49870)),f=r(11071),p=r(20032),h=r(6205),m=r(88237),v=r(42314),y=r(55477),b=a(r(41520)),g=a(r(99900));t.manifest=n(r(23721));var _=a(r(62442)),w=a(r(29192)),k=a(r(46903)),O=a(r(60023)),x=r(88689);t.models=n(r(78690));var E=a(r(1769)),C=r(50661);Object.keys(C).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))});var S=r(81296);Object.keys(S).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))});var A=r(36280),P=r(10683),M=r(46728)},20842:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.chain=t.default=void 0;var a=n(r(10464)),o=n(r(30592)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=function(){var e,t,r;function n(e,t){(0,c.default)(this,n),"function"==typeof e&&(this.request=e),"function"==typeof t&&(this.persistCozyData=t)}return(0,u.default)(n,[{key:"request",value:(e=(0,i.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("request is not implemented");case 1:case"end":return e.stop()}},e)})),function(t,r,n,a){return e.apply(this,arguments)})},{key:"persistCozyData",value:(t=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("persistCozyData is not implemented");case 1:case"end":return e.stop()}},e)})),function(e,r){return t.apply(this,arguments)})},{key:"reset",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("reset is not implemented");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}]),n}();t.default=s;var l=function(e){return"function"==typeof e?new s(e):e},d=new s(function(e,t,r){if(r)return r;if(e.execute)return e.execute();throw Error("No link could handle operation ".concat(JSON.stringify(e)))},function(e,t){});t.chain=function(e){return[].concat((0,a.default)(e),[d]).map(l).reduce(f)};var f=function(e,t){return new s(function(r,n,a,o){return e.request(r,n,a,function(e,r,n){return t.request(e,r,n,o)})},function(r,n){return e.persistCozyData(r,function(e){return t.persistCozyData(e,n)})})}},23229:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(61023)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(20842)),h=n(r(40918));t.default=function(e){(0,s.default)(b,e);var t,r,n,p,m,v,y=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(b);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.dataproxy;return(0,i.default)(this,b),e=y.call(this),(0,f.default)((0,u.default)(e),"_onReceiveMessage",function(t){if(t.origin.includes("dataproxy")){var r=null==t?void 0:t.data;r&&"object"==typeof r&&"DATAPROXYMESSAGE"===r.type&&"READY"===r.payload&&(h.default.info("Received message: DataProxy is ready"),e._flushQueue())}}),e.dataproxy=r||null,e._queue=[],e._drainingRequests=!1,window&&window.addEventListener("message",e._onReceiveMessage),e}return(0,c.default)(b,[{key:"registerClient",value:function(e){}},{key:"registerDataProxy",value:function(e){this.dataproxy=e,this._flushQueue()}},{key:"reset",value:(r=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"request",value:(n=(0,o.default)(a.default.mark(function e(t,r,n,o){var i,c=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(i=this.dataproxy)&&i.requestLink)){e.next=2;break}return e.abrupt("return",this.doRequest(t,r));case 2:return e.abrupt("return",new Promise(function(e,n){c._queue.push({operation:t,options:r,resolve:e,reject:n})}));case 3:case"end":return e.stop()}},e,this)})),function(e,t,r,a){return n.apply(this,arguments)})},{key:"doRequest",value:(p=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r||{},o=performance.now(),e.next=4,this.dataproxy.requestLink(t,n);case 4:return i=e.sent,c=performance.now(),h.default.info("Request query took ".concat(c-o," ms")),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"persistCozyData",value:(m=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})},{key:"_flushQueue",value:(v=(0,o.default)(a.default.mark(function e(){var t,r,n,o,i,c,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(null!=(t=this.dataproxy)&&t.requestLink)||this._queue.length<1)){e.next=2;break}return e.abrupt("return");case 2:h.default.info("Execute ".concat(this._queue.length," delayed requests")),this._drainingRequests=!0,e.prev=4;case 5:if(!(this._queue.length>0)){e.next=19;break}return n=(r=this._queue.shift()).operation,o=r.options,i=r.resolve,c=r.reject,e.prev=7,e.next=10,this.doRequest(n,o);case 10:u=e.sent,i(u),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),c(e.t0);case 17:e.next=5;break;case 19:return e.prev=19,this._drainingRequests=!1,this._queue.length>0&&this._flushQueue(),e.finish(19);case 23:case"end":return e.stop()}},e,this,[[4,,19,23],[7,14]])})),function(){return v.apply(this,arguments)})}]),b}(p.default)},10169:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transformBulkDocsResponse=void 0;var a=n(r(80539)),o=n(r(30592)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(30307)),h=r(11071),m=n(r(20842)),v=r(148),y=r(36280),b=n(r(95527)),g=r(42314),_=r(46728);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=function(e){var t=e.selector,r=e.partialFilter,n=e.sort,a=e.fields;return!!t||!!r||!!n||!!a},x=function(e,t){var r=(0,p.default)(e,t,function(e,t){return e.ok?k(k({},t),{},{_id:e.id,_rev:e.rev}):t});if(e.find(function(e){return!e.ok}))throw new y.BulkEditError(e,r);return{data:r}};t.transformBulkDocsResponse=x,t.default=function(e){(0,s.default)(y,e);var t,r,n,f,p,m=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(y);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.client,n=t.stackClient,a=t.platform,o=t.performanceApi;return(0,c.default)(this,y),e=m.call(this),r&&b.default.warn("Using options.client is deprecated, prefer options.stackClient"),e.stackClient=n||r,e.isOnline=null==a?void 0:a.isOnline,e.performanceApi=o||_.defaultPerformanceApi,e}return(0,u.default)(y,[{key:"registerClient",value:function(e){this.stackClient=e.stackClient||e.client}},{key:"reset",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.stackClient=null;case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"request",value:(n=(0,i.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!=r&&r.forceStack)&&this.isOnline,!e.t0){e.next=5;break}return e.next=4,this.isOnline();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",a(t,r));case 7:if(e.prev=7,!t.mutationType){e.next=12;break}return e.next=11,this.executeMutation(t,r,n,a);case 11:case 14:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeQuery(t);case 17:if(e.prev=17,e.t1=e.catch(7),!(!(null!=r&&r.forceStack)&&(0,g.isReactNativeOfflineError)(e.t1))){e.next=21;break}return e.abrupt("return",a(t,r));case 21:throw e.t1;case 22:case"end":return e.stop()}},e,this,[[7,17]])})),function(e,t,r,a){return n.apply(this,arguments)})},{key:"persistCozyData",value:(f=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(t));case 1:case"end":return e.stop()}},e)})),function(e,t){return f.apply(this,arguments)})},{key:"executeQuery",value:function(e){var t=e.doctype,r=e.selector,n=e.id,o=e.ids,i=e.referenced,c=e.sharingId,u=k(k({},(0,a.default)(e,["doctype","selector","id","ids","referenced","sharingId"])),{},{driveId:void 0});if(!t)throw b.default.warn("Bad query",e),Error("No doctype found in a query definition");t===v.DOCTYPE_FILES&&c&&(u=k(k({},u),{},{driveId:c}));var s=this.stackClient.collection(t,u);return n?s.get(n,e):o?s.getAll(o):i?s.findReferencedBy(i,u):O(e)?s.find(r,u):s.all(u)}},{key:"executeMutation",value:(p=(0,i.default)(o.default.mark(function e(t,r,n,i){var c,u,s,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=t.mutationType,u=t.document,s=t.documents,l=(0,a.default)(t,["mutationType","document","documents"]),e.t0=c,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?5:e.t0===h.MutationTypes.UPDATE_DOCUMENT?9:e.t0===h.MutationTypes.DELETE_DOCUMENT?10:e.t0===h.MutationTypes.DELETE_DOCUMENTS?11:e.t0===h.MutationTypes.ADD_REFERENCES_TO?12:e.t0===h.MutationTypes.REMOVE_REFERENCES_TO?13:e.t0===h.MutationTypes.ADD_REFERENCED_BY?14:e.t0===h.MutationTypes.REMOVE_REFERENCED_BY?19:e.t0===h.MutationTypes.UPLOAD_FILE?24:25;break;case 4:return e.abrupt("return",this.stackClient.collection(u._type).create(u));case 5:return e.next=7,this.stackClient.collection(s[0]._type).updateAll(s);case 7:return d=e.sent,e.abrupt("return",x(d,s));case 9:return e.abrupt("return",this.stackClient.collection(u._type).update(u));case 10:return e.abrupt("return",this.stackClient.collection(u._type).destroy(u));case 11:return e.abrupt("return",this.stackClient.collection(u._type).destroyAll(s));case 12:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).addReferencesTo(u,l.referencedDocuments));case 13:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).removeReferencesTo(u,l.referencedDocuments));case 14:if(u._type!==v.DOCTYPE_FILES){e.next=18;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).addReferencedBy(u,l.referencedDocuments));case 18:case 23:throw Error("The document type should be io.cozy.files");case 19:if(u._type!==v.DOCTYPE_FILES){e.next=23;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).removeReferencedBy(u,l.referencedDocuments));case 24:return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).upload(l.file,l.dirPath));case 25:return e.abrupt("return",i(t,r,n));case 26:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})}]),y}(m.default)},51111:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812));t.default=function(e){(0,u.default)(p,e);var t,r,n,d,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(p);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.webviewIntent;return(0,i.default)(this,p),(e=f.call(this)).webviewIntent=r,e}return(0,c.default)(p,[{key:"registerClient",value:function(e){}},{key:"reset",value:(r=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"request",value:(n=(0,o.default)(a.default.mark(function e(t,r,n,o){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webviewIntent.call("flagshipLinkRequest",t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r,a){return n.apply(this,arguments)})},{key:"persistCozyData",value:(d=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})}]),p}(n(r(20842)).default)},95527:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o=(0,a.default)("cozy-client");a.default.suggest.deny("cozy-client","info"),t.default=o},50661:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.createFakeClient=t.createMockClient=void 0;var a=n(r(13135)),o=n(r(30592)),i=n(r(93889)),c=n(r(76729)),u=n(r(80539)),s=n(r(55364)),l=n(r(6023)),d=r(55477),f=r(46846),p=r(11071);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var m=function(e,t,r){var n=r.definition,a=r.doctype,o=r.data,i=r.queryError,s=(0,u.default)(r,["definition","doctype","data","queryError"]);e.store.dispatch((0,d.initQuery)(t,n||(0,p.Q)(a))),i?e.store.dispatch((0,d.receiveQueryError)(t,i)):e.store.dispatch((0,d.receiveQueryResult)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({data:o?o.map(function(e){return(0,f.normalizeDoc)(e,a)}):o},s)))},v=function(e){var t;return t=(0,i.default)(o.default.mark(function t(r){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{data:null});case 2:if(!e[r.doctype]){t.next=6;break}return t.abrupt("return",{data:e[r.doctype]});case 6:return t.abrupt("return",{data:[]});case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}};t.createMockClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,r=e.remote,n=e.clientOptions,a=e.clientFunctions,o=jest.fn().mockImplementation(v(r));return y({queries:t,remote:r,clientOptions:n,clientFunctions:(0,s.default)({query:o,save:jest.fn(),saveAll:jest.fn(),stackClient:{fetchJSON:jest.fn()}},a)})};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,r=e.remote,n=e.clientOptions,o=e.clientFunctions,i=new l.default(n||{});i.ensureStore();for(var c=0,u=Object.entries(t||{});c<u.length;c++){var d=(0,a.default)(u[c],2);m(i,d[0],d[1])}return i.query=v(r),(0,s.default)(i,o),i};t.createFakeClient=y},47881:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isAccountWithTrigger=t.buildAccount=t.getAccountName=t.getAccountLogin=t.setContractSyncStatusInAccount=t.getContractSyncStatusFromAccount=t.muteError=t.getMutedErrors=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(76729)),u=a(r(55364)),s=r(11071),l=r(52043),d=r(23721);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){return(null==e?void 0:e.mutedErrors)||[]};t.getMutedErrors=m,t.muteError=function(e,t){var r=m(e);return r.push({type:t,mutedAt:new Date().toISOString()}),h(h({},e),{},{mutedErrors:r})},t.getContractSyncStatusFromAccount=function(e,t){var r,n,a=(0,l.getHasManyItem)(e,"contracts",t);if(!a)throw Error("Cannot find contrat ".concat(t," in account"));return null==(r=null==a||null==(n=a.metadata)?void 0:n.imported)||r},t.setContractSyncStatusInAccount=function(e,t,r){return(0,l.updateHasManyItem)(e,"contracts",t,function(e){if(void 0===e)throw Error("Cannot find contrat ".concat(t," in account"));return(0,u.default)({},e,{metadata:{imported:r}})})};var v=function(e){if(e.identifier)return e.auth[e.identifier];if(e&&e.auth){var t,r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(d.legacyLoginFields);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.auth[n])return e.auth[n]}}catch(e){r.e(e)}finally{r.f()}}return null};t.getAccountLogin=v,t.getAccountName=function(e){return e?e.auth&&(e.auth.accountName||v(e))||e._id:null},t.buildAccount=function(e,t){return{auth:t,account_type:e.slug,identifier:(0,d.getIdentifier)(e.fields),state:null}},n=(0,i.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,s.Q)("io.cozy.triggers").where({"message.account":r._id}).indexFields(["message.account"]).limitBy(1));case 2:return n=e.sent,e.abrupt("return",n.data.length>0);case 4:case"end":return e.stop()}},e)})),t.isAccountWithTrigger=function(e,t){return n.apply(this,arguments)}},57615:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.sortApplicationsList=t.getAppDisplayName=t.getUrl=t.isInstalled=t.getStoreInstallationURL=t.getStoreURL=void 0;var a=n(r(10464)),o=n(r(58156)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var r=c(e,{slug:"store"});if(!r)return null;var n=r.links&&r.links.related;return n?"".concat(n,"#/discover/").concat(t.slug):null};t.getStoreURL=i,t.getStoreInstallationURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(e,t);return r?"".concat(r,"/install"):null};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.slug===t.slug})};t.isInstalled=c,t.getUrl=function(e){return e.links&&e.links.related},t.getAppDisplayName=function(e,t){var r=(0,o.default)(e,"name_prefix"),n=(0,o.default)(e,"name"),a=(0,o.default)(e,["locales",t,"name"],n),i=(0,o.default)(e,["locales",t,"name_prefix"],r);return i&&"cozy"!==i.toLowerCase()&&"twake"!==i.toLowerCase()?"".concat(i," ").concat(a):a},t.sortApplicationsList=function(e,t){return(0,a.default)(e).sort(function(e,r){var n=t.indexOf(e.slug);-1===n&&(n=1e3);var a=t.indexOf(r.slug);return -1===a&&(a=1e3),n-a})}},65864:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasExtensionInstalledAttribute=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(11071);n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,c.Q)("io.cozy.settings").getById("io.cozy.settings.bitwarden"),options:{as:"io.cozy.settings/io.cozy.settings.bitwarden",singleDocData:!0}});case 3:return r=e.sent.data.extension_installed,e.abrupt("return",!!r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasExtensionInstalledAttribute=function(e){return n.apply(this,arguments)}},98750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMagicLink=t.isOIDC=void 0,t.isOIDC=function(e){var t;return null!=(t=e.capabilities.can_auth_with_oidc)&&t},t.isMagicLink=function(e){var t;return null!=(t=e.capabilities.can_auth_with_magic_links)&&t}},62878:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.updateIndexFullNameAndDisplayName=t.getFormattedAddress=t.cleanFormattedAddress=t.isContact=t.getIndexByFamilyNameGivenNameEmailCozyUrl=t.getDefaultSortIndexValue=t.makeDefaultSortIndexValue=t.getDisplayName=t.makeDisplayName=t.getFullname=t.makeFullname=t.getPrimaryAddress=t.getPrimaryPhone=t.getPrimaryCozyDomain=t.getPrimaryCozy=t.getPrimaryEmail=t.getInitials=t.getPrimaryOrFirst=t.CONTACTS_DOCTYPE=void 0;var a=n(r(76729)),o=n(r(58156)),i=n(r(62193)),c=n(r(95527));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l="io.cozy.contacts";t.CONTACTS_DOCTYPE=l;var d=function(e){return function(t){return t&&t[e]&&0!==t[e].length&&t[e][0]?t[e].find(function(e){return e.primary})||t[e][0]:""}};t.getPrimaryOrFirst=d,t.getInitials=function(e){if(null!=e&&null!=(t=e.name)&&t.givenName||null!=e&&null!=(r=e.name)&&r.familyName)return["givenName","familyName"].map(function(t){return(0,o.default)(e,["name",t,0],"")}).join("").toUpperCase();var t,r,n=f(e);if(n)return n[0].toUpperCase();var a=h(e);return a?a[0].toUpperCase():""};var f=function(e){return Array.isArray(e.email)?d("email")(e).address||"":e.email};t.getPrimaryEmail=f;var p=function(e){return Array.isArray(e.cozy)?d("cozy")(e).url||"":e.url};t.getPrimaryCozy=p;var h=function(e){try{return new URL(p(e)).hostname.replace(/^(www.)/g,"")}catch(t){return p(e)}};t.getPrimaryCozyDomain=h,t.getPrimaryPhone=function(e){return d("phone")(e).number||""},t.getPrimaryAddress=function(e){return d("address")(e).formattedAddress||""};var m=["namePrefix","givenName","additionalName","familyName","nameSuffix"],v=function(e,t){var r=(null==t?void 0:t.attributesFullname)||m;return e.name?r.map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():""};t.makeFullname=v,t.getFullname=function(e){return(0,o.default)(e,"fullname")?e.fullname:v(e)};var y=function(e,t){var r=v(e,t),n=f(e),a=h(e);return r&&r.length>0?r:n&&n.length>0?n:a&&a.length>0?a:""};t.makeDisplayName=y,t.getDisplayName=function(e){return(0,o.default)(e,"displayName")?e.displayName:y(e)};var b=function(e){var t=[(0,o.default)(e,"name.familyName",""),(0,o.default)(e,"name.givenName",""),f(e),h(e)].join("").trim().toLowerCase();return 0===t.length?null:t};t.makeDefaultSortIndexValue=b;var g=function(e){var t=(0,o.default)(e,"indexes.byFamilyNameGivenNameEmailCozyUrl",null);return null!==t?(0,i.default)(t)?null:t:b(e)};t.getDefaultSortIndexValue=g,t.getIndexByFamilyNameGivenNameEmailCozyUrl=function(e){return c.default.warn("Deprecation: `getIndexByFamilyNameGivenNameEmailCozyUrl` is deprecated, please use `getDefaultSortIndexValue` instead"),g(e)},t.isContact=function(e){return e._type===l};var _=function(e){var t=e.replace(/\s+/g," ").replace(/\s,/g,"").trim();return t.lastIndexOf(",")===t.length-1&&(t=t.slice(0,t.length-1)),0===t.indexOf(",")&&(t=t.slice(1)),t};t.cleanFormattedAddress=_,t.getFormattedAddress=function(e,t){return e&&e.formattedAddress?e.formattedAddress:_(t("formatted.address",{number:e.number||"",street:e.street||"",code:e.postcode||"",city:e.city||"",region:e.region||"",country:e.country||""}))},t.updateIndexFullNameAndDisplayName=function(e){return s(s({},e),{},{fullname:v(e),displayName:y(e),indexes:{byFamilyNameGivenNameEmailCozyUrl:b(e)}})}},40889:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiByCountry=t.getAllNationalities=t.getNationalityByCodeISO=t.getAllCountryNames=t.getCountryNameByCodeISO=t.getAllCountries=t.checkCountryCode=t.isCountryCodeAlpha2=t.isCountryCodeAlpha3=t.isValidCountryCodeTranslation=t.COUNTRIES_ISO=void 0;var a=n(r(10464)),o=r(56675),i=n(r(95527)),c=[{code2:"AF",code3:"AFG",number:"004"},{code2:"AL",code3:"ALB",number:"008"},{code2:"DZ",code3:"DZA",number:"012"},{code2:"AD",code3:"AND",number:"020"},{code2:"AO",code3:"AGO",number:"024"},{code2:"AG",code3:"ATG",number:"028"},{code2:"AR",code3:"ARG",number:"032"},{code2:"AM",code3:"ARM",number:"051"},{code2:"AU",code3:"AUS",number:"036"},{code2:"AT",code3:"AUT",number:"040"},{code2:"AZ",code3:"AZE",number:"031"},{code2:"BS",code3:"BHS",number:"044"},{code2:"BH",code3:"BHR",number:"048"},{code2:"BD",code3:"BGD",number:"050"},{code2:"BB",code3:"BRB",number:"052"},{code2:"BY",code3:"BLR",number:"112"},{code2:"BE",code3:"BEL",number:"056"},{code2:"BZ",code3:"BLZ",number:"084"},{code2:"BJ",code3:"BEN",number:"204"},{code2:"BM",code3:"BMU",number:"060"},{code2:"BT",code3:"BTN",number:"064"},{code2:"BO",code3:"BOL",number:"068"},{code2:"BQ",code3:"BES",number:"535"},{code2:"BA",code3:"BIH",number:"070"},{code2:"BW",code3:"BWA",number:"072"},{code2:"BV",code3:"BVT",number:"074"},{code2:"BR",code3:"BRA",number:"076"},{code2:"IO",code3:"IOT",number:"086"},{code2:"BN",code3:"BRN",number:"096"},{code2:"BG",code3:"BGR",number:"100"},{code2:"BF",code3:"BFA",number:"854"},{code2:"BI",code3:"BDI",number:"108"},{code2:"CV",code3:"CPV",number:"132"},{code2:"KH",code3:"KHM",number:"116"},{code2:"CM",code3:"CMR",number:"120"},{code2:"CA",code3:"CAN",number:"124"},{code2:"KY",code3:"CYM",number:"136"},{code2:"CF",code3:"CAF",number:"140"},{code2:"TD",code3:"TCD",number:"148"},{code2:"CL",code3:"CHL",number:"152"},{code2:"CN",code3:"CHN",number:"156"},{code2:"CX",code3:"CXR",number:"162"},{code2:"CC",code3:"CCK",number:"166"},{code2:"CO",code3:"COL",number:"170"},{code2:"KM",code3:"COM",number:"174"},{code2:"CD",code3:"COD",number:"180"},{code2:"CG",code3:"COG",number:"178"},{code2:"CK",code3:"COK",number:"184"},{code2:"CR",code3:"CRI",number:"188"},{code2:"HR",code3:"HRV",number:"191"},{code2:"CU",code3:"CUB",number:"192"},{code2:"CW",code3:"CUW",number:"531"},{code2:"CY",code3:"CYP",number:"196"},{code2:"CZ",code3:"CZE",number:"203"},{code2:"CI",code3:"CIV",number:"384"},{code2:"DK",code3:"DNK",number:"208"},{code2:"DJ",code3:"DJI",number:"262"},{code2:"DM",code3:"DMA",number:"212"},{code2:"DO",code3:"DOM",number:"214"},{code2:"EC",code3:"ECU",number:"218"},{code2:"EG",code3:"EGY",number:"818"},{code2:"SV",code3:"SLV",number:"222"},{code2:"GQ",code3:"GNQ",number:"226"},{code2:"ER",code3:"ERI",number:"232"},{code2:"EE",code3:"EST",number:"233"},{code2:"SZ",code3:"SWZ",number:"748"},{code2:"ET",code3:"ETH",number:"231"},{code2:"FK",code3:"FLK",number:"238"},{code2:"FO",code3:"FRO",number:"234"},{code2:"FJ",code3:"FJI",number:"242"},{code2:"FI",code3:"FIN",number:"246"},{code2:"FR",code3:"FRA",number:"250"},{code2:"GF",code3:"GUF",number:"254"},{code2:"PF",code3:"PYF",number:"258"},{code2:"TF",code3:"ATF",number:"260"},{code2:"GA",code3:"GAB",number:"266"},{code2:"GM",code3:"GMB",number:"270"},{code2:"GE",code3:"GEO",number:"268"},{code2:"DE",code3:"DEU",number:"276"},{code2:"GH",code3:"GHA",number:"288"},{code2:"GI",code3:"GIB",number:"292"},{code2:"GR",code3:"GRC",number:"300"},{code2:"GL",code3:"GRL",number:"304"},{code2:"GD",code3:"GRD",number:"308"},{code2:"GP",code3:"GLP",number:"312"},{code2:"GU",code3:"GUM",number:"316"},{code2:"GT",code3:"GTM",number:"320"},{code2:"GG",code3:"GGY",number:"831"},{code2:"GN",code3:"GIN",number:"324"},{code2:"GW",code3:"GNB",number:"624"},{code2:"GY",code3:"GUY",number:"328"},{code2:"HT",code3:"HTI",number:"332"},{code2:"HM",code3:"HMD",number:"334"},{code2:"VA",code3:"VAT",number:"336"},{code2:"HN",code3:"HND",number:"340"},{code2:"HK",code3:"HKG",number:"344"},{code2:"HU",code3:"HUN",number:"348"},{code2:"IS",code3:"ISL",number:"352"},{code2:"IN",code3:"IND",number:"356"},{code2:"ID",code3:"IDN",number:"360"},{code2:"IR",code3:"IRN",number:"364"},{code2:"IQ",code3:"IRQ",number:"368"},{code2:"IE",code3:"IRL",number:"372"},{code2:"IM",code3:"IMN",number:"833"},{code2:"IL",code3:"ISR",number:"376"},{code2:"IT",code3:"ITA",number:"380"},{code2:"JM",code3:"JAM",number:"388"},{code2:"JP",code3:"JPN",number:"392"},{code2:"JE",code3:"JEY",number:"832"},{code2:"JO",code3:"JOR",number:"400"},{code2:"KZ",code3:"KAZ",number:"398"},{code2:"KE",code3:"KEN",number:"404"},{code2:"KI",code3:"KIR",number:"296"},{code2:"KP",code3:"PRK",number:"408"},{code2:"KR",code3:"KOR",number:"410"},{code2:"KW",code3:"KWT",number:"414"},{code2:"KG",code3:"KGZ",number:"417"},{code2:"LA",code3:"LAO",number:"418"},{code2:"LV",code3:"LVA",number:"428"},{code2:"LB",code3:"LBN",number:"422"},{code2:"LS",code3:"LSO",number:"426"},{code2:"LR",code3:"LBR",number:"430"},{code2:"LY",code3:"LBY",number:"434"},{code2:"LI",code3:"LIE",number:"438"},{code2:"LT",code3:"LTU",number:"440"},{code2:"LU",code3:"LUX",number:"442"},{code2:"MO",code3:"MAC",number:"446"},{code2:"MG",code3:"MDG",number:"450"},{code2:"MW",code3:"MWI",number:"454"},{code2:"MY",code3:"MYS",number:"458"},{code2:"MV",code3:"MDV",number:"462"},{code2:"ML",code3:"MLI",number:"466"},{code2:"MT",code3:"MLT",number:"470"},{code2:"MH",code3:"MHL",number:"584"},{code2:"MQ",code3:"MTQ",number:"474"},{code2:"MR",code3:"MRT",number:"478"},{code2:"MU",code3:"MUS",number:"480"},{code2:"YT",code3:"MYT",number:"175"},{code2:"MX",code3:"MEX",number:"484"},{code2:"FM",code3:"FSM",number:"583"},{code2:"MD",code3:"MDA",number:"498"},{code2:"MC",code3:"MCO",number:"492"},{code2:"MN",code3:"MNG",number:"496"},{code2:"ME",code3:"MNE",number:"499"},{code2:"MS",code3:"MSR",number:"500"},{code2:"MA",code3:"MAR",number:"504"},{code2:"MZ",code3:"MOZ",number:"508"},{code2:"MM",code3:"MMR",number:"104"},{code2:"NA",code3:"NAM",number:"516"},{code2:"NR",code3:"NRU",number:"520"},{code2:"NP",code3:"NPL",number:"524"},{code2:"NL",code3:"NLD",number:"528"},{code2:"NC",code3:"NCL",number:"540"},{code2:"NZ",code3:"NZL",number:"554"},{code2:"NI",code3:"NIC",number:"558"},{code2:"NE",code3:"NER",number:"562"},{code2:"NG",code3:"NGA",number:"566"},{code2:"NU",code3:"NIU",number:"570"},{code2:"NF",code3:"NFK",number:"574"},{code2:"MP",code3:"MNP",number:"580"},{code2:"NO",code3:"NOR",number:"578"},{code2:"OM",code3:"OMN",number:"512"},{code2:"PK",code3:"PAK",number:"586"},{code2:"PW",code3:"PLW",number:"585"},{code2:"PS",code3:"PSE",number:"275"},{code2:"PA",code3:"PAN",number:"591"},{code2:"PG",code3:"PNG",number:"598"},{code2:"PY",code3:"PRY",number:"600"},{code2:"PE",code3:"PER",number:"604"},{code2:"PH",code3:"PHL",number:"608"},{code2:"PN",code3:"PCN",number:"612"},{code2:"PL",code3:"POL",number:"616"},{code2:"PT",code3:"PRT",number:"620"},{code2:"PR",code3:"PRI",number:"630"},{code2:"QA",code3:"QAT",number:"634"},{code2:"MK",code3:"MKD",number:"807"},{code2:"RO",code3:"ROU",number:"642"},{code2:"RU",code3:"RUS",number:"643"},{code2:"RW",code3:"RWA",number:"646"},{code2:"RE",code3:"REU",number:"638"},{code2:"BL",code3:"BLM",number:"652"},{code2:"SH",code3:"SHN",number:"654"},{code2:"KN",code3:"KNA",number:"659"},{code2:"LC",code3:"LCA",number:"662"},{code2:"MF",code3:"MAF",number:"663"},{code2:"PM",code3:"SPM",number:"666"},{code2:"VC",code3:"VCT",number:"670"},{code2:"WS",code3:"WSM",number:"882"},{code2:"SM",code3:"SMR",number:"674"},{code2:"ST",code3:"STP",number:"678"},{code2:"SA",code3:"SAU",number:"682"},{code2:"SN",code3:"SEN",number:"686"},{code2:"RS",code3:"SRB",number:"688"},{code2:"SC",code3:"SYC",number:"690"},{code2:"SL",code3:"SLE",number:"694"},{code2:"SG",code3:"SGP",number:"702"},{code2:"SX",code3:"SXM",number:"534"},{code2:"SK",code3:"SVK",number:"703"},{code2:"SI",code3:"SVN",number:"705"},{code2:"SB",code3:"SLB",number:"090"},{code2:"SO",code3:"SOM",number:"706"},{code2:"ZA",code3:"ZAF",number:"710"},{code2:"GS",code3:"SGS",number:"239"},{code2:"SS",code3:"SSD",number:"728"},{code2:"ES",code3:"ESP",number:"724"},{code2:"LK",code3:"LKA",number:"144"},{code2:"SD",code3:"SDN",number:"729"},{code2:"SR",code3:"SUR",number:"740"},{code2:"SJ",code3:"SJM",number:"744"},{code2:"SE",code3:"SWE",number:"752"},{code2:"CH",code3:"CHE",number:"756"},{code2:"SY",code3:"SYR",number:"760"},{code2:"TW",code3:"TWN",number:"158"},{code2:"TJ",code3:"TJK",number:"762"},{code2:"TZ",code3:"TZA",number:"834"},{code2:"TH",code3:"THA",number:"764"},{code2:"TL",code3:"TLS",number:"626"},{code2:"TG",code3:"TGO",number:"768"},{code2:"TK",code3:"TKL",number:"772"},{code2:"TO",code3:"TON",number:"776"},{code2:"TT",code3:"TTO",number:"780"},{code2:"TN",code3:"TUN",number:"788"},{code2:"TR",code3:"TUR",number:"792"},{code2:"TM",code3:"TKM",number:"795"},{code2:"TC",code3:"TCA",number:"796"},{code2:"TV",code3:"TUV",number:"798"},{code2:"UG",code3:"UGA",number:"800"},{code2:"UA",code3:"UKR",number:"804"},{code2:"AE",code3:"ARE",number:"784"},{code2:"GB",code3:"GBR",number:"826"},{code2:"UM",code3:"UMI",number:"581"},{code2:"US",code3:"USA",number:"840"},{code2:"UY",code3:"URY",number:"858"},{code2:"UZ",code3:"UZB",number:"860"},{code2:"VU",code3:"VUT",number:"548"},{code2:"VE",code3:"VEN",number:"862"},{code2:"VN",code3:"VNM",number:"704"},{code2:"VG",code3:"VGB",number:"092"},{code2:"VI",code3:"VIR",number:"850"},{code2:"WF",code3:"WLF",number:"876"},{code2:"EH",code3:"ESH",number:"732"},{code2:"YE",code3:"YEM",number:"887"},{code2:"ZM",code3:"ZMB",number:"894"},{code2:"ZW",code3:"ZWE",number:"716"},{code2:"AX",code3:"ALA",number:"248"}];t.COUNTRIES_ISO=c,t.isValidCountryCodeTranslation=function(e,t){var r=(0,o.getLocalizer)(e).polyglot;return s(t)&&r.has("nationalities.".concat(t))&&r.has("countries.".concat(t))};var u=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code3===t})};t.isCountryCodeAlpha3=u;var s=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code2===t})};t.isCountryCodeAlpha2=s,t.checkCountryCode=function(e){return s(e)||u(e)};var l=function(e){var t=(0,o.getLocalizer)(e).t;return c.map(function(e){return{code2:e.code2,code3:e.code3,number:e.number,name:t("countries.".concat(e.code2)),nationality:t("nationalities.".concat(e.code2))}})};t.getAllCountries=l;var d=function(e){return function(t){var r,n=null==e||null==(r=e.toString())?void 0:r.toUpperCase();return/^[A-Z]{2,3}$/.test(n)?t.code2===n||t.code3===n:!!/^\d+$/.test(n)&&t.number===n}};t.getCountryNameByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},r=l(t.lang).find(d(e));return r?r.name:(i.default.warn("Country with code ".concat(e," not found")),null)},t.getAllCountryNames=function(e){return l(e).map(function(e){return e.name})},t.getNationalityByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},r=l(t.lang).find(d(e));return r?r.nationality:(i.default.warn("Nationality with code ".concat(e," not found")),null)},t.getAllNationalities=function(e){return l(e).map(function(e){return e.nationality})},t.getEmojiByCountry=function(e){if(!e)return null;if(!/^[a-z]{2}$/i.test(e))return i.default.error("Country argument must be an ISO 3166-1 alpha-2 string, but got '".concat(JSON.stringify(e),"' instead.")),null;if(!c.find(function(t){return t.code2===e.toUpperCase()}))return i.default.error("Country with code ".concat(e," not found in the list of countries")),null;var t=(0,a.default)(e.toUpperCase()).map(function(e){return e.codePointAt(0)+127397});return String.fromCodePoint.apply(String,(0,a.default)(t))}},56675:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=void 0;for(var a=n(r(68787)),o=n(r(5573)),i=n(r(85990)),c={en:o.default,fr:i.default},u={},s=0,l=["fr","en"];s<l.length;s++){var d=l[s],f=new a.default;f.extend(c[d]),u[d]=f}t.getLocalizer=function(e){var t=u[e]||u.en;return{t:t.t.bind(t),polyglot:t,lang:e}}},5013:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAggregatesFromDACC=t.buildAggregateParams=t.sendMeasureToDACC=t.checkMeasureParams=t.isCorrectDateFormat=void 0;var i=o(r(30592)),c=o(r(93889)),u=o(r(40918));o(r(6023));var s=function(e){try{return!!new Date(Date.parse(e)).toISOString().startsWith(e)}catch(e){return!1}};t.isCorrectDateFormat=s;var l=function(e){var t=e.createdBy,r=e.measureName,n=e.startDate,a=e.value,o=e.group1,i=e.group2,c=e.group3;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: createdBy");if(!r||"string"!=typeof r)throw Error("Missing or wrong type parameter: measureName");if(!n)throw Error("Missing parameter: startDate");if(!s(n))throw Error("Date should be in YYYY-MM-DD format");if("number"!=typeof a)throw Error("Missing or wrong type parameter: value");if(o&&("object"!=typeof o||0===Object.keys(o).length)||i&&("object"!=typeof i||0===Object.keys(i).length)||c&&("object"!=typeof c||0===Object.keys(c).length))throw Error("Groups should be key-value objects");if(c&&(!i||!o)||i&&!o)throw Error("Group order must be respected")};t.checkMeasureParams=l,n=(0,c.default)(i.default.mark(function e(t,r,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(n),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(r),{data:JSON.stringify(n),path:"measure"});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,u.default)("error","Error while sending measure to remote doctype: ".concat(e.t0.message)),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])})),t.sendMeasureToDACC=function(e,t,r){return n.apply(this,arguments)};var d=function(e){var t=e.measureName;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: measureName");var r=e.startDate||new Date(0).toISOString(),n=e.endDate||new Date(Date.now()).toISOString();if(!s(r)||!s(n))throw(0,u.default)("error","Date should be in YYYY-MM-DD format but received: startDate: ".concat(r," | endDate: ").concat(n)),Error("Date should be in YYYY-MM-DD format");return{measureName:t,startDate:r,endDate:n}};t.buildAggregateParams=d,a=(0,c.default)(i.default.mark(function e(t,r,n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d(n),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(r),{data:JSON.stringify(a),path:"aggregate"});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),(0,u.default)("error","Error while fetching aggregates to remote doctype: ".concat(e.t0.message)),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])})),t.fetchAggregatesFromDACC=function(e,t,r){return a.apply(this,arguments)}},25492:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.listAllDoctypes=void 0;var o=a(r(30592)),i=a(r(93889));a(r(6023)),n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.stackClient.fetchJSON("GET","/data/_all_doctypes");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),t.listAllDoctypes=function(e){return n.apply(this,arguments)}},75763:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconLabelPairs=t.THEME_OTHERS_LABELS=t.THEME_INVOICE_LABELS=t.THEME_FINANCE_LABELS=t.THEME_ACTIVITY_LABELS=t.THEME_TRANSPORT_LABELS=t.THEME_HOME_LABELS=t.THEME_HEALTH_LABELS=t.THEME_WORK_STUDY_LABELS=t.THEME_FAMILY_LABELS=t.THEME_IDENTITY_LABELS=void 0,t.THEME_IDENTITY_LABELS=["identity_photo","national_id_card","passport","residence_permit","electoral_card","family_record_book","birth_certificate","driver_license","citizen_registration_certificate","note_identity_document","other_identity_document"],t.THEME_FAMILY_LABELS=["family_record_book","birth_certificate","wedding","pacs","single_parent_benefit","divorce","large_family_card","caf","payment_proof_family_allowance","note_family_document","other_family_document","person_insurance"],t.THEME_WORK_STUDY_LABELS=["diploma","work_contract","pay_sheet","unemployment_benefit","employment_center_certificate","pension","work_disability_recognition","gradebook","student_card","school_attendance_certificate","school_insurance_certificate","resume","motivation_letter","expense_claim","note_work_document","other_work_document"],t.THEME_HEALTH_LABELS=["health_certificate","health_book","national_health_insurance_card","national_health_insurance_right_certificate","health_insurance_card","prescription","health_invoice","work_disability_recognition","pregnancy_medical_certificate","note_health_document","other_health_document"],t.THEME_HOME_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","other_invoice","work_invoice","house_sale_agreeement","building_permit","technical_diagnostic_record","unfit_for_habitation_declaration","lease","rent_receipt","accommodation_proof","house_insurance","work_quote","condition_report","note_house_document","other_house_document","real_estate_insurance"],t.THEME_TRANSPORT_LABELS=["driver_license","vehicle_registration","car_insurance","transport_card","mechanic_invoice","transport_invoice","note_transport_document","other_transport_document"],t.THEME_ACTIVITY_LABELS=["personal_sporting_licence","fidelity_card","note_activity_document","other_activity_document"],t.THEME_FINANCE_LABELS=["fine","tax_certificate","tax_return","tax_notice","tax_timetable","real_estate_tax","pay_sheet","receipt","single_parent_benefit","other_tax_document","bank_details","bank_statement","loan_agreement","payment_proof_family_allowance","note_finance","expense_claim","other_bank_document","other_revenue"],t.THEME_INVOICE_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","appliance_invoice","web_service_invoice","restaurant_invoice","work_invoice","transport_invoice","health_invoice","note_invoice","expense_claim","energy_contract","grocery_invoice","other_invoice"],t.THEME_OTHERS_LABELS=["other_administrative_document"],t.iconLabelPairs=[{icon:"bank-check",labels:["bank_details"]},{icon:"bank",labels:["other_administrative_document","other_tax_document","real_estate_tax","tax_certificate","tax_notice","tax_return","tax_timetable"]},{icon:"benefit",labels:["loan_agreement","other_revenue","pay_sheet","payment_proof_family_allowance","pension"]},{icon:"bill",labels:["other_invoice"]},{icon:"car",labels:["car_insurance","driver_license","other_transport_document","transport_card","transport_invoice","vehicle_registration"]},{icon:"child",labels:["birth_certificate"]},{icon:"email",labels:["receipt"]},{icon:"euro",labels:["other_bank_document"]},{icon:"exchange",labels:["bank_statement"]},{icon:"file-type-note",labels:["note_activity_document","note_family_document","note_finance","note_health_document","note_house_document","note_identity_document","note_invoice","note_transport_document","note_work_document"]},{icon:"fitness",labels:["other_activity_document","personal_sporting_licence"]},{icon:"globe",labels:["residence_permit"]},{icon:"gouv",labels:["electoral_card"]},{icon:"heart",labels:["health_book","health_certificate","health_insurance_card","health_invoice","national_health_insurance_card","national_health_insurance_right_certificate","other_health_document","person_insurance","pregnancy_medical_certificate","prescription"]},{icon:"home",labels:["accommodation_proof","building_permit","condition_report","house_insurance","house_sale_agreeement","lease","mechanic_invoice","other_house_document","real_estate_insurance","rent_receipt","technical_diagnostic_record","unfit_for_habitation_declaration","work_invoice","work_quote"]},{icon:"image",labels:["identity_photo"]},{icon:"justice",labels:["fine"]},{icon:"laudry",labels:["appliance_invoice"]},{icon:"lightning",labels:["energy_contract","energy_invoice"]},{icon:"people",labels:["national_id_card","other_identity_document","resume","work_disability_recognition"]},{icon:"plane",labels:["passport"]},{icon:"remboursement",labels:["expense_claim"]},{icon:"restaurant",labels:["restaurant_invoice"]},{icon:"school",labels:["diploma","gradebook"]},{icon:"shop",labels:["fidelity_card","grocery_invoice"]},{icon:"team",labels:["caf","citizen_registration_certificate","divorce","family_record_book","large_family_card","other_family_document","pacs","single_parent_benefit","wedding"]},{icon:"telecom",labels:["isp_invoice","telecom_invoice","web_service_invoice"]},{icon:"telephone",labels:["phone_invoice"]},{icon:"water",labels:["water_invoice"]},{icon:"work",labels:["employment_center_certificate","motivation_letter","other_work_document","school_attendance_certificate","school_insurance_certificate","student_card","unemployment_benefit","work_contract"]}]},53369:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themesList=void 0;var n=r(75763),a=r(36755),o=function(e){return e.map(function(e){try{return a.Qualification.getByLabel(e)}catch(e){return console.log("error",e),null}}).filter(function(e){return e})};t.themesList=[{id:"theme1",label:"identity",icon:"people",items:o(n.THEME_IDENTITY_LABELS),defaultItems:["birth_certificate"]},{id:"theme2",label:"family",icon:"team",items:o(n.THEME_FAMILY_LABELS),defaultItems:["family_record_book"]},{id:"theme3",label:"work_study",icon:"work",items:o(n.THEME_WORK_STUDY_LABELS)},{id:"theme4",label:"health",icon:"heart",items:o(n.THEME_HEALTH_LABELS)},{id:"theme5",label:"home",icon:"home",items:o(n.THEME_HOME_LABELS)},{id:"theme6",label:"transport",icon:"car",items:o(n.THEME_TRANSPORT_LABELS),defaultItems:["driver_license"]},{id:"theme7",label:"activity",icon:"chess",items:o(n.THEME_ACTIVITY_LABELS)},{id:"theme8",label:"finance",icon:"bank",items:o(n.THEME_FINANCE_LABELS)},{id:"theme9",label:"invoice",icon:"bill",items:o(n.THEME_INVOICE_LABELS)},{id:"theme10",label:"others",icon:"dots",items:o(n.THEME_OTHERS_LABELS)}]},71104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQualificationNote=t.getThemeByItem=void 0;var n=r(53369);t.getThemeByItem=function(e){var t=n.themesList.find(function(t){return t.defaultItems&&t.defaultItems.includes(e.label)});return t||n.themesList.find(function(t){return t.items.some(function(t){return t.label===e.label})})},t.isQualificationNote=function(e){return e.label.toLowerCase().startsWith("note_")}},162:function(e,t,r){"use strict";var n=r(78965);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Qualification",{enumerable:!0,get:function(){return a.Qualification}}),Object.defineProperty(t,"setQualification",{enumerable:!0,get:function(){return a.setQualification}}),Object.defineProperty(t,"getQualification",{enumerable:!0,get:function(){return a.getQualification}}),t.helpers=t.themes=t.locales=void 0;var a=r(36755);t.locales=n(r(73670)),t.themes=n(r(53369)),t.helpers=n(r(71104))},73670:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=t.getBoundT=void 0;var a=n(r(76729)),o=n(r(68787)),i=n(r(87834)),c=n(r(71153)),u=r(40889);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}for(var d={en:i.default,fr:c.default},f={},p=0,h=["fr","en"];p<h.length;p++){var m=h[p],v=new o.default;v.extend(d[m]),f[m]=v}t.getBoundT=function(e){var t=y(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(l({},r),{},{smart_count:(null==r?void 0:r.smart_count)||1}),a=null==r?void 0:r.country,o="foreign"!==a?(0,u.getEmojiByCountry)(a):null,i="foreign"===a?t("country.foreign"):null;return o||i?"".concat(t(e,n)," ").concat(o||i):t(e,n)}};var y=function(e){var t=f[e]||f.en;return t.t.bind(t)};t.getLocalizer=y},36755:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasSupportedQualification=t.isSupportedQualification=t.getIconByLabel=t.getQualification=t.setQualification=t.Qualification=void 0;var o=a(r(76729)),i=a(r(92115)),c=a(r(47783)),u=a(r(63560)),s=a(r(66245)),l=n(r(81722)),d=a(r(95527)),f=r(75763);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,e);var n=l.qualifications.find(function(e){return e.label===t});if(n){this.icon=r.icon||y(t),this.label=n.label;var a=r.purpose||n.purpose;a&&(this.purpose=a);var o=r.sourceCategory||n.sourceCategory;o&&(this.sourceCategory=o);var c=r.sourceSubCategory||n.sourceSubCategory;c&&(this.sourceSubCategory=c);var u=r.subjects||n.subjects;u&&(this.subjects=u)}else throw Error("No qualification found for the label ".concat(t))}return(0,c.default)(e,[{key:"checkAttributes",value:function(e){if(this.purpose!==e.purpose)if(this.purpose)throw Error("The purpose for the label ".concat(this.label," should be ").concat(this.purpose,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.purposeKnownValues.includes(e.purpose)||d.default.info("This purpose is not listed among the known values: ".concat(e.purpose,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceCategory!==e.sourceCategory)if(this.sourceCategory)throw Error("The sourceCategory for the label ".concat(this.label," should be ").concat(this.sourceCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceCategoryKnownValues.includes(e.sourceCategory)||d.default.info("This sourceCategory is not listed among the known values: ".concat(e.sourceCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceSubCategory!==e.sourceSubCategory)if(this.sourceSubCategory)throw Error("The sourceSubCategory for the label ".concat(this.label," should be ").concat(this.sourceSubCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceSubCategoryKnownValues.includes(e.sourceSubCategory)||d.default.info("This sourceSubCategory is not listed among the known values: ".concat(e.sourceSubCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if((0,s.default)(this.subjects,e.subjects).length>0)throw Error("The subjects for the label ".concat(this.label," should include ").concat(this.subjects,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");var t=(0,s.default)(e.subjects,this.subjects);if(t.length>0){var r=(0,s.default)(t,l.subjectsKnownValues);r.length>0&&d.default.info("These subjects are not listed among the known values: ".concat(r,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues")}}},{key:"setPurpose",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{purpose:t}))}},{key:"setSourceCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceCategory:t}))}},{key:"setSourceSubCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceSubCategory:t}))}},{key:"setSubjects",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{subjects:t}))}},{key:"setIcon",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{icon:t}))}},{key:"toQualification",value:function(){return{icon:this.icon,label:this.label,purpose:this.purpose,sourceCategory:this.sourceCategory,sourceSubCategory:this.sourceSubCategory,subjects:this.subjects}}}]),e}();t.Qualification=v,v.getByLabel=function(e){return new v(e)},t.setQualification=function(e,t){if(t.label){var r=t;return new v(t.label).checkAttributes(t),t.icon||(r=new v(t.label,t).setIcon(y(t.label))),(0,u.default)(e,"metadata.qualification",r)}throw Error("You must set a label to qualify")},t.getQualification=function(e){var t,r=null==e||null==(t=e.metadata)?void 0:t.qualification;return r?new v(r.label,r.qualification).toQualification():null};var y=function(e){var t,r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(f.iconLabelPairs);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.labels.includes(e))return n.icon}}catch(e){r.e(e)}finally{r.f()}return d.default.info("The ".concat(e," qualification does not seem to have an icon.\n    Please open an issue on https://github.com/cozy/cozy-client/issues")),""};t.getIconByLabel=y;var b=function(e){return l.qualifications.some(function(t){return t.label===e})};t.isSupportedQualification=b,t.hasSupportedQualification=function(e){var t,r;return b(null==e||null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label)}},39046:function(e,t,r){"use strict";var n,a,o,i,c,u,s,l,d,f=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=function(e){var t=e._id||e.id;return C({_id:t,id:t,_type:e._type||O.DOCTYPE_FILES},e)},t.ensureFilePath=function(e,t){if(e.path)return e;if(!t||!t.path)throw Error("Could not define a file path for ".concat(e._id||e.id));return C({path:t.path+"/"+e.name},e)},t.getParentFolderId=function(e){var t=(0,y.default)(e,"attributes.dir_id");return""===t?null:t},t.downloadFile=t.copy=t.fetchBlobFileById=t.isFromKonnector=t.hasCertifications=t.hasQualifications=t.isPlainText=t.uploadFileWithConflictStrategy=t.generateFileNameForRevision=t.generateNewFileNameOnConflict=t.overrideFileForPath=t.move=t.getFullpath=t.hasMetadataAttribute=t.fetchFilesByQualificationRules=t.saveFileQualification=t.isSharingShorcutNew=t.isSharingShortcutNew=t.isSharingShorcut=t.isSharingShortcut=t.getSharingShortcutTargetDoctype=t.getSharingShortcutTargetMime=t.getSharingShortcutStatus=t.isShortcut=t.shouldBeOpenedByOnlyOffice=t.isOnlyOfficeFile=t.isEncryptedFileOrFolder=t.isEncryptedFolder=t.getEncryptiondRef=t.isEncrypted=t.isDocs=t.isNote=t.isDirectory=t.isFile=t.splitFilename=t.ALBUMS_DOCTYPE=void 0;var p=f(r(30592)),h=f(r(93889)),m=f(r(76729)),v=r(7127),y=f(r(58156)),b=f(r(85015)),g=f(r(61448)),_=f(r(31521)),w=r(36755),k=r(11071),O=r(148);f(r(6023));var x=f(r(95527));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S="file";t.ALBUMS_DOCTYPE="io.cozy.photos.albums";var A=/(.+)(\..*)$/,P=function(e){if(!(0,b.default)(e.name))throw Error("file should have a name property");if("file"===e.type){var t=e.name.match(A);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}};t.splitFilename=P;var M=function(e){return e&&e.type===S};t.isFile=M,t.isDirectory=function(e){return e&&"directory"===e.type};var j=function(e){return!!(e&&e.name&&e.name.endsWith(".cozy-note"))&&e.type===S&&!!e.metadata&&void 0!==e.metadata.title&&void 0!==e.metadata.version};t.isNote=j,t.isDocs=function(e){var t,r;return(null==e||null==(t=e.name)?void 0:t.endsWith(".docs-note"))&&!!(null!=e&&null!=(r=e.metadata)&&r.externalId)};var D=function(e){return!!e.encrypted};t.isEncrypted=D;var T=function(e){return(0,y.default)(e,"referenced_by",[]).find(function(e){return e.type===O.DOCTYPE_FILES_ENCRYPTION})};t.getEncryptiondRef=T;var I=function(e){return!!T(e)};t.isEncryptedFolder=I,t.isEncryptedFileOrFolder=function(e){return I(e)||D(e)};var R=function(e){return M(e)&&!j(e)&&("text"===e.class||"spreadsheet"===e.class||"slide"===e.class)};t.isOnlyOfficeFile=R,t.shouldBeOpenedByOnlyOffice=function(e){return R(e)&&!e.name.endsWith(".txt")&&!e.name.endsWith(".md")},t.isShortcut=function(e){return e&&"shortcut"===e.class};var N=function(e){return(0,y.default)(e,"metadata.sharing.status")};t.getSharingShortcutStatus=N,t.getSharingShortcutTargetMime=function(e){return(0,y.default)(e,"metadata.target.mime")},t.getSharingShortcutTargetDoctype=function(e){return(0,y.default)(e,"metadata.target._type")};var L=function(e){return!!N(e)};t.isSharingShortcut=L,t.isSharingShorcut=function(e){return x.default.warn("Deprecation: `isSharingShorcut` is deprecated, please use `isSharingShortcut` instead"),L(e)};var F=function(e){return"new"===N(e)};t.isSharingShortcutNew=F,t.isSharingShorcutNew=function(e){return x.default.warn("Deprecation: `isSharingShorcutNew` is deprecated, please use `isSharingShortcutNew` instead"),F(e)},n=(0,h.default)(p.default.mark(function e(t,r,n){var a,o,i=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(i.length>3&&void 0!==i[3]?i[3]:{}).driveId,o=(0,w.setQualification)(r,n),e.abrupt("return",t.collection(O.DOCTYPE_FILES,{driveId:a}).updateMetadataAttribute(r._id,o.metadata));case 3:case"end":return e.stop()}},e)})),t.saveFileQualification=function(e,t,r){return n.apply(this,arguments)},a=(0,h.default)(p.default.mark(function e(t,r){var n,a,o,i;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rules,a=r.count,o=(0,k.Q)(O.DOCTYPE_FILES).where(C({},n)).partialIndex({trashed:!1}).indexFields(["cozyMetadata.updatedAt","metadata.qualification"]).sortBy([{"cozyMetadata.updatedAt":"desc"}]).limitBy(a||1),e.next=4,t.query(o);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)})),t.fetchFilesByQualificationRules=function(e,t){return a.apply(this,arguments)},t.hasMetadataAttribute=function(e){var t=e.file,r=e.attribute;return(0,g.default)(t,"metadata.".concat(r))};var B=(o=(0,h.default)(p.default.mark(function e(t,r,n){var a,o;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw Error("You must provide a dirId");case 2:return e.next=4,t.query((0,k.Q)(O.DOCTYPE_FILES).getById(r));case 4:return a=e.sent.data,o=(0,_.default)(a.path,"/"),e.abrupt("return","".concat(o,"/").concat(n));case 8:case"end":return e.stop()}},e)})),function(e,t,r){return o.apply(this,arguments)});t.getFullpath=B,i=(0,h.default)(p.default.mark(function e(t,r,n){var a,o,i,c,u,s,l,d,f,h=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=void 0!==(o=(a=h.length>3&&void 0!==h[3]?h[3]:{}).force)&&o,c=a.driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==r._type){e.next=10;break}if("io.cozy.remote.nextcloud.files"!==n._type){e.next=7;break}return e.next=6,t.collection("io.cozy.remote.nextcloud.files").move(r,n);case 6:case 9:case 13:return e.abrupt("return",{moved:void 0,deleted:null});case 7:return e.next=9,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(r,n);case 10:if("io.cozy.remote.nextcloud.files"!==n._type){e.next=14;break}return e.next=13,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(n,r);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return u=t.collection(O.DOCTYPE_FILES,{driveId:c}),e.prev=20,e.next=23,u.updateFileMetadata(r._id,{dir_id:n._id});case 23:return s=e.sent,e.abrupt("return",{moved:s.data,deleted:null});case 27:if(e.prev=27,e.t1=e.catch(20),!(409===e.t1.status&&i)){e.next=44;break}return e.next=32,B(t,n._id,r.name);case 32:return l=e.sent,e.next=35,u.statByPath(l);case 35:return d=e.sent,e.next=38,u.destroy(d.data);case 38:return e.next=40,u.updateFileMetadata(r._id,{dir_id:n._id});case 40:return f=e.sent,e.abrupt("return",{moved:f.data,deleted:d.data.id});case 44:throw e.t1;case 45:case"end":return e.stop()}},e,null,[[1,16],[20,27]])})),t.move=function(e,t,r){return i.apply(this,arguments)},c=(0,h.default)(p.default.mark(function e(t,r,n,a){var o,i,c,u,s,l,d,f,h,m=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(m.length>4&&void 0!==m[4]?m[4]:{}).driveId,(i=r).endsWith("/")||(i+="/"),c=t.collection(O.DOCTYPE_FILES,{driveId:o}),e.prev=4,e.next=7,c.statByPath(i+n.name);case 7:return s=(u=e.sent.data).id,l=u.dir_id,e.next=11,c.updateFile(n,{dirId:l,fileId:s,metadata:a});case 11:return d=e.sent,e.abrupt("return",d);case 15:if(e.prev=15,e.t0=e.catch(4),!/Not Found/.test(e.t0)){e.next=25;break}return e.next=20,c.ensureDirectoryExists(i);case 20:return f=e.sent,e.next=23,c.createFile(n,{dirId:f,metadata:a});case 23:return h=e.sent,e.abrupt("return",h);case 25:throw e.t0;case 26:case"end":return e.stop()}},e,null,[[4,15]])})),t.overrideFileForPath=function(e,t,r,n){return c.apply(this,arguments)};var z=function(e,t){var r=(null==t?void 0:t.delimiter)||"_",n=new RegExp("(".concat(r,")([0-9]+)$")),a=e.match(n);if(!a)return"".concat(e).concat(r,"1");var o=parseInt(a[2]);return o++,e.replace(new RegExp("(".concat(r,")([0-9]+)$")),"".concat(r).concat(o))};t.generateNewFileNameOnConflict=z,t.generateFileNameForRevision=function(e,t,r){var n=P(e),a=n.filename,o=n.extension;return"".concat(a,"_").concat(r(t.updated_at,"DD MMMM - HH[h]mm")).concat(o)};var H=(u=(0,h.default)(p.default.mark(function e(t,r,n){var a,o,i,c,u,s,l,d,f,h,m,v,y;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,o=n.dirId,i=n.conflictStrategy,c=n.conflictOptions,u=n.driveId,s=t.collection(O.DOCTYPE_FILES,{driveId:u}),e.prev=2,e.next=5,B(t,o,a);case 5:return l=e.sent,e.next=8,s.statByPath(l);case 8:if(d=e.sent.data.id,"erase"!==i){e.next=17;break}return e.next=13,s.updateFile(r,C(C({},n),{},{fileId:d}));case 13:return f=e.sent,e.abrupt("return",f);case 17:return m=(h=P({name:a,type:"file"})).filename,v=h.extension,y=z(m,c)+v,e.abrupt("return",H(t,r,C(C({},n),{},{name:y})));case 20:e.next=27;break;case 22:if(e.prev=22,e.t0=e.catch(2),!/Not Found/.test(e.t0.message)){e.next=26;break}return e.abrupt("return",s.createFile(r,n));case 26:throw e.t0;case 27:case"end":return e.stop()}},e,null,[[2,22]])})),function(e,t,r){return u.apply(this,arguments)});t.uploadFileWithConflictStrategy=H,t.isPlainText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?/^text\//.test(e):/\.(txt|md)$/.test(t)},t.hasQualifications=function(e){return!!(0,y.default)(e,"metadata.qualification")},t.hasCertifications=function(e){return(0,y.default)(e,"metadata.carbonCopy",!1)||(0,y.default)(e,"metadata.electronicSafe",!1)},t.isFromKonnector=function(e){return(0,g.default)(e,"cozyMetadata.sourceAccount")},s=(0,h.default)(p.default.mark(function e(t,r){var n,a,o,i,c=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(c.length>2&&void 0!==c[2]?c[2]:{}).driveId,a=t.collection(O.DOCTYPE_FILES,{driveId:n}),e.next=4,a.fetchFileContentById(r);case 4:return o=e.sent,e.next=7,o.blob();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}},e)})),t.fetchBlobFileById=function(e,t){return s.apply(this,arguments)},l=(0,h.default)(p.default.mark(function e(t,r,n){var a,o,i,c,u,s=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(s.length>3&&void 0!==s[3]?s[3]:{}).driveId,e.prev=1,"io.cozy.remote.nextcloud.files"!==r._type||"io.cozy.remote.nextcloud.files"!==n._type){e.next=7;break}return e.next=5,t.collection("io.cozy.remote.nextcloud.files").copy(r,n);case 5:return o=e.sent,e.abrupt("return",o);case 7:if("io.cozy.remote.nextcloud.files"!==r._type||"io.cozy.files"!==n._type){e.next=12;break}return e.next=10,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(r,n,{copy:!0});case 10:return i=e.sent,e.abrupt("return",i);case 12:if("io.cozy.remote.nextcloud.files"!==n._type){e.next=17;break}return e.next=15,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(n,r,{copy:!0});case 15:return c=e.sent,e.abrupt("return",c);case 17:return e.next=19,t.collection(O.DOCTYPE_FILES,{driveId:a}).copy(r._id,void 0,n._id);case 19:return u=e.sent,e.abrupt("return",u);case 23:throw e.prev=23,e.t0=e.catch(1),e.t0;case 26:case"end":return e.stop()}},e,null,[[1,23]])})),t.copy=function(e,t,r){return l.apply(this,arguments)},d=(0,h.default)(p.default.mark(function e(t){var r,n,a,o,i,c,u;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.file,a=t.url,o=t.webviewIntent,i=t.driveId,c=r.collection(O.DOCTYPE_FILES,{driveId:i}),!((0,v.isFlagshipApp)()&&o&&!D(n))){e.next=19;break}return e.next=5,null==o?void 0:o.call("isAvailable","downloadFile");case 5:if(e.t1=u=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==u;case 9:if(!e.t0){e.next=13;break}e.t2=u,e.next=14;break;case 13:e.t2=!1;case 14:if(!e.t2){e.next=19;break}return e.next=18,o.call("downloadFile",n);case 18:return e.abrupt("return",e.sent);case 19:if(!D(n)){e.next=21;break}return e.abrupt("return",c.forceFileDownload(a,n.name));case 21:return e.abrupt("return",c.download(n));case 22:case"end":return e.stop()}},e)})),t.downloadFile=function(e){return d.apply(this,arguments)}},3260:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedFolder=t.createFolderWithReference=t.ensureMagicFolder=t.MAGIC_FOLDERS=void 0;var c=i(r(30592)),u=i(r(93889)),s=i(r(33031));i(r(6023));var l=r(148),d=r(11071),f="io.cozy.apps",p="administrative",h="photos",m={ADMINISTRATIVE:"".concat(f,"/").concat(p),PHOTOS:"".concat(f,"/").concat(h),PHOTOS_BACKUP:"".concat(f,"/").concat(h,"/mobile"),PHOTOS_UPLOAD:"".concat(f,"/").concat(h,"/upload"),NOTES:"".concat(f,"/notes"),HOME:"".concat(f,"/home"),PAPERS:"".concat(f,"/").concat(p,"/papers"),COACH_CO2:"".concat(f,"/").concat(p,"/coachco2")};t.MAGIC_FOLDERS=m,n=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={_type:f,_id:r},e.next=3,y(t,a);case 3:if(!(o=e.sent)){e.next=6;break}return e.abrupt("return",o);case 6:if((i=Object.values(m)).includes(r)){e.next=9;break}throw Error("Cannot create Magic folder with id ".concat(r,". Allowed values are ").concat(i.join(", "),"."));case 9:if(n){e.next=11;break}throw Error("Magic folder default path must be defined");case 11:return e.abrupt("return",v(t,n,a));case 12:case"end":return e.stop()}},e)})),t.ensureMagicFolder=function(e,t,r){return n.apply(this,arguments)};var v=(a=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(l.DOCTYPE_FILES),e.next=3,a.ensureDirectoryExists(r);case 3:return o=e.sent,e.next=6,a.addReferencesTo(n,[{_id:o}]);case 6:return e.next=8,a.get(o);case 8:return i=e.sent.data,e.abrupt("return",i);case 11:case"end":return e.stop()}},e)})),function(e,t,r){return a.apply(this,arguments)});t.createFolderWithReference=v;var y=(o=(0,u.default)(c.default.mark(function e(t,r){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,d.Q)(l.DOCTYPE_FILES).partialIndex({type:"directory",trashed:!1}).referencedBy(r));case 2:return n=e.sent.included,e.abrupt("return",n.length>0?(0,s.default)(n,"created_at").pop():null);case 5:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)});t.getReferencedFolder=y},8435:function(e,t){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.deltaLatitude=t.deltaLongitude=t.computeSphericalCenter=t.geodesicDistance=t.computeSpeed=void 0,t.computeSpeed=function(e,t){return e&&t?Math.round(e/t*100)/100:0};var n=function(e){return e*Math.PI/180},a=function(e){return 180*e/Math.PI},o=function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r};t.geodesicDistance=function(e,t){if((null==e?void 0:e.lon)===void 0||(null==e?void 0:e.lat)===void 0||(null==t?void 0:t.lon)===void 0||(null==t?void 0:t.lat)===void 0)return null;var r=n(e.lon),a=n(e.lat),i=n(t.lon),c=n(t.lat);return o(6378137*(2*Math.asin(Math.sqrt(Math.pow(Math.sin((c-a)/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin((i-r)/2),2)))),2)},t.computeSphericalCenter=function(e){if(e.length<1)return null;if(1===e.length)return e[0];var t,i=0,c=0,u=0,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,c=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(u)throw i}}}}(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,d=n(l.lon),f=n(l.lat),p=Math.cos(f)*Math.cos(d),h=Math.cos(f)*Math.sin(d),m=Math.sin(f);i+=p,c+=h,u+=m}}catch(e){s.e(e)}finally{s.f()}var v=i/e.length,y=c/e.length,b=u/e.length,g=a(Math.atan2(y,v));return{lat:o(a(Math.atan2(b,Math.sqrt(v*v+y*y))),13),lon:o(g,13)}},t.deltaLongitude=function(e,t){return o(a(t/(6378137*Math.cos(n(e)))),13)},t.deltaLatitude=function(e){return o(e/(40075e3/360),13)}},78690:function(e,t,r){"use strict";var n=r(78965);Object.defineProperty(t,"__esModule",{value:!0}),t.doctypes=t.geo=t.user=t.paper=t.dacc=t.sharing=t.timeseries=t.document=t.contact=t.utils=t.permission=t.note=t.account=t.konnectorFolder=t.folder=t.file=t.applications=t.instance=t.trigger=t.accounts=t.triggers=void 0;var a=n(r(22902));t.trigger=a,t.instance=n(r(40543)),t.applications=n(r(57615)),t.file=n(r(39046)),t.folder=n(r(3260)),t.konnectorFolder=n(r(93841));var o=n(r(47881));t.account=o,t.note=n(r(73544)),t.permission=n(r(395)),t.utils=n(r(93923)),t.contact=n(r(62878)),t.document=n(r(162)),t.timeseries=n(r(66224)),t.sharing=n(r(50134)),t.dacc=n(r(5013)),t.paper=n(r(95948)),t.user=n(r(90799)),t.geo=n(r(8435)),t.doctypes=n(r(25492)),t.triggers=a,t.accounts=o},40543:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDiskInfos=t.hasPasswordDefinedAttribute=t.buildPremiumLink=t.hasAnOffer=t.shouldDisplayOffers=t.getUuid=t.isFreemiumUser=t.arePremiumLinksEnabled=t.isSelfHosted=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(58156)),u=r(11071),s=function(e){return!(0,c.default)(e,"context.data.manager_url")};t.isSelfHosted=s;var l=function(e){return!!(0,c.default)(e,"context.data.enable_premium_links")};t.arePremiumLinksEnabled=l;var d=function(e){return 5e10>=parseInt((0,c.default)(e,"diskUsage.data.quota",!1))};t.isFreemiumUser=d;var f=function(e){return(0,c.default)(e,"instance.data.uuid")};t.getUuid=f,t.shouldDisplayOffers=function(e){return!s(e)&&l(e)&&f(e)&&d(e)},t.hasAnOffer=function(e){return!s(e)&&l(e)&&f(e)&&!d(e)},t.buildPremiumLink=function(e){var t=(0,c.default)(e,"context.data.manager_url",!1),r=f(e);return t&&r?"".concat(t,"/cozy/instances/").concat(r,"/premium"):null},n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,u.Q)("io.cozy.settings").getById("io.cozy.settings.instance"),options:{as:"io.cozy.settings/io.cozy.settings.instance",singleDocData:!0}});case 3:return r=e.sent.data.password_defined,e.abrupt("return",!!r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasPasswordDefinedAttribute=function(e){return n.apply(this,arguments)};var p=function(e){return 1e-9*e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e%1?e.toFixed(t):e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return{diskQuota:p(t),diskUsage:p(e),percentUsage:e/t*100}};t.makeDiskInfos=function(e,t){var r=m(+e,t?+t:void 0),n=r.diskQuota,a=r.diskUsage,o=r.percentUsage;return{humanDiskQuota:h(n),humanDiskUsage:h(a),percentUsage:Math.round(o).toString()}}},93841:function(e,t,r){"use strict";var n,a,o,i,c,u,s,l=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.findKonnectorAccountFolderByReference=t.buildFolderPermission=t.buildMainFolderPath=t.buildFolderPath=t.statDirectoryByPath=t.createDirectoryByPath=t.ensureKonnectorFolder=void 0;var d=l(r(30592)),f=l(r(13135)),p=l(r(93889)),h=r(3260);l(r(6023));var m=r(47881),v=r(73670),y=r(11071),b="io.cozy.files";n=(0,p.default)(d.default.mark(function e(t,r){var n,a,o,i,c,u,s,l,p,y,b,O,x,E,C;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.konnector,a=r.account,o=r.lang,i=t.collection("io.cozy.permissions"),c=(0,v.getLocalizer)(o),e.next=5,Promise.all([(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.ADMINISTRATIVE,c("MagicFolders.administrative")),(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.PHOTOS,c("MagicFolders.photos"))]);case 5:return u=e.sent,l=(s=(0,f.default)(u,2))[0],p=s[1],y=(0,m.getAccountName)(a),e.next=12,R({client:t,slug:n.slug,sourceAccountIdentifier:y});case 12:if(!(b=e.sent)){e.next=15;break}return e.abrupt("return",b);case 15:return e.next=17,N({client:t,slug:n.slug});case 17:if(!(O=e.sent)){e.next=22;break}return e.next=21,function(e){return L.apply(this,arguments)}({client:t,mainFolder:O,konnector:n,sourceAccountIdentifier:y});case 21:return e.abrupt("return",e.sent);case 22:return x=k(n,{administrative:l.path,photos:p.path}),e.next=25,_(t,x);case 25:if(e.t0=e.sent,e.t0){e.next=30;break}return e.next=29,g(t,x);case 29:e.t0=e.sent;case 30:return T({client:t,folder:e.t0,konnector:n}),E=w(n,a,{administrative:l.path,photos:p.path}),e.next=35,_(t,E);case 35:if(e.t1=e.sent,e.t1){e.next=40;break}return e.next=39,g(t,E);case 39:e.t1=e.sent;case 40:return C=e.t1,e.next=43,Promise.all([i.add(n,P(C)),T({client:t,folder:C,konnector:n}),I({client:t,folder:C,sourceAccountIdentifier:y})]);case 43:return e.abrupt("return",C);case 44:case"end":return e.stop()}},e)})),t.ensureKonnectorFolder=function(e,t){return n.apply(this,arguments)};var g=(a=(0,p.default)(d.default.mark(function e(t,r){var n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(b).createDirectoryByPath(r);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.createDirectoryByPath=g;var _=(o=(0,p.default)(d.default.mark(function e(t,r){var n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection(b).statByPath(r);case 3:if(!(n=e.sent).data.trashed){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0&&404===e.t0.status)){e.next=13;break}return e.abrupt("return",null);case 13:throw Error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return o.apply(this,arguments)});t.statDirectoryByPath=_;var w=function(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=M(((null==e||null==(r=e.folders)||null==(n=r[0])?void 0:n.defaultDir)||"$administrative/$konnector/$account").replace(/(\/+)/g,"/"),"/");O(o)||(o="$administrative/"+o);var i=o.split("/",1),c=E(o,i[0]),u=C(i[0],a),s=S(c,{konnector:e.name,account:(0,m.getAccountName)(t).replace(A,"-")});return"/".concat(u,"/").concat(s)};t.buildFolderPath=w;var k=function(e){var t,r,n,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=M(((null==e||null==(t=e.folders)||null==(r=t[0])||null==(n=r.defaultDir)||null==(a=n.split("/"))||null==(o=a.slice(0,-1))?void 0:o.join("/"))||"$administrative/$konnector").replace(/(\/+)/g,"/"),"/");O(c)||(c="$administrative/"+c);var u=c.split("/",1),s=E(c,u[0]),l=C(u[0],i),d=S(s,{konnector:e.name});return"/".concat(l,"/").concat(d)};t.buildMainFolderPath=k;var O=function(e){return x.some(function(t){return e.startsWith(t)})},x=["$administrative","$photos"],E=function(e,t){var r=e.substring(t.length);return""===r&&(r="$konnector/$account"),r},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M((t[e.slice(1)]||"Administrative").replace(/(\/+)/g,"/"),"/")},S=function(e,t){return M(e.replace(/(\/+)/g,"/"),"/").split("/").map(function(e){return(null==t?void 0:t[e.slice(1)])||e}).join("/")},A=/\//g,P=function(e){return{saveFolder:{type:b,values:[e._id],verbs:["GET","PATCH","POST"]}}};t.buildFolderPermission=P;var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return e.replace(new RegExp("^([".concat(t,"]*)(.*?)([").concat(t,"]*)$")),"$2")},j=function(e,t){var r;return!!(null==(r=e.referenced_by)?void 0:r.find(function(e){return"io.cozy.konnectors"===e.type&&e.id==="io.cozy.konnectors/"+t}))},D=function(e,t){var r;return!!(null==(r=e.referenced_by)?void 0:r.find(function(e){return"io.cozy.accounts.sourceAccountIdentifier"===e.type&&(!t||e.id===t)}))},T=(i=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.folder,a=t.konnector,o=r.collection(b),j(n,a.slug)){e.next=5;break}return e.next=5,o.addReferencesTo(a,[n]);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),I=(c=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.folder,a=t.sourceAccountIdentifier,o=r.collection(b),D(n,a)){e.next=5;break}return e.next=5,o.addReferencesTo({_id:a,_type:"io.cozy.accounts.sourceAccountIdentifier"},[n]);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),R=(u=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.slug,a=t.sourceAccountIdentifier,e.next=3,r.query((0,y.Q)(b).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(n)}));case 3:return o=e.sent.included,e.abrupt("return",o.find(function(e){return D(e,a)}));case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});t.findKonnectorAccountFolderByReference=R;var N=(s=(0,p.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.slug,e.next=3,r.query((0,y.Q)(b).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(n)}));case 3:return a=e.sent.included,e.abrupt("return",a.find(function(e){return!D(e)}));case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});function L(){return(L=(0,p.default)(d.default.mark(function e(t){var r,n,a,o,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.mainFolder,a=t.konnector,o=t.sourceAccountIdentifier,i=n.path+"/"+o,e.next=4,_(r,i);case 4:if(e.t0=e.sent,e.t0){e.next=9;break}return e.next=8,g(r,i);case 8:e.t0=e.sent;case 9:return c=e.t0,e.next=12,T({client:r,folder:c,konnector:a});case 12:return e.next=14,I({client:r,folder:c,sourceAccountIdentifier:o});case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},23721:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeCategories=h,t.areTermsValid=m,t.isPartnershipValid=v,t.sanitize=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return!e.categories&&e.category&&"string"==typeof e.category&&(t.categories=[e.category],delete t.category),t.categories=h(t.categories),"object"==typeof e.name&&(t.name=e.name.en),e.available_version&&(t.availableVersion=e.available_version,delete t.available_version),e.latest_version&&(t.latestVersion=e.latestVersion,delete t.latest_version),t.terms&&!m(t.terms)&&delete t.terms,t.partnership&&!v(t.partnership)&&delete t.partnership,t.fields&&(t.fields=b(e.fields)),t},t.getIdentifier=t.sanitizeIdentifier=t.legacyLoginFields=t.ROLE_IDENTIFIER=void 0;var a=n(r(76729)),o=n(r(49870)),i=n(r(88055)),c=n(r(20826));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var l="identifier";t.ROLE_IDENTIFIER=l;var d=["login","identifier","new_identifier","email"];t.legacyLoginFields=d;var f=["secret","dob","code","answer","access_token","refresh_token","appSecret"],p=["banking","cozy","energy","health","host_provider","insurance","isp","mes_infos","online_services","others","partners","press","productivity","ptnb","public_service","shopping","social","telecom","transport"];function h(e){if(!e)return["others"];var t=e.filter(function(e){return p.includes(e)});return t.length?t:["others"]}function m(e){return!!(e&&e.id&&e.url&&e.version)}function v(e){return!!(e&&e.description)}var y=function(e){var t=(0,i.default)(e),r=!1;for(var n in t)t[n].role===l&&(r?delete t[n].role:r=!0);if(r)return t;var a,o=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(d);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(t[c])return t[c].role=l,t}}catch(e){o.e(e)}finally{o.f()}for(var s in t)if("password"!==t[s].type){t[s].role=l;break}return t};t.sanitizeIdentifier=y,t.getIdentifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.default)(y(e),function(e){return e.role===l})||null};var b=(0,o.default)([function(e){var t=(0,i.default)(e);return delete t.advancedFields,t},y,function(e){var t=(0,i.default)(e);for(var r in t){var n=t[r],a=void 0===n.required?n.isRequired:n.required;t[r].required="boolean"!=typeof a||a}return t},function(e){var t=(0,i.default)(e);for(var r in t){var n=t[r];"boolean"!=typeof n.encrypted&&(n.encrypted="password"===n.type||f.includes(r))}return t}])},73544:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchURL=t.generateUrlForNote=t.generatePrivateUrl=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(88237),u=a(r(95527)),s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.returnUrl,a=new URL(e);return n&&a.searchParams.set("returnUrl",n),a.hash="#/n/".concat(t.id),a.toString()};t.generatePrivateUrl=s,t.generateUrlForNote=function(e,t){return u.default.warn("generateUrlForNote is deprecated. Please use models.note.generatePrivateUrl instead"),s(e,t)},n=(0,i.default)(o.default.mark(function e(t,r){var n,a,i,u,s,l,d,f,p,h,m,v=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>2&&void 0!==v[2]?v[2]:{},e.next=3,t.getStackClient().collection("io.cozy.notes",{driveId:n.driveId}).fetchURL({_id:r.id});case 3:if(i=(a=e.sent.data).note_id,u=a.subdomain,s=a.protocol,l=a.instance,d=a.sharecode,f=a.public_name,!d){e.next=18;break}return(h=[["id",i]]).push(["sharecode",d]),f&&h.push(["username",f]),e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(s,"://").concat(l),searchParams:h,pathname:null!=(p=n.pathname)?p:"/public/",slug:"notes",subDomainType:u}));case 18:return e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(s,"://").concat(l),pathname:null!=(m=n.pathname)?m:"",slug:"notes",subDomainType:u,hash:"/n/".concat(i)}));case 19:case"end":return e.stop()}},e)})),t.fetchURL=function(e,t){return n.apply(this,arguments)}},95948:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isForeignPaper=t.makeExpirationDescription=t.makeExpiresInMessage=t.makeExpiredMessage=t.formatContactValue=t.getTranslatedNameForContact=t.formatOtherMetadataValue=t.getTranslatedNameForOtherMetadata=t.formatInformationMetadataValue=t.getTranslatedNameForInformationMetadata=t.formatDateMetadataValue=t.getTranslatedNameForDateMetadata=t.getMetadataQualificationType=t.formatMetadataQualification=t.makeMetadataQualification=t.isExpiringSoon=t.isExpired=t.computeExpirationNoticeLink=t.computeExpirationNoticeDate=t.computeExpirationDate=t.isExpiring=t.KNOWN_BILLS_ATTRIBUTES_NAMES=t.KNOWN_OTHER_METADATA_NAMES=t.KNOWN_INFORMATION_METADATA_NAMES=t.KNOWN_DATE_METADATA_NAMES=void 0;var a=n(r(10464)),o=n(r(93165)),i=n(r(57870)),c=n(r(36013)),u=n(r(30520)),s=r(73670),l=r(56675),d=r(62878),f=n(r(58156)),p=r(40889),h={national_id_card:"https://www.service-public.fr/particuliers/vosdroits/N358",residence_permit:"https://www.service-public.fr/particuliers/vosdroits/N110",passport:"https://www.service-public.fr/particuliers/vosdroits/N360",driver_license:"https://permisdeconduire.ants.gouv.fr/demarches-en-ligne/perte-vol-deterioration-fin-de-validite-ou-changement-d-etat-civil"},m=["AObtentionDate","BObtentionDate","CObtentionDate","DObtentionDate","obtentionDate","expirationDate","referencedDate","issueDate","shootingDate","date","datetime"];t.KNOWN_DATE_METADATA_NAMES=m;var v=["number","bicNumber","country","refTaxIncome","contractType","netSocialAmount","employerName","vehicle.licenseNumber","vehicle.confidentialNumber","noticePeriod"];t.KNOWN_INFORMATION_METADATA_NAMES=v;var y=["contact","page","qualification"];t.KNOWN_OTHER_METADATA_NAMES=y;var b=["amount","subtype","employer"];t.KNOWN_BILLS_ATTRIBUTES_NAMES=b;var g=function(e){var t,r,n,a,o,i=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label,c=null==(n=e.metadata)?void 0:n.country,u=null==(a=e.metadata)?void 0:a.expirationDate,s=null==(o=e.metadata)?void 0:o.noticePeriod;return"national_id_card"===i&&(!c||"fr"===c)&&!!u&&!!s},_=function(e){var t,r,n=null==(t=e.metadata)?void 0:t.expirationDate,a=null==(r=e.metadata)?void 0:r.noticePeriod;return!!n&&!!a},w=function(e){var t,r,n,a=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label,o=null==(n=e.metadata)?void 0:n.referencedDate,i=e.created_at;return"personal_sporting_licence"===a&&(!!o||!!i)};t.isExpiring=function(e){return!!(g(e)||_(e)||w(e))};var k=function(e){if(g(e)||_(e)){var t;return new Date(null==(t=e.metadata)?void 0:t.expirationDate)}if(w(e)){var r,n=null==(r=e.metadata)?void 0:r.referencedDate,a=e.created_at;return(0,o.default)(new Date(null!=n?n:a),{days:365})}return null};t.computeExpirationDate=k;var O=function(e){if(g(e)||_(e)){var t;return parseInt(null==(t=e.metadata)?void 0:t.noticePeriod,10)}return w(e)?15:null},x=function(e){var t=k(e);if(null==t)return null;var r=O(e);return null==r?null:(0,i.default)(t,{days:r})};t.computeExpirationNoticeDate=x,t.computeExpirationNoticeLink=function(e){var t,r,n=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label;return n&&h[n]||null},t.isExpired=function(e){var t=new Date,r=k(e);return null!=r&&r<=t},t.isExpiringSoon=function(e){var t=new Date,r=k(e),n=x(e);return null!=r&&null!=n&&n<=t&&t<r};var E=function(e){var t=e.metadata,r=e.knownMetadataPath,n=e.value||(0,f.default)(t,r,null)||null;return Object.keys(t).some(function(e){return r.startsWith(e)})||"contact"===r?{name:r,value:n}:null};t.makeMetadataQualification=E,t.formatMetadataQualification=function(e){var t=m.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean).filter(function(e,t,r){return r.length>1?"datetime"!==e.name:e}),r=v.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean),n=y.map(function(t){var r,n="qualification"===t?null==(r=e[t])?void 0:r.label:e[t];return E({metadata:e,knownMetadataPath:t,value:n})}).filter(Boolean);return[].concat((0,a.default)(t),(0,a.default)(r),(0,a.default)(n))},t.getMetadataQualificationType=function(e){return m.includes(e)?"date":v.includes(e)?"information":y.includes(e)?"contact"===e?"contact":"other":b.includes(e)?"bills":null},t.getTranslatedNameForDateMetadata=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.qualification.date.title.".concat(e))},t.formatDateMetadataValue=function(e,t){var r=t.lang,n=t.f,a=(0,s.getLocalizer)(r);return e?n(e,"en"===r?"LL/dd/yyyy":"dd/LL/yyyy"):a("Scan.qualification.noInfo")},t.getTranslatedNameForInformationMetadata=function(e,t){var r=t.lang,n=t.qualificationLabel,a=(0,s.getLocalizer)(r);return a("number"===e?"Scan.qualification.information.title.".concat(n,".").concat(e):"Scan.qualification.information.title.".concat(e))},t.formatInformationMetadataValue=function(e,t){var r=t.lang,n=t.name,a=t.qualificationLabel,o=(0,s.getLocalizer)(r),i=(0,l.getLocalizer)(r).t;return"number"==typeof e||e?"noticePeriod"===n?"".concat(e," ").concat(o("Scan.qualification.information.day",{smart_count:e})):"contractType"===n?o("Scan.attributes.contractType.".concat(e),{_:e}):"refTaxIncome"===n||"netSocialAmount"===n||"amount"===n||"number"===n&&"pay_sheet"===a?"".concat(e," €"):"country"===n&&(0,p.isValidCountryCodeTranslation)(r,e)?i("countries.".concat(e)):e:o("Scan.qualification.noInfo")},t.getTranslatedNameForOtherMetadata=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.qualification.".concat(e))},t.formatOtherMetadataValue=function(e,t){var r=t.lang,n=t.name,a=(0,s.getLocalizer)(r);return"qualification"===n?a("Scan.items.".concat(e),{smart_count:1}):a("Scan.qualification.".concat(e))},t.getTranslatedNameForContact=function(e){var t=e.lang;return(0,s.getLocalizer)(t)("Scan.qualification.contact")},t.formatContactValue=function(e){return e&&e.length>0?e.map(function(e){return"".concat((0,d.getDisplayName)(e))}).join(", "):""},t.makeExpiredMessage=function(e){var t=e.lang;return(0,s.getLocalizer)(t)("Scan.expiration.expired")},t.makeExpiresInMessage=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.expiration.expiresIn",{duration:(0,c.default)(new Date(e),{locale:"fr"===r?u.default:void 0})})},t.makeExpirationDescription=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.expiration.description",{duration:(0,c.default)(new Date(e),{locale:"fr"===r?u.default:void 0})})},t.isForeignPaper=function(e){var t;return null!=(t=e.metadata)&&!!t.country&&"fr"!==e.metadata.country.toLowerCase()}},395:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnly=v,t.fetchOwn=y,t.isForType=g,t.isDocumentReadOnly=function(e){return w.apply(this,arguments)},t.isShortcutCreatedOnTheRecipientCozy=void 0;var a=n(r(76729)),o=n(r(30592)),i=n(r(93889)),c=n(r(10464)),u=n(r(5287)),s=n(r(58156));n(r(6023));var l=r(11071),d=r(39046),f=r(148),p=n(r(95527));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.writability;return e.verbs&&e.verbs.length>0&&0===(0,u.default)(e.verbs,["ALL"].concat((0,c.default)(void 0===r?["PATCH","POST","PUT","DELETE"]:r))).length}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,i.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.collection("io.cozy.permissions"),e.next=3,r.fetchOwnPermissions();case 3:if(n=e.sent,a=(0,s.default)(n,"data.attributes.permissions")){e.next=7;break}throw"Can't get self permissions";case 7:return e.abrupt("return",Object.values(a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){return e.type===t||e.type+".*"===t}function _(){return(_=(0,i.default)(o.default.mark(function e(t){var r,n,a,c,u,s,p,h,v,b,_;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_=function(){return(_=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.doc,n=t.client,!(i=(a=t.perms).find(function(e){if(!e.values)return!0;var t=r[e.selector||"id"];return e.values.includes(t)}))){e.next=6;break}return e.abrupt("return",i);case 6:if(u!==f.DOCTYPE_FILES){e.next=16;break}if(e.t0=c=(0,d.getParentFolderId)(r),!e.t0){e.next=13;break}return e.next=12,h(c);case 12:e.t0=e.sent;case 13:if(!(s=e.t0)){e.next=16;break}return e.abrupt("return",b({doc:s,perms:a,client:n}));case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)},b=function(e){return _.apply(this,arguments)},v=function(){return(v=(0,i.default)(o.default.mark(function e(t){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.Q)(f.DOCTYPE_FILES).getById(t),e.next=3,n.query(r);case 3:return a=e.sent,e.abrupt("return",a&&a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return v.apply(this,arguments)},r=t.document,n=t.client,a=t.permissions,c=r._id||r.id,u=r._type||r.type,s=m(m({},r),{},{id:c,type:u}),!a){e.next=12;break}e.t0=a,e.next=15;break;case 12:return e.next=14,y(n);case 14:e.t0=e.sent;case 15:return p=e.t0.filter(function(e){return g(e,u)}),e.abrupt("return",b({doc:s,client:n,perms:p}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.document,n=t.client,a=t.writability,void 0!==(i=t.permissions)){e.next=10;break}return e.next=7,y(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i;case 11:if(!((c=e.t0).length<=1)){e.next=16;break}e.t1=c[0],e.next=19;break;case 16:return e.next=18,function(e){return _.apply(this,arguments)}({document:r,client:n,permissions:c});case 18:e.t1=e.sent;case 19:if(!(u=e.t1)){e.next=24;break}return e.abrupt("return",v(u,{writability:a}));case 24:return p.default.warn("can't find the document in current attached permissions"),e.abrupt("return",void 0);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.isShortcutCreatedOnTheRecipientCozy=function(e){if(!e.included)return!1;var t=e.included.find(function(e){return"io.cozy.sharings.members"===e.type});return!!t&&!!t.attributes.instance}},50134:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeSharingLink=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(93889)),u=r(148);a(r(6023));var s=r(88237);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}n=(0,c.default)(o.default.mark(function e(t,r){var n,a,i,c,l,f,p,h,m,v,y=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(i=y.length>2&&void 0!==y[2]?y[2]:{}).ttl,l=i.password,p=void 0===(f=i.verbs)?["GET"]:f,h=d(d({_type:u.DOCTYPE_PERMISSIONS,permissions:{files:{type:u.DOCTYPE_FILES,values:r,verbs:p}}},c&&{ttl:c}),l&&{password:l}),e.next=4,t.save(h);case 4:return m=e.sent.data,v=(0,s.generateWebLink)({cozyUrl:t.getStackClient().uri,searchParams:[["sharecode",null==m||null==(n=m.attributes)||null==(a=n.shortcodes)?void 0:a.code]],pathname:"/public",slug:"drive",subDomainType:t.capabilities.flat_subdomains?"flat":"nested"}),e.abrupt("return",v);case 8:case"end":return e.stop()}},e)})),t.makeSharingLink=function(e,t){return n.apply(this,arguments)}},66224:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTimeSeriesByIntervalAndSource=t.saveTimeSeries=void 0;var i=o(r(30592)),c=o(r(93889)),u=r(11071),s=function(e){if(!e.startDate||!e.endDate)throw Error("You must specify a startDate and endDate for the time serie");if(!Date.parse(e.startDate)||!Date.parse(e.endDate))throw Error("Invalid date format for the time serie");if(!e.dataType)throw Error("You must specify a dataType for the time serie");if(!e.series||!Array.isArray(e.series))throw Error("You must specify a series array for the time serie")};n=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,u,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.dataType,a=r.series,o=r.startDate,c=r.endDate,u=r.source,l=r.theme,s({dataType:n,series:a,startDate:o,endDate:c,source:u}),d={_type:"io.cozy.timeseries.".concat(n),startDate:o,endDate:c,source:u,theme:l,series:a},e.abrupt("return",t.save(d));case 5:case"end":return e.stop()}},e)})),t.saveTimeSeries=function(e,t){return n.apply(this,arguments)},a=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,s,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.startDate,a=r.endDate,o=r.dataType,c=r.source,s=r.limit,l="io.cozy.timeseries.".concat(o),d=(0,u.Q)(l).where({source:c,startDate:{$gte:n},endDate:{$lte:a}}).indexFields(["source","startDate","endDate"]).sortBy([{source:"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(s||5),e.abrupt("return",t.query(d));case 4:case"end":return e.stop()}},e)})),t.fetchTimeSeriesByIntervalAndSource=function(e,t){return a.apply(this,arguments)}},22902:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.triggers=t.triggerStates=void 0;var a=n(r(76729)),o=r(47881),i=n(r(95527));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=["CHALLENGE_ASKED","DISK_QUOTA_EXCEEDED","TERMS_VERSION_MISMATCH","USER_ACTION_NEEDED","USER_ACTION_NEEDED.CHANGE_PASSWORD","USER_ACTION_NEEDED.ACCOUNT_REMOVED","USER_ACTION_NEEDED.WEBAUTH_REQUIRED","USER_ACTION_NEEDED.SCA_REQUIRED","LOGIN_FAILED"],l={getLastExecution:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_execution},getLastSuccess:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_success},getLastsuccess:function(e){var t;return i.default.warn("Deprecated, please use getLastSuccess instead of getLastsuccess"),null==e||null==(t=e.current_state)?void 0:t.last_success},isErrored:function(e){var t;return(null==e||null==(t=e.current_state)?void 0:t.status)==="errored"},getLastErrorType:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_error}};t.triggerStates=l;var d={isKonnectorWorker:function(e){return"konnector"===e.worker},isKonnector:function(e){return"konnector"===e.worker||"client"===e.worker},getKonnector:function(e){return d.isKonnector(e)?e.message&&e.message.konnector?e.message.konnector:e.message&&e.message.Data?JSON.parse(atob(e.message.Data)).konnector:void 0:null},getAccountId:function(e){var t,r,n=null==e||null==(t=e.message)?void 0:t.Data;return n?JSON.parse(atob(n)).account:null==e||null==(r=e.message)?void 0:r.account},isLatestErrorMuted:function(e,t){var r=l.getLastErrorType(e),n=l.getLastSuccess(e),a=n?new Date(n):new Date;return(0,o.getMutedErrors)(t).some(function(e){return e.type===r&&(!n||new Date(e.mutedAt)>a)})},hasActionableError:function(e){var t;return s.includes(null==e||null==(t=e.current_state)?void 0:t.last_error)},buildTriggerAttributes:function(e){var t=e.account,r=e.cron,n=e.folder,a=e.konnector,o={account:t._id,konnector:a.slug};n&&(o.folder_to_save=n._id);var i=a.clientSide?{type:"@client"}:{type:"@cron",arguments:void 0===r?"0 0 0 * * 0":r};return u(u({},{worker:"konnector",message:o}),i)}};t.triggers=d},90799:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasPassword=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(40543),u=r(65864),s=r(98750);n=(0,i.default)(o.default.mark(function e(t){var r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.hasExtensionInstalledAttribute)(t);case 2:return r=e.sent,e.next=5,(0,c.hasPasswordDefinedAttribute)(t);case 5:return n=e.sent,e.abrupt("return",!((0,s.isMagicLink)(t)||(0,s.isOIDC)(t))||r||n);case 7:case"end":return e.stop()}},e)})),t.hasPassword=function(e){return n.apply(this,arguments)}},93923:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getFlagshipDownloadLink=t.getCreatedByApp=t.hasBeenUpdatedByApp=void 0;var a=n(r(58156)),o=r(7127),i=n(r(94619));t.hasBeenUpdatedByApp=function(e,t){var r=(0,a.default)(e,"cozyMetadata.updatedByApps");return!!(r&&r.find(function(e){return e.slug===t}))},t.getCreatedByApp=function(e){return(0,a.default)(e,"cozyMetadata.createdByApp")},t.getFlagshipDownloadLink=function(e){if((0,o.isAndroid)()){var t=(0,i.default)("flagship.playstore-id")||"io.cozy.flagship.mobile";return"https://play.google.com/store/apps/details?id=".concat(t,"&hl=").concat(e)}if((0,o.isIOS)()){var r=(0,i.default)("flagship.appstore-id")||"id1600636174";return"https://apps.apple.com/".concat(e,"/app/").concat(r)}return(0,i.default)("flagship.download-link")||"https://cozy.io/".concat(e,"/download")}},46728:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPerformanceApi=void 0,t.defaultPerformanceApi={measure:function(e){},mark:function(e){return e}}},10683:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.webPerformanceApi=void 0;var a=n(r(97200));t.webPerformanceApi={measure:function(e){var t=e.measureName,r=e.markName,n=e.category,a=e.color,o=null!=t?t:r;performance.measure(o,{start:r,detail:{devtools:{track:null!=n?n:"CozyClient",color:null!=a?a:"secondary"}}})},mark:function(e){var t="".concat((0,a.default)()," ").concat(e);return performance.mark(t),t}}},1769:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={olderThan:function(e){return function(t){return!t||!t.lastUpdate||Date.now()-t.lastUpdate>e}},noFetch:function(){return!1}}},27069:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));t.default=function(){var e;function t(){(0,i.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),(o=this.pending[n])?i=o:(i=t(),this.pending[n]=i),e.prev=3,e.next=6,i;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[n]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,r){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),r=this.pending[t];return r||null}}]),t}()},11071:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryDefinition=t.MutationTypes=t.Mutations=t.getDoctypeFromOperation=t.uploadFile=t.removeReferencedBy=t.addReferencedBy=t.removeReferencesTo=t.addReferencesTo=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocuments=t.createDocument=t.isAGetByIdQuery=t.Q=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(20826)),u=n(r(95527));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.doctype=t.doctype,this.id=t.id,this.ids=t.ids,this.selector=t.selector,this.fields=t.fields,this.indexedFields=t.indexedFields,this.partialFilter=t.partialFilter,this.sort=t.sort,this.includes=t.includes,this.referenced=t.referenced,this.limit=t.limit,this.skip=t.skip,this.cursor=t.cursor,this.bookmark=t.bookmark,this.sharingId=t.sharingId}return(0,i.default)(e,[{key:"checkSortOrder",value:function(e){var t=e.sort,r=e.selector,n=e.indexedFields,a=this.sort||t,o=this.selector||r||{},i=this.indexedFields||n;if(a){var c=i||Object.keys(o);if(c&&!(c.length<1)){if(a.length>c.length)return void u.default.warn("You should not sort on non-indexed fields.\n\n        Sort: ".concat(JSON.stringify(a),"\n\n        Indexed fields: ").concat(c));for(var s=0;s<a.length;s++)if(Object.keys(a[s])[0]!==c[s])return void u.default.warn("The sort order should be the same than the indexed fields.\n\n          Sort: ".concat(JSON.stringify(a),"\n\n          Indexed fields: ").concat(c,"\n"))}}}},{key:"checkSelector",value:function(e){(0,c.default)(e,["$exists",!1])&&u.default.warn('The "$exists: false" predicate should be defined as a partial index for better performance.\n\n        Selector: '.concat(JSON.stringify(e))),(0,c.default)(e,"$ne")&&u.default.info("The use of the $ne operator is more efficient with a partial index.\n\n        Selector: ".concat(JSON.stringify(e)));var t=(0,c.default)(e,function(e){return Array.isArray(e)});if(t&&!t.startsWith("$"))throw Error("You pass ".concat(JSON.stringify(e),", this is a valid mango operation, \n\n        but sift doesn't support it so CozyClient can not evaluate \n\n        the request in memory. You must use a MongoDB operator \n\n        like $in or $or operator instead, preferably in a partial index, \n\n        to avoid costly full-scan"))}},{key:"checkSelectFields",value:function(e){var t=e.fields,r=e.selector,n=e.partialFilter,a=this.fields||t,o=this.selector||r,i=this.partialFilter||n;if(a&&(o||i)&&!Object.keys(l(l({},o),i)).every(function(e){return a.includes(e)}))throw Error("The .select should includes all the fields used in where or partialIndex.\n        Please fix this query: fields: ".concat(JSON.stringify(this.toDefinition())))}},{key:"getById",value:function(t){if(!t)throw Error("getById called with undefined id");return new e(l(l({},this.toDefinition()),{},{id:t}))}},{key:"getByIds",value:function(t){return new e(l(l({},this.toDefinition()),{},{ids:t}))}},{key:"where",value:function(t){return this.checkSortOrder({selector:t}),this.checkSelector(t),this.checkSelectFields({selector:t}),new e(l(l({},this.toDefinition()),{},{selector:t}))}},{key:"select",value:function(t){return this.checkSelectFields({fields:t}),new e(l(l({},this.toDefinition()),{},{fields:t}))}},{key:"indexFields",value:function(t){return this.checkSortOrder({indexedFields:t}),new e(l(l({},this.toDefinition()),{},{indexedFields:t}))}},{key:"partialIndex",value:function(t){return this.checkSelectFields({partialFilter:t}),new e(l(l({},this.toDefinition()),{},{partialFilter:t}))}},{key:"sortBy",value:function(t){if(!Array.isArray(t))throw Error('Invalid sort, should be an array ([{ label: "desc"}, { name: "asc"}]), you passed '.concat(JSON.stringify(t),"."));return this.checkSortOrder({sort:t}),new e(l(l({},this.toDefinition()),{},{sort:t}))}},{key:"include",value:function(t){if(!Array.isArray(t))throw Error("include() takes an array of relationship names");return new e(l(l({},this.toDefinition()),{},{includes:t}))}},{key:"limitBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{limit:t}))}},{key:"UNSAFE_noLimit",value:function(){return new e(l(l({},this.toDefinition()),{},{limit:null}))}},{key:"offset",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,cursor:void 0,skip:t}))}},{key:"offsetCursor",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,skip:void 0,cursor:t}))}},{key:"offsetBookmark",value:function(t){return new e(l(l({},this.toDefinition()),{},{skip:void 0,cursor:void 0,bookmark:t}))}},{key:"referencedBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{referenced:t}))}},{key:"sharingById",value:function(t){return new e(l(l({},this.toDefinition()),{},{sharingId:t}))}},{key:"toDefinition",value:function(){return{doctype:this.doctype,id:this.id,ids:this.ids,selector:this.selector,fields:this.fields,indexedFields:this.indexedFields,partialFilter:this.partialFilter,sort:this.sort,includes:this.includes,referenced:this.referenced,limit:this.limit,skip:this.skip,cursor:this.cursor,bookmark:this.bookmark,sharingId:this.sharingId}}}]),e}();t.QueryDefinition=d,t.Q=function(e){return new d({doctype:e})},t.isAGetByIdQuery=function(e){if(!e)return!1;var t=Object.values(e);return 0!==t.length&&2===t.filter(function(e){return void 0!==e}).length&&void 0!==e.id};var f="CREATE_DOCUMENT",p="CREATE_DOCUMENTS",h="UPDATE_DOCUMENT",m="UPDATE_DOCUMENTS",v="DELETE_DOCUMENT",y="DELETE_DOCUMENTS",b="ADD_REFERENCES_TO",g="UPLOAD_FILE",_=function(e){return{mutationType:j.CREATE_DOCUMENT,document:e}};t.createDocument=_;var w=function(e){return{mutationType:j.CREATE_DOCUMENTS,documents:e}};t.createDocuments=w;var k=function(e){return{mutationType:j.UPDATE_DOCUMENT,document:e}};t.updateDocument=k;var O=function(e){return{mutationType:j.UPDATE_DOCUMENTS,documents:e}};t.updateDocuments=O;var x=function(e){return{mutationType:j.DELETE_DOCUMENT,document:e}};t.deleteDocument=x;var E=function(e){return{mutationType:j.DELETE_DOCUMENTS,documents:e}};t.deleteDocuments=E;var C=function(e,t){return{mutationType:j.ADD_REFERENCES_TO,referencedDocuments:t,document:e}};t.addReferencesTo=C;var S=function(e,t){return{mutationType:j.REMOVE_REFERENCES_TO,referencedDocuments:t,document:e}};t.removeReferencesTo=S;var A=function(e,t){return{mutationType:j.ADD_REFERENCED_BY,referencedDocuments:t,document:e}};t.addReferencedBy=A;var P=function(e,t){return{mutationType:j.REMOVE_REFERENCED_BY,referencedDocuments:t,document:e}};t.removeReferencedBy=P;var M=function(e,t){return{mutationType:j.UPLOAD_FILE,file:e,dirPath:t}};t.uploadFile=M,t.getDoctypeFromOperation=function(e){if(!e.mutationType)return e.doctype;var t=e.mutationType;switch(t){case f:return e.document._type;case p:return e.documents[0]._type;case h:return e.document._type;case m:return e.documents[0]._type;case v:return e.document._type;case y:return e.documents[0]._type;case b:case g:throw Error("Not implemented");default:throw Error("Unknown mutationType ".concat(t))}},t.Mutations={createDocument:_,createDocuments:w,updateDocument:k,updateDocuments:O,deleteDocument:x,deleteDocuments:E,addReferencesTo:C,removeReferencesTo:S,addReferencedBy:A,removeReferencedBy:P,uploadFile:M};var j={CREATE_DOCUMENT:f,CREATE_DOCUMENTS:p,UPDATE_DOCUMENT:h,UPDATE_DOCUMENTS:m,DELETE_DOCUMENT:v,DELETE_DOCUMENTS:y,ADD_REFERENCES_TO:b,REMOVE_REFERENCES_TO:"REMOVE_REFERENCES_TO",ADD_REFERENCED_BY:"ADD_REFERENCED_BY",REMOVE_REFERENCED_BY:"REMOVE_REFERENCED_BY",UPLOAD_FILE:g};t.MutationTypes=j},59165:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(73916)),o=n(r(94394)),i=n(r(35970)),c=n(r(2404)),u=n(r(63375)),s=n(r(9063)),l=r(11071),d=function(e){var t=(0,o.default)(e,function(e){return e.id||e.ids?"idQueries":"others"}),r=t.idQueries,n=void 0===r?[]:r,a=t.others,d=n.length>0?new l.QueryDefinition({doctype:e[0].doctype,ids:(0,u.default)((0,i.default)(n.map(function(e){return e.id||e.ids})))}):[];return(0,s.default)(void 0===a?[]:a,c.default).concat(d)};t.default=function(e){var t=(0,o.default)(e,function(e){return e.doctype});return(0,i.default)(Object.values((0,a.default)(t,d)))}},41520:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.registryEndpoint=t.transformRegistryFormatToStackFormat=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(76729)),s=n(r(58156));r(48318);var l=n(r(33844)),d=r(52146);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.transformRegistryFormatToStackFormat=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:(0,s.default)(e,"latest_version.manifest.source"),attributes:(0,s.default)(e,"latest_version.manifest")},e)},t.registryEndpoint="/registry/";var p=function(e){var t=new URLSearchParams(e).toString();return t?"?".concat(t):""},h=function(e){var t=e.type,r=t===d.APP_TYPE.KONNECTOR||"node"===t?"konnectors":"apps";return"/".concat(r)};t.default=function(){var e,t,r;function n(e){if((0,i.default)(this,n),!e.client)throw Error("Need to pass a client to instantiate a Registry API.");this.client=e.client}return(0,c.default)(n,[{key:"installApp",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u,s,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.slug,o=t.terms,i={},(c=t.installed)&&(i.PermissionsAcked=c),r&&(i.Source=r),u=p(i),!o){e.next=9;break}return e.next=9,l.default.save(this.client,o);case 9:return s=t.installed?"PUT":"POST",d=h(t),e.abrupt("return",this.client.stackClient.fetchJSON(s,"".concat(d,"/").concat(n).concat(u)));case 12:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"uninstallApp",value:(t=(0,o.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slug,n=h(t),e.abrupt("return",this.client.stackClient.fetchJSON("DELETE","".concat(n,"/").concat(r)));case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"fetchApps",value:(r=(0,o.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.channel,n=t.type,u=new URLSearchParams(c={limit:i=void 0===(o=t.limit)?"200":o,versionsChannel:r,latestChannelVersion:r}).toString(),n&&(u+="&filter[type]=".concat(n)),e.next=6,this.client.stackClient.fetchJSON("GET","/registry?".concat(u));case 6:return s=e.sent.data,e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"fetchAppsInMaintenance",value:function(){return this.client.stackClient.fetchJSON("GET","/registry/maintenance")}},{key:"fetchApp",value:function(e){return this.client.stackClient.fetchJSON("GET","/registry/".concat(e))}},{key:"fetchAppVersion",value:function(e){if(!e.slug)throw Error("Need to pass a slug to use fetchAppVersion");var t=e.slug,r=e.channel,n=e.version,a=r||n&&"latest"!==n?r:"stable",o="/registry/".concat(t,"/");return a?o+="".concat(a,"/").concat(n||"latest"):o+="".concat(n),this.client.stackClient.fetchJSON("GET",o)}}]),n}()},5574:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.persistVirtualDocuments=t.shouldDocumentBePersisted=t.shouldEnforcePersist=t.ENFORCE_LIST=void 0;var i=o(r(30592)),c=o(r(93889));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}o(r(6023)),r(11071);var s=["io.cozy.files.shortcuts"];t.ENFORCE_LIST=s;var l=function(e){return s.includes(e.doctype)};t.shouldEnforcePersist=l;var d=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&!e.cozyLocalOnly&&((null==(t=e.meta)||!t.rev)&&!e._rev||!!r||!!e.driveId&&"io.cozy.files"===e._type)};t.shouldDocumentBePersisted=d,n=(0,c.default)(i.default.mark(function e(t,r,n){var a,o,c,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l(r),"io.cozy.apps_registry"!==r.doctype){e.next=5;break}return e.next=4,f(t,{_type:"io.cozy.apps_registry",_id:r.id,cozyPouchData:n},a);case 4:return e.abrupt("return",e.sent);case 5:if(Array.isArray(n)){e.next=10;break}return e.next=8,f(t,n,a);case 8:e.next=28;break;case 10:o=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(n.filter(function(e){return d(e,a)})),e.prev=12,o.s();case 14:if((c=o.n()).done){e.next=20;break}return s=c.value,e.next=18,f(t,s,a);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[12,22,25,28]])})),t.persistVirtualDocuments=function(e,t,r){return n.apply(this,arguments)};var f=(a=(0,c.default)(i.default.mark(function e(t,r,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(r,n)){e.next=3;break}return e.next=3,t.chain.persistCozyData(r);case 3:case"end":return e.stop()}},e)})),function(e,t,r){return a.apply(this,arguments)})},93791:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndMergeDocument=t.getCollectionFromSlice=t.getDocumentsFromSlice=t.getDocumentFromSlice=t.default=t.mergeDocumentsWithRelationships=void 0;var a=n(r(76729)),o=n(r(58156)),i=n(r(90179)),c=n(r(32017)),u=n(r(95051)),s=n(r(95527)),l=r(67989),d=r(11071),f=r(48981),p=r(51264);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=(0,u.default)(),y=function(e,t){var r=t._type;if(!r)throw Error("Document without _type");if(!(0,p.properId)(t))throw Error("Document without id");var n=(0,o.default)(e,[r,(0,p.properId)(t)]);return(0,c.default)(n,t)?e:m(m({},e),{},(0,a.default)({},r,m(m({},e[r]),{},(0,a.default)({},(0,p.properId)(t),b(n,t)))))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m(m({},e),t);return(e.relationships||t.relationships)&&(r.relationships=m(m({},e.relationships),t.relationships)),r};t.mergeDocumentsWithRelationships=b,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!(0,l.isReceivingData)(t)&&!(0,f.isReceivingMutationResult)(t))return e;if(t&&t.definition&&t.definition.mutationType===d.MutationTypes.DELETE_DOCUMENT){var r=t.definition.document._id,n=t.definition.document._type;return m(m({},e),{},(0,a.default)({},n,(0,i.default)(e[n],r)))}var o=t.response,c=o.data,u=o.included;if(!c||Array.isArray(c)&&0===c.length)return e;var s=u?u.reduce(y,e):e;return Array.isArray(c)?g(c,s):y(s,c)},t.getDocumentFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");if(!r)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined id");return e[t]&&e[t][r]?e[t][r]:null},t.getDocumentsFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined doctype");if(!r||r.length<1)throw Error("getDocumentsFromSlice: Cannot retrieve documents with undefined ids");return e[t]?r.map(function(r){return e[t][r]}).filter(Boolean):[]},t.getCollectionFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");return e[t]?Object.values(e[t]):null};var g=function(e,t){var r=e[0]._type;if(!r)throw s.default.info("Document without _type",e[0]),Error("Document without _type");var n=new Map(e.map(function(e){return[(0,p.properId)(e),e]})),a=Object.assign({},t);a[r]=Object.assign({},t[r]),a[r]||(a[r]={});var o=!1;return(n.forEach(function(e,t){var n=a[r][t];n?(0,c.default)(n,e)||(a[r][t]=v(a[r][t],e),o=!0):(a[r][t]=e,o=!0)}),o)?a:t};t.extractAndMergeDocument=g},51264:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.properId=void 0,t.properId=function(e){return e.id||e._id}},55477:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initQuery",{enumerable:!0,get:function(){return f.initQuery}}),Object.defineProperty(t,"loadQuery",{enumerable:!0,get:function(){return f.loadQuery}}),Object.defineProperty(t,"resetQuery",{enumerable:!0,get:function(){return f.resetQuery}}),Object.defineProperty(t,"receiveQueryResult",{enumerable:!0,get:function(){return f.receiveQueryResult}}),Object.defineProperty(t,"receiveQueryError",{enumerable:!0,get:function(){return f.receiveQueryError}}),Object.defineProperty(t,"executeQueryFromState",{enumerable:!0,get:function(){return f.executeQueryFromState}}),Object.defineProperty(t,"initMutation",{enumerable:!0,get:function(){return p.initMutation}}),Object.defineProperty(t,"receiveMutationResult",{enumerable:!0,get:function(){return p.receiveMutationResult}}),Object.defineProperty(t,"receiveMutationError",{enumerable:!0,get:function(){return p.receiveMutationError}}),Object.defineProperty(t,"getStateRoot",{enumerable:!0,get:function(){return h.getStateRoot}}),Object.defineProperty(t,"getCollectionFromState",{enumerable:!0,get:function(){return h.getCollectionFromState}}),Object.defineProperty(t,"getDocumentFromState",{enumerable:!0,get:function(){return h.getDocumentFromState}}),Object.defineProperty(t,"getQueryFromStore",{enumerable:!0,get:function(){return h.getQueryFromStore}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return h.getQueryFromState}}),Object.defineProperty(t,"getRawQueryFromState",{enumerable:!0,get:function(){return h.getRawQueryFromState}}),Object.defineProperty(t,"isQueryExisting",{enumerable:!0,get:function(){return h.isQueryExisting}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return m.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return m.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return m.dispatchDelete}}),t.resetState=t.createStore=t.default=t.StoreProxy=void 0;var o=a(r(76729)),i=a(r(92115)),c=a(r(47783)),u=a(r(94619)),s=r(62379),l=a(r(37186)),d=a(r(93791)),f=n(r(67989)),p=r(48981),h=r(3219),m=r(89612);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b="COZY_CLIENT.RESET_STATE";t.resetState=function(){return{type:b}};var g=function(){function e(t){(0,i.default)(this,e),this.state=t}return(0,c.default)(e,[{key:"readDocument",value:function(e,t){return this.state.documents[e][t]}},{key:"writeDocument",value:function(e){this.setState(function(t){return y(y({},t),{},{documents:y(y({},t.documents),{},(0,o.default)({},e._type,y(y({},t.documents[e._type]),{},(0,o.default)({},e._id,e))))})})}},{key:"setState",value:function(e){this.state=e(this.state)}},{key:"getState",value:function(){return this.state}}]),e}();t.StoreProxy=g;var _={documents:{},queries:{}},w=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments.length>1?arguments[1]:void 0,n=e.mark("combinedReducer");if(r.type==b)return e.measure({markName:n,measureName:"".concat(n," reset"),category:"CozyClientStore"}),_;if(!(0,f.isQueryAction)(r)&&!(0,p.isMutationAction)(r))return e.measure({markName:n,measureName:"".concat(n," no query nor mutate action"),category:"CozyClientStore"}),t;if(r.update){var a=new g(t);r.update(a,r.response);var o={documents:a.getState().documents,queries:(0,f.default)(e,a.getState().queries,r,a.getState().documents)};return e.measure({markName:n,measureName:"".concat(n," update action"),category:"CozyClientStore"}),o}var i=(0,d.default)(t.documents,r),c=i!==t.documents,u={documents:i,queries:(0,f.default)(e,t.queries,r,i,c)};return e.measure({markName:n,measureName:"".concat(n," queries"),category:"CozyClientStore"}),u}};t.default=w;var k=(0,u.default)("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.compose;t.createStore=function(e){return(0,s.createStore)((0,s.combineReducers)({cozy:w(e)}),k((0,s.applyMiddleware)(l.default)))}},48981:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMutationError=t.receiveMutationResult=t.initMutation=t.isReceivingMutationResult=t.isMutationAction=void 0;var a=n(r(76729));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c="INIT_MUTATION",u="RECEIVE_MUTATION_RESULT",s="RECEIVE_MUTATION_ERROR";t.isMutationAction=function(e){return -1!==[c,u,s].indexOf(e.type)},t.isReceivingMutationResult=function(e){return e.type===u},t.initMutation=function(e,t){return{type:c,mutationId:e,definition:t}},t.receiveMutationResult=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(i({type:u,mutationId:e,response:t},r),{},{definition:n})},t.receiveMutationError=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:s,mutationId:e,error:t,definition:r}}},67989:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryIDGenerator=t.getQueryFromSlice=t.mapIdsToDocuments=t.resetQuery=t.receiveQueryError=t.receiveQueryResult=t.loadQuery=t.initQuery=t.default=t.updateData=t.makeSorterFromDefinition=t.executeQueryFromState=t.mergeSelectorAndPartialIndex=t.convert$gtNullSelectors=t.sortAndLimitDocsIds=t.isReceivingData=t.isQueryAction=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(13135)),c=n(r(76729)),u=n(r(10464)),s=n(r(73916)),l=n(r(94394)),d=n(r(66245)),f=n(r(5287)),p=n(r(92078)),h=n(r(11331)),m=n(r(63375)),v=n(r(42877)),y=n(r(85015)),b=n(r(58156)),g=n(r(14745)),_=n(r(94619)),w=r(93791),k=r(48981),O=r(51264),x=r(11071),E=n(r(95527)),C=r(3219);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P="INIT_QUERY",M="LOAD_QUERY",j="RECEIVE_QUERY_RESULT",D="RECEIVE_QUERY_ERROR",T="RESET_QUERY",I=(0,_.default)("debug"),R=function(e){return -1!==[P,M,j,D,T].indexOf(e.type)};t.isQueryAction=R,t.isReceivingData=function(e){return e.type===j};var N={id:null,definition:null,fetchStatus:"pending",isFetching:null,lastFetch:null,lastUpdate:null,lastErrorUpdate:null,lastError:null,hasMore:!1,count:0,fetchedPagesCount:0,data:[],storeData:[],bookmark:null,relationshipNames:[]},L=function(e,t,r,n){var a,o=n.count,i=n.fetchedPagesCount,c=(0,u.default)(r);if(e.definition.sort&&t){var s=G(e.definition),l=t[e.definition.doctype];c=s(l?c.map(function(e){return l[e]}).filter(Boolean):[]).map(O.properId)}var d=e.definition.limit;return d&&(a=o<d?i>1?d*(i-1)+o:o:d*i,c=c.slice(0,a)),c};t.sortAndLimitDocsIds=L;var F=function(e,t,r,n){var a=n.count,o=n.fetchedPagesCount,i=(0,m.default)([].concat((0,u.default)(e.data),(0,u.default)(t.data.map(O.properId))));return L(e,r,i,{count:a,fetchedPagesCount:o})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;switch(r.type){case P:if(t.lastUpdate&&t.id===r.queryId&&t.definition===r.queryDefinition)return t;return A(A({},t),{},{id:r.queryId,definition:r.queryDefinition,options:r.options,fetchStatus:t.lastUpdate?t.fetchStatus:"pending"});case M:if("loading"===t.fetchStatus)return t;if("loaded"===t.fetchStatus&&r.backgroundFetching)return A(A({},t),{},{fetchStatus:"loaded",isFetching:!0});return A(A({},t),{},{fetchStatus:"loading"});case j:var a=e.mark("RECEIVE_QUERY_RESULT"),o=r.response;if(!o.data)return e.measure({markName:a,measureName:"".concat(a," with no data"),category:"CozyClientStore"}),A(A({},t),{},{fetchStatus:"loaded",isFetching:!r.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()});var i=A({fetchStatus:"loaded",isFetching:!r.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()},I&&{execution_stats:o.execution_stats});if(!Array.isArray(o.data))return e.measure({markName:a,measureName:"".concat(a," with object"),category:"CozyClientStore"}),A(A(A({},t),i),{},{hasMore:!1,count:1,data:[(0,O.properId)(o.data)]});var c=o.meta&&o.meta.count?o.meta.count:o.data.length;if(r.backgroundFetching)return e.measure({markName:a,measureName:"".concat(a," with background fetching"),category:"CozyClientStore"}),A(A(A({},t),i),{},{bookmark:o.bookmark||null,hasMore:void 0!==o.next?o.next:t.hasMore,count:c,data:o.data.map(O.properId)});var u=t.fetchedPagesCount+1,s=F(t,o,n,{count:c,fetchedPagesCount:u});return e.measure({markName:a,measureName:"".concat(a," default"),category:"CozyClientStore"}),A(A(A({},t),i),{},{bookmark:o.bookmark||null,hasMore:void 0!==o.next?o.next:t.hasMore,count:c,fetchedPagesCount:u,data:s});case D:return A(A({},t),{},{id:r.queryId,fetchStatus:"failed",isFetching:!r.backgroundFetching&&null,lastError:r.error,lastErrorUpdate:Date.now()});case T:return A(A({},N),{},{id:r.queryId,definition:t.definition,options:t.options});default:return t}},z=function e(t){for(var r={},n=0,a=Object.entries(t);n<a.length;n++){var o=(0,i.default)(a[n],2),c=o[0],u=o[1],s=(0,h.default)(u)?e(u):u;r["$gt"===c&&null===s?"$gtnull":c]=s}return r};t.convert$gtNullSelectors=z;var H=function(e){return A(A({},(0,b.default)(e,"selector")),(0,b.default)(e,"partialFilter"))};t.mergeSelectorAndPartialIndex=H;var U=function(e){if(e.selector||e.partialFilter){var t=H(e);return g.default.use({$gtnull:function(e,t){return!!t}}),(0,g.default)(z(t))}if(e.id){var r={_id:e.id};return(0,g.default)(r)}if(!e.ids)return null;var n={_id:{$in:e.ids}};return(0,g.default)(n)};t.executeQueryFromState=function(e,t){var r,n=!!t.id;if(t.id){var a=(0,C.getDocumentFromState)(e,t.doctype,t.id);r=a?[a]:[]}else if(t.ids)r=(0,C.getDocumentsFromState)(e,t.doctype,t.ids);else{var o=(0,C.getCollectionFromState)(e,t.doctype);r=null==o?void 0:o.filter(V(t))}return!r||r.length<1?{data:n?null:[]}:n?{data:r[0]}:{data:G(t)(r)}};var V=function(e){var t=e.doctype,r=U(e);return function(e){return e._type===t&&!e._deleted&&(!r||!!r(e))}},Z=function(e){return function(t){var r=(0,b.default)(t,e);return(0,y.default)(r)?r.toLowerCase():r}},G=function(e){var t=e.sort;if(!t)return function(e){return e};if(!Array.isArray(e.sort))return E.default.warn("Correct update of queries with a sort that is not an array is not supported. Use an array as argument of QueryDefinition::sort"),function(e){return e};var r=t.map(function(e){return Object.entries(e)[0]}),n=r.map(function(e){return e[0]}).map(Z),a=r.map(function(e){return e[1]});return function(e){return(0,v.default)(e,n,a)}};t.makeSorterFromDefinition=G;var q=function(e,t,r){var n=V(e.definition),a=(0,s.default)((0,l.default)(t,n),function(e){return e.map(O.properId)}),o=a.true,i=void 0===o?[]:o,c=a.false,u=e.data,h=e.options&&e.options.autoUpdate,m=!h||!1!==h.remove,v=!h||!1!==h.add,y=!h||!1!==h.update,b=m?(0,f.default)(u,void 0===c?[]:c):[],g=v?(0,d.default)(i,u):[],_=y?(0,f.default)(u,i):[],w=b.length||g.length||_.length,k=(0,d.default)((0,p.default)(u,g),b),x=e.fetchedPagesCount,E=L(e,r,k,{count:k.length,fetchedPagesCount:x});return A(A({},e),{},{data:E,count:E.length,fetchedPagesCount:x,lastUpdate:w?Date.now():e.lastUpdate})};t.updateData=q;var W=function(e,t){return function(r){var n=(0,b.default)(e,"response.data")||(0,b.default)(e,"definition.document");return n&&(Array.isArray(n)||(n=[n]),n.length&&r.definition.doctype===n[0]._type)?q(r,n,t):r}};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(r.type==P){var o=B(e,t[r.queryId],r,n);return o===t[r.queryId]?t:A(A({},t),{},(0,c.default)({},r.queryId,o))}if(R(r)){var i=W(r,n);return(0,s.default)(t,function(t){return t.id==r.queryId?B(e,t,r,n):a?i(t):t})}if((0,k.isReceivingMutationResult)(r)){var u=r.updateQueries?function(e){var t=r.updateQueries,a=r.response,o=t[e.id];if(!o)return e;var i=o(Q(n,e.definition.doctype,e.data),a).map(O.properId);return A(A({},e),{},{data:i,count:i.length,lastUpdate:Date.now()})}:W(r,n);return(0,s.default)(t,u)}return t},t.initQuery=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.doctype)throw Error("Cannot init query with no doctype");return{type:P,queryId:e,queryDefinition:t,options:r}},t.loadQuery=function(e,t){return A({type:M,queryId:e},t)},t.receiveQueryResult=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A({type:j,queryId:e,response:t},r)},t.receiveQueryError=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A({type:D,queryId:e,error:t},r)},t.resetQuery=function(e){return{type:T,queryId:e}};var Q=function(e,t,r){return r.map(function(r){return(0,w.getDocumentFromSlice)(e,t,r)}).filter(function(e){return!!e})};t.mapIdsToDocuments=Q,t.getQueryFromSlice=function(e,t,r){if(!e||!e[t])return A(A({},N),{},{id:t,data:null});var n=e[t];return r?A(A({},n),{},{data:Q(r,n.definition.doctype,n.data)}):n};var J=function(){function e(){(0,a.default)(this,e),this.idCounter=1}return(0,o.default)(e,[{key:"generateRandomId",value:function(){var e=this.idCounter;return this.idCounter++,e.toString()}},{key:"generateId",value:function(e){if(!(0,x.isAGetByIdQuery)(e))return this.generateRandomId();var t=e.id,r=e.doctype;return"".concat(r,"/").concat(t)}}]),e}();t.QueryIDGenerator=J,J.UNNAMED="unnamed"},89612:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchDelete=t.dispatchUpdate=t.dispatchCreate=void 0;var u=c(r(30592)),s=c(r(93889)),l=c(r(76729)),d=r(11071),f=r(48981);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e,t){return h({id:e._id,_type:t},e)},v=(n=(0,s.default)(u.default.mark(function e(t,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r.enhanceDocFn){e.next=4;break}return e.next=3,r.enhanceDocFn(t,{client:r.client});case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),y=function(e,t,r){e.dispatch((0,f.receiveMutationResult)(e.generateRandomId(),{data:t},{},r(t)))};a=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(n,r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.createDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchCreate=function(e,t,r){return a.apply(this,arguments)},o=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(n,r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.updateDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchUpdate=function(e,t,r){return o.apply(this,arguments)},i=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(h(h({},n),{},{_deleted:!0}),r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.deleteDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchDelete=function(e,t,r){return i.apply(this,arguments)}},43832:function(e,t){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.equalityCheckForQuery=void 0,t.equalityCheckForQuery=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||e.id!==t.id||e.fetchStatus!==t.fetchStatus)return!1;var o=e.storeData,i=t.storeData;if(!o||!i||!Array.isArray(o)&&!Array.isArray(i)&&o!==i||Array.isArray(o)&&Array.isArray(i)&&!a(o,i))return!1;if(Array.isArray(o)&&Array.isArray(i)){for(var c=0;c<o.length;c++)if(o[c]!==i[c])return!1}if(e.relationshipNames){var u=e.data,s=t.data;if(!Array.isArray(u)&&!Array.isArray(s))return n(u,s);if(!a(u,s))return!1;if(Array.isArray(u)&&Array.isArray(s))for(var l=0;l<u.length;l++){var d,f=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,c=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(u)throw i}}}}(e.relationshipNames);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=u[l][p],m=s[l][p];if(h&&m&&!n(h,m))return!1}}catch(e){f.e(e)}finally{f.f()}}}return!0};var n=function(e,t){return!!e._rev&&!!t._rev&&(null==e?void 0:e._rev)===(null==t?void 0:t._rev)},a=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length}},3219:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryExisting=t.getRawQueryFromState=t.getQueryFromState=t.getQueryFromStore=t.getDocumentsFromState=t.getDocumentFromState=t.getCollectionFromState=t.getStateRoot=void 0;var n=r(93791),a=r(67989),o=function(e){return e.cozy||{}};t.getStateRoot=o,t.getCollectionFromState=function(e,t){return(0,n.getCollectionFromSlice)(o(e).documents,t)},t.getDocumentFromState=function(e,t,r){return(0,n.getDocumentFromSlice)(o(e).documents,t,r)},t.getDocumentsFromState=function(e,t,r){return(0,n.getDocumentsFromSlice)(o(e).documents,t,r)},t.getQueryFromStore=function(e,t){return i(e.getState(),t)};var i=function(e,t){return(0,a.getQueryFromSlice)(o(e).queries,t,o(e).documents)};t.getQueryFromState=i,t.getRawQueryFromState=function(e,t){return(0,a.getQueryFromSlice)(o(e).queries,t)},t.isQueryExisting=function(e,t){return void 0!==o(e).queries[t]}},33844:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(80539)),c=n(r(93889));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l="io.cozy.terms";function d(){return(d=(0,c.default)(a.default.mark(function e(t,r){var n,o,c,u,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,o=(0,i.default)(r,["id"]),e.next=3,t.query({doctype:l,selector:{termsId:n,version:o.version},limit:1});case 3:if(!((c=e.sent.data)&&c.length)){e.next=13;break}if((u=c[0]).termsId!=n||u.version!=o.version||u.url==o.url){e.next=11;break}return d=s(s({_type:l},u),{},{url:o.url}),e.next=11,t.save(d);case 11:e.next=16;break;case 13:return f=s(s({_type:l},o),{},{termsId:n,accepted:!0,acceptedAt:new Date}),e.next=16,t.save(f);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.default={save:function(e,t){return d.apply(this,arguments)}}},65869:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.CozyClient=void 0;var a=n(r(91083)),o=n(r(7184)),i=n(r(62812)),c=n(r(92115));t.CozyClient=function(e){(0,a.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,i.default)(n);return e=t?Reflect.construct(r,arguments,(0,i.default)(this).constructor):r.apply(this,arguments),(0,o.default)(this,e)});function n(){return(0,c.default)(this,n),r.apply(this,arguments)}return n}(function e(t){(0,c.default)(this,e),Object.assign(this,t)})},98854:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(11071),t.default={}},42314:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=t.isReactNativeOfflineError=t.hasQueriesBeenLoaded=t.isQueriesLoading=t.hasQueryBeenLoaded=t.isQueryLoading=t.cancelable=void 0;var a=n(r(94619)),o=n(r(95527));t.cancelable=function(e){var t,r=new Promise(function(r,n){t=n,e.then(r),e.catch(n)});return r.cancel=function(){t({canceled:!0})},r};var i=function(e){return e?"loading"===e.fetchStatus||"pending"===e.fetchStatus:(o.default.warn("isQueryLoading called on falsy value."),!1)};t.isQueryLoading=i;var c=function(e){return e.lastFetch};t.hasQueryBeenLoaded=c,t.isQueriesLoading=function(e){return Object.values(e).some(function(e){return i(e)})},t.hasQueriesBeenLoaded=function(e){return Object.values(e).some(function(e){return c(e)})},t.isReactNativeOfflineError=function(e){return"Network request failed"===e.message},t.isDebug=function(){return!!(0,a.default)("debug")}},29192:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(82710)),i=a(r(92115)),c=a(r(47783)),u=a(r(61023)),s=a(r(91083)),l=a(r(7184)),d=a(r(62812)),f=a(r(76729)),p=n(r(96540)),h=a(r(5556));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n=r.displayName||r.name||"Component",a=function(a){(0,s.default)(v,a);var h,m=(h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(v);return e=h?Reflect.construct(t,arguments,(0,d.default)(this).constructor):t.apply(this,arguments),(0,l.default)(this,e)});function v(r,a){var o;if((0,i.default)(this,v),o=m.call(this,r,a),(0,f.default)((0,u.default)(o),"mutate",function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return o.client.mutate(e.apply(null,n),t)}),o.client=r.client||a.client,!o.client)throw Error('Could not find "client" in either the context or props of '.concat(n));return o}return(0,c.default)(v,[{key:"render",value:function(){var e=(0,f.default)({},t.name||"mutate",this.mutate);return p.default.createElement(r,(0,o.default)({},e,this.props))}}]),v}(p.Component);return(0,f.default)(a,"contextTypes",{client:h.default.object}),a.displayName="WithMutation(".concat(n,")"),a}}},46903:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(82710)),i=a(r(92115)),c=a(r(47783)),u=a(r(91083)),s=a(r(7184)),l=a(r(62812)),d=a(r(76729)),f=a(r(10464)),p=a(r(55364)),h=n(r(96540)),m=a(r(5556)),v=a(r(95527));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=e.displayName||e.name||"Component",n=function(n){(0,u.default)(b,n);var a,m=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,l.default)(b);return e=a?Reflect.construct(t,arguments,(0,l.default)(this).constructor):t.apply(this,arguments),(0,s.default)(this,e)});function b(e,n){(0,i.default)(this,b);var a=m.call(this,e,n),o=e.client||n.client;if(v.default.warn("Deprecation: withMutations will be removed in the near future, prefer to use withClient to access the client. See https://github.com/cozy/cozy-client/pull/638 for more information."),!o)throw Error('Could not find "client" in either the context or props of '.concat(r));return a.mutations=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({createDocument:o.create.bind(o),saveDocument:o.save.bind(o),deleteDocument:o.destroy.bind(o)},p.default.apply(void 0,(0,f.default)(t.map(function(t){return"function"==typeof t?t(o,e):t})))),a}return(0,c.default)(b,[{key:"render",value:function(){return h.default.createElement(e,(0,o.default)({},this.mutations,this.props))}}]),b}(h.Component);return(0,d.default)(n,"contextTypes",{client:m.default.object}),n.displayName="WithMutations(".concat(r,")"),n}}},68787:function(e,t,r){"use strict";var n,a=r(48938),o=r(73932),i=r(9771),c=r(19030),u=r(20214),s=function(e){i(!1,e)},l=String.prototype.replace,d=String.prototype.split,f="||||",p=function(e){var t=e%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},h={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:p,chinese:function(){return 0},croatian:p,french:function(e){return+(e>=2)},german:function(e){return+(1!==e)},russian:p,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return+(e%10!=1||e%100==11)},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var v=(n={},function(e,t){var r,i,c,u=n[t];return u&&!e.pluralTypes[u]&&(u=null,n[t]=u),!u&&(u=(r=e.pluralTypeToLanguages,i={},a(o(r),function(e){var t=e[0];a(e[1],function(e){i[e]=t})}),c=i)[t]||c[d.call(t,/-/,1)[0]]||c.en)&&(n[t]=u),u}),y=/%\{(.*?)\}/g;function b(e,t,r,n,a){if("string"!=typeof e)throw TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,i="number"==typeof t?{smart_count:t}:t;if(null!=i.smart_count&&e){var s,p=a||h,m=d.call(e,f),b=v(p,r||"en");o=u(m[s=i.smart_count,p.pluralTypes[b](s)]||m[0])}return l.call(o,n||y,function(e,t){return c(i,t)&&null!=i[t]?i[t]:e})}function g(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?b:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||s,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",r=e&&e.suffix||"}";if(t===f||r===f)throw RangeError('"'+f+'" token is reserved for pluralization');return RegExp(m(t)+"(.*?)"+m(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||h}g.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},g.prototype.extend=function(e,t){a(o(e||{}),function(e){var r=e[0],n=e[1],a=t?t+"."+r:r;"object"==typeof n?this.extend(n,a):this.phrases[a]=n},this)},g.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:a(o(e||{}),function(e){var r=e[0],n=e[1],a=t?t+"."+r:r;"object"==typeof n?this.unset(n,a):delete this.phrases[a]},this)},g.prototype.clear=function(){this.phrases={}},g.prototype.replace=function(e){this.clear(),this.extend(e)},g.prototype.t=function(e,t){var r,n,a=null==t?{}:t;return"string"==typeof this.phrases[e]?r=this.phrases[e]:"string"==typeof a._?r=a._:this.onMissingKey?n=(0,this.onMissingKey)(e,a,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof r&&(n=b(r,a,this.currentLocale,this.tokenRegex,this.pluralRules)),n},g.prototype.has=function(e){return c(this.phrases,e)},g.transformPhrase=function(e,t,r){return b(e,t,r)},e.exports=g},42445:function(e,t,r){"use strict";r.r(t),r.d(t,{useSelector:()=>en,useStore:()=>K,ReactReduxContext:()=>m,batch:()=>ea.unstable_batchedUpdates,createSelectorHook:()=>er,Provider:()=>_,createStoreHook:()=>$,connect:()=>J,shallowEqual:()=>L,createDispatchHook:()=>X,connectAdvanced:()=>R,useDispatch:()=>ee});var n,a,o,i,c,u,s,l,d,f,p,h=r(96540),m=h.createContext(null),v=function(e){e()},y={notify:function(){},get:function(){return[]}};function b(e,t){var r,n=y;function a(){i.onStateChange&&i.onStateChange()}function o(){if(!r){var o,i,c;r=t?t.addNestedSub(a):e.subscribe(a),o=v,i=null,c=null,n={clear:function(){i=null,c=null},notify:function(){o(function(){for(var e=i;e;)e.callback(),e=e.next})},get:function(){for(var e=[],t=i;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,r=c={callback:e,next:null,prev:c};return r.prev?r.prev.next=r:i=r,function(){t&&null!==i&&(t=!1,r.next?r.next.prev=r.prev:c=r.prev,r.prev?r.prev.next=r.next:i=r.next)}}}}}var i={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return!!r},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=y)},getListeners:function(){return n}};return i}var g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;let _=function(e){var t=e.store,r=e.context,n=e.children,a=(0,h.useMemo)(function(){var e=b(t);return{store:t,subscription:e}},[t]),o=(0,h.useMemo)(function(){return t.getState()},[t]);g(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,o]);var i=r||m;return h.createElement(i.Provider,{value:a},n)};var w=r(40160),k=r(54707),O=r(4146),x=r.n(O),E=r(44363),C=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],S=["reactReduxForwardedRef"],A=[],P=[null,null];function M(e,t){var r=e[1];return[t.payload,r+1]}function j(e,t,r){g(function(){return e.apply(void 0,t)},r)}function D(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function T(e,t,r,n,a,o,i,c,u,s){if(e){var l=!1,d=null,f=function(){if(!l){var e,r,f=t.getState();try{e=n(f,a.current)}catch(e){r=e,d=e}r||(d=null),e===o.current?i.current||u():(o.current=e,c.current=e,i.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};return r.onStateChange=f,r.trySubscribe(),f(),function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var I=function(){return[null,0]};function R(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,a=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,o=r.methodName,i=void 0===o?"connectAdvanced":o,c=r.renderCountProp,u=void 0===c?void 0:c,s=r.shouldHandleStateChanges,l=void 0===s||s,d=r.storeKey,f=void 0===d?"store":d,p=(r.withRef,r.forwardRef),v=void 0!==p&&p,y=r.context,g=void 0===y?m:y,_=(0,k.A)(r,C);return function(t){var r=t.displayName||t.name||"Component",n=a(r),o=(0,w.A)({},_,{getDisplayName:a,methodName:i,renderCountProp:u,shouldHandleStateChanges:l,storeKey:f,displayName:n,wrappedComponentName:r,WrappedComponent:t}),c=_.pure,s=c?h.useMemo:function(e){return e()};function d(r){var n=(0,h.useMemo)(function(){var e=r.reactReduxForwardedRef,t=(0,k.A)(r,S);return[r.context,e,t]},[r]),a=n[0],i=n[1],c=n[2],u=(0,h.useMemo)(function(){return a&&a.Consumer&&(0,E.isContextConsumer)(h.createElement(a.Consumer,null))?a:g},[a,g]),d=(0,h.useContext)(u),f=!!r.store&&!!r.store.getState&&!!r.store.dispatch;d&&d.store;var p=f?r.store:d.store,m=(0,h.useMemo)(function(){return e(p.dispatch,o)},[p]),v=(0,h.useMemo)(function(){if(!l)return P;var e=b(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,d]),y=v[0],_=v[1],O=(0,h.useMemo)(function(){return f?d:(0,w.A)({},d,{subscription:y})},[f,d,y]),x=(0,h.useReducer)(M,A,I),C=x[0][0],R=x[1];if(C&&C.error)throw C.error;var N=(0,h.useRef)(),L=(0,h.useRef)(c),F=(0,h.useRef)(),B=(0,h.useRef)(!1),z=s(function(){return F.current&&c===L.current?F.current:m(p.getState(),c)},[p,C,c]);j(D,[L,N,B,c,z,F,_]),j(T,[l,p,y,m,L,N,B,F,_,R],[p,y,m]);var H=(0,h.useMemo)(function(){return h.createElement(t,(0,w.A)({},z,{ref:i}))},[i,t,z]);return(0,h.useMemo)(function(){return l?h.createElement(u.Provider,{value:O},H):H},[u,H,O])}var p=c?h.memo(d):d;if(p.WrappedComponent=t,p.displayName=d.displayName=n,v){var m=h.forwardRef(function(e,t){return h.createElement(p,(0,w.A)({},e,{reactReduxForwardedRef:t}))});return m.displayName=n,m.WrappedComponent=t,x()(m,t)}return x()(p,t)}}function N(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function L(e,t){if(N(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!N(e[r[a]],t[r[a]]))return!1;return!0}function F(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function B(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function z(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=B(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=B(a),a=n(t,r)),a},n}}let H=[function(e){return"function"==typeof e?z(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:F(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?F(function(t){var r={};for(var n in e)!function(n){var a=e[n];"function"==typeof a&&(r[n]=function(){return t(a.apply(void 0,arguments))})}(n);return r}):void 0}],U=[function(e){return"function"==typeof e?z(e,"mapStateToProps"):void 0},function(e){return e?void 0:F(function(){return{}})}];function V(e,t,r){return(0,w.A)({},r,e,t)}let Z=[function(e){return"function"==typeof e?function(t,r){r.displayName;var n,a=r.pure,o=r.areMergedPropsEqual,i=!1;return function(t,r,c){var u=e(t,r,c);return i?a&&o(u,n)||(n=u):(i=!0,n=u),n}}:void 0},function(e){return e?void 0:function(){return V}}];var G=["initMapStateToProps","initMapDispatchToProps","initMergeProps"],q=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function W(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Q(e,t){return e===t}let J=(o=void 0===(a=(n={}).connectHOC)?R:a,c=void 0===(i=n.mapStateToPropsFactories)?U:i,s=void 0===(u=n.mapDispatchToPropsFactories)?H:u,d=void 0===(l=n.mergePropsFactories)?Z:l,p=void 0===(f=n.selectorFactory)?function(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=(0,k.A)(t,G),i=r(e,o),c=n(e,o),u=a(e,o);return(o.pure?function(e,t,r,n,a){var o,i,c,u,s,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,b,g,_;return p?(m=a,g=!d(v=h,i),_=!l(m,o,v,i),(o=m,i=v,g&&_)?(c=e(o,i),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):g?(e.dependsOnOwnProps&&(c=e(o,i)),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):_?(b=!f(y=e(o,i),c),c=y,b&&(s=r(c,u,i)),s):s):(c=e(o=a,i=h),u=t(n,i),s=r(c,u,i),p=!0,s)}}:function(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}})(i,c,u,e,o)}:f,function(e,t,r,n){void 0===n&&(n={});var a=n,i=a.pure,u=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?L:l,h=a.areStatePropsEqual,m=void 0===h?L:h,v=a.areMergedPropsEqual,y=void 0===v?L:v,b=(0,k.A)(a,q),g=W(e,c,"mapStateToProps"),_=W(t,s,"mapDispatchToProps"),O=W(r,d,"mergeProps");return o(p,(0,w.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:g,initMapDispatchToProps:_,initMergeProps:O,pure:void 0===i||i,areStatesEqual:void 0===u?Q:u,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},b))});function Y(){return(0,h.useContext)(m)}function $(e){void 0===e&&(e=m);var t=e===m?Y:function(){return(0,h.useContext)(e)};return function(){return t().store}}var K=$();function X(e){void 0===e&&(e=m);var t=e===m?K:$(e);return function(){return t().dispatch}}var ee=X(),et=function(e,t){return e===t};function er(e){void 0===e&&(e=m);var t=e===m?Y:function(){return(0,h.useContext)(e)};return function(e,r){void 0===r&&(r=et);var n=t(),a=function(e,t,r,n){var a,o=(0,h.useReducer)(function(e){return e+1},0)[1],i=(0,h.useMemo)(function(){return b(r,n)},[r,n]),c=(0,h.useRef)(),u=(0,h.useRef)(),s=(0,h.useRef)(),l=(0,h.useRef)(),d=r.getState();try{if(e!==u.current||d!==s.current||c.current){var f=e(d);a=void 0!==l.current&&t(f,l.current)?l.current:f}else a=l.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return g(function(){u.current=e,s.current=d,l.current=a,c.current=void 0}),g(function(){function e(){try{var e=r.getState();if(e===s.current)return;var n=u.current(e);if(t(n,l.current))return;l.current=n,s.current=e}catch(e){c.current=e}o()}return i.onStateChange=e,i.trySubscribe(),e(),function(){return i.tryUnsubscribe()}},[r,i]),a}(e,r,n.store,n.subscription);return(0,h.useDebugValue)(a),a}}var en=er(),ea=r(40961);v=ea.unstable_batchedUpdates},37186:function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}r.r(t),r.d(t,{default:()=>o});var a=n();a.withExtraArgument=n;let o=a},62379:function(e,t,r){"use strict";r.r(t),r.d(t,{__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>h,bindActionCreators:()=>f,combineReducers:()=>l,compose:()=>p,createStore:()=>u,legacy_createStore:()=>s});var n=r(69899);function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function u(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(a(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(a(1));return r(u)(e,t)}if("function"!=typeof e)throw Error(a(2));var n,i=e,s=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw Error(a(3));return s}function m(e){if("function"!=typeof e)throw Error(a(4));if(f)throw Error(a(5));var t=!0;return p(),d.push(e),function(){if(t){if(f)throw Error(a(6));t=!1,p();var r=d.indexOf(e);d.splice(r,1),l=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(a(7));if(void 0===e.type)throw Error(a(8));if(f)throw Error(a(9));try{f=!0,s=i(s,e)}finally{f=!1}for(var t=l=d,r=0;r<t.length;r++)(0,t[r])();return e}return v({type:c.INIT}),(n={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(a(10));i=e,v({type:c.REPLACE})}})[o]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(a(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:m(t)}}})[o]=function(){return this},e},n}var s=u;function l(e){for(var t,r=Object.keys(e),n={},o=0;o<r.length;o++){var i=r[o];"function"==typeof e[i]&&(n[i]=e[i])}var u=Object.keys(n);try{Object.keys(n).forEach(function(e){var t=n[e];if(void 0===t(void 0,{type:c.INIT}))throw Error(a(12));if(void 0===t(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw Error(a(13))})}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var o=!1,i={},c=0;c<u.length;c++){var s=u[c],l=n[s],d=e[s],f=l(d,r);if(void 0===f)throw r&&r.type,Error(a(14));i[s]=f,o=o||f!==d}return(o=o||u.length!==Object.keys(e).length)?i:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw Error(a(16));var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=d(o,t))}return r}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),o=function(){throw Error(a(15))},i={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=t.map(function(e){return e(i)});return o=p.apply(void 0,c)(r.dispatch),(0,n.A)((0,n.A)({},r),{},{dispatch:o})}}}},84980:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useDataProxy=t.DataProxyProvider=t.DataProxyContext=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(13135)),u=a(r(92115)),s=a(r(47783)),l=a(r(91083)),d=a(r(7184)),f=a(r(62812)),p=a(r(93889)),h=w(r(44486)),m=w(r(96540)),v=r(42895),y=r(7127),b=a(r(94619)),g=r(84660);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=(0,a(r(13572)).default)("\uD83D\uDC77‍♂️ [DataProxyProvider]"),E=(n=(0,p.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("[DataProxy] not ready");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),C=Object.freeze({dataProxyServicesAvailable:!1,ready:!1,search:E,requestLink:E}),S=m.default.createContext(C);t.DataProxyContext=S,t.useDataProxy=function(){var e=(0,m.useContext)(S);if(!e)throw Error("useDataProxy must be used within a DataProxyProvider");return e};var A=function(e){(0,l.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(n);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e)).state={hasError:!1},t}return(0,s.default)(n,[{key:"componentDidCatch",value:function(e){x.error("[DataProxy iframe errors]",e)}},{key:"render",value:function(){var e;return this.state.hasError?null:null!=(e=this.props.children)?e:null}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(m.default.Component),P={},M=m.default.memo(function(e){var t=e.children,r=e.options,n=void 0===r?P:r,a=(0,v.useClient)(),i=(0,g.useWebviewIntent)(),u=(0,m.useState)(),s=(0,c.default)(u,2),l=s[0],d=s[1],f=(0,m.useState)(),_=(0,c.default)(f,2),w=_[0],k=_[1],E=(0,m.useState)(),M=(0,c.default)(E,2),j=M[0],D=M[1],T=(0,m.useState)(void 0),I=(0,c.default)(T,2),R=I[0],N=I[1],L=(0,m.useState)(0),F=(0,c.default)(L,2),B=F[0],z=F[1];(0,m.useEffect)(function(){if(a){var e,t,r=(e=(0,p.default)(o.default.mark(function e(){var t,r,n,i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x.log("Initializing DataProxy intent"),e.next=4,a.stackClient.fetchJSON("POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:"OPEN",type:"io.cozy.dataproxy",permissions:["GET"]}}});case 4:if(null!=(t=(u=e.sent).data)&&null!=(r=t.attributes)&&null!=(n=r.services)&&null!=(i=n[0])&&i.href){e.next=9;break}return x.log("No dataproxy intent available, dataproxy features will be disabled"),N(!1),e.abrupt("return");case 9:d(null==(c=u.data.attributes.services[0])?void 0:c.href),N(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),N(!1),x.error("Error while initializing Search intent, dataproxy features will be disabled",e.t0);case 17:case"end":return e.stop()}},e,null,[[0,13]])})),function(){return e.apply(this,arguments)}),c=(t=(0,p.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i){e.next=3;break}return e.abrupt("return");case 3:return x.log("Initializing DataProxy intent in Flagship app"),e.next=6,i.call("isAvailable","search");case 6:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==t;case 10:if(!e.t0){e.next=14;break}e.t2=t,e.next=15;break;case 14:e.t2=!1;case 15:if(r=e.t2){e.next=20;break}return x.log("Dataproxy features will be disabled due to feature not supported by Flagship app"),N(!1),e.abrupt("return");case 20:k(function(){return{search:function(e,t){return null==i?void 0:i.call("search",e,O(O({},n),t))}}}),N(r),e.next=28;break;case 24:e.prev=24,e.t3=e.catch(0),N(!1),x.error("Error while initializing Flagship's Search, dataproxy features will be disabled",e.t3);case 28:case"end":return e.stop()}},e,null,[[0,24]])})),function(){return t.apply(this,arguments)});if(!(0,b.default)("cozy.search.enabled")){x.log("Dataproxy features will be disabled due to missing feature flags"),N(!1);return}(0,y.isFlagshipApp)()?c():r()}},[a,i,n]);var H=(0,m.useCallback)(function(){var e=document.getElementById("DataProxy"),t=h.wrap(h.windowEndpoint(e.contentWindow));k(function(){return t})},[k]),U=(0,m.useCallback)(function(e){try{if("string"!=typeof e.origin||!e.origin.includes("dataproxy"))return;var t=null==e?void 0:e.data;t&&"object"==typeof t&&"DATAPROXYMESSAGE"===t.type&&"READY"===t.payload&&H()}catch(e){x.error("[DataProxy] onReceiveMessage error",e)}},[H]);(0,m.useEffect)(function(){return window.addEventListener("message",U),function(){window.removeEventListener("message",U)}},[U]),(0,m.useEffect)(function(){var e,t=(e=(0,p.default)(o.default.mark(function e(){var t,r,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=(0,p.default)(o.default.mark(function e(t,r){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.log("Send search query to DataProxy: ",t,r),e.next=3,w.search(t,O(O({},n),r));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),r=function(){var e=(0,p.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.log("Send request to DataProxy : ",t),null!=r&&r.fetchPolicy&&delete r.fetchPolicy,e.abrupt("return",null==(n=w.requestLink)?void 0:n.call(w,t,r));case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),i={dataProxyServicesAvailable:R,ready:!!w,search:t,requestLink:r},a.links.forEach(function(e){e.registerDataProxy&&e.registerDataProxy(i)}),D(i);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});w&&null!=a&&a.links&&t()},[w,a,R,n]);var V=(0,m.useCallback)(function(){z(function(e){return e+1}),x.log("Reload iframe with new version ",B)},[]),Z="".concat(l,"::").concat(B);return m.default.createElement(S.Provider,{value:j||C},null!=t?t:null,m.default.createElement(A,null,l?m.default.createElement("iframe",{key:Z,id:"DataProxy",src:l,width:0,height:0,style:{width:0,height:0},sandbox:"allow-same-origin allow-scripts",onError:function(){x.error("[DataProxy] iframe load error"),V()}}):null))});t.DataProxyProvider=M,M.displayName="DataProxyProvider"},61122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DataProxyProvider",{enumerable:!0,get:function(){return a.DataProxyProvider}}),Object.defineProperty(t,"SearchEngine",{enumerable:!0,get:function(){return n.SearchEngine}}),Object.defineProperty(t,"useDataProxy",{enumerable:!0,get:function(){return a.useDataProxy}});var n=r(56381),a=r(84980)},56381:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchEngine=void 0;var a=n(r(30592)),o=n(r(10464)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(76729)),l=r(42895),d=n(r(13572)),f=r(4595),p=r(5611),h=r(13382),m=r(13015),v=r(8360),y=r(19556),b=r(15140),g=r(49846),_=r(87478);function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,s.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var E=(0,d.default)("\uD83D\uDDC2️ [Indexing]");t.SearchEngine=function(){var e,t,r,n,d,k,O,C;function S(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,c.default)(this,S),(0,s.default)(this,"client",void 0),(0,s.default)(this,"searchIndexes",void 0),(0,s.default)(this,"debouncedReplication",void 0),(0,s.default)(this,"isLocalSearch",void 0),(0,s.default)(this,"storage",void 0),(0,s.default)(this,"performanceApi",void 0),(0,s.default)(this,"engineOptions",void 0),this.client=e,this.searchIndexes={},this.storage=t,this.performanceApi=null!=r?r:l.defaultPerformanceApi,this.engineOptions=x({shouldInit:!0},a),this.isLocalSearch=!!(0,h.getPouchLink)(this.client),E.info("Use local data on trusted device: ",this.isLocalSearch),this.debouncedReplication=function(){var t=(0,h.getPouchLink)(e);t&&t.startReplicationWithDebounce()},this.client.isLogged?this.afterLogin():this.client.on("login",function(){n.afterLogin()})}return(0,u.default)(S,[{key:"afterLogin",value:function(){this.engineOptions.shouldInit&&this.init(),this.handleReplicationEvents()}},{key:"indexDocumentsAtInit",value:(e=(0,i.default)(a.default.mark(function e(){var t,r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return E.info("Initialize indexes..."),t=this.performanceApi.mark("indexDocuments"),e.next=6,(0,g.getExportDate)(this.storage);case 6:if(!(!e.sent||!this.isLocalSearch)){e.next=29;break}r=w(p.SEARCHABLE_DOCTYPES),e.prev=9,r.s();case 11:if((n=r.n()).done){e.next=19;break}return o=n.value,e.next=15,this.indexDocsForSearch(o);case 15:(i=e.sent)&&(this.searchIndexes[o]=i);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),r.e(e.t0);case 24:return e.prev=24,r.f(),e.finish(24);case 27:e.next=31;break;case 29:return e.next=31,this.initSearchWithIndexImport();case 31:this.performanceApi.measure({markName:t,category:"Search"});case 32:case"end":return e.stop()}},e,this,[[9,21,24,27]])})),function(){return e.apply(this,arguments)})},{key:"handleReplicationEvents",value:function(){var e=this;if(this.isLocalSearch){var t,r=0,n=0;this.client.on("pouchlink:doctypesync:end",(t=(0,i.default)(a.default.mark(function t(r){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((0,_.isSearchedDoctype)(r)&&e.searchIndexes[r])){t.next=5;break}return t.next=3,e.indexDocsForSearch(r);case 3:(n=t.sent)&&(e.searchIndexes[r]=n);case 5:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),this.client.on("pouchlink:sync:start",function(){E.debug("Started pouch replication"),r=performance.now()}),this.client.on("pouchlink:sync:end",(0,i.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(E.debug("Ended pouch replication"),n=performance.now(),r>0&&E.debug("Replication took ".concat((n-r).toFixed(2)," ms")),!(Object.keys(e.searchIndexes).length<1)){t.next=7;break}return E.info("No search index found: start indexing"),t.next=7,e.indexDocumentsAtInit();case 7:(0,g.exportSearchIndexes)(e.storage,e.searchIndexes);case 8:case"end":return t.stop()}},t)})))}}},{key:"init",value:(t=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.client.plugins[f.RealtimePlugin.pluginName]||this.client.registerPlugin(f.RealtimePlugin,{}),this.handleUpdatedOrCreatedDoc=this.handleUpdatedOrCreatedDoc.bind(this),this.handleDeletedDoc=this.handleDeletedDoc.bind(this),this.subscribeDoctype(this.client,p.FILES_DOCTYPE),this.subscribeDoctype(this.client,p.CONTACTS_DOCTYPE),this.subscribeDoctype(this.client,p.APPS_DOCTYPE),this.isLocalSearch&&this.debouncedReplication(),e.next=9,this.indexDocumentsAtInit();case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"subscribeDoctype",value:function(e,t){var r=e.plugins.realtime;r.subscribe("created",t,this.handleUpdatedOrCreatedDoc),r.subscribe("updated",t,this.handleUpdatedOrCreatedDoc),r.subscribe("deleted",t,this.handleDeletedDoc)}},{key:"handleUpdatedOrCreatedDoc",value:function(e){var t,r=e._type;if((0,_.isSearchedDoctype)(r)){var n=null==(t=this.searchIndexes)?void 0:t[r];n&&(E.debug("[REALTIME] Update doc from index after update : ",e._id),this.isLocalSearch&&this.debouncedReplication(),(0,y.indexSingleDoc)(n.index,e))}}},{key:"handleDeletedDoc",value:function(e){var t,r=e._type;(0,_.isSearchedDoctype)(r)&&(null==(t=this.searchIndexes)?void 0:t[r])&&(E.debug("[REALTIME] Remove doc from index after update : ",e._id),this.searchIndexes[r].index.remove(e._id),this.isLocalSearch&&this.debouncedReplication())}},{key:"initSearchWithIndexImport",value:(r=(0,i.default)(a.default.mark(function e(){var t,r,n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=performance.now(),e.next=3,(0,g.importSearchIndexes)(this.storage);case 3:this.searchIndexes=e.sent,r=performance.now(),(0,v.isDebug)()&&E.debug("Index import took ".concat((r-t).toFixed(2)," ms")),n=w(p.SEARCHABLE_DOCTYPES),e.prev=7,n.s();case 9:if((o=n.n()).done){e.next=22;break}if(i=o.value,this.searchIndexes[i]){e.next=17;break}return e.next=15,this.indexDocsForSearch(i);case 15:(c=e.sent)&&(this.searchIndexes[i]=c);case 17:return e.next=19,(0,y.indexOnChanges)(this,this.searchIndexes[i],i);case 19:(0,y.initDoctypeAfterIndexImport)(this.client,i);case 20:e.next=9;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(7),n.e(e.t0);case 27:return e.prev=27,n.f(),e.finish(27);case 30:case"end":return e.stop()}},e,this,[[7,24,27,30]])})),function(){return r.apply(this,arguments)})},{key:"buildSearchIndex",value:function(e,t){var r=performance.now(),n=(0,y.initSearchIndex)(e);(0,y.indexAllDocs)(n,t);var a=performance.now();return E.debug("Create ".concat(e," index took ").concat((a-r).toFixed(2)," ms")),n}},{key:"getLocalLastSeq",value:(n=(0,i.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLocalSearch){e.next=11;break}if(!(r=(0,h.getPouchLink)(this.client))){e.next=8;break}return e.next=5,r.getDbInfo(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:return n=e.t0,e.abrupt("return",(null==n?void 0:n.update_seq)||0);case 11:return e.abrupt("return",-1);case 12:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"initialIndexation",value:(d=(0,i.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.queryLocalOrRemoteDocs)(this.client,t,{isLocalSearch:this.isLocalSearch});case 2:if(!((r=e.sent).length<1)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.buildSearchIndex(t,r),e.next=8,this.getLocalLastSeq(t);case 8:return o=e.sent,this.searchIndexes[t]={index:n,lastSeq:o,lastUpdated:new Date().toISOString()},e.abrupt("return",this.searchIndexes[t]);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"incrementalIndexation",value:(k=(0,i.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.indexOnChanges)(this,r,t));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"indexDocsForSearch",value:(O=(0,i.default)(a.default.mark(function e(t){var r,n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.performanceApi.mark("indexDocsForSearch ".concat(t)),n=this.searchIndexes[t],o=performance.now(),n){e.next=12;break}return e.next=6,this.initialIndexation(t);case 6:if(i=e.sent){e.next=10;break}return this.performanceApi.measure({markName:r,measureName:"".concat(r," initial indexation"),category:"Search"}),e.abrupt("return",null);case 10:e.next=15;break;case 12:return e.next=14,this.incrementalIndexation(t,n);case 14:i=e.sent;case 15:return c=performance.now(),(0,v.isDebug)()&&E.debug("Indexing ".concat(t," took ").concat((c-o).toFixed(2)," ms")),this.performanceApi.measure({markName:r,measureName:"".concat(r," incremental indexation"),category:"Search"}),e.abrupt("return",i);case 19:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"search",value:(C=(0,i.default)(a.default.mark(function e(t,r){var n,o,i,c,u,s,l,d,f,p,h,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.searchIndexes||Object.keys(this.searchIndexes).length<1)){e.next=3;break}return E.warn("[SEARCH] No search index available"),e.abrupt("return",null);case 3:return n=this.performanceApi.mark("search"),o=this.searchOnIndexes(t,null==r?void 0:r.doctypes),i=this.deduplicateAndFlatten(o),e.next=8,(0,m.enrichResultsWithDocs)(this.client,i);case 8:c=e.sent,u=this.sortSearchResults(c,null==r?void 0:r.doctypes),s=this.limitSearchResults(u),l=[],d=w(s);try{for(d.s();!(f=d.n()).done;)p=f.value,h=(0,m.normalizeSearchResult)(this.client,p,t),l.push(h)}catch(e){d.e(e)}finally{d.f()}return v=l.filter(function(e){return e.title}),this.performanceApi.measure({markName:n,category:"Search"}),e.abrupt("return",v);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)})},{key:"searchOnIndexes",value:function(e,t){var r=this,n=[],a=function(a){if(t&&(null==t?void 0:t.length)>0&&!t.includes(a))return"continue";var o=r.searchIndexes[a];if(!o)return E.warn("[SEARCH] No search index available for ",a),"continue";var i=o.index.search(e,1e4,{limit:1e4,enrich:!1}).map(function(e){return x(x({},e),{},{doctype:a})});n=n.concat(i)};for(var o in this.searchIndexes)if("continue"===a(o))continue;return n}},{key:"deduplicateAndFlatten",value:function(e){var t=e.flatMap(function(e){return e.result.map(function(t){return{id:t.toString(),doctype:e.doctype,field:e.field}})}),r=new Map;return t.forEach(function(e){var t,n=e.id,a=e.field,o=e.doctype;r.has(n)?null==(t=r.get(n))||t.fields.push(a):r.set(n,{id:n,fields:[a],doctype:o})}),(0,o.default)(r.values())}},{key:"compareStrings",value:function(e,t){return e||t?e?t?e.localeCompare(t,void 0,{numeric:!0}):-1:1:0}},{key:"sortSearchResults",value:function(e,t){var r=this;return e.sort(function(e,n){var a,o,i,c,u;return 0!=(a=t&&t.length>0?t.findIndex(function(t){return t===e.doctype})-t.findIndex(function(e){return e===n.doctype}):p.DOCTYPE_DEFAULT_ORDER[e.doctype]-p.DOCTYPE_DEFAULT_ORDER[n.doctype])?a:e.doctype===p.APPS_DOCTYPE&&(0,_.isIOCozyApp)(e.doc)&&(0,_.isIOCozyApp)(n.doc)?r.compareStrings(null==(o=e.doc)?void 0:o.slug,null==(i=n.doc)?void 0:i.slug):e.doctype===p.CONTACTS_DOCTYPE&&(0,_.isIOCozyContact)(e.doc)&&(0,_.isIOCozyContact)(n.doc)?r.compareStrings(null==(c=e.doc)?void 0:c.displayName,null==(u=n.doc)?void 0:u.displayName):e.doctype===p.FILES_DOCTYPE&&(0,_.isIOCozyFile)(e.doc)&&(0,_.isIOCozyFile)(n.doc)?r.sortFiles(e,n):0})}},{key:"sortFiles",value:function(e,t){var r,n;return(0,_.isIOCozyFile)(e.doc)&&(0,_.isIOCozyFile)(t.doc)?e.fields.includes("name")&&t.fields.includes("name")?e.doc.type!==t.doc.type?"directory"===e.doc.type?-1:1:this.compareStrings(null==(r=e.doc)?void 0:r.name,null==(n=t.doc)?void 0:n.name):e.fields.includes("name")?-1:1:0}},{key:"limitSearchResults",value:function(e){var t={};return e.filter(function(e){var r=e.doctype;return t[r]?t[r]+=1:t[r]=1,t[r]<=p.LIMIT_DOCTYPE_SEARCH})}}]),S}()},5611:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_FILE=t.TYPE_DIRECTORY=t.TRASH_DIR_ID=t.SHARED_DRIVES_DIR_ID=t.SEARCH_SCHEMA=t.SEARCHABLE_DOCTYPES=t.ROOT_DIR_ID=t.MIN_DELAY_BEFORE_EXPORT=t.LIMIT_DOCTYPE_SEARCH=t.FILES_DOCTYPE=t.DOCTYPE_DEFAULT_ORDER=t.DATAPROXY_STORAGE_PREFIX=t.CONTACTS_DOCTYPE=t.APPS_DOCTYPE=void 0;var o=a(r(76729));t.SEARCHABLE_DOCTYPES=["io.cozy.files","io.cozy.contacts","io.cozy.apps"],t.SEARCH_SCHEMA={"io.cozy.files":["name","path"],"io.cozy.contacts":["displayName","fullname","email[]:address","address[]:formattedAddress","phone[]:number","cozy[]:url","birthday","company","jobTitle"],"io.cozy.apps":["slug","name"]};var i="io.cozy.files";t.FILES_DOCTYPE=i;var c="io.cozy.contacts";t.CONTACTS_DOCTYPE=c;var u="io.cozy.apps";t.APPS_DOCTYPE=u,t.TYPE_DIRECTORY="directory",t.TYPE_FILE="file",t.ROOT_DIR_ID="io.cozy.files.root-dir",t.TRASH_DIR_ID="io.cozy.files.trash-dir",t.SHARED_DRIVES_DIR_ID="io.cozy.files.shared-drives-dir",t.LIMIT_DOCTYPE_SEARCH=100,n={},(0,o.default)(n,u,0),(0,o.default)(n,c,1),(0,o.default)(n,i,2),t.DOCTYPE_DEFAULT_ORDER=n,t.DATAPROXY_STORAGE_PREFIX="@dataproxy",t.MIN_DELAY_BEFORE_EXPORT=3e5},13382:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getPouchLink=void 0;var a=n(r(65968));t.getPouchLink=function(e){return e&&e.links.find(function(e){return e instanceof a.default})||null}},60201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchEncoder=void 0;var n=r(86977);t.getSearchEncoder=function(){return n.encode}},56643:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldKeepApp=void 0;var a=n(r(94619));t.shouldKeepApp=function(e){return!((0,a.default)("apps.hidden")||[]).includes(e.slug)}},68104:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldKeepFile=t.normalizeFileWithFolders=void 0;var a=n(r(76729)),o=r(5611);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.normalizeFileWithFolders=function(e,t){var r,n=t.type===o.TYPE_DIRECTORY,a="";if(n)a=null!=(r=t.path)?r:"";else{var i=e.find(function(e){return e._id===t.dir_id});a=i&&i.path?i.path:""}return c(c({},t),{},{_type:"io.cozy.files",path:a})},t.shouldKeepFile=function(e){var t,r=!e.trashed&&!/^\/\.cozy_trash/.test(null!=(t=e.path)?t:""),n=e._id!==o.ROOT_DIR_ID,a=e._id!==o.SHARED_DRIVES_DIR_ID;return r&&n&&a}},13015:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSearchResult=t.getCleanedFilePath=t.enrichResultsWithDocs=void 0;var o=a(r(30592)),i=a(r(10464)),c=a(r(93889)),u=a(r(76729)),s=r(42895),l=a(r(13572)),d=r(5611),f=r(15140),p=r(87478),h=r(8360);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=(0,l.default)("\uD83D\uDDC2️ [Indexing]");t.normalizeSearchResult=function(e,t,r){var n=g(t.doc),a=k(e,n),o=O(e,n,a),i=x(e,n,o),c=_(n),u=w(e,{fields:t.fields,doc:n,query:r});return{doc:n,slug:a,title:c,subTitle:u,url:o,secondaryUrl:i}};var g=function(e){if(!(0,p.isIOCozyFile)(e))return e;var t=e.path;if(!t)return b.warn("No path found for ".concat(e._id,"}")),e;var r=t;return t.endsWith("/".concat(e.name))&&(r=t.slice(0,-e.name.length-1)),r||(r="/"),y(y({},e),{},{path:r})};t.getCleanedFilePath=g;var _=function(e){return(0,p.isIOCozyFile)(e)?e.name:(0,p.isIOCozyContact)(e)?e.displayName||e.fullname||null:(0,p.isIOCozyApp)(e)?e.name:null},w=function(e,t){var r=t.fields,n=t.doc,a=t.query;if((0,p.isIOCozyFile)(n))return null!=(o=n.path)?o:null;if((0,p.isIOCozyContact)(n)){var o,i,c,u,s=r.find(function(e){return"displayName"!==e&&"fullname"!==e});if(!s)return null;if(s.includes("[]:")){var l=s.split("[]:");if(2!==l.length)return null;var f=l[0],h=l[1],m=n[f],v=Array.isArray(m)&&m.find(function(e){var t="object"==typeof e&&null!==e&&h in e&&e[h];return"string"==typeof t&&t.includes(a)});if(!v)return null;u=v[h]}else u=n[s];return null!=(i=null==(c=u)?void 0:c.toString())?i:null}if(n._type===d.APPS_DOCTYPE)try{var y=e.getInstanceOptions().locale||"en";if(n.locales[y])return n.locales[y].short_description}catch(e){return n.name}return null},k=function(e,t){if((0,p.isIOCozyFile)(t)){if(s.models.file.isNote(t)){var r,n=e.getStackClient().uri,a=null==(r=t.cozyMetadata)?void 0:r.createdOn;return a&&a!=="".concat(n,"/")?"drive":"notes"}return"drive"}return(0,p.isIOCozyContact)(t)?"contacts":(0,p.isIOCozyApp)(t)?t.slug:null},O=function(e,t,r){var n="";if((0,p.isIOCozyFile)(t)){var a=t.type===d.TYPE_DIRECTORY,o=a?t._id:t.dir_id,i="/folder/".concat(o);n=s.models.file.isNote(t)?"notes"===r?"/n/".concat(t._id):"/note/".concat(t._id):s.models.file.shouldBeOpenedByOnlyOffice(t)?"/onlyoffice/".concat(t._id,"?redirectLink=drive").concat(i):a?i:"".concat(i,"/file/").concat(t._id)}return((0,p.isIOCozyContact)(t)&&(n="/".concat(t._id)),r)?(0,s.generateWebLink)({cozyUrl:e.getStackClient().uri,slug:r,subDomainType:e.getInstanceOptions().subdomain,hash:n,pathname:"",searchParams:[]}):null},x=function(e,t,r){if(!(0,p.isIOCozyFile)(t)||!r)return null;var n="/folder/".concat(t.dir_id);return(0,s.generateWebLink)({cozyUrl:e.getStackClient().uri,slug:"drive",subDomainType:e.getInstanceOptions().subdomain,hash:n,pathname:"",searchParams:[]})};n=(0,c.default)(o.default.mark(function e(t,r){var n,a,c,u,s,l,d,p,v,y,g,_,w,k,O,x,E,C,S,A;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,i.default)(r),c=r.reduce(function(e,t){var r=t.id,n=t.doctype;return e[n]||(e[n]=[]),e[n].push(r),e},{}),u=[],s=0,l=Object.keys(c);case 4:if(!(s<l.length)){e.next=18;break}return p=c[d=l[s]],v=performance.now(),y=!1,e.next=11,(0,f.queryDocsByIds)(t,d,p,{fromStore:!1});case 11:g=e.sent,_=performance.now(),u=u.concat(g),(0,h.isDebug)()&&b.debug("Query took ".concat((_-v).toFixed(2)," ms to retrieve ").concat(p.length," ").concat(d," from store: ").concat(y));case 15:s++,e.next=4;break;case 18:w=new Map(null==(n=u)?void 0:n.map(function(e){return[e._id,e]})),k=[],O=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(a);try{for(O.s();!(x=O.n()).done;)S=null==(E=(C=x.value).id)?void 0:E.toString(),(A=w.get(S))?(C.doc=A,k.push(C)):b.error("".concat(S," is found in search but not in local data"))}catch(e){O.e(e)}finally{O.f()}return e.abrupt("return",k);case 23:case"end":return e.stop()}},e)})),t.enrichResultsWithDocs=function(e,t){return n.apply(this,arguments)}},8360:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=void 0;var a=n(r(94619));t.isDebug=function(){return!!(0,a.default)("debug")}},19556:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.initSearchIndex=t.initDoctypeAfterIndexImport=t.indexSingleDoc=t.indexOnChanges=t.indexAllDocs=void 0;var i=o(r(30592)),c=o(r(76729)),u=o(r(93889)),s=o(r(74546)),l=r(5611),d=r(13382),f=r(60201),p=r(56643),h=r(68104),m=r(15140),v=r(87478);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.initSearchIndex=function(e){var t=l.SEARCH_SCHEMA[e];return new s.default.Document({tokenize:"reverse",encode:(0,f.getSearchEncoder)(),minlength:2,document:{id:"_id",index:t,store:!1}})},t.indexAllDocs=function(e,t){var r,n=g(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;k(a)?e.add(a):e.remove(a._id)}}catch(e){n.e(e)}finally{n.f()}return e};var w=function(e,t){k(t)?e.add(t):e.remove(t._id)};t.indexSingleDoc=w,n=(0,u.default)(i.default.mark(function e(t,r,n){var a,o,c,u,s,l,f;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,d.getPouchLink)(t.client),!(!t.isLocalSearch||!a)){e.next=3;break}return e.abrupt("return",r);case 3:return o=(null==r?void 0:r.lastSeq)||0,e.next=6,a.getChanges(n,{include_docs:!0,since:o});case 6:u=g((c=e.sent).results);try{for(u.s();!(s=u.n()).done;)(l=s.value).deleted?r.index.remove(l.id):(f=b(b({},l.doc),{},{_type:n}),w(r.index,f))}catch(e){u.e(e)}finally{u.f()}return r.lastSeq=c.last_seq,r.lastUpdated=new Date().toISOString(),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)})),t.indexOnChanges=function(e,t,r){return n.apply(this,arguments)},a=(0,u.default)(i.default.mark(function e(t,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.queryLocalOrRemoteDocs)(t,r,{isLocalSearch:!0});case 2:case"end":return e.stop()}},e)})),t.initDoctypeAfterIndexImport=function(e,t){return a.apply(this,arguments)};var k=function(e){return(0,v.isIOCozyFile)(e)?(0,h.shouldKeepFile)(e):!(0,v.isIOCozyApp)(e)||(0,p.shouldKeepApp)(e)}},15140:function(e,t,r){"use strict";var n,a,o,i,c,u=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.queryLocalOrRemoteDocs=t.queryFilesForSearch=t.queryDocsByIds=t.queryDocById=t.queryAllDocs=void 0;var s=u(r(30592)),l=u(r(76729)),d=u(r(93889)),f=r(42895),p=u(r(13572)),h=r(5611),m=r(68104),v=r(8360);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var b=(0,p.default)("\uD83D\uDDC2️ [Indexing]"),g=f.fetchPolicies.olderThan(3e5),_=(n=(0,d.default)(s.default.mark(function e(t){var r,n,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStackClient().fetchJSON("GET","/data/io.cozy.files/_all_docs?Fields=_id,trashed,dir_id,name,path,type,mime,class,metadata.title,metadata.version&DesignDocs=false&include_docs=true");case 2:return n=(r=e.sent.rows.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:e.id},e.doc)})).filter(function(e){return e.type===h.TYPE_DIRECTORY}),a=r.filter(function(e){return(0,m.shouldKeepFile)(e)}).map(function(e){return(0,m.normalizeFileWithFolders)(n,e)}),e.abrupt("return",a);case 8:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.queryFilesForSearch=_;var w=(a=(0,d.default)(s.default.mark(function e(t,r){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={as:"".concat(r,"/all"),fetchPolicies:g},e.abrupt("return",t.queryAll((0,f.Q)(r).limitBy(null),n));case 2:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.queryAllDocs=w,o=(0,d.default)(s.default.mark(function e(t,r,n){var a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={as:"".concat(r,"/").concat(n),fetchPolicy:g,singleDocData:!0},e.next=3,t.query((0,f.Q)(r).getById(n),a);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}},e)})),t.queryDocById=function(e,t,r){return o.apply(this,arguments)},i=(0,d.default)(s.default.mark(function e(t,r,n){var a,o,i,c=arguments;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==(a=(c.length>3&&void 0!==c[3]?c[3]:{}).fromStore)&&a)){e.next=5;break}return o=t.getCollectionFromState(r).filter(function(e){return e._id&&n.includes(e._id)}),e.abrupt("return",o);case 5:return e.next=7,t.query((0,f.Q)(r).getByIds(n));case 7:return i=e.sent,e.abrupt("return",i.data);case 9:case"end":return e.stop()}},e)})),t.queryDocsByIds=function(e,t,r){return i.apply(this,arguments)},c=(0,d.default)(s.default.mark(function e(t,r,n){var a,o,i,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.isLocalSearch,o=[],i=performance.now(),!(!a&&r===h.FILES_DOCTYPE)){e.next=9;break}return e.next=6,_(t);case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,w(t,r);case 11:o=e.sent;case 12:return c=performance.now(),(0,v.isDebug)()&&b.debug("Query ".concat(o.length," ").concat(r," took ").concat((c-i).toFixed(2)," ms")),e.abrupt("return",o);case 15:case"end":return e.stop()}},e)})),t.queryLocalOrRemoteDocs=function(e,t,r){return c.apply(this,arguments)}},49846:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.persistExportDate=t.importSearchIndexes=t.getExportDate=t.exportSearchIndexes=void 0;var u=c(r(30592)),s=c(r(93889)),l=c(r(13572)),d=r(5611),f=r(8360),p=r(19556);function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=(0,l.default)("\uD83D\uDDC2️ [Index storage]"),y="searchExportDate",b="searchIndexKeys",g="searchIndexLastSeq",_="searchIndexLastUpdated",w=function(e,t){return"".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(e,":").concat(t)},k=(n=(0,s.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date().toISOString(),e.next=3,null==t?void 0:t.storeData("".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(y),r);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.persistExportDate=k;var O=(a=(0,s.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null==t?void 0:t.getData("".concat(d.DATAPROXY_STORAGE_PREFIX,":").concat(y)));case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)});t.getExportDate=O,o=(0,s.default)(u.default.mark(function e(t,r){var n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O(t);case 4:if(!(n=e.sent)||!(new Date(n).getTime()+d.MIN_DELAY_BEFORE_EXPORT>new Date().getTime())){e.next=9;break}return v.info("Export already happened earlier, skip it."),e.abrupt("return");case 9:v.info("Start indexes export"),a=u.default.mark(function e(){var n,a,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r[n=i[o]],c=[],e.next=6,a.index.export(function(e,r){c.push(e),JSON.stringify(r)&&t.storeData(w(n,e),r)});case 6:return e.next=8,t.storeData(w(n,b),c);case 8:return e.next=10,t.storeData(w(n,g),a.lastSeq);case 10:return e.next=12,t.storeData(w(n,_),a.lastUpdated);case 12:case"end":return e.stop()}},e)}),o=0,i=Object.keys(r);case 12:if(!(o<i.length)){e.next=17;break}return e.delegateYield(a(),"t0",14);case 14:o++,e.next=12;break;case 17:return e.next=19,k(t);case 19:v.info("Indexes export done");case 20:case"end":return e.stop()}},e)})),t.exportSearchIndexes=function(e,t){return o.apply(this,arguments)},i=(0,s.default)(u.default.mark(function e(t){var r,n,a,o,i,c,s,l,m,y,k,O,x,E,C;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.info("Start indexes import"),r={},t){e.next=4;break}return e.abrupt("return",r);case 4:n=h(d.SEARCHABLE_DOCTYPES),e.prev=5,n.s();case 7:if((a=n.n()).done){e.next=50;break}return o=a.value,i=(0,p.initSearchIndex)(o),c=performance.now(),e.next=13,t.getData(w(o,b));case 13:if(s=e.sent){e.next=17;break}return v.warn("No keys available to import index ".concat(o)),e.abrupt("continue",48);case 17:l=h(s),e.prev=18,l.s();case 20:if((m=l.n()).done){e.next=30;break}return y=m.value,e.next=24,t.getData(w(o,y));case 24:if(!(k=e.sent)){e.next=28;break}return e.next=28,i.import(y,k);case 28:e.next=20;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(18),l.e(e.t0);case 35:return e.prev=35,l.f(),e.finish(35);case 38:return e.next=40,t.getData(w(o,g));case 40:return O=e.sent,e.next=43,t.getData(w(o,_));case 43:x=e.sent,E={index:i,lastSeq:O,lastUpdated:x},r[o]=E,C=performance.now(),(0,f.isDebug)()&&v.debug("".concat(o," import took ").concat((C-c).toFixed(2)," ms"));case 48:e.next=7;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(5),n.e(e.t1);case 55:return e.prev=55,n.f(),e.finish(55);case 58:return e.abrupt("return",r);case 59:case"end":return e.stop()}},e,null,[[5,52,55,58],[18,32,35,38]])})),t.importSearchIndexes=function(e){return i.apply(this,arguments)}},87478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchedDoctype=t.isIOCozyFile=t.isIOCozyContact=t.isIOCozyApp=void 0;var n=r(5611);t.isIOCozyFile=function(e){return e._type===n.FILES_DOCTYPE},t.isIOCozyContact=function(e){return e._type===n.CONTACTS_DOCTYPE},t.isIOCozyApp=function(e){return e._type===n.APPS_DOCTYPE};var a=Object.keys(n.SEARCH_SCHEMA);t.isSearchedDoctype=function(e){return!!e&&a.includes(e)}},9131:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.startApp=t.default=t.checkApp=void 0;var i=o(r(30592)),c=o(r(93889)),u=r(58564),s=function(){return window.startApp},l=function(e){var t=e.appId,r=e.uri;return(0,u.isAndroidApp)()?{package:t}:r},d={};n=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.startApp,e.next=3,d.checkApp(t);case 3:if(!e.sent){e.next=9;break}return n=l(t),e.abrupt("return",new Promise(function(e,t){if(!s())return void t(Error("Cordova plugin 'com.lampa.startapp' is not installed. This plugin is needed to start a native app. Required by cozy-bar"));r.set(n).start(e,t)}));case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),t.startApp=d.startApp=function(e){return n.apply(this,arguments)},a=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.startApp,n=l(t),e.abrupt("return",new Promise(function(e,t){if(!s())return void t(Error("Cordova plugin 'com.lampa.startapp' is not installed."));r.set(n).check(function(t){return e("OK"===t||t)},function(r){!1===r||0===r.indexOf("NameNotFoundException")?e(!1):t(r)})}));case 3:case"end":return e.stop()}},e)})),t.checkApp=d.checkApp=function(e){return a.apply(this,arguments)},t.default=d},65935:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCordova=void 0,t.isCordova=function(){return"undefined"!=typeof window&&void 0!==window.cordova}},77797:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openDeeplinkOrRedirect=void 0;var r=function(e,t,r){var n=document.createElement("iframe");return n.src=t,n.id="hiddenIframe_".concat(r),n.style.display="none",e.appendChild(n),n},n=function(e,t){var n=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);window.addEventListener("blur",i);var a=r(document.body,"about:blank",n),o=setTimeout(function(){t(),window.removeEventListener("blur",i),a.parentElement.removeChild(a)},500);function i(){clearTimeout(o),window.removeEventListener("blur",i),a.parentElement.removeChild(a)}a.contentWindow.location.href=e},a=function(e,t){for(var r=setTimeout(function(){t(),n.removeEventListener("blur",a)},500),n=window;n!=n.parent;)n=n.parent;function a(){clearTimeout(r),n.removeEventListener("blur",a)}n.addEventListener("blur",a),window.location=e},o=function(e,t){navigator.msLaunchUri(e,void 0,t)},i=function(){var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t=navigator.userAgent.toLowerCase(),r=t.includes("safari")&&!t.includes("chrome")||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=n&&(t.includes("os 12_2")||t.includes("os 12_3"));return{isOpera:e,isFirefox:void 0!==window.InstallTrigger,isSafari:r,isChrome:!!window.chrome&&!e,isIOS122:a,isIOS:n}};t.openDeeplinkOrRedirect=function(e,t){if(navigator.msLaunchUri)o(e,t);else{var r=i();r.isChrome||r.isIOS&&!r.isIOS122?a(e,t):r.isSafari&&!r.isIOS122||r.isFirefox?n(e,t):t()}}},55857:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceName=void 0;var a=n(r(14792)),o=r(65935),i=r(32675),c=r(58564),u="Device",s=function(e){for(var t=0,r=["iPhone","iPad","Watch","AppleTV"];t<r.length;t++){var n=r[t];if(e.match(new RegExp(n)))return n}return u};t.getDeviceName=function(){if(!(0,i.hasDevicePlugin)())return(0,o.isCordova)()&&console.warn("You should install `cordova-plugin-device`."),u;var e=window.device,t=e.manufacturer,r=e.model,n=(0,c.isIOSApp)()?s(r):r;return"".concat((0,a.default)(t)," ").concat(n)}},19819:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isFlagshipOfflineSupported=t.isFlagshipApp=t.getFlagshipMetadata=t.FlagshipRoutes=void 0;var i=o(r(40918));t.FlagshipRoutes=a,(n=a||(t.FlagshipRoutes=a={})).Home="home",n.Cozyapp="cozyapp",n.Authenticate="authenticate",n.Onboarding="onboarding",n.Stack="stack";var c=function(){return"undefined"!=typeof window?window:void(0,i.default)("error",'"window" is not defined. This means that getGlobalWindow() shouldn\'t have been called and investigation should be done to prevent this call')};t.getFlagshipMetadata=function(){var e,t,r;return null!=(e=null==(t=c())||null==(r=t.cozy)?void 0:r.flagship)?e:{}},t.isFlagshipApp=function(){var e,t;return(null==(e=c())||null==(t=e.cozy)?void 0:t.flagship)!==void 0},t.isFlagshipOfflineSupported=function(){var e,t,r;return null==(e=c())||null==(t=e.cozy)||null==(r=t.flagship)?void 0:r.offline_available}},7127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkApp",{enumerable:!0,get:function(){return o.checkApp}}),Object.defineProperty(t,"getDeviceName",{enumerable:!0,get:function(){return a.getDeviceName}}),Object.defineProperty(t,"getFlagshipMetadata",{enumerable:!0,get:function(){return l.getFlagshipMetadata}}),Object.defineProperty(t,"getPlatform",{enumerable:!0,get:function(){return n.getPlatform}}),Object.defineProperty(t,"hasDevicePlugin",{enumerable:!0,get:function(){return i.hasDevicePlugin}}),Object.defineProperty(t,"hasInAppBrowserPlugin",{enumerable:!0,get:function(){return i.hasInAppBrowserPlugin}}),Object.defineProperty(t,"hasNetworkInformationPlugin",{enumerable:!0,get:function(){return i.hasNetworkInformationPlugin}}),Object.defineProperty(t,"hasSafariPlugin",{enumerable:!0,get:function(){return i.hasSafariPlugin}}),Object.defineProperty(t,"isAndroid",{enumerable:!0,get:function(){return n.isAndroid}}),Object.defineProperty(t,"isAndroidApp",{enumerable:!0,get:function(){return n.isAndroidApp}}),Object.defineProperty(t,"isCordova",{enumerable:!0,get:function(){return c.isCordova}}),Object.defineProperty(t,"isFlagshipApp",{enumerable:!0,get:function(){return l.isFlagshipApp}}),Object.defineProperty(t,"isFlagshipOfflineSupported",{enumerable:!0,get:function(){return l.isFlagshipOfflineSupported}}),Object.defineProperty(t,"isIOS",{enumerable:!0,get:function(){return n.isIOS}}),Object.defineProperty(t,"isIOSApp",{enumerable:!0,get:function(){return n.isIOSApp}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return n.isMobile}}),Object.defineProperty(t,"isMobileApp",{enumerable:!0,get:function(){return n.isMobileApp}}),Object.defineProperty(t,"isWebApp",{enumerable:!0,get:function(){return n.isWebApp}}),Object.defineProperty(t,"nativeLinkOpen",{enumerable:!0,get:function(){return u.nativeLinkOpen}}),Object.defineProperty(t,"openDeeplinkOrRedirect",{enumerable:!0,get:function(){return s.openDeeplinkOrRedirect}}),Object.defineProperty(t,"startApp",{enumerable:!0,get:function(){return o.startApp}});var n=r(58564),a=r(55857),o=r(9131),i=r(32675),c=r(65935),u=r(56851),s=r(77797),l=r(19819)},56851:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.nativeLinkOpen=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(32675);n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,e.next=3,(0,c.hasSafariPlugin)();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=window.SafariViewController;case 6:if(!e.t0){e.next=10;break}window.SafariViewController.show({url:r,transition:"curl"},function(e){"closed"===e.event&&window.SafariViewController.hide()},function(){window.SafariViewController.hide()}),e.next=11;break;case 10:(0,c.hasInAppBrowserPlugin)()?window.cordova.InAppBrowser.open(r,"_blank","clearcache=yes,zoom=no"):window.location=r;case 11:case"end":return e.stop()}},e)})),t.nativeLinkOpen=function(e){return n.apply(this,arguments)}},58564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebApp=t.isMobileApp=t.isMobile=t.isIOSApp=t.isIOS=t.isAndroidApp=t.isAndroid=t.getPlatform=void 0;var n=r(65935),a=function(){return(0,n.isCordova)()?window.cordova.platformId:"web"};t.getPlatform=a;var o=function(e){return a()===e};t.isIOSApp=function(){return o("ios")},t.isAndroidApp=function(){return o("android")},t.isWebApp=function(){return o("web")},t.isMobileApp=function(){return(0,n.isCordova)()};var i=function(){return window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0};t.isAndroid=i;var c=function(){return window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)};t.isIOS=c,t.isMobile=function(){return i()||c()}},32675:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasSafariPlugin=t.hasNetworkInformationPlugin=t.hasInAppBrowserPlugin=t.hasDevicePlugin=void 0;var n=r(65935);t.hasDevicePlugin=function(){return(0,n.isCordova)()&&void 0!==window.device},t.hasInAppBrowserPlugin=function(){return(0,n.isCordova)()&&void 0!==window.cordova.InAppBrowser},t.hasSafariPlugin=function(){return new Promise(function(e){if(!(0,n.isCordova)()||void 0===window.SafariViewController)return void e(!1);window.SafariViewController.isAvailable(function(t){return e(t)})})},t.hasNetworkInformationPlugin=function(){return(0,n.isCordova)()&&void 0!==window.navigator.connection}},63852:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.FlagEdit=void 0;var a=n(r(76729)),o=n(r(13135)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),c=n(r(94619)),u=n(r(36040)),s=n(r(29592)),l=r(15545);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.FlagEdit=function(e){var t=e.flag,r=(0,i.useState)({key:"",name:"",value:"",humanValue:""}),n=(0,o.default)(r,2),a=n[0],d=n[1];return(0,i.useEffect)(function(){t&&d(t)},[t]),i.default.createElement("form",{onSubmit:function(e){if(e.preventDefault(),a.name&&a.value){var t=a.value;(0,l.isJSONString)(t)?t=JSON.parse(t):("true"===t||"false"===t)&&(t=!!t),(0,c.default)(a.name,t),location.reload()}},className:"u-mt-1 u-flex-items-center u-flex"},i.default.createElement(s.default,{label:"Name",name:"name",onChange:function(e){d(p(p({},a),{},{key:"flag__".concat(e.target.value),name:e.target.value}))},value:a.name,size:"small",variant:"outlined"}),i.default.createElement(s.default,{label:"Value",name:"value",onChange:function(e){var t=e.target.value;Number.isInteger(t)&&(t=parseInt(t)),d(p(p({},a),{},{value:t,humanValue:(0,l.makeHumanValue)(t)}))},value:a.humanValue,size:"small",variant:"outlined",className:"u-ml-1"}),i.default.createElement(u.default,{type:"submit",label:"Edit",className:"u-ml-1"}))}},62619:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(67085),i=n(r(94619)),c=n(r(71973)),u=n(r(90774)),s=n(r(74710)),l=n(r(66052)),d=n(r(58057)),f=n(r(27282)),p=n(r(72637)),h=n(r(77148)),m=n(r(38143));t.default=function(e){var t=e.flag,r=e.onEdit,n=e.onTrash;return a.default.createElement(f.default,{size:"small"},a.default.createElement(p.default,null,"boolean"===t.type?a.default.createElement(c.default,{size:"small",checked:t.value,onChange:function(e){(0,i.default)(t.name,e.target.checked),location.reload()}}):null),a.default.createElement(m.default,{primary:t.humanName,secondary:"object"===t.type?a.default.createElement(o.ObjectInspector,{data:t.value}):"boolean"!==t.type?t.humanValue:null}),a.default.createElement(h.default,null,a.default.createElement(s.default,{onClick:function(){return r(t)}},a.default.createElement(u.default,{icon:l.default})),a.default.createElement(s.default,{onClick:function(){return n(t)}},a.default.createElement(u.default,{icon:d.default}))))}},44143:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=n(r(70879)),c=n(r(39274)),u=r(63852),s=n(r(62619)),l=r(15545),d=n(r(51309));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.default=function(){var e=(0,o.useState)(null),t=(0,a.default)(e,2),r=t[0],n=t[1],f=(0,l.computeFlags)(),p=function(e){n(e)},h=function(e){localStorage.getItem(e.key)&&(localStorage.removeItem(e.key),location.reload())};return o.default.createElement(d.default,null,o.default.createElement(c.default,{variant:"subtitle1"},"Flags"),o.default.createElement(i.default,{dense:!0,className:"u-maw-6"},f.map(function(e){return o.default.createElement(s.default,{key:e.key,flag:e,onEdit:p,onTrash:h})})),o.default.createElement(u.FlagEdit,{flag:r}))}},15545:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeHumanValue=t.isJSONString=t.computeFlags=void 0;var a=n(r(94619)),o=function(e){return"object"==typeof e?JSON.stringify(e):e.toString()};t.makeHumanValue=o,t.computeFlags=function(){return a.default.list().map(function(e){var t=(0,a.default)(e);return{key:"flag__".concat(e),name:e,type:typeof t,humanName:e.replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase()}),value:t,humanValue:o(t)}})},t.isJSONString=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}},36686:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=n(r(96540)),i=n(r(39274)),c=n(r(51309));t.default=function(){var e=Object.entries("undefined"!=typeof __VERSIONS__?__VERSIONS__:{});return o.default.createElement(c.default,null,o.default.createElement(i.default,{variant:"subtitle1",gutterBottom:!0},"Library versions"),e.map(function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return o.default.createElement("div",{key:r},r,": ",n," -"," ",o.default.createElement("img",{src:"https://img.shields.io/npm/v/".concat(r,"?style=flat-square}")}))}),0===e.length?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.default,{variant:"body1"},"__VERSIONS__ is not exposed to the app. For this panel to work, you must add the VersionsPlugin."),o.default.createElement("pre",null,"\nconst VersionPlugin = require('cozy-scripts/plugins/VersionPlugin')\n\nnew VersionPlugin({\n    packages: ['cozy-bar', 'cozy-ui', 'cozy-harvest-lib']\n})\n          ")):null)}},51309:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(89004));t.default=function(e){var t=e.children;return a.default.createElement(o.default,{p:1,overflow:"scroll",width:"100%"},t)}},81944:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=n(r(98834)),i=n(r(93198)),c=n(r(44775)),u=n(r(16673)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),l=r(67085),d=r(42895),f=n(r(89004)),p=n(r(44819)),h=n(r(27282)),m=n(r(38143)),v=n(r(32859)),y=n(r(15133)),b=n(r(83181)),g=n(r(88245)),_=n(r(69640)),w=n(r(38599)),k=n(r(39274)),O=r(52245),x=n(r(51309)),E=r(36083);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}var S={height:"100%",overflow:"scroll",flexGrow:1},A={fontFamily:"monospace"},P={width:400},M=(0,O.withStyles)({root:{fontFamily:"inherit",fontSize:"small"}})(g.default),j=function(e){var t=e.queryState,r=t.fetchStatus,n=t.lastError;return s.default.createElement("span",{className:"loaded"===r?"u-valid":"pending"===r?"u-warn":"failed"===r?"u-error":""},r,"failed"===r?" - ".concat(n):null)},D=function(e){var t=e.queryState.definition.indexedFields;return s.default.createElement("span",{className:"u-primaryColor"},t?t.join(", "):null)},T=function(e){var t=e.split(";").map(function(e){var t=e.split(":"),r=(0,a.default)(t,2),n=r[0],o=r[1];return function(e){if(!o)return!1;var t=(0,i.default)(e,n);return t&&t.toString().toLowerCase().includes(o.toLowerCase())}});return(0,c.default)(t)},I=function(e){var t=e.data,r=e.doctype,n=(0,d.useClient)(),o=(0,s.useState)(!1),i=(0,a.default)(o,2),c=i[0],u=i[1],f=n.store.getState().cozy.documents[r],p=(0,s.useMemo)(function(){return t.map(function(e){return n.hydrateDocument(f[e])})},[n,t,f]),h=(0,s.useCallback)(function(){return u(function(e){return!e})},[u]),m=(0,s.useState)(null),v=(0,a.default)(m,2),y=v[0],b=v[1],g=(0,s.useState)(""),_=(0,a.default)(g,2),w=_[0],k=_[1],O=(0,s.useCallback)(function(e){var t=e.target.value,r=""!==t?T(t):null,n=r?p.filter(r):null;k(t),b(n)},[p]),x=y||p;return s.default.createElement("div",{className:"u-pb-3"},"Table:"," ",s.default.createElement("input",{type:"checkbox",onChange:h,checked:c}),s.default.createElement("br",null),"Search:"," ",s.default.createElement("input",{type:"text",placeholder:"field.nested_field:value;other_field:other_value",onChange:O,value:w,style:P}),s.default.createElement("br",null),c?s.default.createElement(l.TableInspector,{data:x}):s.default.createElement(l.ObjectInspector,{data:x}))},R=function(e){var t=e.object,r=(0,s.useState)(!1),n=(0,a.default)(r,2),o=n[0],i=n[1],c=(0,s.useCallback)(function(){return i(function(e){return!e})},[i]);return s.default.createElement(s.default.Fragment,null,"Stringify:"," ",s.default.createElement("input",{type:"checkbox",onChange:c,checked:o}),o?s.default.createElement("pre",null,JSON.stringify(t,null,2)):s.default.createElement(l.ObjectInspector,{data:t}))},N=function(e){var t=e.name,r=(0,d.useClient)().store.getState().cozy.queries[t],n=r.data,a=r.options,i=(0,s.useMemo)(function(){return{lastFetch:new Date(r.lastFetch),lastUpdate:new Date(r.lastUpdate)}},[r]),c=i.lastFetch,u=i.lastUpdate;return s.default.createElement(s.default.Fragment,null,s.default.createElement(_.default,{component:v.default,elevation:0},s.default.createElement(y.default,{style:A,size:"small",className:"u-w-auto"},s.default.createElement(b.default,null,s.default.createElement(w.default,null,s.default.createElement(M,null,"doctype"),s.default.createElement(M,null,r.definition.doctype)),s.default.createElement(w.default,null,s.default.createElement(M,null,"definition"),s.default.createElement(M,null,s.default.createElement(R,{object:r.definition}))),s.default.createElement(w.default,null,s.default.createElement(M,null,"indexFields"),s.default.createElement(M,null,s.default.createElement(D,{queryState:r}))),s.default.createElement(w.default,null,s.default.createElement(M,null,"fetchStatus"),s.default.createElement(M,null,s.default.createElement(j,{queryState:r}))),s.default.createElement(w.default,null,s.default.createElement(M,null,"lastFetch"),s.default.createElement(M,null,(0,o.default)(c,"HH:mm:ss"))),s.default.createElement(w.default,null,s.default.createElement(M,null,"lastUpdate"),s.default.createElement(M,null,(0,o.default)(u,"HH:mm:ss"))),s.default.createElement(w.default,null,s.default.createElement(M,null,"documents"),s.default.createElement(M,null,n&&void 0!==n.length?n.length:+!!n)),s.default.createElement(w.default,null,s.default.createElement(M,null,"autoUpdate"),s.default.createElement(M,null,a&&a.autoUpdate?JSON.stringify(a.autoUpdate):"null")),s.default.createElement(w.default,null,s.default.createElement(M,null,"execution stats"),s.default.createElement(M,null,s.default.createElement(R,{object:r.execution_stats})))))),s.default.createElement(I,{data:n,doctype:r.definition.doctype}))},L=function(e){var t=e.name,r=e.selected,n=e.onClick,a=(0,d.useClient)().store.getState().cozy.queries[t],i=(0,s.useMemo)(function(){return(0,o.default)(new Date(a.lastUpdate),"HH:mm:ss")},[a]);return s.default.createElement(h.default,{dense:!0,button:!0,selected:r,onClick:n},s.default.createElement(m.default,{primary:t,secondary:s.default.createElement(s.default.Fragment,null,"failed"===a.fetchStatus?s.default.createElement(s.default.Fragment,null,s.default.createElement("span",{className:"u-error"},"failed")," -"," "):null,a.execution_stats&&s.default.createElement(s.default.Fragment,null,s.default.createElement(F,{queryState:a})," -"," "),i?s.default.createElement(s.default.Fragment,null,i," -"):null,a.data.length," docs")}),s.default.createElement(E.NavSecondaryAction,null))},F=function(e){var t,r=e.queryState;if(!r.execution_stats)return null;var n=(t=r.execution_stats.execution_time_ms)<=100?"u-valid u-success":t>100&&t<250?"u-warn u-warning":"u-danger u-error";return s.default.createElement("span",{className:n},Math.round(r.execution_stats.execution_time_ms)," ms")};t.default=function(){var e=(0,d.useClient)().store.getState().cozy.queries,t=(0,s.useMemo)(function(){return(0,u.default)(e?Object.values(e):[],function(e){return Math.max(e.lastUpdate||-1/0,e.lastErrorUpdate||-1/0)}).map(function(e){return e.id}).reverse()},[e]),r=(0,s.useState)(function(){return t[0]}),n=(0,a.default)(r,2),o=n[0],i=n[1];return s.default.createElement(s.default.Fragment,null,s.default.createElement(E.ListGridItem,null,t.map(function(e){return s.default.createElement(L,{name:e,key:e,onClick:function(){return i(e)},selected:name===o})}),0===t.length?s.default.createElement(x.default,null,s.default.createElement(k.default,{variant:"body1"},"No queries yet.")):null),s.default.createElement(f.default,{clone:!0,p:1,minWidth:400},s.default.createElement(p.default,{item:!0,style:S},s.default.createElement(k.default,{variant:"subtitle1"},o),o?s.default.createElement(N,{name:o}):null)))}},36083:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.NavSecondaryAction=t.ListGridItem=void 0;var a=n(r(96540)),o=n(r(44819)),i=n(r(90774)),c=n(r(83393)),u=n(r(77148)),s={height:"100%",overflow:"scroll",flexBasis:240,flexShrink:0,flexGrow:0,boxShadow:"var(--shadow1)"};t.NavSecondaryAction=function(){return a.default.createElement(u.default,null,a.default.createElement(i.default,{icon:c.default,className:"u-mr-half",color:"var(--secondaryTextColor)"}))},t.ListGridItem=function(e){var t=e.children;return a.default.createElement(o.default,{item:!0,style:s},t)}},72192:function(e,t,r){"use strict";var n=r(36126);t.default=void 0;var a=n(r(13135)),o=n(r(10464)),i=n(r(82710)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),u=n(r(89004)),s=n(r(99083)),l=n(r(44819)),d=n(r(90774)),f=n(r(74710)),p=n(r(91152)),h=n(r(81412)),m=n(r(70879)),v=n(r(27282)),y=n(r(38143)),b=n(r(32859)),g=n(r(60076)),_=n(r(39274)),w=r(52245),k=n(r(44143)),O=n(r(36686)),x=n(r(81944)),E=r(36083),C=r(51335);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}n(r(51309));var A=(0,w.makeStyles)(function(e){return{fab:{position:"fixed",left:"1rem",bottom:"1rem",zIndex:1e6},panel:{position:"fixed",bottom:0,left:0,right:0,zIndex:1e6},closeIcon:{position:"absolute",top:"0",right:"0.5rem",transform:"translateY(-66%)",background:"var(--paperBackgroundColor)",border:"2px solid ".concat(e.palette.primary.main),boxShadow:"var(--shadow1)",zIndex:1,"&:hover":{background:"var(--paperBackgroundColor)"}},panelContainer:{background:"var(--paperBackgroundColor)",height:"100%",flexWrap:"nowrap",overflowX:"scroll"},panelRight:{height:"100%",overflowY:"scroll",flexGrow:1,minWidth:150},mono:{fontFamily:"monospace"}}}),P=[{id:"queries",Component:x.default},{id:"flags",Component:k.default},{id:"library versions",Component:O.default}],M=function(e){var t=e.selected,r=e.panels,n=e.onNav;return c.default.createElement(m.default,null,r.map(function(e){return c.default.createElement(v.default,{key:e.id,selected:t===e.id,dense:!0,button:!0,onClick:function(){return n(e.id)}},c.default.createElement(y.default,null,e.id),c.default.createElement(E.NavSecondaryAction,null))}))},j=(0,w.makeStyles)(function(e){return{root:{height:3,width:"100%",background:e.palette.primary.main,cursor:"row-resize"}}}),D=function(e){var t=(0,i.default)({},e),r=j((0,w.useTheme)());return c.default.createElement("div",(0,i.default)({className:r.root},t))},T=function(e){var t=e.panels,r=e.open,n=(0,c.useMemo)(function(){return t?[].concat(P,(0,o.default)(t)):P},[t]),i=(0,C.useLocalState)("cozydevtools__panel","queries"),s=(0,a.default)(i,2),h=s[0],m=s[1],v=(0,c.useRef)(),y=(0,C.useLocalState)("cozydevtools__height",300),w=(0,a.default)(y,2),k=w[0],O=w[1],x=A();return c.default.createElement(g.default,{direction:"up",in:r,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement(b.default,{elevation:12,ref:v,className:e.className,style:{height:k}},c.default.createElement(D,{onMouseDown:function(e){if(0===e.button){var t=v.current;if(void 0!==t){var r={originalHeight:t.getBoundingClientRect().height,pageY:e.pageY},n=function(e){var t=r.pageY-e.pageY;O(r.originalHeight+t)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseUp",e)})}}}}),c.default.createElement(f.default,{className:x.closeIcon,onClick:e.onClose},c.default.createElement(d.default,{icon:p.default,size:12})),c.default.createElement(l.default,{container:!0,className:x.panelContainer},c.default.createElement(E.ListGridItem,null,c.default.createElement(u.default,{p:1},c.default.createElement(_.default,{variant:"subtitle1"},"Cozy Devtools")),c.default.createElement(M,{panels:n,selected:h,onNav:m})),n.map(function(e){return h===e.id?c.default.createElement(e.Component,{key:e.id}):null}))))};t.default=function(e){var t=e.panels,r=A(),n=(0,C.useLocalState)("cozydevtools__open",!1),o=(0,a.default)(n,2),i=o[0],u=o[1],l=(0,c.useCallback)(function(){return u(function(e){return!e})},[u]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{color:"primary",onClick:l,className:r.fab},c.default.createElement(d.default,{icon:h.default})),c.default.createElement(T,{open:i,className:r.panel,onClose:l,panels:t}))}},51335:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalState=void 0;var a=n(r(13135)),o=r(96540);t.useLocalState=function(e,t){var r=(0,o.useState)(function(){var r=localStorage.getItem(e);try{return null!==r?JSON.parse(r):t}catch(e){return t}}),n=(0,a.default)(r,2),i=n[0],c=n[1],u=(0,o.useCallback)(function(e){c(e)},[c]);return(0,o.useEffect)(function(){localStorage.setItem(e,JSON.stringify(i))},[e,i]),[i,u]}},78046:function(e,t,r){e.exports=r(72368)(r(15075),"DataView")},61595:function(e,t,r){var n=r(97338),a=r(20604),o=r(10159),i=r(61395),c=r(17739);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=c,e.exports=u},19105:function(e,t,r){var n=r(56380),a=r(20858),o=r(53749),i=r(32025),c=r(28561);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=c,e.exports=u},51037:function(e,t,r){e.exports=r(72368)(r(15075),"Map")},99063:function(e,t,r){var n=r(96862),a=r(78232),o=r(72507),i=r(40951),c=r(20556);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=c,e.exports=u},43742:function(e,t,r){e.exports=r(72368)(r(15075),"Promise")},10267:function(e,t,r){e.exports=r(72368)(r(15075),"Set")},71593:function(e,t,r){var n=r(99063),a=r(85894),o=r(30977);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},88995:function(e,t,r){var n=r(19105),a=r(8226),o=r(23124),i=r(82823),c=r(92827),u=r(33859);function s(e){var t=this.__data__=new n(e);this.size=t.size}s.prototype.clear=a,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=c,s.prototype.set=u,e.exports=s},75127:function(e,t,r){e.exports=r(15075).Symbol},32546:function(e,t,r){e.exports=r(15075).Uint8Array},30517:function(e,t,r){e.exports=r(72368)(r(15075),"WeakMap")},63332:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},13407:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},74728:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}},31777:function(e,t,r){var n=r(48914),a=r(47230),o=r(72355),i=r(34158),c=r(78695),u=r(97301),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&a(e),d=!r&&!l&&i(e),f=!r&&!l&&!d&&u(e),p=r||l||d||f,h=p?n(e.length,String):[],m=h.length;for(var v in e)(t||s.call(e,v))&&!(p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,m)))&&h.push(v);return h}},16510:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},37154:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},70974:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},99119:function(e,t,r){var n=r(42826);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}},99795:function(e,t,r){var n=r(91019);e.exports=r(43823)(n)},58750:function(e,t,r){var n=r(37154),a=r(66513);e.exports=function e(t,r,o,i,c){var u=-1,s=t.length;for(o||(o=a),c||(c=[]);++u<s;){var l=t[u];r>0&&o(l)?r>1?e(l,r-1,o,i,c):n(c,l):i||(c[c.length]=l)}return c}},53083:function(e,t,r){e.exports=r(81655)()},91019:function(e,t,r){var n=r(53083),a=r(63048);e.exports=function(e,t){return e&&n(e,t,a)}},88784:function(e,t,r){var n=r(85683),a=r(37611);e.exports=function(e,t){t=n(t,e);for(var r=0,o=t.length;null!=e&&r<o;)e=e[a(t[r++])];return r&&r==o?e:void 0}},68293:function(e,t,r){var n=r(37154),a=r(72355);e.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},94650:function(e,t,r){var n=r(75127),a=r(46601),o=r(27340),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},47643:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},72360:function(e,t,r){var n=r(94650),a=r(25852);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},3608:function(e,t,r){var n=r(5398),a=r(25852);e.exports=function e(t,r,o,i,c){return t===r||(null!=t&&null!=r&&(a(t)||a(r))?n(t,r,o,i,e,c):t!=t&&r!=r)}},5398:function(e,t,r){var n=r(88995),a=r(55185),o=r(25204),i=r(53239),c=r(61719),u=r(72355),s=r(34158),l=r(97301),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,v,y){var b=u(e),g=u(t),_=b?f:c(e),w=g?f:c(t);_=_==d?p:_,w=w==d?p:w;var k=_==p,O=w==p,x=_==w;if(x&&s(e)){if(!s(t))return!1;b=!0,k=!1}if(x&&!k)return y||(y=new n),b||l(e)?a(e,t,r,m,v,y):o(e,t,_,r,m,v,y);if(!(1&r)){var E=k&&h.call(e,"__wrapped__"),C=O&&h.call(t,"__wrapped__");if(E||C){var S=E?e.value():e,A=C?t.value():t;return y||(y=new n),v(S,A,r,m,y)}}return!!x&&(y||(y=new n),i(e,t,r,m,v,y))}},83725:function(e,t,r){var n=r(88995),a=r(3608);e.exports=function(e,t,r,o){var i=r.length,c=i,u=!o;if(null==e)return!c;for(e=Object(e);i--;){var s=r[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<c;){var l=(s=r[i])[0],d=e[l],f=s[1];if(u&&s[2]){if(void 0===d&&!(l in e))return!1}else{var p=new n;if(o)var h=o(d,f,l,e,t,p);if(!(void 0===h?a(f,d,3,o,p):h))return!1}}return!0}},39705:function(e,t,r){var n=r(56788),a=r(19638),o=r(85859),i=r(42999),c=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,l=u.hasOwnProperty,d=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?d:c).test(i(e))}},731:function(e,t,r){var n=r(94650),a=r(84764),o=r(25852),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[n(e)]}},41307:function(e,t,r){var n=r(50869),a=r(70124),o=r(96806),i=r(72355),c=r(25621);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):c(e)}},86698:function(e,t,r){var n=r(92293),a=r(7156),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},80166:function(e,t,r){var n=r(99795),a=r(37020);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,function(e,n,a){o[++r]=t(e,n,a)}),o}},50869:function(e,t,r){var n=r(83725),a=r(59234),o=r(72615);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},70124:function(e,t,r){var n=r(3608),a=r(93198),o=r(93373),i=r(85648),c=r(75542),u=r(72615),s=r(37611);e.exports=function(e,t){return i(e)&&c(t)?u(s(e),t):function(r){var i=a(r,e);return void 0===i&&i===t?o(r,e):n(t,i,3)}}},95073:function(e,t,r){var n=r(16510),a=r(41307),o=r(80166),i=r(58555),c=r(40859),u=r(8412),s=r(96806);e.exports=function(e,t,r){var l=-1;return t=n(t.length?t:[s],c(a)),i(o(e,function(e,r,a){return{criteria:n(t,function(t){return t(e)}),index:++l,value:e}}),function(e,t){return u(e,t,r)})}},52435:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},12605:function(e,t,r){var n=r(88784);e.exports=function(e){return function(t){return n(t,e)}}},42800:function(e,t,r){var n=r(96806),a=r(67443),o=r(13655);e.exports=function(e,t){return o(a(e,t,n),e+"")}},16344:function(e,t,r){var n=r(35612),a=r(34785),o=r(96806);e.exports=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o},58555:function(e){e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},48914:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},30146:function(e,t,r){var n=r(75127),a=r(16510),o=r(72355),i=r(25284),c=1/0,u=n?n.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-c?"-0":r}},40859:function(e){e.exports=function(e){return function(t){return e(t)}}},71089:function(e){e.exports=function(e,t){return e.has(t)}},85683:function(e,t,r){var n=r(72355),a=r(85648),o=r(72296),i=r(11972);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:o(i(e))}},86276:function(e,t,r){var n=r(25284);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e==e,i=n(e),c=void 0!==t,u=null===t,s=t==t,l=n(t);if(!u&&!l&&!i&&e>t||i&&c&&s&&!u&&!l||a&&c&&s||!r&&s||!o)return 1;if(!a&&!i&&!l&&e<t||l&&r&&o&&!a&&!i||u&&r&&o||!c&&o||!s)return -1}return 0}},8412:function(e,t,r){var n=r(86276);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,i=t.criteria,c=o.length,u=r.length;++a<c;){var s=n(o[a],i[a]);if(s){if(a>=u)return s;return s*("desc"==r[a]?-1:1)}}return e.index-t.index}},52911:function(e,t,r){e.exports=r(15075)["__core-js_shared__"]},43823:function(e,t,r){var n=r(37020);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,c=Object(r);(t?i--:++i<o)&&!1!==a(c[i],i,c););return r}}},81655:function(e){e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),c=i.length;c--;){var u=i[e?c:++a];if(!1===r(o[u],u,o))break}return t}}},18173:function(e,t,r){var n=r(63332),a=r(16510),o=r(41307),i=r(42800),c=r(40859),u=r(65078);e.exports=function(e){return u(function(t){return t=a(t,c(o)),i(function(r){var a=this;return e(t,function(e){return n(e,a,r)})})})}},34785:function(e,t,r){var n=r(72368);e.exports=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},55185:function(e,t,r){var n=r(71593),a=r(70974),o=r(71089);e.exports=function(e,t,r,i,c,u){var s=1&r,l=e.length,d=t.length;if(l!=d&&!(s&&d>l))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,h=!0,m=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var v=e[p],y=t[p];if(i)var b=s?i(y,v,p,t,e,u):i(v,y,p,e,t,u);if(void 0!==b){if(b)continue;h=!1;break}if(m){if(!a(t,function(e,t){if(!o(m,t)&&(v===e||c(v,e,r,i,u)))return m.push(t)})){h=!1;break}}else if(!(v===y||c(v,y,r,i,u))){h=!1;break}}return u.delete(e),u.delete(t),h}},25204:function(e,t,r){var n=r(75127),a=r(32546),o=r(42826),i=r(55185),c=r(96395),u=r(82817),s=n?n.prototype:void 0,l=s?s.valueOf:void 0;e.exports=function(e,t,r,n,s,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new a(e),new a(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=c;case"[object Set]":var h=1&n;if(p||(p=u),e.size!=t.size&&!h)break;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var v=i(p(e),p(t),n,s,d,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},53239:function(e,t,r){var n=r(63408),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,i,c){var u=1&r,s=n(e),l=s.length;if(l!=n(t).length&&!u)return!1;for(var d=l;d--;){var f=s[d];if(!(u?f in t:a.call(t,f)))return!1}var p=c.get(e);if(p&&c.get(t))return p==t;var h=!0;c.set(e,t),c.set(t,e);for(var m=u;++d<l;){var v=e[f=s[d]],y=t[f];if(o)var b=u?o(y,v,f,t,e,c):o(v,y,f,e,t,c);if(!(void 0===b?v===y||i(v,y,r,o,c):b)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return c.delete(e),c.delete(t),h}},65078:function(e,t,r){var n=r(40352),a=r(67443),o=r(13655);e.exports=function(e){return o(a(e,void 0,n),e+"")}},2926:function(e,t,r){e.exports="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g},63408:function(e,t,r){var n=r(68293),a=r(57126),o=r(63048);e.exports=function(e){return n(e,o,a)}},33649:function(e,t,r){var n=r(99204);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},59234:function(e,t,r){var n=r(75542),a=r(63048);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,n(i)]}return t}},72368:function(e,t,r){var n=r(39705),a=r(68210);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},46601:function(e,t,r){var n=r(75127),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[c]=r:delete e[c]),a}},57126:function(e,t,r){var n=r(74728),a=r(33831),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;e.exports=i?function(e){return null==e?[]:n(i(e=Object(e)),function(t){return o.call(e,t)})}:a},61719:function(e,t,r){var n=r(78046),a=r(51037),o=r(43742),i=r(10267),c=r(30517),u=r(94650),s=r(42999),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=s(n),v=s(a),y=s(o),b=s(i),g=s(c),_=u;(n&&_(new n(new ArrayBuffer(1)))!=h||a&&_(new a)!=l||o&&_(o.resolve())!=d||i&&_(new i)!=f||c&&_(new c)!=p)&&(_=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?s(r):"";if(n)switch(n){case m:return h;case v:return l;case y:return d;case b:return f;case g:return p}return t}),e.exports=_},68210:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1256:function(e,t,r){var n=r(85683),a=r(47230),o=r(72355),i=r(78695),c=r(84764),u=r(37611);e.exports=function(e,t,r){t=n(t,e);for(var s=-1,l=t.length,d=!1;++s<l;){var f=u(t[s]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++s!=l?d:!!(l=null==e?0:e.length)&&c(l)&&i(f,l)&&(o(e)||a(e))}},97338:function(e,t,r){var n=r(87996);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},20604:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t}},10159:function(e,t,r){var n=r(87996),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},61395:function(e,t,r){var n=r(87996),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},17739:function(e,t,r){var n=r(87996);e.exports=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},66513:function(e,t,r){var n=r(75127),a=r(47230),o=r(72355),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},78695:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?0x1fffffffffffff:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},35870:function(e,t,r){var n=r(42826),a=r(37020),o=r(78695),i=r(85859);e.exports=function(e,t,r){if(!i(r))return!1;var c=typeof t;return("number"==c?!!(a(r)&&o(t,r.length)):"string"==c&&t in r)&&n(r[t],e)}},85648:function(e,t,r){var n=r(72355),a=r(25284),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},99204:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},19638:function(e,t,r){var n,a=r(52911),o=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},92293:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},75542:function(e,t,r){var n=r(85859);e.exports=function(e){return e==e&&!n(e)}},56380:function(e){e.exports=function(){this.__data__=[],this.size=0}},20858:function(e,t,r){var n=r(99119),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},53749:function(e,t,r){var n=r(99119);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},32025:function(e,t,r){var n=r(99119);e.exports=function(e){return n(this.__data__,e)>-1}},28561:function(e,t,r){var n=r(99119);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},96862:function(e,t,r){var n=r(61595),a=r(19105),o=r(51037);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},78232:function(e,t,r){var n=r(33649);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=!!t,t}},72507:function(e,t,r){var n=r(33649);e.exports=function(e){return n(this,e).get(e)}},40951:function(e,t,r){var n=r(33649);e.exports=function(e){return n(this,e).has(e)}},20556:function(e,t,r){var n=r(33649);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=+(r.size!=a),this}},96395:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},72615:function(e){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},75146:function(e,t,r){var n=r(6198);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},87996:function(e,t,r){e.exports=r(72368)(Object,"create")},7156:function(e,t,r){e.exports=r(55737)(Object.keys,Object)},6139:function(e,t,r){e=r.nmd(e);var n=r(2926),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&n.process,c=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=c},27340:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55737:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},67443:function(e,t,r){var n=r(63332),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,c=a(o.length-t,0),u=Array(c);++i<c;)u[i]=o[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=r(u),n(e,this,s)}}},15075:function(e,t,r){var n=r(2926),a="object"==typeof self&&self&&self.Object===Object&&self;e.exports=n||a||Function("return this")()},85894:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},30977:function(e){e.exports=function(e){return this.__data__.has(e)}},82817:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},13655:function(e,t,r){var n=r(16344);e.exports=r(73613)(n)},73613:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},8226:function(e,t,r){var n=r(19105);e.exports=function(){this.__data__=new n,this.size=0}},23124:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},82823:function(e){e.exports=function(e){return this.__data__.get(e)}},92827:function(e){e.exports=function(e){return this.__data__.has(e)}},33859:function(e,t,r){var n=r(19105),a=r(51037),o=r(99063);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(i)}return r.set(e,t),this.size=r.size,this}},72296:function(e,t,r){var n=r(75146),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,r,n,a){t.push(n?a.replace(o,"$1"):r||e)}),t})},37611:function(e,t,r){var n=r(25284),a=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},42999:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},35612:function(e){e.exports=function(e){return function(){return e}}},42826:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},40352:function(e,t,r){var n=r(58750);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},93198:function(e,t,r){var n=r(88784);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},93373:function(e,t,r){var n=r(47643),a=r(1256);e.exports=function(e,t){return null!=e&&a(e,t,n)}},96806:function(e){e.exports=function(e){return e}},47230:function(e,t,r){var n=r(72360),a=r(25852),o=Object.prototype,i=o.hasOwnProperty,c=o.propertyIsEnumerable;e.exports=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!c.call(e,"callee")}},72355:function(e){e.exports=Array.isArray},37020:function(e,t,r){var n=r(56788),a=r(84764);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},34158:function(e,t,r){e=r.nmd(e);var n=r(15075),a=r(94669),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,c=i&&i.exports===o?n.Buffer:void 0,u=c?c.isBuffer:void 0;e.exports=u||a},56788:function(e,t,r){var n=r(94650),a=r(85859);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84764:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}},85859:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},25852:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},25284:function(e,t,r){var n=r(94650),a=r(25852);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},97301:function(e,t,r){var n=r(731),a=r(40859),o=r(6139),i=o&&o.isTypedArray;e.exports=i?a(i):n},63048:function(e,t,r){var n=r(31777),a=r(86698),o=r(37020);e.exports=function(e){return o(e)?n(e):a(e)}},6198:function(e,t,r){var n=r(99063);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},44775:function(e,t,r){var n=r(13407);e.exports=r(18173)(n)},25621:function(e,t,r){var n=r(52435),a=r(12605),o=r(85648),i=r(37611);e.exports=function(e){return o(e)?n(i(e)):a(e)}},16673:function(e,t,r){var n=r(58750),a=r(95073),o=r(42800),i=r(35870);e.exports=o(function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])})},33831:function(e){e.exports=function(){return[]}},94669:function(e){e.exports=function(){return!1}},11972:function(e,t,r){var n=r(30146);e.exports=function(e){return null==e?"":n(e)}},72376:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(91083)),c=n(r(7184)),u=n(r(62812)),s=n(r(96540)),l=n(r(3691)),d=n(r(3455)),f=function(e){var t=e.name,r=e.onChange;return s.default.createElement("input",{type:"checkbox",checked:(0,d.default)(t),onChange:function(e){return(0,d.default)(t,JSON.parse(e.target.checked))&&r&&r()}})},p=function(e){var t=e.children,r=e.onClick;return s.default.createElement("button",{type:"button",onClick:r,style:{position:"absolute",top:"100%",left:"0"}},t)},h=(0,l.default)(function(){var e=d.default.list();return s.default.createElement("div",null,e.map(function(e){return s.default.createElement("div",{key:e},e.replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase()})," : ",s.default.createElement(f,{onChange:function(){},name:e}))}))}),m=function(e){(0,i.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(n);return e=t?Reflect.construct(r,arguments,(0,u.default)(this).constructor):r.apply(this,arguments),(0,c.default)(this,e)});function n(e){var t;return(0,a.default)(this,n),(t=r.call(this,e)).state={folded:!0},t}return(0,o.default)(n,[{key:"render",value:function(){var e,t=this;return(0,d.default)("switcher")&&s.default.createElement("div",{className:"flag-switcher",style:(e=this.state,{borderBottomLeftRadius:".5rem",padding:".5rem",position:"absolute",zIndex:1e3,color:"white",background:"rgba(74,68,90,0.85)",top:0,right:0,transform:"translateY(".concat(e.folded?"-100%":"0",")")})},s.default.createElement(p,{onClick:function(){return t.setState(function(e){return{folded:!e.folded}})}},this.state.folded?"Show":"Hide"," flags"),s.default.createElement("button",{onClick:function(){return t.setState({date:Date.now()})}},"refresh"),"\xa0",s.default.createElement("button",{onClick:function(){return d.default.reset()&&(0,d.default)("switcher",!0)&&t.forceUpdate()}},"reset"),s.default.createElement(h,null))}}]),n}(s.default.Component);t.default=m,m.List=h},3691:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(61023)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(76729)),d=n(r(96540)),f=n(r(3455)).default.store;t.default=function(e){var t,r=function(t){(0,c.default)(p,t);var r,n=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,s.default)(p);return e=r?Reflect.construct(t,arguments,(0,s.default)(this).constructor):t.apply(this,arguments),(0,u.default)(this,e)});function p(){var e;(0,a.default)(this,p);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),(0,l.default)((0,i.default)(e),"handleChange",function(){e.forceUpdate()}),e}return(0,o.default)(p,[{key:"componentDidMount",value:function(){f.on("change",this.handleChange)}},{key:"componentWillUnmount",value:function(){f.removeListener("change",this.handleChange)}},{key:"render",value:function(){return d.default.createElement(e,this.props)}}]),p}(d.default.Component);return(0,l.default)(r,"displayName",void 0),r.displayName="withFlags(".concat(null!=(t=e.displayName)?t:e.name,")"),r}},3455:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.resetFlags=t.listFlags=t.initializeFromRemote=t.initializeFromDOM=t.initialize=t.getTemplateData=t.enable=t.default=void 0;var c=i(r(30592)),u=i(r(92115)),s=i(r(47783)),l=i(r(93889)),d=i(r(13135)),f=r(11071);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=new(i(r(17588))).default,m=function(e,t){return 1==arguments.length?h.get(e):(h.set(e,t),t)},v=function(){return h.keys().sort()};t.listFlags=v;var y=function(){v().forEach(function(e){return h.remove(e)})};t.resetFlags=y;var b=function(e){if(Array.isArray(e)){if(0===e.length)return;console.log("flags.enable: Deprecation warning: prefer to use an object { flag1: true, flag2: true } instead of an array when using flags.enable"),t=e.map(function(e){return[e,!0]})}else"object"==typeof e&&(t=Object.entries(e));if(t){var t,r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(t);try{for(n.s();!(r=n.n()).done;){var a=(0,d.default)(r.value,2),o=a[0],i=a[1];m(o,i)}}catch(e){n.e(e)}finally{n.f()}}};t.enable=b;var g=(n=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,f.Q)("io.cozy.settings").getById("io.cozy.settings.flags"));case 2:b(e.sent.data.attributes);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.initializeFromRemote=g;var _=function(e){if("undefined"==typeof document)return null;var t=document.querySelector("[data-cozy]"),r=document.querySelector("[data-cozy-".concat(e,"]"));try{if(t)return JSON.parse(t.dataset.cozy)[e];if(!r)return null;return console.warn('Prefer to use [data-cozy] to store template data. <div data-cozy="{{.CozyData}}></div>. "'),JSON.parse(r.dataset["cozy".concat(e[0].toUpperCase()+e.slice(1))])}catch(e){return null}};t.getTemplateData=_;var w=(a=(0,l.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_("flags")){e.next=3;break}return e.abrupt("return",!1);case 3:return b(t),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)});t.initializeFromDOM=w;var k=(o=(0,l.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(!1!=e.sent){e.next=6;break}return e.next=6,g(t);case 6:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});t.initialize=k;var O=function(){var e,t,r;function n(e){(0,u.default)(this,n),this.client=e,this.handleLogin=this.handleLogin.bind(this),this.handleLogout=this.handleLogout.bind(this),this.client.on("login",this.handleLogin),this.client.on("logout",this.handleLogout),this.setupInitializing(),e.isLogged&&this.handleLogin()}return(0,s.default)(n,[{key:"refresh",value:(e=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.initializeFromRemote(this.client);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"setupInitializing",value:function(){var e=this;this.initializing=new Promise(function(t){e.resolveInitializing=t})}},{key:"handleLogin",value:(t=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.initialize(this.client);case 2:this.resolveInitializing(),this.client.emit("plugin:flag:login");case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"handleLogout",value:(r=(0,l.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.reset(),this.setupInitializing(),this.client.emit("plugin:flag:logout");case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}]),n}();O.pluginName="flags",m.store=h,m.list=v,m.reset=y,m.enable=b,m.initializeFromRemote=g,m.initializeFromDOM=w,m.initialize=k,m.plugin=O,t.default=m},94619:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72376)),o=n(r(3691)),i=n(r(3455)),c=n(r(19968));i.default.connect=o.default,i.default.FlagSwitcher=a.default,i.default.useFlag=c.default,"undefined"!=typeof __ENABLED_FLAGS__&&i.default.enable(__ENABLED_FLAGS__),t.default=i.default},25814:function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.prefix=t.getKey=t.default=void 0;var a="flag__";t.prefix=a;var o=function(e){return a+e};t.getKey=o;var i=function(){return Object.keys(localStorage).filter(function(e){return 0===e.indexOf(a)}).map(function(e){return e.replace(a,"")})},c=function(e){var t=localStorage.getItem(o(e));return t?JSON.parse(t):t},u=function(e){return localStorage.removeItem(o(e))};t.default={getAll:function(){var e,t={},n=r(i());try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a]=c(a)}}catch(e){n.e(e)}finally{n.f()}return t},getItem:c,setItem:function(e,t){var r=JSON.stringify(t);return localStorage.setItem(o(e),r)},clearAll:function(){var e,t=r(i());try{for(t.s();!(e=t.n()).done;){var n=e.value;u(n)}}catch(e){t.e(e)}finally{t.f()}},removeItem:u}},17588:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=n(r(92115)),i=n(r(47783)),c=n(r(56173)),u=n(r(25814)),s=function(){function e(){(0,o.default)(this,e),this.store={},"undefined"!=typeof localStorage&&(this.longtermStore=u.default),this.restore()}return(0,i.default)(e,[{key:"restore",value:function(){if(this.longtermStore)for(var e=this.longtermStore.getAll(),t=0,r=Object.entries(e);t<r.length;t++){var n=(0,a.default)(r[t],2),o=n[0],i=n[1];this.store[o]=i,this.emit("change",o)}}},{key:"keys",value:function(){return Object.keys(this.store)}},{key:"get",value:function(e){if(this.store.hasOwnProperty(e))return this.store[e];if("string"==typeof e)for(var t=e.split("."),r=t.length,n=r-1;n>0;n--){var a=t.slice(0,n).join(".");if(this.store.hasOwnProperty(a))return t.slice(n,r).reduce(function(e,t){return e&&e.hasOwnProperty(t)?e[t]:null},this.store[a])}return null}},{key:"set",value:function(e,t){this.longtermStore&&this.longtermStore.setItem(e,t),this.store[e]=t,this.emit("change",e)}},{key:"remove",value:function(e){delete this.store[e],this.longtermStore&&this.longtermStore.removeItem(e),this.emit("change",e)}}]),e}();c.default.mixin(s),t.default=s},19968:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useState)((0,i.default)(e)),r=(0,a.default)(t,2),n=r[0],c=r[1];return(0,o.useEffect)(function(){var t=function(t){t===e&&c((0,i.default)(e))};return i.default.store.on("change",t),function(){i.default.store.removeListener("change",t)}},[c,e]),n};var a=n(r(13135)),o=r(96540),i=n(r(3455))},30051:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numbers=void 0,t.numbers={maxAttempts:20}},13255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strings=void 0,t.strings={flagshipButNoRNAPI:"<WebviewIntentProvider /> can not instantiate its service. The application was detected as running in a Flagship webview but has no access to `window.ReactNativeWebView`, which is contradictory.",noListenerFound:"Could not handle event, this `NativeMessenger` instance does not have a listener.",noWebviewFound:'error: no WebView was found when trying to post message. This might mean we exited a CozyApp without waiting the call("backToHome") response.',postMeSignature:"@post-me",webviewIsRendered:"webviewIsRendered",errorRegisterWebview:"Cannot register webview. A webview is already registered into cozy-intent with the uri: ${uri}",errorUnregisterWebview:"Cannot unregister webview. No webview is registered into cozy-intent with the uri: ${uri}",errorEmitMessage:"Cannot emit message. No webview is registered with uri: ${webviewUri}",errorCozyBarAPIMissing:"Cozy-bar was detected by WebviewIntentProvider but the required setWebviewContext() API was not found. Cozy-bar webview intents will not work. Your cozy-bar version is most likely outdated.",errorParentHandshake:'Handshake failed for uri: "${uri}". ConcreteConnection will not be available for this uri\'s messenger, but messages should still work. Error was: "${errorMessage}".',errorNoMessengerToInit:'Could not initialise messenger for uri: "${uri}. No WebView has been registered from react-native with this uri. Please use NativeService.registerWebview(WebviewRef).',logging:{registering:function(e){return'- REGISTERING ▶️ "'.concat(e,'"')},registered:function(e){return'- REGISTERED ▶️ "'.concat(e,'"')},unregistering:function(e){return'- UNREGISTERING ▶️ "'.concat(e,'"')},unregistered:function(e){return'- UNREGISTERED ▶️ "'.concat(e,'"')}}}},90447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30051);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))});var a=r(13255);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=r(43119);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=r(88534);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var c=r(9929);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var u=r(33584);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var s=r(16120);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var l=r(24406);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var d=r(6702);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var f=r(40372);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))});var p=r(76320);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))})},43119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFlagshipUI=void 0,t.isFlagshipUI=function(e){return"object"==typeof e&&null!==e&&("bottomBackground"in e||"bottomOverlay"in e||"bottomTheme"in e||"topBackground"in e||"topOverlay"in e||"topTheme"in e)}},88534:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebviewSourceBaseUrl=function(e){return!!e.html}},9929:function(){},33584:function(){},16120:function(){},24406:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.NativeMessenger=t.DebugNativeMessenger=void 0;var a=n(r(47783)),o=n(r(92115)),i=n(r(76729)),c=r(94349),u=n(r(13572)),s=r(90447),l=(0,u.default)("cozy-intent");t.logger=l;var d=(0,c.debug)("NativeMessenger");t.NativeMessenger=(0,a.default)(function e(t){var r,n=this;(0,o.default)(this,e),(0,i.default)(this,"injectJavaScript",void 0),(0,i.default)(this,"listener",void 0),(0,i.default)(this,"webviewUri",void 0),(0,i.default)(this,"postMessage",function(e){if(e.error){var t;l.warn("Error during intent to ".concat(null!=(t=n.webviewUri)?t:"undefined webview"," : "),JSON.stringify(e.error))}try{var r,a="window.postMessage(".concat(JSON.stringify(e),")");null==(r=n.injectJavaScript)||r.call(n,a)}catch(e){d(s.strings.noWebviewFound)}}),(0,i.default)(this,"addMessageListener",function(e){return n.listener=e,function(){return n.listener=void 0}}),(0,i.default)(this,"onMessage",function(e){if(!n.listener)return d(s.strings.noListenerFound);n.listener({data:e})}),this.injectJavaScript=t.injectJavaScript,this.webviewUri=null!=(r=t.props.source.uri)?r:t.props.source.baseUrl}),t.DebugNativeMessenger=function(e){return{postMessage:function(t){"response"!==t.action&&d("- OUT",t),e.postMessage(t)},addMessageListener:function(t){return e.addMessageListener(t)},onMessage:function(t){d("- IN",t),e.onMessage(t)}}}},6702:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeService=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(76729)),s=r(94349),l=r(90447),d=r(8070);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=(0,s.debug)("NativeService");t.NativeService=function(){function e(t){var r,n,c,f=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.NativeMessenger;(0,i.default)(this,e),(0,u.default)(this,"messengerService",void 0),(0,u.default)(this,"localMethods",void 0),(0,u.default)(this,"messengerRegister",{}),(0,u.default)(this,"updateLocalMethods",function(e){f.localMethods=e}),(0,u.default)(this,"getUri",function(e){return new URL(e.nativeEvent.url).hostname.toLowerCase()}),(0,u.default)(this,"parseNativeEvent",function(e){return JSON.parse(e.nativeEvent.data)}),(0,u.default)(this,"isPostMeMessage",function(e){return e.type===l.strings.postMeSignature}),(0,u.default)(this,"isInitMessage",function(e){return e.message===l.strings.webviewIsRendered}),(0,u.default)(this,"registerWebview",function(e,t,r){if(h(l.strings.logging.registering(e)),f.messengerRegister[e])return h((0,d.interpolate)(l.strings.errorRegisterWebview,{uri:e}));var n=new f.messengerService(r);f.messengerRegister=p(p({},f.messengerRegister),{},(0,u.default)({},e,{messenger:(0,d.isNativeDevMode)()?(0,l.DebugNativeMessenger)(n):n,slug:t})),h(l.strings.logging.registered(e))}),(0,u.default)(this,"unregisterWebview",function(e){if(h(l.strings.logging.unregistering(e)),!f.messengerRegister[e])return h((0,d.interpolate)(l.strings.errorUnregisterWebview,{uri:e}));delete f.messengerRegister[e],h(l.strings.logging.unregistered(e))}),(0,u.default)(this,"initWebview",(r=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ParentHandshake)(t,f.localMethods,l.numbers.maxAttempts);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})),(0,u.default)(this,"tryEmit",(n=(0,o.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.isNativeEvent(t)){e.next=2;break}return e.abrupt("return");case 2:if("setFlagshipUI"===(n=f.parseNativeEvent(t)).methodName&&(0,d.isFlagshipUiArgsArray)(n.args)&&(n.args[0].componentId=r),"setTheme"===n.methodName&&Array.isArray(n.args)&&(0,d.isThemeArg)(n.args[0])&&(n.args[0]={homeTheme:n.args[0],componentId:r}),!f.isInitMessage(n)){e.next=9;break}return e.next=8,f.tryInit(t);case 8:return e.abrupt("return",e.sent);case 9:f.isPostMeMessage(n)&&f.tryOnMessage(t,n);case 10:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})),(0,u.default)(this,"tryInit",(c=(0,o.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.getUri(t),n=f.messengerRegister[r],e.prev=2,n){e.next=5;break}throw Error((0,d.interpolate)(l.strings.errorNoMessengerToInit,{uri:r}));case 5:return e.next=7,f.initWebview(n.messenger);case 7:n.connection=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h((0,d.interpolate)(l.strings.errorParentHandshake,{uri:r,errorMessage:(0,d.getErrorMessage)(e.t0)}));case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return c.apply(this,arguments)})),(0,u.default)(this,"tryOnMessage",function(e,t){var r,n=f.getUri(e),a=f.messengerRegister[n];if(void 0===a)return h((0,d.interpolate)(l.strings.errorEmitMessage,{webviewUri:n}));null==(r=t.args)||r.unshift({slug:a.slug}),a.messenger.onMessage(t)}),(0,u.default)(this,"getHostname",function(e){try{return new URL(e).hostname.toLowerCase()}catch(t){return e}}),(0,u.default)(this,"call",function(e,t){for(var r,n,a,o=arguments.length,i=Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];return null==(r=f.messengerRegister[f.getHostname(e)])||null==(n=r.connection)?void 0:(a=n.remoteHandle()).call.apply(a,[t].concat(i))}),this.messengerService=m,this.localMethods=t}return(0,c.default)(e,[{key:"isNativeEvent",value:function(e){return void 0!==e.nativeEvent.data}}]),e}()},40372:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewMessenger=t.DebugWebviewMessenger=void 0;var a=n(r(47783)),o=n(r(92115)),i=n(r(76729)),c=r(94349);t.WebviewMessenger=(0,a.default)(function e(t){var r=this;(0,o.default)(this,e),(0,i.default)(this,"windowRef",void 0),(0,i.default)(this,"postMessage",function(e){var t;return null==(t=r.windowRef)?void 0:t.ReactNativeWebView.postMessage(JSON.stringify(e))}),(0,i.default)(this,"addMessageListener",function(e){var t,n=function(t){return e(t)};return null==(t=r.windowRef)||t.addEventListener("message",n),function(){var e;return null==(e=r.windowRef)?void 0:e.removeEventListener("message",n)}}),this.windowRef=t}),t.DebugWebviewMessenger=function(e){var t=(0,c.debug)("WebviewMessenger");return{postMessage:function(r){"response"!==r.action&&t("- OUT",r),e.postMessage(r)},addMessageListener:function(t){return e.addMessageListener(t)}}}},76320:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewService=void 0;var a=n(r(47783)),o=n(r(92115)),i=n(r(76729));t.WebviewService=(0,a.default)(function e(t){var r=this;(0,o.default)(this,e),(0,i.default)(this,"close",void 0),(0,i.default)(this,"remoteHandle",void 0),(0,i.default)(this,"call",function(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return(t=r.remoteHandle).call.apply(t,[e].concat(a))}),(0,i.default)(this,"closeMessenger",function(){return r.close()}),this.remoteHandle=t.remoteHandle(),this.close=function(){return t.close()}})},84660:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90447);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))});var a=r(8070);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=r(1332);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})},8070:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isWebDevMode=t.isThemeArg=t.isNativeDevMode=t.isFlagshipUiArgsArray=t.interpolate=t.getErrorMessage=void 0;var a=n(r(97242)),o=r(90447);t.interpolate=function(e,t){if(!t)return e;var r=Object.keys(t),n=Object.values(t),o=(0,a.default)(Function,r.concat(["return `".concat(e,"`;")]));try{return o.apply(void 0,n)}catch(t){return e}},t.isNativeDevMode=function(){try{return!!__DEV__}catch(e){return!1}},t.isWebDevMode=function(){try{return!!__DEVELOPMENT__}catch(e){return!1}},t.getErrorMessage=function(e){return e instanceof Error?e.message:String(e)},t.isFlagshipUiArgsArray=function(e){return Array.isArray(e)&&(0,o.isFlagshipUI)(e[0])},t.isThemeArg=function(e){return"string"==typeof e}},58073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeIntentService=t.NativeIntentProvider=void 0;var n,a=r(94349),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(90447),c=r(1332);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var s=(0,a.debug)("NativeIntentProvider");t.getNativeIntentService=function(){if(!n)throw Error("nativeIntentService has not been instantiated in a NativeIntentProvider");return n};var l=function(e){n=e};t.NativeIntentProvider=function(e){var t=e.children,r=e.localMethods,n=(0,o.useRef)(null);return null===n.current&&(n.current=new i.NativeService(r),l(n.current)),(0,o.useEffect)(function(){var e;s("Updating localMethods on nativeIntentService"),null==(e=n.current)||e.updateLocalMethods(r)},[r]),o.default.createElement(c.NativeContext.Provider,{value:n.current},t)}},46233:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewIntentProvider=void 0;var o=a(r(30592)),i=a(r(13135)),c=a(r(93889)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),s=r(94349),l=r(90447),d=r(1332),f=r(8070);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var h=(0,s.debug)("WebviewIntentProvider"),m=function(){try{if(cozy.bar&&void 0===cozy.bar.setWebviewContext)return h(l.strings.errorCozyBarAPIMissing);return cozy.bar.setWebviewContext}catch(e){return}},v=(n=(0,c.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var a;return a=l.strings.webviewIsRendered,window.ReactNativeWebView.postMessage(JSON.stringify({type:l.strings.postMeSignature,message:a})),n=new l.WebviewMessenger(window),e.next=4,(0,s.ChildHandshake)((0,f.isWebDevMode)()?(0,l.DebugWebviewMessenger)(n):n,r);case 4:t(e.sent);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),y=function(){var e;return!!(null==(e=window.cozy)?void 0:e.flagship)&&(void 0!==window.ReactNativeWebView||(h(l.strings.flagshipButNoRNAPI),!1))};t.WebviewIntentProvider=function(e){var t=e.children,r=e.methods,n=e.setBarContext,a=e.webviewService,o=(0,u.useState)(),c=(0,i.default)(o,2),s=c[0],f=c[1],p=(0,u.useState)(a),b=(0,i.default)(p,2),g=b[0],_=b[1],w=n||m();return(0,u.useEffect)(function(){!s&&!a&&y()&&v(f,r).catch(h)},[s,a,r]),(0,u.useEffect)(function(){!g&&s&&_(new l.WebviewService(s))},[g,s]),(0,u.useEffect)(function(){w&&g&&w(g)},[w,g]),u.default.createElement(d.WebviewContext.Provider,{value:g},t)}},95083:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeContext=void 0,t.NativeContext=n(r(96540)).default.createContext(void 0)},25355:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewContext=void 0,t.WebviewContext=n(r(96540)).default.createContext(void 0)},51817:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useIsAvailable=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=r(84043),s=r(8070);t.useIsAvailable=function(e){var t=(0,u.useWebviewIntent)(),r=(0,c.useState)(null),n=(0,i.default)(r,2),l=n[0],d=n[1],f=(0,c.useState)(void 0),p=(0,i.default)(f,2),h=p[0],m=p[1];return(0,c.useEffect)(function(){if(t){var r;(r=(0,o.default)(a.default.mark(function r(){var n;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.call("isAvailable",e);case 3:if("boolean"==typeof(n=r.sent)){r.next=6;break}throw Error("Invalid result from isAvailable method: ".concat(n));case 6:m(void 0),d(n),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),m((0,s.getErrorMessage)(r.t0)),d(!1);case 14:case"end":return r.stop()}},r,null,[[0,10]])})),function(){return r.apply(this,arguments)})()}},[t,e]),{isAvailable:l,error:h}}},89177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNativeIntent=void 0;var n=r(96540),a=r(1332);t.useNativeIntent=function(){return(0,n.useContext)(a.NativeContext)}},84043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWebviewIntent=void 0;var n=r(96540),a=r(1332);t.useWebviewIntent=function(){return(0,n.useContext)(a.WebviewContext)}},1332:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(58073);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))});var a=r(46233);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=r(95083);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=r(25355);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var c=r(89177);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var u=r(84043);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var s=r(51817);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))})},56498:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.start=function e(t,r,n,i){var l,d,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=function(){d&&c.remove(d),l&&l.stopListening()},m=function(){h()},v=new Promise(function(h,v){var y,b=(0,u.pickService)(r,p.filterServices);d=c.insertIntentIframe(r,n,b.href,p.onReadyCallback);var g=b.href.split("/",3).join("/");(l=new s.default({intentId:r.id,origin:g,onReady:function(e){e.source.postMessage(i,e.origin)},onDone:function(e){h(e.data.document),m()},onCancel:function(){h(null),m()},onError:function(e){v(e instanceof Event?u.errorSerializer.deserialize(e.data.error):e),m()},onResize:function(e){var t=e.data,r=t.transition,a=t.dimensions;c.applyStyle(n,f({transition:r},a))},onExposeFrameRemoval:function(e){h({document:e.data.document,removeIntentIframe:function(){return c.remove(d)}})},onCompose:(y=(0,o.default)(a.default.mark(function r(o){var i,u,s,l,p,h,m,v;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=(i=o.data).action,s=i.doctype,l=i.data,p=o.source,h=o.origin,r.next=4,t(u,s,l);case 4:return m=r.sent,c.hide(d),r.prev=6,r.next=9,e(t,m,n,f(f({},l),{},{exposeIntentFrameRemoval:!1}));case 9:v=r.sent,p.postMessage(v,h);case 11:return r.prev=11,c.show(d),r.finish(11);case 14:case"end":return r.stop()}},r,null,[[6,,11,14]])})),function(e){return y.apply(this,arguments)}),onHideCross:function(){p.onHideCross&&p.onHideCross()},onShowCross:function(){p.onShowCross&&p.onShowCross()}})).listen()});return v.destroy=h,v};var a=n(r(30592)),o=n(r(93889)),i=n(r(76729)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(77393)),u=r(96692),s=n(r(38937));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},77393:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertOKForIntentIframe=t.applyStyle=void 0,t.hide=function(e){e.style.display="none"},t.iframeFromIntent=o,t.insertIntentIframe=function(e,t,r,n){a(t);var i=o(e,t,r);return"function"==typeof n&&(i.onload=n),t.appendChild(i),i.focus(),i},t.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.show=function(e){e.style.display="block"};var r=function(e){return e+"px"},n={width:r,height:r,maxWidth:r,maxHeight:r};t.applyStyle=function(e,t){Object.keys(t).forEach(function(r){var a=t[r];e.style[r]="".concat(n[r]?n[r](a):a)})};var a=function(e){var t=e.ownerDocument;if(!t)throw console.warn("assertProperForIframe: bad node",e),Error("Cannot retrieve document object from given node");if(!t.defaultView)throw console.warn("assertProperForIframe: bad document",t),Error("Cannot retrieve window object from document")};function o(e,t,r){var n=t.ownerDocument;if(!n)throw Error("Cannot retrieve document object from given node");var a=n.createElement("iframe");return a.setAttribute("id","intent-".concat(e.id)),a.setAttribute("src",r),a.classList.add("coz-intent"),a}t.assertOKForIntentIframe=a},96692:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.removeQueryString=t.pickService=t.errorSerializer=t.buildRedirectionURL=void 0,r=function(e,t){return["name","message"].reduce(function(r,n){return e[n]&&(t[n]=e[n]),r},Object.assign(t,e))},t.errorSerializer={serialize:function(e){return r(e,{})},deserialize:function(e){return r(e,Error(e.message))}},t.pickService=function(e,t){var r=e.attributes.services||[],n=t?r.find(t):r[0];if(!n)throw Error("Unable to find a service");return n},t.buildRedirectionURL=function(e,t){var r=Object.keys(t).filter(function(e){return!["object","function"].includes(typeof t[e])}).map(function(e){return"".concat(e,"=").concat(t[e])});return r.length?"".concat(e,"?").concat(r.join("&")):e},t.removeQueryString=function(e){return e.replace(/\?[^/#]*/,"")}},79081:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Intents",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(26482))},26482:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=p(r(56498)),s=r(96692),l=n(r(92988)),d=p(r(16154));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.default=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client;(0,i.default)(this,r),this.request=new l.default(t),this.create=this.create.bind(this)}return(0,c.default)(r,[{key:"create",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)throw Error('Misformed intent, "action" property must be provided');if(!t)throw Error('Misformed intent, "type" property must be provided');var o=this.request.post(e,t,n,a);return o.start=function(e,t,a,i){var c,s={filteredServices:n.filteredServices,onReadyCallback:t,onHideCross:a,onShowCross:i};delete n.filteredServices;var l=o.then(function(t){return c=u.start(r.create,t,e,n,s)});return l.stop=function(){c&&c.destroy()},l},o}},{key:"createService",value:function(e,t){return d.start(this.request)(e,t)}},{key:"getRedirectionURL",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t&&!r)){e.next=2;break}throw Error("Cannot retrieve redirection, at least type or doc must be provided");case 2:return e.next=4,this.create("REDIRECT",t,r);case 4:return n=e.sent,o=(0,s.pickService)(n),i=(0,s.removeQueryString)(o.href),e.abrupt("return",r?(0,s.buildRedirectionURL)(i,r):i);case 8:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"redirect",value:(t=(0,o.default)(a.default.mark(function e(t,r,n){var o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window){e.next=2;break}throw Error("redirect() method can only be called in a browser");case 2:return e.next=4,this.getRedirectionURL(t,r);case 4:if(o=e.sent,!(n&&"function"==typeof n)){e.next=7;break}return e.abrupt("return",n(o));case 7:window.location.href=o;case 8:case"end":return e.stop()}},e,this)})),function(e,r,n){return t.apply(this,arguments)})}]),r}()},38937:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=/intent-(.*):(.*)/;t.default=function(){function e(t){(0,a.default)(this,e),this.state={handshaken:!1},this.options=t,this.handleMessageWrapper=this.handleMessageWrapper.bind(this)}return(0,o.default)(e,[{key:"handleMessage",value:function(e){if(e.origin===this.options.origin){var t=e.data.type;if("load"===t){console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`.");return}var r=i.exec(t);if(!r)return void console.warn("intents: Message type ".concat(t," not matching intent format"));var n=r[1];c(n==this.options.intentId,"Invalid event id","eventId: ".concat(n," != listener eventId ").concat(this.options.intentId));var a=r[2];"ready"!==a?c(this.state.handshaken,"Unexpected handshake message from intent service"):this.state.handshaken=!0;var o=this.options["on"+u(a)];if(o)return o(e);console.warn("intents: Unhandled event ".concat(a))}}},{key:"handleMessageWrapper",value:function(e){try{this.handleMessage(e)}catch(e){this.options.onError(e)}}},{key:"listen",value:function(){window.addEventListener("message",this.handleMessageWrapper)}},{key:"stopListening",value:function(){window.removeEventListener("message",this.handleMessageWrapper)}}]),e}();var c=function(e,t,r){if(!e)throw r&&console.warn(r),Error(t)},u=function(e){return e[0].toUpperCase()+e.slice(1)}},92988:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e),this.stackClient=t.stackClient}return(0,o.default)(e,[{key:"get",value:function(e){return this.stackClient.fetchJSON("GET","/intents/".concat(e)).then(function(e){var t=e.data;return t._id||(t._id=t.id),t})}},{key:"post",value:function(e,t,r,n){return this.stackClient.fetchJSON("POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:e,type:t,data:r,permissions:n}}}).then(function(e){return e.data})}}]),e}()},16154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=void 0;var n=r(96692);function a(e){e&&e.style&&(e.style.height="100%")}t.start=function(e){return function(t,r){var o=r||"undefined"!=typeof window&&window;if(!o||!o.document)return Promise.reject(Error("Intent service should be used in browser"));o.addEventListener("load",function(){var e=o.document;[e.documentElement,e.body].forEach(a)});var i=t||o.location.search.split("=")[1];return i?e.get(i).then(function(e){var t=!1,r=function(r){if(t)throw Error("Intent service has already been terminated");o.parent.postMessage(r,e.attributes.client)},a=function(t,n,a){return new Promise(function(i){o.addEventListener("message",function t(r){if(r.origin===e.attributes.client)return o.removeEventListener("message",t),i(r.data)}),r({type:"intent-".concat(e._id,":compose"),action:t,doctype:n,data:a})})},i=function(e){r(e),t=!0},c=function(n,a){if(t)throw Error("Intent service has been terminated");r({type:"intent-".concat(e._id,":resize"),dimensions:n.element?Object.assign({},n,{maxHeight:n.element.clientHeight,maxWidth:n.element.clientWidth}):n,transition:a})},u=function(){r({type:"intent-".concat(e._id,":hideCross")})},s=function(){r({type:"intent-".concat(e._id,":showCross")})},l=function(){i({type:"intent-".concat(e._id,":cancel")})};return o.addEventListener("unload",function(){t||l()}),new Promise(function(t){o.addEventListener("message",function r(n){n.origin===e.attributes.client&&(o.removeEventListener("message",r),t(n.data))}),o.parent.postMessage({type:"intent-".concat(e._id,":ready")},e.attributes.client)}).then(function(t){return{compose:a,getData:function(){return t},getIntent:function(){return e},terminate:function(r){var n=t&&t.exposeIntentFrameRemoval?"exposeFrameRemoval":"done";return i({type:"intent-".concat(e._id,":").concat(n),document:r})},throw:function(t){return i({type:"intent-".concat(e._id,":error"),error:n.errorSerializer.serialize(t)})},resizeClient:c,cancel:l,hideCross:u,showCross:s}})}):Promise.reject(Error("Cannot retrieve intent from URL"))}}},22172:function(e){"use strict";var t=function(e){return Object.assign(this,e),this};t.prototype.toString=function(){throw Error("Cannot convert Secret to string")},e.exports=t},40918:function(e,t,r){"use strict";var n=r(65606);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var o=r(22172),i=r(26),c=i.filterLevel,u=i.filterSecrets,s=n.env.LOG_LEVEL||"debug",l=r(15030),d=[c,u],f=function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw i}}}}(d);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!1===r.apply(null,arguments))return!0}}catch(e){t.e(e)}finally{t.f()}return!1};function p(e,t,r,n){f(s,e,t,r,n)||console.log(l(e,t,r,n))}p.addFilter=function(e){return d.push(e)},p.setLevel=function(e){s=e},["debug","info","warn","error","ok","critical"].forEach(function(e){p[e]=function(t,r,n){return p(e,t,r,n)}}),e.exports=p,p.setNoRetry=function(e){return e?e.no_retry=!0:e={no_retry:!0},e.no_retry},p.Secret=o,p.namespace=function(e){return function(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;p(t,r,n,a)}}},26:function(e,t,r){"use strict";var n={secret:0,debug:10,info:20,warn:30,error:40,ok:50,critical:50},a=r(22172);e.exports={filterSecrets:function(e,t,r){if("secret"!==t&&r instanceof a)throw Error("You should log a secret with log.secret")},filterLevel:function(e,t){return n[t]>=n[e]}}},15030:function(e,t,r){"use strict";r(54441),e.exports=r(54441)},54441:function(e,t,r){"use strict";var n=r(44106);e.exports=function(e,t,r,a){var o={time:new Date,type:e,label:r,namespace:a};"object"==typeof t?(t&&t.no_retry&&(o.no_retry=t.no_retry),t&&t.message&&(o.message=t.message)):o.message=t,o.message&&o.message.stack&&(o.message=o.message.stack);var i=o;try{i=n(o).substr(0,65535)}catch(e){console.log(e.message,"cozy-logger: Failed to convert message to JSON")}return i}},49753:function(e,t,r){"use strict";var n=r(24535),a={debug:1,info:2,warn:3,error:4};function o(){this.enabled=!0,this.defaultResult=!0,this.clear()}function i(e,t){return e.n.test?e.n.test(t):e.n==t}n.mixin(o),o.prototype.allow=function(e,t){return this._white.push({n:e,l:a[t]}),this},o.prototype.deny=function(e,t){return this._black.push({n:e,l:a[t]}),this},o.prototype.clear=function(){return this._white=[],this._black=[],this},o.prototype.test=function(e,t){var r,n=Math.max(this._white.length,this._black.length);for(r=0;r<n;r++){if(this._white[r]&&i(this._white[r],e)&&a[t]>=this._white[r].l)return!0;if(this._black[r]&&i(this._black[r],e)&&a[t]<=this._black[r].l)return!1}return this.defaultResult},o.prototype.write=function(e,t,r){if(!this.enabled||this.test(e,t))return this.emit("item",e,t,r)},e.exports=o},62576:function(e,t,r){"use strict";var n=r(24535),a=r(49753),o=new n,i=Array.prototype.slice;(t=e.exports=function(e){var r=function(){return o.write(e,void 0,i.call(arguments)),r};return r.debug=function(){return o.write(e,"debug",i.call(arguments)),r},r.info=function(){return o.write(e,"info",i.call(arguments)),r},r.warn=function(){return o.write(e,"warn",i.call(arguments)),r},r.error=function(){return o.write(e,"error",i.call(arguments)),r},r.group=function(){return o.write(e,"group",i.call(arguments)),r},r.groupEnd=function(){return o.write(e,"groupEnd",i.call(arguments)),r},r.log=r.debug,r.suggest=t.suggest,r.format=o.format,r}).defaultBackend=t.defaultFormatter=null,t.pipe=function(e){return o.pipe(e)},t.end=t.unpipe=t.disable=function(e){return o.unpipe(e)},t.Transform=n,t.Filter=a,t.suggest=new a,t.enable=function(){return t.defaultFormatter?o.pipe(t.suggest).pipe(t.defaultFormatter).pipe(t.defaultBackend):o.pipe(t.suggest).pipe(t.defaultBackend)}},24535:function(e,t,r){"use strict";function n(){}r(56173).mixin(n),n.prototype.write=function(e,t,r){this.emit("item",e,t,r)},n.prototype.end=function(){this.emit("end"),this.removeAllListeners()},n.prototype.pipe=function(e){var t=this;function r(){e.write.apply(e,Array.prototype.slice.call(arguments))}function n(){e._isStdio||e.end()}return t.emit("unpipe",e),e.emit("pipe",t),t.on("item",r),t.on("end",n),t.when("unpipe",function(a){var o=a===e||void 0===a;return o&&(t.removeListener("item",r),t.removeListener("end",n),e.emit("unpipe")),o}),e},n.prototype.unpipe=function(e){return this.emit("unpipe",e),this},n.prototype.format=function(){throw Error("Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:\nvar Minilog = require('minilog');\nMinilog\n  .pipe(Minilog.backends.console.formatClean)\n  .pipe(Minilog.backends.console);")},n.mixin=function(e){var t,r=n.prototype;for(t in r)r.hasOwnProperty(t)&&(e.prototype[t]=r[t])},e.exports=n},1973:function(e,t,r){"use strict";var n=r(24535),a=[],o=new n;o.write=function(e,t,r){a.push([e,t,r])},o.get=function(){return a},o.empty=function(){a=[]},e.exports=o},22337:function(e,t,r){"use strict";var n=r(24535),a=/\n+$/,o=new n;o.write=function(e,t,r){var n=r.length-1;if("undefined"!=typeof console&&console.log){if(console.log.apply)return console.log.apply(console,[e,t].concat(r));else if(JSON&&JSON.stringify){r[n]&&"string"==typeof r[n]&&(r[n]=r[n].replace(a,""));try{for(n=0;n<r.length;n++)r[n]=JSON.stringify(r[n])}catch(e){}console.log(r.join(" "))}}},o.formatters=["color","minilog"],o.color=r(81909),o.minilog=r(25681),e.exports=o},81909:function(e,t,r){"use strict";var n=r(24535),a=r(51724),o={debug:["cyan"],info:["purple"],warn:["yellow",!0],error:["red",!0]},i=new n;i.write=function(e,t,r){console[t]&&console[t].apply&&console[t].apply(console,["%c"+e+" %c"+t,a("gray"),a.apply(a,o[t])].concat(r))},i.pipe=function(){},e.exports=i},25681:function(e,t,r){"use strict";var n=r(24535),a=r(51724),o={debug:["gray"],info:["purple"],warn:["yellow",!0],error:["red",!0]},i=new n;i.write=function(e,t,r){var n=console.log;"debug"!=t&&console[t]&&(n=console[t]);var i=0;if("info"!=t){for(;i<r.length&&"string"==typeof r[i];i++);n.apply(console,["%c"+e+" "+r.slice(0,i).join(" "),a.apply(a,o[t])].concat(r.slice(i)))}else n.apply(console,["%c"+e,a.apply(a,o[t])].concat(r))},i.pipe=function(){},e.exports=i},51724:function(e){"use strict";var t={black:"#000",red:"#c23621",green:"#25bc26",yellow:"#bbbb00",blue:"#492ee1",magenta:"#d338d3",cyan:"#33bbc8",gray:"#808080",purple:"#708"};e.exports=function(e,r){return r?"color: #fff; background: "+t[e]+";":"color: "+t[e]+";"}},13572:function(e,t,r){"use strict";var n=r(62576),a=n.enable,o=n.disable,i="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&"ReactNative"===navigator.product,u=r(22337);if(n.defaultBackend=i||c?u.minilog:u,"undefined"!=typeof window){try{n.enable(JSON.parse(window.localStorage.minilogSettings))}catch(e){}if(window.location&&window.location.search){var s=RegExp("[?&]minilog=([^&]*)").exec(window.location.search);s&&n.enable(decodeURIComponent(s[1]))}}n.enable=function(){a.call(n,!0);try{window.localStorage.minilogSettings=JSON.stringify(!0)}catch(e){}return this},n.disable=function(){o.call(n);try{delete window.localStorage.minilogSettings}catch(e){}return this},(e.exports=n).backends={array:r(1973),browser:n.defaultBackend,localStorage:r(39142),jQuery:r(82845)}},82845:function(e,t,r){"use strict";var n=r(24535),a=new Date().valueOf().toString(36);function o(e){this.url=e.url||"",this.cache=[],this.timer=null,this.interval=e.interval||3e4,this.enabled=!0,this.jQuery=window.jQuery,this.extras={}}n.mixin(o),o.prototype.write=function(e,t,r){this.timer||this.init(),this.cache.push([e,t].concat(r))},o.prototype.init=function(){if(this.enabled&&this.jQuery){var e=this;this.timer=setTimeout(function(){var t,r,n=[],o=e.url;if(0==e.cache.length)return e.init();for(t=0;t<e.cache.length;t++)try{JSON.stringify(e.cache[t]),n.push(e.cache[t])}catch(e){}e.jQuery.isEmptyObject(e.extras)?(r=JSON.stringify({logs:n}),o=e.url+"?client_id="+a):r=JSON.stringify(e.jQuery.extend({logs:n},e.extras)),e.jQuery.ajax(o,{type:"POST",cache:!1,processData:!1,data:r,contentType:"application/json",timeout:1e4}).success(function(t){t.interval&&(e.interval=Math.max(1e3,t.interval))}).error(function(){e.interval=3e4}).always(function(){e.init()}),e.cache=[]},this.interval)}},o.prototype.end=function(){},o.jQueryWait=function(e){if("undefined"!=typeof window&&(window.jQuery||window.$))return e(window.jQuery||window.$);"undefined"!=typeof window&&setTimeout(function(){o.jQueryWait(e)},200)},e.exports=o},39142:function(e,t,r){"use strict";var n=r(24535),a=!1,o=new n;o.write=function(e,t,r){if("undefined"!=typeof window&&"undefined"!=typeof JSON&&JSON.stringify&&JSON.parse)try{a||(a=window.localStorage.minilog?JSON.parse(window.localStorage.minilog):[]),a.push([new Date().toString(),e,t,r]),window.localStorage.minilog=JSON.stringify(a)}catch(e){}},e.exports=o},33191:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e),this.tokenType=t.tokenType||t.token_type,this.accessToken=t.accessToken||t.access_token,this.refreshToken=t.refreshToken||t.refresh_token,this.scope=t.scope}return(0,o.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}}],[{key:"fromJSON",value:function(t){return new e({tokenType:t.tokenType,accessToken:t.accessToken,refreshToken:t.refreshToken,scope:t.scope})}}]),e}()},80422:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getReplicationURL=void 0;var o=a(r(10464)),i=a(r(30592)),c=a(r(93889)),u=a(r(92115)),s=a(r(47783)),l=a(r(91083)),d=a(r(7184)),f=a(r(62812)),p=a(r(76729)),h=r(30589),m=a(r(89513)),v=a(r(64437)),y=a(r(90179)),b=a(r(84684)),g=a(r(73916)),_=a(r(30307)),w=a(r(38221)),k=a(r(35405)),O=r(16334),x=n(r(33618)),E=a(r(96384)),C=r(20522),S=a(r(17070)),A=r(40755),P=r(19227),M=r(11337),j=r(55713);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}m.default.plugin(v.default);var R=k.default.find,N=k.default.allDocs,L=k.default.withoutDesignDocuments,F=function(e,t){if(!t.ok)throw Error("Pouch response is not OK");return I(I({},e),(0,y.default)(t,"ok"))},B={replicationInterval:3e4},z=function(e){return(0,y.default)(e,"_type")},H=function(e,t,r){var n=t.toBasicAuth(),a=e.replace("//","//".concat(n));return"".concat(a,"/data/").concat(r)};t.getReplicationURL=H;var U=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},V=function(e){(0,l.default)(ei,e);var t,r,n,a,p,v,T,V,Z,G,q,W,Q,J,Y,$,K,X,ee,et,er,en,ea,eo=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(ei);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function ei(e){(0,u.default)(this,ei);var t,r,n=(0,b.default)({},e,B);r=eo.call(this,n);var a=n.doctypes,o=n.doctypesReplicationOptions,i=n.periodicSync,c=n.initialSync,s=n.syncDebounceDelayInMs,l=n.syncDebounceMaxDelayInMs,d=n.performanceApi;if(r.options=n,!a)throw Error("PouchLink must be instantiated with doctypes it manages. Ex: ['io.cozy.bills']");return r.doctypes=a,r.doctypesReplicationOptions=o,r.indexes={},r.storage=new C.PouchLocalStorage((null==(t=n.platform)?void 0:t.storage)||P.platformWeb.storage),r.initialSync=null!=c&&c,r.periodicSync=null==i||i,r.replicationStatus=r.replicationStatus||{},r.startReplicationDebounced=(0,w.default)(r._startReplication,s||1e4,{maxWait:l||6e5}),r.performanceApi=d||h.defaultPerformanceApi,r}return(0,s.default)(ei,[{key:"getReplicationURL",value:function(e){var t=this.client&&this.client.stackClient.uri,r=this.client&&this.client.stackClient.token;if(!r)throw Error("Can't get replication URL since the stack client doesn't have a token");if(!t)throw Error("Can't get replication URL since the stack client doesn't have a URI");return H(t,r,e)}},{key:"registerClient",value:(r=(0,c.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.client=t;case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"migrateAdapter",value:(n=(0,c.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l,d,f,p,h,v;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.fromAdapter,n=t.toAdapter,a=t.url,o=t.plugins,e.prev=1,c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return D(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(o);try{for(c.s();!(u=c.n()).done;)s=u.value,m.default.plugin(s)}catch(e){c.e(e)}finally{c.f()}return e.next=6,this.storage.getPersistedSyncedDoctypes();case 6:l=e.sent,d=0,f=Object.keys(l);case 8:if(!(d<f.length)){e.next=19;break}return p=f[d],h=(0,M.getPrefix)(a),v=(0,M.getDatabaseName)(h,p),e.next=14,(0,A.migratePouch)({dbName:v,fromAdapter:r,toAdapter:n});case 14:return e.next=16,this.storage.destroyWarmedUpQueries();case 16:d++,e.next=8;break;case 19:return e.next=21,this.storage.persistAdapterName("indexeddb");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),console.error("PouchLink: PouchDB migration failed. ",e.t0);case 26:case"end":return e.stop()}},e,this,[[1,23]])})),function(e){return n.apply(this,arguments)})},{key:"onLogin",value:(a=(0,c.default)(i.default.mark(function e(){var t,r,n,a,o,c,u=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=3;break}return S.default.warn("PouchLink: no client registered, can't login"),e.abrupt("return");case 3:if(t=this.performanceApi.mark("onLogin"),r=(0,M.getPrefix)(this.client.stackClient.uri),!(this.pouches&&this.pouches.options&&this.pouches.options.prefix!==r)){e.next=16;break}return e.prev=8,e.next=11,this.pouches.destroy();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),S.default.warn("Error while destroying pouch DBs",e.t0);case 16:if(r){e.next=18;break}throw Error("PouchLink: Prefix is required");case 18:if(!(n=null==(a=this.options)||null==(o=a.pouch)||null==(c=o.options)?void 0:c.adapter)){e.next=26;break}return e.next=23,this.storage.getAdapterName();case 23:if(e.sent){e.next=26;break}return e.next=26,this.storage.persistAdapterName(n);case 26:return this.pouches=new E.default(this.doctypes,{pouch:this.options.pouch,getReplicationURL:this.getReplicationURL.bind(this),doctypesReplicationOptions:this.doctypesReplicationOptions,onError:function(e){return u.onSyncError(e)},onSync:this.handleOnSync.bind(this),onDoctypeSyncStart:this.handleDoctypeSyncStart.bind(this),onDoctypeSyncEnd:this.handleDoctypeSyncEnd.bind(this),prefix:r,executeQuery:this.executeQuery.bind(this),platform:this.options.platform}),e.next=29,this.pouches.init();case 29:this.client&&this.initialSync&&this.startReplication(),this.performanceApi.measure({markName:t,category:"CozyPouchLink"});case 31:case"end":return e.stop()}},e,this,[[8,13]])})),function(){return a.apply(this,arguments)})},{key:"reset",value:(p=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pouches){e.next=3;break}return e.next=3,this.pouches.destroy();case 3:this.pouches=null,this.client=null;case 5:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"handleOnSync",value:function(e){var t,r=(0,g.default)(e,(t=this.client,function(e,r){return e.map(function(e){return x.normalizeDoc(e,r,t)})}));this.client&&this.client.setData(r),this.options.onSync&&this.options.onSync.call(this,r),this.client.emit("pouchlink:sync:end")}},{key:"handleDoctypeSyncStart",value:function(e){this.replicationStatus[e]="replicating",this.client.emit("pouchlink:doctypesync:start",e)}},{key:"handleDoctypeSyncEnd",value:function(e){this.replicationStatus[e]="idle",this.client.emit("pouchlink:doctypesync:end",e)}},{key:"_startReplication",value:function(){this.client.emit("pouchlink:sync:start"),this.periodicSync?this.pouches.startReplicationLoop():this.pouches.replicateOnce(),this.options.onStartReplication&&this.options.onStartReplication.apply(this)}},{key:"startReplication",value:function(){return this.startReplicationDebounced.cancel(),this._startReplication()}},{key:"startReplicationWithDebounce",value:function(){if(this.periodicSync)throw Error("createDebounceableReplication cannot be called when periodic sync is configured");return this.startReplicationDebounced()}},{key:"stopReplication",value:function(){this.pouches.stopReplicationLoop(),this.options.onStopReplication&&this.options.onStopReplication.apply(this),this.client.emit("pouchlink:sync:stop")}},{key:"onSyncError",value:(v=(0,c.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,j.isExpiredTokenError)(t)){e.next=14;break}return e.prev=1,e.next=4,this.client.stackClient.refreshToken();case 4:return this.startReplication(),e.abrupt("return");case 8:e.prev=8,e.t0=e.catch(1),S.default.warn("Could not refresh token, replication has stopped",e.t0),this.options.onSyncError&&this.options.onSyncError.call(this,e.t0);case 12:e.next=16;break;case 14:S.default.warn("CozyPouchLink: Synchronization error",t),this.options.onSyncError&&this.options.onSyncError.call(this,t);case 16:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return v.apply(this,arguments)})},{key:"getSyncInfo",value:function(e){return this.pouches.getSyncInfo(e)}},{key:"getPouch",value:function(e){return this.pouches.getPouch(e)}},{key:"supportsOperation",value:function(e){var t=(0,h.getDoctypeFromOperation)(e);return(!e.mutationType||!this.doctypesReplicationOptions||!this.doctypesReplicationOptions[t]||"fromRemote"!==this.doctypesReplicationOptions[t].strategy)&&!!this.getPouch(t)}},{key:"request",value:(T=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:null,a=c.length>3&&void 0!==c[3]?c[3]:U,!(null!=r&&r.forceStack)){e.next=4;break}return e.abrupt("return",a(t,r));case 4:if(o=(0,h.getDoctypeFromOperation)(t),this.pouches){e.next=8;break}return e.abrupt("return",a(t,r));case 8:if("not_synced"!==this.pouches.getSyncStatus(o)){e.next=11;break}return e.abrupt("return",a(t,r));case 11:return e.next=13,this.needsToWaitWarmup(o);case 13:if(!e.sent){e.next=16;break}return e.abrupt("return",a(t,r));case 16:if(this.supportsOperation(t)){e.next=19;break}return e.abrupt("return",a(t,r));case 19:if(!t.mutationType){e.next=23;break}return e.abrupt("return",this.executeMutation(t,r,n,a));case 23:return e.abrupt("return",this.executeQuery(t));case 24:case"end":return e.stop()}},e,this)})),function(e,t){return T.apply(this,arguments)})},{key:"getChanges",value:(V=(0,c.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n=this.getPouch(t),e.abrupt("return",n.changes(r));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return V.apply(this,arguments)})},{key:"getDbInfo",value:(Z=(0,c.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return r=this.getPouch(t),e.abrupt("return",r.info());case 4:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"sanitizeJsonApi",value:function(e){var t=z(e);return(0,y.default)(t,["attributes","meta"])}},{key:"persistCozyData",value:(G=(0,c.default)(i.default.mark(function e(t){var r,n,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]&&c[1],r=this.performanceApi.mark("persistCozyData"),(n=this.sanitizeJsonApi(t)).cozyLocalOnly=!0,e.next=6,this.getExistingDocument(t._id,t._type);case 6:return(a=e.sent)&&(n._rev=a._rev),o=this.pouches.getPouch(t._type),e.next=11,o.put(n);case 11:this.performanceApi.measure({markName:r,category:"CozyPouchLink"});case 12:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"getExistingDocument",value:(q=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]&&u[2],e.prev=1,a=this.pouches.getPouch(r),o=this.performanceApi.mark("db.get from getExistingDocument"),e.next=6,a.get(t);case 6:return c=e.sent,this.performanceApi.measure({markName:o,category:"PouchDB"}),e.abrupt("return",c);case 11:if(e.prev=11,e.t0=e.catch(1),!("not_found"===e.t0.name&&!n)){e.next=17;break}return e.abrupt("return",null);case 17:throw e.t0;case 18:case"end":return e.stop()}},e,this,[[1,11]])})),function(e,t){return q.apply(this,arguments)})},{key:"needsToWaitWarmup",value:(W=(0,c.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.doctypesReplicationOptions&&this.doctypesReplicationOptions[t]&&this.doctypesReplicationOptions[t].warmupQueries)){e.next=4;break}return e.next=3,this.pouches.areQueriesWarmedUp(t,this.doctypesReplicationOptions[t].warmupQueries);case 3:return e.abrupt("return",!e.sent);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"hasIndex",value:function(e){return!!this.indexes[e]}},{key:"createIndex",value:(Q=(0,c.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).partialFilter,a=r.indexName,o=r.doctype,c="".concat(o,"/").concat(a),u=this.pouches.getPouch(o),e.next=5,u.createIndex({index:{fields:t,ddoc:a,indexName:a,partial_filter_selector:n}});case 5:return s=e.sent,this.indexes[c]=s,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)})),function(e){return Q.apply(this,arguments)})},{key:"findExistingIndex",value:function(e,t,r){var n="".concat(e,"/").concat(r);return this.indexes[n]}},{key:"ensureIndex",value:(J=(0,c.default)(i.default.mark(function e(t,r){var n,a,c,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.indexedFields,a=r.partialFilter,n?a&&(n=(n=Array.from(new Set([].concat((0,o.default)(n),(0,o.default)(Object.keys(a)))))).filter(function(e){return"$and"!==e&&"$or"!==e})):n=(0,O.getIndexFields)(r),c=(0,O.getIndexNameFromFields)(n,a),u=this.findExistingIndex(t,r,c)){e.next=10;break}return e.next=7,this.createIndex(n,{partialFilter:a,indexName:c,doctype:t});case 7:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return J.apply(this,arguments)})},{key:"executeQuery",value:(Y=(0,c.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,O,E,C,S;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.doctype,n=t.selector,a=t.sort,c=t.fields,u=t.limit,s=t.id,l=t.ids,d=t.skip,f=t.indexedFields,p=t.partialFilter,h=this.performanceApi.mark("executeQuery"),m=this.getPouch(r),!s){e.next=12;break}return b=this.performanceApi.mark("db.get from executeQuery"),e.next=7,m.get(s);case 7:v=e.sent,this.performanceApi.measure({markName:b,category:"PouchDB"}),y=!1,e.next=47;break;case 12:if(!l){e.next=23;break}return g=this.performanceApi.mark("allDocs from executeQuery with ids"),e.next=16,N(m,{include_docs:!0,keys:l});case 16:v=e.sent,this.performanceApi.measure({markName:g,category:"PouchDB"}),(v=L(v)).total_rows=null,y=!0,e.next=47;break;case 23:if(!(!n&&!p&&!c&&!a)){e.next=33;break}return _=this.performanceApi.mark("allDocs from executeQuery"),e.next=27,N(m,{include_docs:!0,limit:u});case 27:v=e.sent,this.performanceApi.measure({markName:_,category:"PouchDB"}),v=L(v),y=!0,e.next=47;break;case 33:return w=k.default.normalizeFindSelector({selector:n,sort:a,indexedFields:f,partialFilter:p}),O={sort:a,selector:w,fields:c?[].concat((0,o.default)(c),["_id","_rev"]):void 0,limit:u,skip:d},e.next=37,this.ensureIndex(r,I(I({},O),{},{indexedFields:f,partialFilter:p}));case 37:return E=e.sent,O.use_index=E.id,C=this.performanceApi.mark("find from executeQuery"),e.next=42,R(m,O);case 42:v=e.sent,this.performanceApi.measure({markName:C,category:"PouchDB"}),v.offset=d,v.limit=u,y=!0;case 47:return S=x.fromPouchResult({res:v,withRows:y,doctype:r,client:this.client}),this.performanceApi.measure({markName:h,category:"CozyPouchLink"}),e.abrupt("return",S);case 50:case"end":return e.stop()}},e,this)})),function(e){return Y.apply(this,arguments)})},{key:"executeMutation",value:($=(0,c.default)(i.default.mark(function e(t,r,n,a){var o,c,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=this.performanceApi.mark("executeMutation"),e.t0=t.mutationType,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.UPDATE_DOCUMENT?8:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?12:e.t0===h.MutationTypes.DELETE_DOCUMENT?16:e.t0===h.MutationTypes.ADD_REFERENCES_TO?20:24;break;case 4:return e.next=6,this.createDocument(t);case 6:case 10:case 14:case 18:case 22:return c=e.sent,e.abrupt("break",25);case 8:return e.next=10,this.updateDocument(t);case 12:return e.next=14,this.updateDocuments(t);case 16:return e.next=18,this.deleteDocument(t);case 20:return e.next=22,this.addReferencesTo(t);case 24:return e.abrupt("return",a(t,r,n));case 25:return u=x.fromPouchResult({res:c,withRows:!1,doctype:(0,h.getDoctypeFromOperation)(t),client:this.client}),this.performanceApi.measure({markName:o,category:"CozyPouchLink"}),e.abrupt("return",u);case 28:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return $.apply(this,arguments)})},{key:"createDocument",value:(K=(0,c.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("post",t);case 2:return r=e.sent,e.abrupt("return",F(t.document,r));case 4:case"end":return e.stop()}},e,this)})),function(e){return K.apply(this,arguments)})},{key:"updateDocument",value:(X=(0,c.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("put",t);case 2:return r=e.sent,e.abrupt("return",F(t.document,r));case 4:case"end":return e.stop()}},e,this)})),function(e){return X.apply(this,arguments)})},{key:"updateDocuments",value:(ee=(0,c.default)(i.default.mark(function e(t){var r,n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.documents,e.next=3,this.dbMethod("bulkDocs",t);case 3:if(n=e.sent,a=(0,_.default)(n,r,function(e,t){return I(I({},t),{},{_id:e.id,_rev:e.rev})}),!n.find(function(e){return!e.ok})){e.next=7;break}throw new h.BulkEditError(n,a);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e){return ee.apply(this,arguments)})},{key:"deleteDocument",value:(et=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbMethod("remove",t);case 2:return r=e.sent,n=I(I({},t.document),{},{_id:r.id,_rev:r.rev,_deleted:!0}),e.abrupt("return",F(n,r));case 5:case"end":return e.stop()}},e,this)})),function(e){return et.apply(this,arguments)})},{key:"addReferencesTo",value:(er=(0,c.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("addReferencesTo is not implemented in CozyPouchLink");case 1:case"end":return e.stop()}},e)})),function(e){return er.apply(this,arguments)})},{key:"dbMethod",value:(en=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.performanceApi.mark("dbMethod ".concat(t)),a=(0,h.getDoctypeFromOperation)(r),o=r.document,c=r.documents,u=this.getPouch(a),e.prev=4,!c){e.next=11;break}return e.next=8,u[t](c.map(function(e){return z(e)}));case 8:case 14:s=e.sent,e.next=18;break;case 11:if(!o){e.next=17;break}return e.next=14,u[t](z(o));case 17:throw Error("A mutation should either have document or documents member.");case 18:return this.performanceApi.measure({markName:n,category:"PouchDB"}),e.abrupt("return",s);case 22:throw e.prev=22,e.t0=e.catch(4),this.performanceApi.measure({markName:n,measureName:"".concat(n," error"),category:"PouchDB",color:"error"}),Error("Coud not apply mutation: ".concat(e.t0.message));case 26:case"end":return e.stop()}},e,this,[[4,22]])})),function(e,t){return en.apply(this,arguments)})},{key:"syncImmediately",value:(ea=(0,c.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pouches){e.next=3;break}return S.default.warn("Cannot sync immediately, no PouchManager"),e.abrupt("return");case 3:this.pouches.syncImmediately();case 4:case"end":return e.stop()}},e,this)})),function(){return ea.apply(this,arguments)})}]),ei}(h.CozyLink);(0,p.default)(V,"getPouchAdapterName",function(e){return new C.PouchLocalStorage(e||P.platformWeb.storage).getAdapterName()}),t.default=V},96384:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(44377)),s=n(r(39754)),l=n(r(58156)),d=r(7127),f=r(20522),p=n(r(52008)),h=n(r(17070)),m=r(19227),v=r(70062),y=r(11337),b=function(e){return e.options.as};t.default=function(){var e,t,r,n,g,_,w,k,O,x;function E(e,t){var r,n,a,o;(0,i.default)(this,E),this.options=t,this.doctypes=e,this.storage=new f.PouchLocalStorage((null==(r=t.platform)?void 0:r.storage)||m.platformWeb.storage),this.PouchDB=(null==(n=t.platform)?void 0:n.pouchAdapter)||m.platformWeb.pouchAdapter,this.isOnline=(null==(a=t.platform)?void 0:a.isOnline)||m.platformWeb.isOnline,this.events=(null==(o=t.platform)?void 0:o.events)||m.platformWeb.events}return(0,c.default)(E,[{key:"init",value:(e=(0,o.default)(a.default.mark(function e(){var t,r,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.default)(this.options,"pouch.plugins",[]),(r=(0,l.default)(this.options,"pouch.options",{})).view_update_changes_batch_size||(r.view_update_changes_batch_size=1e3),(0,s.default)(t,function(e){return n.PouchDB.plugin(e)}),this.pouches=(0,u.default)(this.doctypes.map(function(e){return[e,new n.PouchDB((0,y.getDatabaseName)(n.options.prefix,e),r)]})),e.next=7,this.storage.getPersistedSyncedDoctypes();case 7:return this.syncedDoctypes=e.sent,e.next=10,this.storage.getPersistedWarmedUpQueries();case 10:this.warmedUpQueries=e.sent,this.getReplicationURL=this.options.getReplicationURL,this.doctypesReplicationOptions=this.options.doctypesReplicationOptions||{},this.listenerLaunched=!1,this.ensureDatabasesExistDone=!1,this.startReplicationLoop=this.startReplicationLoop.bind(this),this.stopReplicationLoop=this.stopReplicationLoop.bind(this),this.replicateOnce=this.replicateOnce.bind(this),this.executeQuery=this.options.executeQuery,this.replications=void 0;case 20:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"addListeners",value:function(){this.listenerLaunched||((0,d.isMobileApp)()&&(this.events.addEventListener("pause",this.stopReplicationLoop),this.events.addEventListener("resume",this.startReplicationLoop)),this.events.addEventListener("online",this.startReplicationLoop),this.events.addEventListener("offline",this.stopReplicationLoop),this.listenerLaunched=!0)}},{key:"removeListeners",value:function(){this.listenerLaunched&&((0,d.isMobileApp)()&&(this.events.removeEventListener("pause",this.stopReplicationLoop),this.events.removeEventListener("resume",this.startReplicationLoop)),this.events.removeEventListener("online",this.startReplicationLoop),this.events.removeEventListener("offline",this.stopReplicationLoop),this.listenerLaunched=!1)}},{key:"destroy",value:(t=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopReplicationLoop(),this.removeListeners(),e.next=4,this.clearSyncedDoctypes();case 4:return e.next=6,this.clearWarmedUpQueries();case 6:return e.next=8,this.storage.destroy();case 8:return e.abrupt("return",(0,y.allSettled)(Object.values(this.pouches).map(function(e){return e.destroy()})));case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"ensureDatabasesExist",value:(r=(0,o.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ensureDatabasesExistDone){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",Promise.all(Object.values(this.pouches).map(function(e){return e.info()})).then(function(){h.default.info("PouchManager: ensure databases exist done"),t.ensureDatabasesExistDone=!0}));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"startReplicationLoop",value:(n=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureDatabasesExist();case 2:if(!this.replicationLoop){e.next=5;break}return h.default.warn("Replication loop already started"),e.abrupt("return");case 5:return t=this.options.replicationDelay||3e4,this.replicationLoop=new p.default(this.replicateOnce,t),this.replicationLoop.start(),this.addListeners(),e.abrupt("return",this.replicationLoop);case 11:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stopReplicationLoop",value:function(){this.replicationLoop&&(h.default.info("PouchManager: Stop replication loop"),this.replicationLoop.stop(),this.replicationLoop=null)}},{key:"syncImmediately",value:function(){if(!this.replicationLoop)return void h.default.warn("No replication loop, cannot syncImmediately");this.replicationLoop.scheduleImmediateTask()}},{key:"replicateOnce",value:(g=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.replicateOnce)(this));case 1:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"handleReplicationError",value:function(e){var t="";e instanceof AggregateError&&(t=(0,y.formatAggregatedError)(e)),h.default.warn("PouchManager: Error during replication - ".concat(e.message).concat(t)),this.stopReplicationLoop(),this.options.onError&&this.options.onError(e)}},{key:"cancelCurrentReplications",value:function(){if(!this.replications)return void h.default.warn("PouchManager: No current replications");Object.values(this.replications).forEach(function(e){return e.cancel&&e.cancel()})}},{key:"waitForCurrentReplications",value:function(){return this.replications?Promise.all(Object.values(this.replications)):Promise.resolve()}},{key:"getPouch",value:function(e){return this.pouches[e]}},{key:"updateSyncInfo",value:(_=(0,o.default)(a.default.mark(function e(t){var r,n=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"synced",this.syncedDoctypes[t]={date:new Date().toISOString(),status:r},e.next=4,this.storage.persistSyncedDoctypes(this.syncedDoctypes);case 4:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"getSyncInfo",value:function(e){return this.syncedDoctypes&&this.syncedDoctypes[e]}},{key:"getSyncStatus",value:function(e){var t=this.getSyncInfo(e);return(null==t?void 0:t.status)||"not_synced"}},{key:"clearSyncedDoctypes",value:(w=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.syncedDoctypes={},e.next=3,this.storage.destroySyncedDoctypes();case 3:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"warmupQueries",value:(k=(0,o.default)(a.default.mark(function e(t,r){var n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.warmedUpQueries[t]||(this.warmedUpQueries[t]=[]),e.prev=1,e.next=4,Promise.all(r.map(function(){var e=(0,o.default)(a.default.mark(function e(r){var o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b(r),n.warmedUpQueries[t].includes(o)){e.next=5;break}return e.next=4,n.executeQuery(r.definition().toDefinition());case 4:n.warmedUpQueries[t].push(o);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,this.storage.persistWarmedUpQueries(this.warmedUpQueries);case 6:h.default.log("PouchManager: warmupQueries for "+t+" are done"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),h.default.error("PouchManager: Could not warm up queries for "+t,e.t0),delete this.warmedUpQueries[t];case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e,t){return k.apply(this,arguments)})},{key:"checkToWarmupDoctype",value:function(e,t){!this.warmedUpQueries[e]&&t.warmupQueries&&this.warmupQueries(e,t.warmupQueries)}},{key:"areQueriesWarmedUp",value:(O=(0,o.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getPersistedWarmedUpQueries();case 2:return n=e.sent,e.abrupt("return",r.every(function(e){return n[t]&&n[t].includes(b(e))}));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return O.apply(this,arguments)})},{key:"clearWarmedUpQueries",value:(x=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.warmedUpQueries={},e.next=3,this.storage.destroyWarmedUpQueries();case 3:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})}]),E}()},55713:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isExpiredTokenError=void 0;var r=/Expired token/,n=/Invalid JWT token/,a=/Invalid token/,o=function(e){var t=e.message,o=e.name;return r.test(t)||r.test(o)||n.test(t)||n.test(o)||a.test(t)||a.test(o)};t.isExpiredTokenError=function(e){return e instanceof AggregateError?e.errors.some(function(e){return o(e)}):o(e)}},35405:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=c(r(30592)),s=c(r(10464)),l=c(r(93889)),d=c(r(76729)),f=c(r(55364)),p=c(r(22331)),h=c(r(17070));function m(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g={},_=["cordova-sqlite","websql"];g.isAdapterBugged=function(e){return _.includes(e)},g.withoutDesignDocuments=function(e){var t=e.rows.filter(function(e){return!(0,p.default)(e.id,"_design/")});return b(b({},e),{},{rows:t,total_rows:t.length})},n=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c,l=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=l.length>2&&void 0!==l[2]?l[2]:{}).limit&&delete n.limit,a=n.limit,o="allDocs"===r?"rows":"docs",g.isAdapterBugged(t.adapter)&&(void 0===a||a>999)&&(n.limit=999,n.skip=n.skip||0),e.next=7,t[r](n);case 7:if((i=e.sent)[o].length!==n.limit||(n.skip=(n.skip?n.skip:0)+n.limit,n.limit=a?a-n.limit:void 0,!(n.limit>0||void 0===n.limit))){e.next=16;break}return e.next=14,g.getDocs(t,r,n);case 14:return c=e.sent,e.abrupt("return",b(b({},i),{},(0,d.default)({},o,[].concat((0,s.default)(i[o]),(0,s.default)(c[o])))));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}},e)})),g.getDocs=function(e,t){return n.apply(this,arguments)},a=(0,l.default)(u.default.mark(function e(t){var r,n=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",g.getDocs(t,"allDocs",r));case 2:case"end":return e.stop()}},e)})),g.allDocs=function(e){return a.apply(this,arguments)},o=(0,l.default)(u.default.mark(function e(t){var r,n=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",g.getDocs(t,"find",r));case 2:case"end":return e.stop()}},e)})),g.find=function(e){return o.apply(this,arguments)},g.isDesignDocument=function(e){return(0,p.default)(e._id,"_design")},g.isDeletedDocument=function(e){return e._deleted},i=(0,l.default)(u.default.mark(function e(t,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.bulkDocs(r,{new_edits:!1}));case 1:case"end":return e.stop()}},e)})),g.insertBulkDocs=function(e,t){return i.apply(this,arguments)},g.normalizeFindSelector=function(e){var t=e.selector,r=e.sort,n=e.indexedFields,a=e.partialFilter,o=t||{};if(n){var i,c=m(n);try{for(c.s();!(i=c.n()).done;){var u=i.value;if(!Object.keys(o).includes(u)){var s=JSON.stringify(t);h.default.warn("".concat(u," was missing in selector, it has been automatically added from indexed fields. Please consider adding this field to your query's selector as required by PouchDB. The query's selector is: ").concat(s)),o[u]={$gt:null}}}}catch(e){c.e(e)}finally{c.f()}}if(r){var l,d=m(r.flatMap(function(e){return Object.keys(e)}));try{for(d.s();!(l=d.n()).done;){var p=l.value;if(!Object.keys(o).includes(p)){var v=JSON.stringify(t);h.default.warn("".concat(p," was missing in selector, it has been automatically added from sorted fields. Please consider adding this field to your query's selector as required by PouchDB. The query's selector is: ").concat(v)),o[p]={$gt:null}}}}catch(e){d.e(e)}finally{d.f()}}var y=a?(0,f.default)(b({},o),a):o;return Object.keys(y).length>0?y:{_id:{$gt:null}}},t.default=g},65968:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(80422))},33618:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fromPouchResult=t.normalizeDoc=void 0;var a=n(r(76729)),o=r(30589);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(e,t,r){var n=e._id||e.id,a=e.relationships,o=e.referenced_by,i=e.rev||e._rev,u=c(c({},e),{},{id:n,_id:n,_rev:i,_type:t,relationships:c(c({},a),{},{referenced_by:o})});return u.rev&&delete u.rev,s(u,t,r),u};t.normalizeDoc=u;var s=function(e,t,r){if("io.cozy.apps"===t){var n=(0,o.generateWebLink)({cozyUrl:r.getStackClient().uri,slug:e.slug,subDomainType:r.capabilities.flat_subdomains?"flat":"nested",pathname:"",hash:"",searchParams:[]});e.links={self:"/apps/".concat(e.slug),related:n,icon:"/apps/".concat(e.slug,"/icon/").concat(e.version)}}},l=function(e){return!!e};t.fromPouchResult=function(e){var t=e.res,r=e.withRows,n=e.doctype,a=e.client;if(t.cozyPouchData)return{data:t.cozyPouchData};if(!r)return{data:Array.isArray(t)?t.map(function(e){return u(e,n,a)}):u(t,n,a)};var o=t.rows?t.rows.map(function(e){return e.doc}).filter(l):t.docs,i=t.offset||0;return{data:o.map(function(e){return u(e,n,a)}),meta:{count:o.length},skip:i,next:i+o.length<t.total_rows||o.length>=t.limit}}},20522:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.PouchLocalStorage=t.LOCALSTORAGE_STORAGE_KEYS=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u={SYNCED:"cozy-client-pouch-link-synced",WARMUPEDQUERIES:"cozy-client-pouch-link-warmupedqueries",LASTSEQUENCES:"cozy-client-pouch-link-lastreplicationsequence",LASTREPLICATEDDOCID:"cozy-client-pouch-link-lastreplicateddocid",ADAPTERNAME:"cozy-client-pouch-link-adaptername"};t.LOCALSTORAGE_STORAGE_KEYS=u,t.PouchLocalStorage=function(){var e,t,r,n,l,d,f,p,h,m,v,y,b,g,_,w,k,O;function x(e){(0,i.default)(this,x),s(e),this.storageEngine=e}return(0,c.default)(x,[{key:"destroy",value:(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storageEngine.destroy();case 1:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"persistLastReplicatedDocID",value:(t=(0,o.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastReplicatedDocID();case 2:return(n=e.sent)[t]=r,e.next=6,this.storageEngine.setItem(u.LASTREPLICATEDDOCID,JSON.stringify(n));case 6:case"end":return e.stop()}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"getAllLastReplicatedDocID",value:(r=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(u.LASTREPLICATEDDOCID);case 2:return t=e.sent,e.abrupt("return",t?JSON.parse(t):{});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getLastReplicatedDocID",value:(n=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastReplicatedDocID();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroyAllLastReplicatedDocID",value:(l=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(u.LASTREPLICATEDDOCID);case 2:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"persistSyncedDoctypes",value:(d=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(u.SYNCED,JSON.stringify(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"getPersistedSyncedDoctypes",value:(f=(0,o.default)(a.default.mark(function e(){var t,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(u.SYNCED);case 2:if("object"==typeof(r=(t=e.sent)?JSON.parse(t):{})){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"destroySyncedDoctypes",value:(p=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(u.SYNCED);case 2:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"persistDoctypeLastSequence",value:(h=(0,o.default)(a.default.mark(function e(t,r){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return(n=e.sent)[t]=r,e.next=6,this.storageEngine.setItem(u.LASTSEQUENCES,JSON.stringify(n));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"getAllLastSequences",value:(m=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(u.LASTSEQUENCES);case 2:return t=e.sent,e.abrupt("return",t?JSON.parse(t):{});case 4:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"getDoctypeLastSequence",value:(v=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"destroyAllDoctypeLastSequence",value:(y=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(u.LASTSEQUENCES);case 2:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"destroyDoctypeLastSequence",value:(b=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLastSequences();case 2:return r=e.sent,delete r[t],e.next=6,this.storageEngine.setItem(u.LASTSEQUENCES,JSON.stringify(r));case 6:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"persistWarmedUpQueries",value:(g=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(u.WARMUPEDQUERIES,JSON.stringify(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"getPersistedWarmedUpQueries",value:(_=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(u.WARMUPEDQUERIES);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{});case 5:return e.abrupt("return",JSON.parse(t));case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"destroyWarmedUpQueries",value:(w=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.removeItem(u.WARMUPEDQUERIES);case 2:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"getAdapterName",value:(k=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getItem(u.ADAPTERNAME);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"persistAdapterName",value:(O=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setItem(u.ADAPTERNAME,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})}]),x}();var s=function(e){var t=["setItem","getItem","removeItem"].filter(function(t){return!e[t]});if(t.length>0){var r=t.join(", ");throw Error("Provided storageEngine is missing the following methods: ".concat(r))}}},17070:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o=(0,a.default)("cozy-pouch-link");a.default.suggest.deny("cozy-pouch-link","info"),t.default=o},52008:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(17070)),s=function(e){return new Promise(function(t){return setTimeout(t,e)})};t.default=function(){var e,t,r,n,l;function d(e,t,r,n){(0,i.default)(this,d),this.task=e,this.delay=t,this.round=this.round.bind(this),this.immediateTasks=[],this.started=!1,this.afterRound=r,this.sleep=n||s}return(0,c.default)(d,[{key:"start",value:function(){this.started||(this.round(),this.started=!0)}},{key:"stop",value:function(){this.started&&(this.currentTask&&this.currentTask.cancel&&this.currentTask.cancel(),clearTimeout(this.timeout),this.clearImmediateTasks(),this.started=!1)}},{key:"waitForCurrent",value:(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentTask;case 2:return e.abrupt("return");case 3:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"runImmediateTasks",value:(t=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.immediateTasks.length>0)){e.next=6;break}return t=this.immediateTasks.shift(),e.next=4,this.runTask(t);case 4:e.next=0;break;case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"scheduleImmediateTask",value:(r=(0,o.default)(a.default.mark(function e(){var t,r=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:null,this.started){e.next=4;break}return u.default.warn("Cannot schedule immediate task, loop is not started"),e.abrupt("return");case 4:this.immediateTasks.push(t||this.task),this.currentTask||(clearTimeout(this.timeout),this.round());case 6:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"clearImmediateTasks",value:function(){this.immediateTasks.splice(0,this.runImmediateTasks.length)}},{key:"runTask",value:(n=(0,o.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.currentTask=t(),e.next=4,this.currentTask;case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),this.stop(),u.default.warn("Could not runTask, stopped the loop",e.t0),e.t0;case 11:return e.prev=11,this.currentTask=null,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,6,11,14]])})),function(e){return n.apply(this,arguments)})},{key:"round",value:(l=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._rounding){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,this._rounding=!0,!(this.immediateTasks.length>0)){e.next=9;break}return e.next=7,this.runImmediateTasks();case 7:return e.next=9,this.sleep(this.delay);case 9:return e.next=11,this.runTask(this.task);case 11:this.started&&(this.timeout=setTimeout(this.round,this.delay));case 12:return e.prev=12,this._rounding=!1,this.afterRound&&this.afterRound(),e.finish(12);case 16:case"end":return e.stop()}},e,this,[[2,,12,16]])})),function(){return l.apply(this,arguments)})}]),d}()},16334:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexFields=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=void 0;var a=n(r(10464)),o=n(r(13135)),i=n(r(912)),c=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(n,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(n,"_(")),")"):"object"==typeof a?"".concat(n,"_").concat(e(a)):"".concat(n,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=c,t.getIndexNameFromFields=function(e,t){var r="by_".concat(e.join("_and_"));return t?"".concat(r,"_filter_(").concat(c(t),")"):r};var u={_id:{$gt:null}};t.getIndexFields=function(e){var t=e.selector,r=void 0===t?u:t,n=e.sort,o=e.partialFilter;return Array.from(new Set([].concat((0,a.default)((void 0===n?[]:n).map(function(e){return(0,i.default)(Object.keys(e))})),(0,a.default)(r?Object.keys(r):[]),(0,a.default)(o?Object.keys(o):[]))))}},40755:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.migratePouch=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(89513));n=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,u,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dbName,n=t.fromAdapter,a=t.toAdapter,i=new c.default(r,{adapter:n,location:"default"}),u="".concat(r,"_indexeddb"),s=new c.default(u,{adapter:a,location:"default"}),e.next=6,i.replicate.to(s,{batch_size:1e3});case 6:return e.next=8,i.destroy();case 8:return i=null,e.abrupt("return",s);case 10:case"end":return e.stop()}},e)})),t.migratePouch=function(e){return n.apply(this,arguments)}},19227:function(e,t,r){"use strict";var n,a,o,i,c,u=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.platformWeb=void 0;var s=u(r(30592)),l=u(r(93889)),d=u(r(89513)),f=r(20522),p=(n=(0,l.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.getItem(t));case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),h=(a=(0,l.default)(s.default.mark(function e(t,r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.setItem(t,r));case 1:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),m=(o=(0,l.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.localStorage.removeItem(t));case 1:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),v=(i=(0,l.default)(s.default.mark(function e(){var t,r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,r=Object.values(f.LOCALSTORAGE_STORAGE_KEYS);case 1:if(!(t<r.length)){e.next=8;break}return n=r[t],e.next=5,m(n);case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),y=(c=(0,l.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.navigator.onLine);case 1:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)});t.platformWeb={storage:{getItem:p,setItem:h,removeItem:m,destroy:v},events:{addEventListener:function(e,t){document.addEventListener(e,t)},removeEventListener:function(e,t){document.removeEventListener(e,t)}},pouchAdapter:d.default,isOnline:y}},86096:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRemoteLastSequence=t.fetchRemoteInstance=t.isDatabaseUnradableError=t.isDatabaseNotFoundError=t.DATABASE_RESERVED_DOCTYPE_ERROR=t.DATABASE_NOT_FOUND_ERROR=void 0;var i=o(r(30592)),c=o(r(93889)),u=o(r(33191)),s="Database does not exist";t.DATABASE_NOT_FOUND_ERROR=s;var l="Reserved doctype";t.DATABASE_RESERVED_DOCTYPE_ERROR=l,t.isDatabaseNotFoundError=function(e){return e.message===s},t.isDatabaseUnradableError=function(e){return e.message===l};var d=(n=(0,c.default)(i.default.mark(function e(t){var r,n,a,o,c,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},n=new u.default({accessToken:t.password}),Object.keys(r).forEach(function(e){t.searchParams.set(e,r[e])}),a="".concat(t.protocol,"//").concat(t.href.substring(t.href.indexOf("@")+1)),(o=new Headers).append("Accept","application/json"),o.append("Content-Type","application/json"),o.append("Authorization",n.toAuthHeader()),e.next=10,fetch(a,{headers:o,credentials:"include"});case 10:return c=e.sent,e.next=13,c.json();case 13:if(d=e.sent,!c.ok){e.next=16;break}return e.abrupt("return",d);case 16:if(404!==c.status){e.next=18;break}throw Error(s);case 18:if(!(403===c.status&&d.error.includes("message=reserved doctype"))){e.next=20;break}throw Error(l);case 20:throw Error("Error (".concat(c.status,") while fetching remote instance: ").concat(JSON.stringify(d)));case 21:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.fetchRemoteInstance=d,a=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL("".concat(t,"/_changes")),e.next=3,d(r,{limit:1,descending:!0});case 3:return n=e.sent,e.abrupt("return",n.last_seq);case 5:case"end":return e.stop()}},e)})),t.fetchRemoteLastSequence=function(e){return a.apply(this,arguments)}},70062:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.replicateOnce=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(44377)),u=a(r(58156)),s=a(r(55378)),l=a(r(22331)),d=a(r(65611)),f=a(r(17070)),p=r(86096),h=r(9652),m=r(11337);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}n=(0,i.default)(o.default.mark(function e(t){var r,n,a,y,b,g,_,w,k,O,x,E,C,S;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isOnline();case 2:if(e.sent){e.next=5;break}return f.default.info("PouchManager: The device is offline so the replication has been skipped"),e.abrupt("return",Promise.resolve());case 5:return f.default.info("PouchManager: Starting replication iteration"),t.replications=(0,s.default)(t.pouches,function(){var e=(0,i.default)(o.default.mark(function e(r,n){var a,i,c,s,d,m,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.default.info("PouchManager: Starting replication for "+n),a=function(){return t.getReplicationURL(n)},i="synced"!==t.getSyncStatus(n),c=function(e){return!(0,l.default)(e._id,"_design")},s="",!i){e.next=13;break}return e.next=8,(0,p.fetchRemoteLastSequence)(a());case 8:return d=e.sent,e.next=11,t.storage.persistDoctypeLastSequence(n,d);case 11:e.next=16;break;case 13:return e.next=15,t.storage.getDoctypeLastSequence(n);case 15:s=e.sent;case 16:return(m=(0,u.default)(t.doctypesReplicationOptions,n,{})).initialReplication=i,m.filter=c,m.since=s,m.doctype=n,t.options.onDoctypeSyncStart&&t.options.onDoctypeSyncStart(n),e.next=24,(0,h.startReplication)(r,m,a,t.storage);case 24:if(v=e.sent,!s){e.next=28;break}return e.next=28,t.storage.destroyDoctypeLastSequence(n);case 28:return e.next=30,t.updateSyncInfo(n);case 30:return t.checkToWarmupDoctype(n,m),t.options.onDoctypeSyncEnd&&t.options.onDoctypeSyncEnd(n),e.abrupt("return",v);case 33:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()),r=Object.keys(t.pouches),n=Object.values(t.replications),e.prev=9,e.next=12,(0,m.allSettled)(n);case 12:if(a=e.sent,!t.options.onSync){e.next=51;break}b=(y=(0,d.default)(r,a)).filter(function(e){return"fulfilled"===e[1].status}).map(function(e){return[e[0],e[1].value]}),g=y.filter(function(e){return"rejected"===e[1].status}).map(function(e){return[e[0],e[1].reason]}),_=a.filter(function(e){return"rejected"===e.status&&!(0,p.isDatabaseNotFoundError)(e.reason)&&!(0,p.isDatabaseUnradableError)(e.reason)}),w=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(g.filter(function(e){return(0,p.isDatabaseNotFoundError)(e[1])||(0,p.isDatabaseUnradableError)(e[1])})),e.prev=21,w.s();case 23:if((k=w.n()).done){e.next=30;break}return O=k.value[0],e.next=28,t.updateSyncInfo(O,"not_complete");case 28:e.next=23;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(21),w.e(e.t0);case 35:return e.prev=35,w.f(),e.finish(35);case 38:if(!(_.length>0)){e.next=45;break}throw E=(x=_.map(function(e){return e.reason})).join("\n"),f.default.debug("ReplicateOnce's promises failed with the following errors",E),AggregateError(x,"Failed with blocking errors");case 45:f.default.debug("ReplicateOnce's promises succeed with no blocking errors");case 46:C=(0,c.default)(b),S=(0,c.default)(g),f.default.debug("Doctypes replications in error: ",Object.keys(S)),f.default.debug("Doctypes replications in success: ",Object.keys(C)),t.options.onSync(C);case 51:return a.cancel=t.cancelCurrentReplications,e.abrupt("return",a);case 55:e.prev=55,e.t1=e.catch(9),t.handleReplicationError(e.t1);case 58:case"end":return e.stop()}},e,null,[[9,55],[21,32,35,38]])})),t.replicateOnce=function(e){return n.apply(this,arguments)}},9652:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.replicateAllDocs=t.startReplication=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(76729)),u=a(r(80539)),s=a(r(35405)),l=a(r(22331)),d=a(r(17070)),f=r(86096);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=s.default.isDesignDocument,v=s.default.isDeletedDocument;t.startReplication=function(e,t,r,n){var a,c={},s=new Promise(function(s,l){var f=r(),p=t.strategy,y=t.initialReplication,g=(t.warmupQueries,t.doctype),_=h(h({batch_size:1e3},(0,u.default)(t,["strategy","initialReplication","warmupQueries","doctype"])),{},{selector:{cozyLocalOnly:{$exists:!1}}});if(y&&"toRemote"!==p)return void(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.default.info("PouchManager: Start first replication for ".concat(g)),t.next=3,b({db:e,baseUrl:f,doctype:g,storage:n});case 3:return c=t.sent,d.default.info("PouchManager: End first replication for ".concat(g)),t.abrupt("return",s(c));case 8:case"end":return t.stop()}},t)}))();(a="fromRemote"===p?e.replicate.from(f,_):"toRemote"===p?e.replicate.to(f,_):e.sync(f,_)).on("change",function(e){var t=e.change?e.change:e;t.docs&&t.docs.filter(function(e){return!m(e)&&!v(e)}).forEach(function(e){c[e._id]=e})}),a.on("error",l).on("complete",function(){s(Object.values(c))})});return s.cancel=function(){a&&a.cancel()},s};var y=function(e){return e.map(function(e){return e.doc}).filter(function(e){return!e._deleted&&!(0,l.default)(e._id,"_design")})},b=(n=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u,l,d,p,h,m;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.db,n=t.baseUrl,a=t.doctype,i=t.storage,c=new URL("".concat(n,"/_all_docs")),u=1e3,l=!0,e.next=6,i.getLastReplicatedDocID(a);case 6:d=e.sent,p=[];case 8:if(!l){e.next=42;break}if(d){e.next=26;break}return e.next=12,(0,f.fetchRemoteInstance)(c,{limit:u,include_docs:!0});case 12:if(0!==(p=y(e.sent.rows)).length){e.next=18;break}l=!1,e.next=24;break;case 18:return d=p[p.length-1]._id,p.length<u&&(l=!1),e.next=22,s.default.insertBulkDocs(r,p);case 22:return e.next=24,i.persistLastReplicatedDocID(a,d);case 24:e.next=40;break;case 26:return e.next=28,(0,f.fetchRemoteInstance)(c,{include_docs:!0,limit:u,startkey_docid:d});case 28:if(!((m=y((h=e.sent).rows)).length<2)){e.next=32;break}return e.abrupt("return",p);case 32:return m.shift(),d=m[m.length-1]._id,e.next=36,s.default.insertBulkDocs(r,m);case 36:return e.next=38,i.persistLastReplicatedDocID(a,d);case 38:p=p.concat(m),h.rows.length<u&&(l=!1);case 40:e.next=8;break;case 42:return e.abrupt("return",p);case 43:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.replicateAllDocs=b},11337:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettled=t.formatAggregatedError=t.getPrefix=t.getDatabaseName=void 0,t.getDatabaseName=function(e,t){return"".concat(e,"_").concat(t)},t.getPrefix=function(e){return e.replace(/^https?:\/\//,"")},t.formatAggregatedError=function(e){return e.errors.map(function(e,t){return"\n["+t+"]: "+e.name+" - "+e.message+"\n"+e.stack}).join("\n")},t.allSettled=function(e){return Promise.all(e.filter(function(e){return!!e}).map(function(e){return e.then(function(e){return{status:"fulfilled",value:e}}).catch(function(e){return{status:"rejected",reason:e}})}))}},59201:function(e,t,r){"use strict";var n=r(65606),a=r(78965),o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(70777)),c=o(r(13135)),u=o(r(10464)),s=o(r(80539)),l=o(r(30592)),d=o(r(93889)),f=o(r(92115)),p=o(r(47783)),h=o(r(76729)),m=o(r(73916)),v=o(r(44377)),y=o(r(35970)),b=o(r(50014)),g=o(r(65611)),_=o(r(39754)),w=o(r(58156)),k=o(r(56173)),O=a(r(86344)),x=r(58494),E=o(r(33801)),C=r(68650),S=r(77147),A=r(56975),P=r(31201),M=r(89258),j=o(r(8895)),D=a(r(46475)),T=o(r(70971)),I=o(r(39114)),R=r(2586),N=o(r(95134)),L=r(85778),F=r(36667),B=o(r(87925)),z=r(59063),H=o(r(25473)),U=o(r(10899)),V=r(71406);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,h.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return W(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Q=function(e){return{get:function(t,r){return B.default.warn(e),t[r]}}},J=function(e){var t;if(e&&"undefined"!=typeof window&&null!=(t=window.cozy)&&t.isSecureProtocol){var r,n=new URL(e);return n.protocol="https:",(r=n.toString()).endsWith("/")?r.slice(0,-1):r}return e},Y="creation",$="update",K=function(){var e,t,r,a,o,k,T,Z,W,K,X,ee,et,er,en,ea,eo,ei,ec,eu,es,el,ed,ef;function ep(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,ep),(0,h.default)(this,"fetchQueryAndGetFromState",(e=(0,d.default)(l.default.mark(function e(t){var n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.definition,a=t.options,e.prev=1,e.next=4,r.query(n,a);case 4:return e.abrupt("return",r.getQueryFromState(a.as,a));case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])})),function(t){return e.apply(this,arguments)}));var a=n.link,o=n.links,i=n.schema,c=n.appMetadata,u=n.capabilities,p=n.performanceApi,m=(0,s.default)(n,["link","links","schema","appMetadata","capabilities","performanceApi"]);a&&B.default.warn("`link` is deprecated, use `links`"),this.performanceApi=p||L.defaultPerformanceApi,this.appMetadata=void 0===c?{}:c,this.loginPromise=null,m.uri=J(m.uri),this.options=m,this.queryIdGenerator=new z.QueryIDGenerator,this.isLogged=!1,this.instanceOptions={},this.handleRevocationChange=this.handleRevocationChange.bind(this),this.handleTokenRefresh=this.handleTokenRefresh.bind(this),this.createClient();var v=this.getStackClient();if(v.on("error",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["error"].concat(t))}),this.setLinks(Array.isArray(t=a||o||new E.default({performanceApi:this.performanceApi}))?t:[t]),this.schema=new I.default(void 0===i?{}:i,v),this.capabilities=u||null,this.plugins={},!(this.stackClient instanceof O.OAuthClient))try{this.loadInstanceOptionsFromDOM()}catch(e){}this._promiseCache=new U.default,m.uri&&m.token&&this.login(),this.storeAccesors=null,!1!==m.store&&this.ensureStore()}return(0,p.default)(ep,[{key:"emit",value:function(){}},{key:"on",value:function(){}},{key:"removeListener",value:function(){}},{key:"registerPlugin",value:function(e,t){if(!e.pluginName)throw Error("Cannot register a plugin whose class does not have `pluginName` attribute.");if(this.plugins[e.pluginName])throw Error("Cannot register plugin ".concat(e.pluginName,". A plugin with the same name has already been registered."));var r=new e(this,t);return this.plugins[e.pluginName]=r,r}},{key:"addSchema",value:function(e){this.schema.add(e)}},{key:"registerClientOnLinks",value:function(){var e,t=q(this.links);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.registerClient)try{r.registerClient(this)}catch(e){B.default.warn(e)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"login",value:function(e){return this.isLogged&&!this.isRevoked?(B.default.warn("CozyClient is already logged."),this.loginPromise):this.loginPromise=this._login(e)}},{key:"_login",value:(e=(0,d.default)(l.default.mark(function e(t){var r,n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.emit("beforeLogin"),this.registerClientOnLinks(),t&&(t.uri&&this.stackClient.setUri(t.uri),t.token&&this.stackClient.setToken(t.token)),r=q(this.links),e.prev=4,r.s();case 6:if((n=r.n()).done){e.next=13;break}if(!(a=n.value).onLogin){e.next=11;break}return e.next=11,a.onLogin();case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:if(this.isLogged=!0,this.isRevoked=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=26;break}return e.next=26,this.loadInstanceOptionsFromStack();case 26:this.emit("login");case 27:case"end":return e.stop()}},e,this,[[4,15,18,21]])})),function(t){return e.apply(this,arguments)})},{key:"logout",value:(t=(0,d.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLogged){e.next=3;break}return B.default.warn("CozyClient isn't logged."),e.abrupt("return");case 3:if(this.emit("beforeLogout"),this.isLogged=!1,!(this.stackClient instanceof O.OAuthClient)){e.next=17;break}if(e.prev=6,!(this.stackClient.unregister&&(!this.stackClient.isRegistered||this.stackClient.isRegistered()))){e.next=10;break}return e.next=10,this.stackClient.unregister();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),B.default.warn("Impossible to unregister client on stack: ".concat(e.t0));case 15:case 20:e.next=25;break;case 17:return e.prev=17,e.next=20,this.stackClient.fetch("DELETE","/auth/login");case 22:e.prev=22,e.t1=e.catch(17),B.default.warn("Impossible to log out: ".concat(e.t1));case 25:t=q(this.links),e.prev=26,t.s();case 28:if((r=t.n()).done){e.next=41;break}if(!(n=r.value).reset){e.next=39;break}return e.prev=31,e.next=34,n.reset();case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(31),B.default.warn(e.t2);case 39:e.next=28;break;case 41:e.next=46;break;case 43:e.prev=43,e.t3=e.catch(26),t.e(e.t3);case 46:return e.prev=46,t.f(),e.finish(46);case 49:this.store&&this.dispatch((0,D.resetState)()),this.emit("logout");case 51:case"end":return e.stop()}},e,this,[[6,12],[17,22],[26,43,46,49],[31,36]])})),function(){return t.apply(this,arguments)})},{key:"collection",value:function(e){return this.getStackClient().collection(e)}},{key:"fetch",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.getStackClient().fetch(e,t,r,n)}},{key:"all",value:function(e){return B.default.warn("\nclient.all is deprecated, prefer to use the Q helper to build a new QueryDefinition.\n\nimport { Q } from 'cozy-client'\nclient.query(Q('io.cozy.bills'))"),(0,P.Q)(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return B.default.warn("client.find(doctype, selector) is deprecated, please use Q(doctype).where(selector) to build the same query."),new P.QueryDefinition({doctype:e,selector:t})}},{key:"get",value:function(e,t){return B.default.warn("client.get(".concat(e,", id) is deprecated, please use Q(").concat(e,").getById(id) to build the same query.")),new P.QueryDefinition({doctype:e,id:t})}},{key:"create",value:(r=(0,d.default)(l.default.mark(function e(t,r,n){var a,o,i=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},r._type,o=G({_type:t},(0,s.default)(r,["_type"])),e.next=5,this.schema.validate(o);case 5:if(!0===e.sent){e.next=8;break}throw Error("Validation failed");case 8:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(o,n),a));case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"validate",value:function(e){return this.schema.validate(e)}},{key:"save",value:(a=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},n=t._type,a=(0,s.default)(t,["_type"]),n){e.next=4;break}throw Error("The document must have a `_type` property");case 4:return o=G({_type:n},a),e.next=7,this.schema.validate(o);case 7:if(!0===e.sent){e.next=10;break}throw Error("Validation failed");case 10:return e.abrupt("return",this.mutate(this.getDocumentSavePlan(o),r));case 11:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"saveAll",value:(o=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i=this,c=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},1===Array.from(new Set(t.map(function(e){return e._type}))).length){e.next=4;break}throw Error("saveAll can only save documents with the same doctype");case 4:return e.next=6,Promise.all(t.map(function(e){return i.schema.validate(e)}));case 6:if(!((n=e.sent.filter(function(e){return!0!==e})).length>0)){e.next=11;break}throw B.default.warn("There has been some validation errors while bulk saving",n),Error("Validation failed for at least one doc");case 11:return a=t.map(function(e){return i.prepareDocumentForSave(e)}),o=P.Mutations.updateDocuments(a),e.abrupt("return",this.mutate(o,r));case 14:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"ensureCozyMetadata",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{event:Y};if(void 0===this.appMetadata)return e;if(e._type){var n=this.schema.getDoctypeSchema(e._type);t=(0,w.default)(n,"doctypeVersion")}var a=this.appMetadata,o=a.slug,i=a.sourceAccount,c=a.sourceAccountIdentifier,s=a.version,l=new Date().toISOString(),d=(0,w.default)(e,"cozyMetadata",{});return r.event===Y?d=G({metadataVersion:1,doctypeVersion:t,createdByApp:o,sourceAccount:i,sourceAccountIdentifier:c,createdAt:l,createdByAppVersion:s,updatedAt:l,updatedByApps:o?[{date:l,slug:o,version:s}]:[]},d):r.event===$&&(d=G(G({},d),{},{updatedAt:l,updatedByApps:[{date:l,slug:o,version:s}].concat((0,u.default)((0,w.default)(e,"cozyMetadata.updatedByApps",[]).filter(function(e){return e.slug!==o})))})),G(G({},e),{},{cozyMetadata:d})}},{key:"prepareDocumentForSave",value:function(e){var t=!e._rev;return this.ensureCozyMetadata((0,A.dehydrate)(e),{event:t?Y:$})}},{key:"getDocumentSavePlan",value:function(e,t){var r=this,n=!e._rev,a=this.prepareDocumentForSave(e),o=n?P.Mutations.createDocument(a):P.Mutations.updateDocument(a);if(!(t&&Object.values(t).filter(function(e){return Array.isArray(e)?e.length>0:e}).length>0))return o;for(var i=0,u=Object.keys(t);i<u.length;i++){var s,l,d=u[i],f=e._type,p=this.schema.getRelationship(f,d);if(!((s=p.type).prototype.addReferences&&s.prototype.removeReferences))throw l=p.name,Error('The "'.concat(l,'" relationship does not support references. If you need to add references to a document, its relationship class must have the methods {add,remove}References'))}if(t&&!n)throw Error("Unable to save external relationships on a not-new document");return[o,function(e){var n=r.hydrateDocument(e.data);return Object.entries(t).map(function(e){var t=(0,c.default)(e,2),r=t[0],a=t[1];return n[r].addReferences(a)})}]}},{key:"triggerHook",value:function(e,t){if(ep.hooks){var r,n=q((ep.hooks[t._type]||{})[e]||[]);try{for(n.s();!(r=n.n()).done;)(0,r.value)(this,t)}catch(e){n.e(e)}finally{n.f()}}}},{key:"destroy",value:(k=(0,d.default)(l.default.mark(function e(t){var r,n,a=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.triggerHook("before:destroy",t);case 3:return e.next=5,this.mutate(P.Mutations.deleteDocument(t),r);case 5:return n=e.sent,e.next=8,this.triggerHook("after:destroy",t);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"upload",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.mutate(P.Mutations.uploadFile(e,t),r)}},{key:"ensureQueryExists",value:function(e,t,r){this.ensureStore(),"loaded"===(0,D.getQueryFromState)(this.store.getState(),e).fetchStatus&&(t.skip||t.bookmark)||this.dispatch((0,D.initQuery)(e,t,r))}},{key:"query",value:(T=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,u,d,f,p,h=this,m=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=m.length>1&&void 0!==m[1]?m[1]:{}).update,a=r.executeFromStore,o=(0,s.default)(r,["update","executeFromStore"]),i=this.performanceApi.mark("client.query(".concat(t.doctype,")")),this.ensureStore(),c=o.as||this.queryIdGenerator.generateId(t),u=this.getQueryFromState(c,o),void 0===o.enabled||"boolean"==typeof o.enabled){e.next=9;break}throw Error("option.enabled should be a boolean for this query: ".concat(JSON.stringify(t)));case 9:if(!o.fetchPolicy){e.next=15;break}if(o.as){e.next=12;break}throw Error("Cannot use `fetchPolicy` without naming the query, please use `as` to name the query");case 12:if(o.fetchPolicy(u)){e.next=15;break}return e.abrupt("return");case 15:if(!(u&&Object.keys(u).length>0)||"loading"!==u.fetchStatus){e.next=18;break}return e.abrupt("return",this._promiseCache.get(function(){return(0,H.default)(t)}));case 18:return this.ensureQueryExists(c,t,o),e.prev=19,d=void 0!==o.backgroundFetching?o.backgroundFetching:this.options.backgroundFetching,this.dispatch((0,D.loadQuery)(c,{backgroundFetching:d})),f=a?function(){return Promise.resolve((0,D.executeQueryFromState)(h.store.getState(),t))}:function(){return h.requestQuery(t,o)},e.next=25,this._promiseCache.exec(f,function(){return(0,H.default)(t)});case 25:return p=e.sent,this.dispatch((0,D.receiveQueryResult)(c,p,{update:n,backgroundFetching:d})),this.performanceApi.measure({markName:i,measureName:"".concat(i," success"),color:"primary"}),e.abrupt("return",p);case 31:if(e.prev=31,e.t0=e.catch(19),this.performanceApi.measure({markName:i,measureName:"".concat(i," error"),color:"error"}),this.dispatch((0,D.receiveQueryError)(c,e.t0)),!o.onError){e.next=39;break}o.onError(e.t0),e.next=44;break;case 39:if(!this.options.onError){e.next=43;break}this.options.onError(e.t0),e.next=44;break;case 43:throw e.t0;case 44:case"end":return e.stop()}},e,this,[[19,31]])})),function(e){return T.apply(this,arguments)})},{key:"queryAll",value:(Z=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,s=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=s.length>1&&void 0!==s[1]?s[1]:{}).as||this.queryIdGenerator.generateId(t),a=G(G({},r),{},{as:n}),e.prev=3,e.next=6,this.query(t,a);case 6:i=(o=e.sent).data;case 8:if(!(o&&o.next)){e.next=22;break}if(!o.bookmark){e.next=15;break}return e.next=12,this.query(t.offsetBookmark(o.bookmark),a);case 12:o=e.sent,e.next=19;break;case 15:return c=(0,D.getRawQueryFromState)(this.store.getState(),n),e.next=18,this.query(t.offset(c.data.length),a);case 18:o=e.sent;case 19:i.push.apply(i,(0,u.default)(o.data)),e.next=8;break;case 22:return e.abrupt("return",i);case 25:return e.prev=25,e.t0=e.catch(3),B.default.log("queryAll error for ".concat(e.t0.toString())),e.abrupt("return",[]);case 29:case"end":return e.stop()}},e,this,[[3,25]])})),function(e){return Z.apply(this,arguments)})},{key:"watchQuery",value:function(){return B.default.warn("client.watchQuery is deprecated, please use client.makeObservableQuery."),this.makeObservableQuery.apply(this,arguments)}},{key:"makeObservableQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ensureStore();var r=t.as||this.queryIdGenerator.generateId(e);return this.ensureQueryExists(r,e),new N.default(r,e,this,t)}},{key:"mutate",value:(W=(0,d.default)(l.default.mark(function e(t){var r,n,a,o,i,c,u=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=u.length>1&&void 0!==u[1]?u[1]:{}).update,a=r.updateQueries,o=(0,s.default)(r,["update","updateQueries"]),this.ensureStore(),i=o.as||this.queryIdGenerator.generateId(t),this.dispatch((0,D.initMutation)(i,t)),e.prev=5,e.next=8,this.requestMutation(t,o);case 8:return c=e.sent,this.dispatch((0,D.receiveMutationResult)(i,c,{update:n,updateQueries:a},t)),e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(5),this.dispatch((0,D.receiveMutationError)(i,e.t0,t)),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return W.apply(this,arguments)})},{key:"requestQuery",value:(K=(0,d.default)(l.default.mark(function e(t,r){var n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chain.request(t,r);case 2:return n=e.sent,e.next=5,this.persistVirtualDocuments(t,n.data);case 5:if(t.includes){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,this.fetchRelationships(n,this.getIncludesRelationships(t));case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"persistVirtualDocuments",value:(X=(0,d.default)(l.default.mark(function e(t,r){var n,a,o,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=["io.cozy.files.shortcuts"].includes(t.doctype),"io.cozy.apps_registry"!==t.doctype){e.next=6;break}return e.next=5,this.persistVirtualDocument({_type:"io.cozy.apps_registry",_id:t.id,cozyPouchData:r},n);case 5:return e.abrupt("return",e.sent);case 6:if(Array.isArray(r)){e.next=11;break}return e.next=9,this.persistVirtualDocument(r,n);case 9:e.next=28;break;case 11:a=q(r),e.prev=12,a.s();case 14:if((o=a.n()).done){e.next=20;break}return i=o.value,e.next=18,this.persistVirtualDocument(i,n);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[12,22,25,28]])})),function(e,t){return X.apply(this,arguments)})},{key:"persistVirtualDocument",value:(ee=(0,d.default)(l.default.mark(function e(t,r){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||t.cozyLocalOnly)){e.next=2;break}return e.abrupt("return");case 2:if(!(!(null!=(n=t.meta)&&n.rev)&&!t._rev||r)){e.next=5;break}return e.next=5,this.chain.persistCozyData(t);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return ee.apply(this,arguments)})},{key:"fetchRelationships",value:(et=(0,d.default)(l.default.mark(function e(t,r){var n,a,o,i,u,s,d,f,p,h,m,v,w,k,O,x,E,C,A,M=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=!Array.isArray(t.data))||0!==t.data.length){e.next=3;break}return e.abrupt("return",t);case 3:return a=n?[t.data]:t.data,o=new Map,i=[],u=[],a.forEach(function(e){return(0,_.default)(r,function(t,r){try{var n=t.type.query(e,M,t),a=e._id;o.set(n,[a,r]),n instanceof P.QueryDefinition?u.push(n):i.push(n)}catch(e){}})}),s=(0,j.default)(u),e.next=11,Promise.all(s.map(function(e){return M.chain.request(e)}));case 11:d=e.sent,f=(0,b.default)((0,y.default)(i),"_id"),p=(0,y.default)(d.map(function(e){return e.included||e.data})).concat(f).filter(Boolean),h={},m=q((0,g.default)(s,d));try{for(m.s();!(v=m.n()).done;)k=(w=(0,c.default)(v.value,2))[0],O=w[1],(x=o.get(k))&&(C=(E=(0,c.default)(x,2))[0],A=E[1],h[C]=h[C]||{},h[C][A]=(0,S.responseToRelationship)(O))}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",G(G({},(0,S.attachRelationships)(t,h)),{},{included:p}));case 18:case"end":return e.stop()}},e)})),function(e,t){return et.apply(this,arguments)})},{key:"requestMutation",value:(er=(0,d.default)(l.default.mark(function e(t,r){var n,a,o,c,u=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=8;break}return a=(n=(0,i.default)(t))[0],o=n.slice(1),e.next=4,this.requestMutation(a);case 4:return c=e.sent,e.next=7,Promise.all(o.map(function(e){var t="function"==typeof e?e(c):e;return u.requestMutation(t)}));case 7:return e.abrupt("return",c);case 8:return e.abrupt("return",this.chain.request(t,r));case 9:case"end":return e.stop()}},e,this)})),function(e,t){return er.apply(this,arguments)})},{key:"getIncludesRelationships",value:function(e){var t=this,r=e.includes,n=e.doctype;return r?(0,v.default)(r.map(function(e){return[e,t.schema.getRelationship(n,e)]})):{}}},{key:"hydrateDocuments",value:function(e,t){var r=this;if(!1===this.options.autoHydrate)return t;var n=this.schema.getDoctypeSchema(e);return n.relationships?t.map(function(e){return r.hydrateDocument(e,n)}):t}},{key:"hydrateDocument",value:function(e,t){if(!e)return e;var r=t||this.schema.getDoctypeSchema(e._type);return G(G({},e),this.hydrateRelationships(e,r.relationships))}},{key:"hydrateRelationships",value:function(e,t){var r=this.getRelationshipStoreAccessors();return(0,m.default)(t,function(t,n){return(0,C.create)(e,t,r)})}},{key:"makeNewDocument",value:function(e){return this.hydrateDocument({_type:e})}},{key:"generateRandomId",value:function(){return this.queryIdGenerator.generateRandomId()}},{key:"getAssociation",value:function(e,t){return(0,C.create)(e,this.schema.getRelationship(e._type,t),this.getRelationshipStoreAccessors())}},{key:"getRelationshipStoreAccessors",value:function(){var e=this;return this.storeAccesors||(this.storeAccessors={get:this.getDocumentFromState.bind(this),save:function(t,r){return e.save.call(e,t,r)},dispatch:this.dispatch.bind(this),query:function(t,r){return e.query.call(e,t,r)},mutate:function(t,r){return e.mutate.call(e,t,r)}}),this.storeAccessors}},{key:"getCollectionFromState",value:function(e){try{return(0,D.getCollectionFromState)(this.store.getState(),e)}catch(t){return B.default.warn("Could not getCollectionFromState",e,t.message),null}}},{key:"getDocumentFromState",value:function(e,t){try{return(0,D.getDocumentFromState)(this.store.getState(),e,t)}catch(r){return B.default.warn("Could not getDocumentFromState",e,t,r.message),null}}},{key:"getQueryFromState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.hydrated||!1,n=t.singleDocData||!1;try{var a=(0,D.getQueryFromState)(this.store.getState(),e),o=a.definition&&a.definition.doctype,i=a.definition&&a.definition.id;if(!r&&!n)return a;var c=r&&o?this.hydrateDocuments(o,a.data):a.data;return G(G({},a),{},{data:i&&n?c[0]:c})}catch(t){return B.default.warn("Could not get query from state. queryId: ".concat(e,", error: ").concat(t.message)),null}}},{key:"register",value:function(e){return this.getStackClient().setUri(e),this.startOAuthFlow(M.authFunction)}},{key:"isReactNative",value:function(){return"undefined"!=typeof navigator&&"ReactNative"==navigator.product}},{key:"startOAuthFlow",value:(en=(0,d.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getStackClient(),e.next=3,r.register();case 3:return e.next=5,this.certifyFlagship();case 5:return e.abrupt("return",this.authorize({openURLCallback:t}));case 6:case"end":return e.stop()}},e,this)})),function(e){return en.apply(this,arguments)})},{key:"certifyFlagship",value:(ea=(0,d.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getStackClient()).oauthOptions.shouldRequireFlagshipPermissions){e.next=4;break}return e.next=4,(0,V.certifyFlagship)(t.oauthOptions.certificationConfig,this);case 4:case"end":return e.stop()}},e,this)})),function(){return ea.apply(this,arguments)})},{key:"authorize",value:(eo=(0,d.default)(l.default.mark(function e(){var t,r,n,a,o,i,c,u,s,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=y.length>0&&void 0!==y[0]?y[0]:{}).openURLCallback)?M.authFunction:r,o=void 0===(a=t.sessionCode)?void 0:a,c=void 0===(i=t.pkceCodes)?{}:i,e.prev=1,u=c.codeVerifier,s=c.codeChallenge,f=(d=this.getStackClient()).generateStateCode(),p=d.getAuthCodeURL({stateCode:f,scopes:void 0,sessionCode:o,codeChallenge:s}),e.next=8,n(p);case 8:return h=e.sent,m=d.getAccessCodeFromURL(h,f),e.next=12,d.fetchAccessToken(m,void 0,void 0,u);case 12:return v=e.sent,d.setToken(v),e.abrupt("return",{token:v,infos:d.oauthOptions,client:d.oauthOptions});case 17:throw e.prev=17,e.t0=e.catch(1),e.t0.message===x.REGISTRATION_ABORT&&this.getStackClient().unregister(),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,17]])})),function(){return eo.apply(this,arguments)})},{key:"renewAuthorization",value:function(){return this.authorize({openURLCallback:M.authFunction})}},{key:"setStore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force;if(void 0===e)throw Error("Store is undefined");if(this.store&&!(void 0!==r&&r))throw Error("Client already has a store, it is forbidden to change store.\nsetStore must be called before any query is executed. Try to\ncall setStore earlier in your code, preferably just after the\ninstantiation of the client.");this.store=e}},{key:"ensureStore",value:function(){this.store||this.setStore((0,D.createStore)(this.performanceApi))}},{key:"checkForRevocation",value:(ei=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.stackClient instanceof O.OAuthClient)){e.next=4;break}return e.abrupt("return",this.stackClient.checkForRevocation());case 4:throw"checkForRevocation is only implemented for OAutClient";case 5:case"end":return e.stop()}},e,this)})),function(){return ei.apply(this,arguments)})},{key:"handleRevocationChange",value:function(e){e?(this.isRevoked=!0,this.emit("revoked")):(this.isRevoked=!1,this.emit("unrevoked"))}},{key:"handleTokenRefresh",value:function(e){this.emit("tokenRefreshed"),this.options.onTokenRefresh&&(Q("Using onTokenRefresh is deprecated, please use events like this: cozyClient.on('tokenRefreshed', token => console.log('Token has been refreshed', token)). https://git.io/fj3M3"),this.options.onTokenRefresh(e))}},{key:"createClient",value:function(){this.options.client&&B.default.warn("CozyClient: Using options.client is deprecated, please use options.stackClient.");var e=void 0===this.options.warningForCustomHandlers||this.options.warningForCustomHandlers,t=this.options.client||this.options.stackClient,r={onRevocationChange:this.handleRevocationChange,onTokenRefresh:this.handleTokenRefresh};if(t){this.stackClient=t,t.options||(t.options={});for(var n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];t.options[o]?e&&B.default.warn("You passed a stackClient with its own ".concat(o,". It is not supported, unexpected things might happen.")):t.options[o]=r[o]}}else{var i=G(G({},this.options),r);this.stackClient=this.options.oauth?new O.OAuthClient(i):new O.default(i)}this.client=new Proxy(this.stackClient,Q("Using cozyClient.client is deprecated, please use cozyClient.stackClient."))}},{key:"getClient",value:function(){return B.default.warn("CozyClient: getClient() is deprecated, please use getStackClient()."),this.getStackClient()}},{key:"getStackClient",value:function(){return this.stackClient||this.createClient(),this.stackClient}},{key:"reducer",value:function(){return(0,D.default)(this.performanceApi)}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"getInstanceOptions",value:function(){return this.instanceOptions}},{key:"loadInstanceOptionsFromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[role=application]",t=document.querySelector(e);if(!(t instanceof HTMLElement))throw Error("The selector that is passed does not return an HTMLElement");var r=t.dataset,n=r.cozy,a=(0,s.default)(r,["cozy"]);this.instanceOptions=G(G({},JSON.parse(void 0===n?"{}":n)),a),this.capabilities=this.instanceOptions.capabilities||null}},{key:"loadInstanceOptionsFromStack",value:(ec=(0,d.default)(l.default.mark(function e(){var t,r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.query((0,P.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities")),this.query((0,P.Q)("io.cozy.settings").getById("io.cozy.settings.instance"))]);case 2:r=(t=e.sent)[0].data,n=t[1].data,this.instanceOptions={capabilities:r,locale:n.locale,tracking:n.tracking},this.capabilities=this.instanceOptions.capabilities||null;case 7:case"end":return e.stop()}},e,this)})),function(){return ec.apply(this,arguments)})},{key:"setData",value:function(e){var t=this;this.ensureStore(),Object.entries(e).forEach(function(e){var r=(0,c.default)(e,2),n=(r[0],r[1]);t.dispatch((0,D.receiveQueryResult)(null,{data:n}))})}},{key:"setOnError",value:function(e){if(this.options&&this.options.onError)throw Error("On Error is already defined");this.options.onError=e}},{key:"toJSON",value:function(){return new F.CozyClient({uri:this.options.uri})}},{key:"setAppMetadata",value:function(e){this.appMetadata=G(G({},this.appMetadata),e)}},{key:"setLinks",value:(eu=(0,d.default)(l.default.mark(function e(t){var r,n,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.links=t||[new E.default({performanceApi:this.performanceApi})],this.registerClientOnLinks(),this.chain=(0,R.chain)(this.links),!this.isLogged){e.next=22;break}r=q(this.links),e.prev=5,r.s();case 7:if((n=r.n()).done){e.next=14;break}if(!(a=n.value).onLogin){e.next=12;break}return e.next=12,a.onLogin();case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,16,19,22]])})),function(e){return eu.apply(this,arguments)})},{key:"getSettings",value:(es=(0,d.default)(l.default.mark(function e(t,r){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.getSettings)(this,t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return es.apply(this,arguments)})},{key:"saveAfterFetchSettings",value:(el=(0,d.default)(l.default.mark(function e(t,r,n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.saveAfterFetchSettings)(this,t,r,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r){return el.apply(this,arguments)})},{key:"resetQuery",value:(ed=(0,d.default)(l.default.mark(function e(t){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,D.isQueryExisting)(this.store.getState(),t)){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return this.dispatch((0,D.resetQuery)(t)),r=this.getQueryFromState(t),e.next=7,this.query(r.definition,{as:t});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e){return ed.apply(this,arguments)})}],[{key:"fromOldClient",value:function(e,t){return new ep(G({uri:e._url,token:e._token.token},t))}},{key:"fromOldOAuthClient",value:(ef=(0,d.default)(l.default.mark(function e(t,r){var n,a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._oauth){e.next=12;break}return e.next=3,t.authorize();case 3:if(a={oauth:(n=e.sent).client,token:n.token,scope:n.token.scope},!(o=new ep(G(G({uri:t._url},a),r))).loginPromise){e.next=9;break}return e.next=9,o.loginPromise;case 9:return e.abrupt("return",o);case 12:throw Error("Cannot instantiate a new client: old client is not an OAuth client. CozyClient.fromOldClient might be more suitable.");case 13:case"end":return e.stop()}},e)})),function(e,t){return ef.apply(this,arguments)})},{key:"fromEnv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||(void 0!==n?n.env:{}),a=r.COZY_URL,o=r.COZY_CREDENTIALS;if(!a||!o)throw Error("Env used to instantiate CozyClient must have COZY_URL and COZY_CREDENTIALS");try{t.oauth=JSON.parse(o)}catch(e){t.token=o.trim()}return t.uri=a.trim(),new ep(G({},t))}},{key:"fromDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[role=application]",r=document.querySelector(t);if(!(r instanceof HTMLElement))throw Error("Cannot find an HTMLElement corresponding to ".concat(t));if(!r||!r.dataset)throw Error("Found no data in ".concat(t," to instantiate cozyClient"));var n=r.dataset.cozy?JSON.parse(r.dataset.cozy):G({},r.dataset),a=n.domain,o=n.token;if(a&&o||(a=a||n.cozyDomain,o=o||n.cozyToken),!a||!o)throw Error("Found no data in ".concat(r.dataset," to instantiate cozyClient"));return new ep(G({uri:"".concat(window.location.protocol,"//").concat(a),token:o,capabilities:n.capabilities},e))}},{key:"registerHook",value:function(e,t,r){var n=ep.hooks[e]=ep.hooks[e]||{};n[t]=n[t]||[],n[t].push(r)}}]),ep}();K.hooks=K.hooks||{},K.fetchPolicies=T.default,K.version="54.0.1",k.default.mixin(K),t.default=K},2586:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.chain=t.default=void 0;var a=n(r(10464)),o=n(r(30592)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=function(){var e,t,r;function n(e,t){(0,c.default)(this,n),"function"==typeof e&&(this.request=e),"function"==typeof t&&(this.persistCozyData=t)}return(0,u.default)(n,[{key:"request",value:(e=(0,i.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("request is not implemented");case 1:case"end":return e.stop()}},e)})),function(t,r,n,a){return e.apply(this,arguments)})},{key:"persistCozyData",value:(t=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("persistCozyData is not implemented");case 1:case"end":return e.stop()}},e)})),function(e,r){return t.apply(this,arguments)})},{key:"reset",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("reset is not implemented");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}]),n}();t.default=s;var l=function(e){return"function"==typeof e?new s(e):e},d=new s(function(e,t,r){if(r)return r;if(e.execute)return e.execute();throw Error("No link could handle operation ".concat(JSON.stringify(e)))},function(e,t){});t.chain=function(e){return[].concat((0,a.default)(e),[d]).map(l).reduce(f)};var f=function(e,t){return new s(function(r,n,a,o){return e.request(r,n,a,function(e,r,n){return t.request(e,r,n,o)})},function(r,n){return e.persistCozyData(r,function(e){return t.persistCozyData(e,n)})})}},95134:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(76729)),c=n(r(58156)),u=r(46475),s=Object.prototype.hasOwnProperty;function l(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.default=function(){function e(t,r,n,o){var c=this;if((0,a.default)(this,e),(0,i.default)(this,"handleStoreChange",function(){var e=c.currentRawResult();!function(e,t){if(l(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!s.call(t,r[a])||!l(e[r[a]],t[r[a]]))return!1;return!0}(e,c.lastResult)&&(c.lastResult=e,c.notifyObservers())}),!t||!r||!n)throw Error("ObservableQuery takes 3 arguments: queryId, definition and client");this.queryId=t,this.definition=r,this.client=n,this.observers={},this.idCounter=1,this.lastResult=this.currentRawResult(),this.options=o}return(0,o.default)(e,[{key:"currentResult",value:function(){return this.client.getQueryFromState(this.queryId,{hydrated:(0,c.default)(this.options,"hydrated",!0),singleDocData:!0})}},{key:"fetch",value:function(){return this.client.query(this.definition,{as:this.queryId})}},{key:"fetchMore",value:function(){var e=this.currentRawResult();return e.bookmark?this.client.query(this.definition.offsetBookmark(e.bookmark),{as:this.queryId}):this.client.query(this.definition.offset(e.data.length),{as:this.queryId})}},{key:"currentRawResult",value:function(){return(0,u.getRawQueryFromState)(this.getStore().getState(),this.queryId)}},{key:"notifyObservers",value:function(){var e=this;Object.keys(this.observers).forEach(function(t){return e.observers[t]()})}},{key:"subscribeToStore",value:function(){if(this._unsubscribeStore)throw Error("ObservableQuery instance is already subscribed to store.");this._unsubscribeStore=this.getStore().subscribe(this.handleStoreChange)}},{key:"unsubscribeFromStore",value:function(){if(!this._unsubscribeStore)throw Error("ObservableQuery instance is not subscribed to store");this._unsubscribeStore()}},{key:"subscribe",value:function(e){var t=this,r=this.idCounter;return this.idCounter++,this.observers[r]=e,1===Object.keys(this.observers).length&&this.subscribeToStore(),function(){return t.unsubscribe(r)}}},{key:"unsubscribe",value:function(e){if(!this.observers[e])throw Error("Cannot unsubscribe unknown callbackId ".concat(e));delete this.observers[e],0===Object.keys(this.observers).length&&(this.unsubscribeFromStore(),this._unsubscribeStore=null)}},{key:"getStore",value:function(){return this.client.store}}]),e}()},36472:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(92115)),i=a(r(47783)),c=a(r(91083)),u=a(r(7184)),s=a(r(62812)),l=a(r(76729)),d=n(r(96540)),f=a(r(5556)),p=a(r(81610)),h=f.default.shape({subscribe:f.default.func.isRequired,dispatch:f.default.func.isRequired,getState:f.default.func.isRequired}),m=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){var a;if((0,o.default)(this,n),a=r.call(this,e,t),!e.client)throw Error("CozyProvider was not passed a client instance.");return e.store&&e.client.setStore(e.store),a}return(0,i.default)(n,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store||this.props.client.store,client:this.props.client}}},{key:"render",value:function(){return d.default.createElement(p.default.Provider,{value:this.getChildContext()},this.props.children)}}]),n}(d.Component);t.default=m,(0,l.default)(m,"propTypes",{store:h,client:f.default.object.isRequired,children:f.default.oneOfType([f.default.element,f.default.arrayOf(f.default.element)]).isRequired}),(0,l.default)(m,"childContextTypes",{store:f.default.object,client:f.default.object.isRequired}),(0,l.default)(m,"contextTypes",{store:f.default.object})},7509:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.computeChildrenArgs=t.getQueryAttributes=t.default=t.fetchQuery=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(61023)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(76729)),d=n(r(80539)),f=r(96540);n(r(59201));var p=n(r(5556));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}n(r(95134));var v={},y=function(e,t){return t.fetch?t.fetch():e.query(t.definition,{as:t.queryId})};t.fetchQuery=y;var b=function(e,t){var r=e.create.bind(e),n=e.save.bind(e),a=e.destroy.bind(e),o=e.getAssociation.bind(e),i="function"==typeof t.query?t.query(e,t):t.query,c=e.makeObservableQuery(i,t),u=c.fetchMore.bind(c),s=t.mutations,l=(0,d.default)(t,["mutations"]),f="function"==typeof s?s(e,c,l):s,p=c.fetch?c.fetch.bind(c):null;return{client:e,observableQuery:c,queryDefinition:i,createDocument:r,saveDocument:n,deleteDocument:a,getAssociation:o,fetchMore:u,fetch:p,mutations:f}};t.getQueryAttributes=b;var g=function(e){var t=e.observableQuery,r=e.fetchMore,n=e.fetch,a=e.createDocument,o=e.saveDocument,i=e.deleteDocument,c=e.getAssociation,u=e.mutations;return[m({fetchMore:r,fetch:n},t.currentResult()),m({createDocument:a,saveDocument:o,deleteDocument:i,getAssociation:c},u)]};t.computeChildrenArgs=g;var _=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){(0,a.default)(this,n),o=r.call(this,e,t),(0,l.default)((0,i.default)(o),"onQueryChange",function(){o.recomputeChildrenArgs(),o.setState(v)});var o,c=t.client;if(!t.client)throw Error("Query should be used with client in context (use CozyProvider to set context)");return o.client=c,o.observableQuery=null,o.queryUnsubscribe=null,Object.assign((0,i.default)(o),b(c,e)),o.recomputeChildrenArgs(),o}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.queryUnsubscribe=this.observableQuery.subscribe(this.onQueryChange),!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"executeQueryRespectingFetchPolicy",value:function(){if(this.props.fetchPolicy){var e=this.client.getQueryFromState(this.props.as);this.props.fetchPolicy&&"function"==typeof this.props.fetchPolicy&&this.props.fetchPolicy(e)&&y(this.client,this.observableQuery)}else y(this.client,this.observableQuery)}},{key:"componentDidUpdate",value:function(e){!1===e.enabled&&!1!==this.props.enabled&&this.executeQueryRespectingFetchPolicy()}},{key:"componentWillUnmount",value:function(){this.queryUnsubscribe&&this.queryUnsubscribe()}},{key:"recomputeChildrenArgs",value:function(){this.childrenArgs=g(this)}},{key:"render",value:function(){return(0,this.props.children)(this.childrenArgs[0],this.childrenArgs[1])}}]),n}(f.Component);t.default=_,_.contextTypes={client:p.default.object,store:p.default.object};var w=p.default.object;_.propTypes={query:p.default.oneOfType([p.default.func,w]).isRequired,enabled:p.default.bool,as:p.default.string,children:p.default.func.isRequired,fetchPolicy:p.default.func},_.defaultProps={enabled:!0}},40602:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=r(96540),c=n(r(40258)),u=r(60174),s=r(33482);t.default=(0,i.memo)(function(e){var t=e.doctype,r=(0,c.default)();return(0,i.useEffect)(function(){var e,n=r.plugins.realtime;if(!n)throw Error("You must include the realtime plugin to use RealTimeQueries");var i={};"io.cozy.files"===t&&(i.enhanceDocFn=s.ensureFilePath);var c=function(e){(0,u.dispatchCreate)(r,t,e,i)},l=function(e){(0,u.dispatchUpdate)(r,t,e,i)},d=function(e){(0,u.dispatchDelete)(r,t,e,i)};return(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.subscribe("created",t,c);case 2:return e.next=4,n.subscribe("updated",t,l);case 4:return e.next=6,n.subscribe("deleted",t,d);case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){n.unsubscribe("created",t,c),n.unsubscribe("updated",t,l),n.unsubscribe("deleted",t,d)}},[r,t]),null})},39114:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(76729)),s=n(r(38970)),l=n(r(73916)),d=n(r(55364)),f=n(r(47091)),p=n(r(44742)),h=r(68650);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(e){var t=(0,l.default)(e.relationships||{},function(e,t){return v(v({},e),{},{name:t,type:(0,h.resolveClass)(e.doctype,e.type)})});return v(v({},e),{},{relationships:(0,f.default)(t)>0?(0,s.default)(t,"name"):null})},b=function(e,t){if(!e)throw Error(t)},g=function(e,t){var r=(0,p.default)(e,t,function(e){return e.name});b(0===r.length,"Duplicated names in schemas being added: ".concat(r.map(function(e){return e.name}).join(", ")));var n=(0,p.default)(e,t,function(e){return e.doctype});b(0===n.length,"Duplicated doctypes in schemas being added: ".concat(n.map(function(e){return e.name}).join(", ")))};t.default=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(this,r),this.byDoctype={},this.add(e),this.client=t}return(0,c.default)(r,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(e,function(e,t){return v({name:t},y(e))});g(Object.values(t),Object.values(this.byDoctype)),(0,d.default)(this.byDoctype,(0,s.default)(t,function(e){return e.doctype}))}},{key:"getDoctypeSchema",value:function(e){var t=this.byDoctype[e];return t||(t=y({name:e,doctype:e}),this.byDoctype[e]=t),t}},{key:"getRelationship",value:function(e,t){if(!e)throw TypeError("Invalid doctype ".concat(e));var r=this.getDoctypeSchema(e);if(!r)throw Error("Cannot find doctype ".concat(e," in schema"));if(!r.relationships)throw Error("Schema for doctype ".concat(e," has no relationships"));return r.relationships[t]}},{key:"validate",value:(e=(0,o.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},n=this.byDoctype[t._type]){e.next=4;break}return e.abrupt("return",!0);case 4:if(n.attributes){e.next=6;break}return e.abrupt("return",!0);case 6:e.t0=a.default.keys(n.attributes);case 7:if((e.t1=e.t0()).done){e.next=15;break}return o=e.t1.value,e.next=11,this.validateAttribute(t,o,n.attributes[o]);case 11:!0!==(i=e.sent)&&(r[o]=i),e.next=7;break;case 15:if(0!==Object.keys(r).length){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"validateAttribute",value:(t=(0,o.default)(a.default.mark(function e(t,r,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.unique&&this.client)){e.next=6;break}return e.next=3,this.client.collection(t._type).checkUniquenessOf(r,t[r]);case 3:if(!0===e.sent){e.next=6;break}return e.abrupt("return","must be unique");case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(e,r,n){return t.apply(this,arguments)})}]),r}()},33801:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transformBulkDocsResponse=void 0;var a=n(r(80539)),o=n(r(30592)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(30307)),h=r(31201),m=n(r(2586)),v=r(58494),y=r(54002),b=n(r(87925)),g=r(51240),_=r(85778);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=function(e){var t=e.selector,r=e.partialFilter,n=e.sort,a=e.fields;return!!t||!!r||!!n||!!a},x=function(e,t){var r=(0,p.default)(e,t,function(e,t){return e.ok?k(k({},t),{},{_id:e.id,_rev:e.rev}):t});if(e.find(function(e){return!e.ok}))throw new y.BulkEditError(e,r);return{data:r}};t.transformBulkDocsResponse=x,t.default=function(e){(0,s.default)(y,e);var t,r,n,f,p,m=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(y);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.client,n=t.stackClient,a=t.platform,o=t.performanceApi;return(0,c.default)(this,y),e=m.call(this),r&&b.default.warn("Using options.client is deprecated, prefer options.stackClient"),e.stackClient=n||r,e.isOnline=null==a?void 0:a.isOnline,e.performanceApi=o||_.defaultPerformanceApi,e}return(0,u.default)(y,[{key:"registerClient",value:function(e){this.stackClient=e.stackClient||e.client}},{key:"reset",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.stackClient=null;case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"request",value:(n=(0,i.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(null!=r&&r.forceStack)&&this.isOnline,!e.t0){e.next=5;break}return e.next=4,this.isOnline();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",a(t,r));case 7:if(e.prev=7,!t.mutationType){e.next=12;break}return e.next=11,this.executeMutation(t,r,n,a);case 11:case 14:return e.abrupt("return",e.sent);case 12:return e.next=14,this.executeQuery(t);case 17:if(e.prev=17,e.t1=e.catch(7),!(!(null!=r&&r.forceStack)&&(0,g.isReactNativeOfflineError)(e.t1))){e.next=21;break}return e.abrupt("return",a(t,r));case 21:throw e.t1;case 22:case"end":return e.stop()}},e,this,[[7,17]])})),function(e,t,r,a){return n.apply(this,arguments)})},{key:"persistCozyData",value:(f=(0,i.default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(t));case 1:case"end":return e.stop()}},e)})),function(e,t){return f.apply(this,arguments)})},{key:"executeQuery",value:function(e){var t=e.doctype,r=e.selector,n=e.id,o=e.ids,i=e.referenced,c=(0,a.default)(e,["doctype","selector","id","ids","referenced"]);if(!t)throw b.default.warn("Bad query",e),Error("No doctype found in a query definition");var u=this.stackClient.collection(t);return n?u.get(n,e):o?u.getAll(o):i?u.findReferencedBy(i,c):O(e)?u.find(r,c):u.all(c)}},{key:"executeMutation",value:(p=(0,i.default)(o.default.mark(function e(t,r,n,i){var c,u,s,l,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=t.mutationType,u=t.document,s=t.documents,l=(0,a.default)(t,["mutationType","document","documents"]),e.t0=c,e.next=e.t0===h.MutationTypes.CREATE_DOCUMENT?4:e.t0===h.MutationTypes.UPDATE_DOCUMENTS?5:e.t0===h.MutationTypes.UPDATE_DOCUMENT?9:e.t0===h.MutationTypes.DELETE_DOCUMENT?10:e.t0===h.MutationTypes.ADD_REFERENCES_TO?11:e.t0===h.MutationTypes.REMOVE_REFERENCES_TO?12:e.t0===h.MutationTypes.ADD_REFERENCED_BY?13:e.t0===h.MutationTypes.REMOVE_REFERENCED_BY?18:e.t0===h.MutationTypes.UPLOAD_FILE?23:24;break;case 4:return e.abrupt("return",this.stackClient.collection(u._type).create(u));case 5:return e.next=7,this.stackClient.collection(s[0]._type).updateAll(s);case 7:return d=e.sent,e.abrupt("return",x(d,s));case 9:return e.abrupt("return",this.stackClient.collection(u._type).update(u));case 10:return e.abrupt("return",this.stackClient.collection(u._type).destroy(u));case 11:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).addReferencesTo(u,l.referencedDocuments));case 12:return e.abrupt("return",this.stackClient.collection(l.referencedDocuments[0]._type).removeReferencesTo(u,l.referencedDocuments));case 13:if(u._type!==v.DOCTYPE_FILES){e.next=17;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).addReferencedBy(u,l.referencedDocuments));case 17:case 22:throw Error("The document type should be io.cozy.files");case 18:if(u._type!==v.DOCTYPE_FILES){e.next=22;break}return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).removeReferencedBy(u,l.referencedDocuments));case 23:return e.abrupt("return",this.stackClient.collection(v.DOCTYPE_FILES).upload(l.file,l.dirPath));case 24:return e.abrupt("return",i(t,r,n));case 25:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})}]),y}(m.default)},15031:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812));t.default=function(e){(0,u.default)(p,e);var t,r,n,d,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(p);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function p(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.webviewIntent;return(0,i.default)(this,p),(e=f.call(this)).webviewIntent=r,e}return(0,c.default)(p,[{key:"registerClient",value:function(e){}},{key:"reset",value:(r=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"request",value:(n=(0,o.default)(a.default.mark(function e(t,r,n,o){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webviewIntent.call("flagshipLinkRequest",t,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r,a){return n.apply(this,arguments)})},{key:"persistCozyData",value:(d=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})}]),p}(n(r(2586)).default)},14545:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));r(31201),t.default=function(){function e(t,r,n,o){(0,a.default)(this,e);var i=o.dispatch,c=o.get,u=o.query,s=o.mutate,l=o.save;this.target=t,this.name=r,this.doctype=n,this.get=c,this.query=u,this.mutate=s,this.save=l,this.dispatch=i}return(0,o.default)(e,[{key:"raw",get:function(){throw Error("A relationship must define its raw getter")}},{key:"data",get:function(){throw Error("A relationship must define its data getter")}}],[{key:"query",value:function(e,t,r){throw Error("A custom relationship must define its query() function")}}]),e}()},25377:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.updateRelationship=t.updateHasManyItem=t.removeHasManyItem=t.setHasManyItem=t.getHasManyItems=t.getHasManyItem=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(61023)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(76729)),d=n(r(10464)),f=n(r(58156)),p=n(r(55364)),h=r(31201),m=r(46475),v=n(r(14545)),y=n(r(87925));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=function(e,t,r){var n=-1===t?e.length:t;return[].concat((0,d.default)(e.slice(0,n)),[r],(0,d.default)(e.slice(n+1)))},w=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){var e;(0,a.default)(this,n);for(var t=arguments.length,o=Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o)),(0,l.default)((0,i.default)(e),"updateRelationshipData",function(t){return function(r,n){var a=(0,m.getDocumentFromState)(n(),e.target._type,e.target._id);r((0,m.receiveQueryResult)(null,{data:g(g({},a),{},{relationships:g(g({},a.relationships),{},(0,l.default)({},e.name,t(a.relationships[e.name])))})}))}}),e}return(0,o.default)(n,[{key:"fetchMore",value:function(){throw"Not implemented"}},{key:"exists",value:function(e){return this.existsById(e._id)}},{key:"containsById",value:function(e){return void 0!==this.getRelationship().data.find(function(t){return e===t._id})}},{key:"existsById",value:function(e){return!!(this.containsById(e)&&this.get(this.doctype,e))}},{key:"add",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.addById(t)}},{key:"remove",value:function(e){var t=(Array.isArray(e)?e:[e]).map(function(e){return e._id});return this.removeById(t)}},{key:"addTargetRelationships",value:function(e){var t,r=this;this.target.relationships||(this.target.relationships={}),this.target.relationships[this.name]||(this.target.relationships[this.name]={data:[]});var n=(Array.isArray(e)?e:[e]).filter(function(e){return!r.existsById(e)}).map(function(e){return{_id:e,_type:r.doctype}});(t=this.target.relationships[this.name].data).push.apply(t,(0,d.default)(n)),this.updateMetaCount()}},{key:"addById",value:function(e){return this.addTargetRelationships(e),this.save(this.target)}},{key:"removeTargetRelationships",value:function(e){var t=Array.isArray(e)?e:[e];this.target.relationships[this.name].data=this.target.relationships[this.name].data.filter(function(e){var r=e._id;return!t.includes(r)}),this.updateMetaCount()}},{key:"removeById",value:function(e){return this.removeTargetRelationships(e),this.save(this.target)}},{key:"updateMetaCount",value:function(){void 0!==(0,f.default)(this.target.relationships[this.name],"meta.count")&&(this.target.relationships[this.name].meta=g(g({},this.target.relationships[this.name].meta),{},{count:this.target.relationships[this.name].data.length}))}},{key:"getRelationship",value:function(){var e=this.target[this.name],t=(0,f.default)(this.target,"relationships.".concat(this.name));return t||(e&&e.length&&y.default.warn("You're trying to access data on a relationship that appear to not be loaded yet. You may want to use 'include()' on your query"),{data:[],next:!0,meta:{count:0}})}},{key:"updateTargetRelationship",value:function(e,t){var r=e.readDocument(this.target._type,this.target._id);e.writeDocument(this.updateRelationship(r,t))}},{key:"updateRelationship",value:function(e,t){return n.updateRelationship(e,this.name,t)}},{key:"dehydrate",value:function(e){return g(g({},e),{},{relationships:g(g({},e.relationships),{},(0,l.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return this.getRelationship().data}},{key:"data",get:function(){var e=this;return this.getRelationship().data.map(function(t){var r=t._id,n=t._type;return e.get(n,r)}).filter(Boolean)}},{key:"hasMore",get:function(){return this.getRelationship().next}},{key:"count",get:function(){var e=this.getRelationship();return e.meta?e.meta.count:e.data.length}}],[{key:"query",value:function(e,t,r){var n=(0,f.default)(e,"relationships.".concat(r.name,".data"),[]).map(function(e){return e._id});return new h.QueryDefinition({doctype:r.doctype,ids:n})}}]),n}(v.default);t.getHasManyItem=w.getHasManyItem=function(e,t,r){return(0,f.default)(e,"relationships.".concat(t,".data"),[]).find(function(e){return e._id==r})},t.getHasManyItems=w.getHasManyItems=function(e,t){return(0,f.default)(e,"relationships.".concat(t,".data"),[])},t.setHasManyItem=w.setHasManyItem=function(e,t,r,n){var a=w.getHasManyItems(e,t),o=a.findIndex(function(e){return e._id===r}),i=(0,p.default)({},a[o],n),c=_(a,o,i);return w.updateRelationship(e,t,function(e){return(0,p.default)({},e,{data:c})})},t.removeHasManyItem=w.removeHasManyItem=function(e,t,r){var n=w.getHasManyItems(e,t).filter(function(e){return e._id!==r});return w.updateRelationship(e,t,function(){return{data:n}})},t.updateHasManyItem=w.updateHasManyItem=function(e,t,r,n){var a=n(w.getHasManyItem(e,t,r));return w.setHasManyItem(e,t,r,a)},t.updateRelationship=w.updateRelationship=function(e,t,r){return g(g({},e),{},{relationships:g(g({},e.relationships),{},(0,l.default)({},t,g(g({},e.relationships?e.relationships[t]:{}),r(e.relationships?e.relationships[t]:{}))))})},t.default=w},93202:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getFileDatetime=void 0;var a=n(r(30592)),o=n(r(10464)),i=n(r(76729)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(2695)),d=n(r(91083)),f=n(r(7184)),p=n(r(62812)),h=n(r(13135)),m=n(r(58156)),v=n(r(90179)),y=n(r(63375)),b=r(31201),g=r(46475),_=r(58494);n(r(14545));var w=n(r(25377));function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(e,t){var r=(0,h.default)(e,3),n=r[0],a=r[1],o=r[2];return[o?[n,a,o]:[n,a],t]},E=function(e){var t;return(null==(t=e.metadata)?void 0:t.datetime)||e.created_at};t.getFileDatetime=E,t.default=function(e){(0,d.default)(w,e);var t,r,n,i,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,p.default)(w);return e=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,e)});function w(){return(0,u.default)(this,w),h.apply(this,arguments)}return(0,s.default)(w,[{key:"fetchMore",value:(r=(0,c.default)(a.default.mark(function e(){var t,r,n,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.QueryDefinition({doctype:_.DOCTYPE_FILES}),n=(r=this.getRelationship().data)[r.length-1],e.next=5,this.dispatch(function(){var e=(0,c.default)(a.default.mark(function e(c,u){var s,l,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=E((0,g.getDocumentFromState)(u(),n._type,n._id)),l=x([i.target._type,i.target._id,s],r[r.length-1]._id),e.next=5,i.query(t.referencedBy(i.target).offsetCursor(l));case 5:return(d=e.sent).data.shift(),e.next=9,i.dispatch(i.updateRelationshipData(function(e){return O(O({},e),{},{data:[].concat((0,o.default)(e.data),(0,o.default)(d.data)),next:d.next})}));case 9:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"addById",value:(n=(0,c.default)(a.default.mark(function e(t){var r,n,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.isArray(t)?t:[t],this.addTargetRelationships(r),n=r.map(function(e){return{_id:e,_type:o.doctype}}),e.next=5,this.mutate(this.addReferences(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"removeById",value:(i=(0,c.default)(a.default.mark(function e(t){var r,n,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.isArray(t)?t:[t],this.removeTargetRelationships(t),n=r.map(function(e){return{_id:e,_type:o.doctype}}),e.next=5,this.mutate(this.removeReferences(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addReferences",value:function(e){if(this.target._type===_.DOCTYPE_FILES)return b.Mutations.addReferencedBy(this.target,e);if(e[0]._type===_.DOCTYPE_FILES)return b.Mutations.addReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"removeReferences",value:function(e){if(this.target._type===_.DOCTYPE_FILES)return b.Mutations.removeReferencedBy(this.target,e);if(e[0]._type===_.DOCTYPE_FILES)return b.Mutations.removeReferencesTo(this.target,e);throw Error("Either the document or the references should be io.cozy.files")}},{key:"dehydrate",value:function(e){return(0,v.default)(e,[this.name,"relationships.".concat(this.name)])}},{key:"data",get:function(){var e=this;return this.target._type===_.DOCTYPE_FILES?(0,m.default)(this.target,"referenced_by",[]).map(function(t){var r=t.id,n=t.type;return e.get(n,r)}).filter(Boolean):(0,l.default)((0,p.default)(w.prototype),"data",this)}}],[{key:"query",value:function(e,t,r){if(e._type===_.DOCTYPE_FILES){var n=(0,m.default)(e,"relationships.referenced_by.data",[]),a=(0,y.default)(n.filter(function(e){return e.type===r.doctype}).map(function(e){return e.id}));return a.length>0?(0,b.Q)(r.doctype).getByIds(a):null}var o=x([e._type,e._id],"");return(0,b.Q)(r.doctype).referencedBy(e).offsetCursor(o)}}]),w}(w.default)},93063:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=r(31201);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"addById",value:function(e){this.getRelationship().push(e)}},{key:"removeById",value:function(e){var t=this.getRelationship(),r=t.indexOf(e);-1!==r&&t.splice(r,1)}},{key:"existsById",value:function(e){return -1!==this.getRelationship().indexOf(e)}},{key:"getRelationship",value:function(){return this.target[this.name]=this.target[this.name]||[],this.target[this.name]}},{key:"dehydrate",value:function(e){return f(f({},e),{},(0,a.default)({},this.name,this.raw||[]))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var e=this,t=this.doctype;return(this.raw||[]).map(function(r){return e.get(t,r)})}}],[{key:"query",value:function(e,t,r){var n=e[r.name];return n&&n>0?(0,l.Q)(r.doctype).getByIds(n):null}}]),n}(n(r(14545)).default)},1268:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(2695)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(25377)),d=r(31201);t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,a.default)(this,n),r.apply(this,arguments)}return(0,o.default)(n,[{key:"data",get:function(){var e=this;return(0,i.default)((0,s.default)(n.prototype),"data",this).filter(function(t){return t.slug===e.target.slug})}}],[{key:"query",value:function(e,t){return(0,d.Q)("io.cozy.triggers").where({worker:"konnector"})}}]),n}(l.default)},88232:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(58156)),d=n(r(63560)),f=r(31201),p=n(r(14545)),h=n(r(87925));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.default=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"add",value:function(e){return this.setRelationship(e),this.save(this.target)}},{key:"remove",value:function(){return this.setRelationship(void 0),this.save(this.target)}},{key:"setRelationship",value:function(e){if(e&&e._type!==this.doctype)throw Error("Tried to associate a ".concat(e._type," document to a HasOne relationship on ").concat(this.doctype," document"));var t="relationships[".concat(this.name,"].data");e?(0,d.default)(this.target,t,{_id:e._id,_type:e._type}):(0,d.default)(this.target,t,void 0)}},{key:"set",value:function(e){h.default.warn("set is deprecated for has-one relationships. Use `add` instead."),this.setRelationship(e)}},{key:"unset",value:function(){h.default.warn("unset is deprecated for has-one relationships. Use `remove` instead."),this.setRelationship(void 0)}},{key:"dehydrate",value:function(e){return this.raw?v(v({},e),{},{relationships:v(v({},e.relationships),{},(0,a.default)({},this.name,{data:this.raw}))}):e}},{key:"raw",get:function(){return(0,l.default)(this.target,"relationships[".concat(this.name,"].data"),null)}},{key:"data",get:function(){return this.raw?this.get(this.doctype,this.raw._id):null}}],[{key:"query",value:function(e,t,r){var n=(0,l.default)(e,"relationships.".concat(r.name,".data"),{});return n&&n._id?(0,f.Q)(r.doctype).getById(n._id):null}}]),n}(p.default)},15304:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BelongsToInPlace=t.default=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(14545)),d=r(31201);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,i.default)(n,[{key:"dehydrate",value:function(e){return p(p({},e),{},(0,a.default)({},this.name,this.raw||void 0))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){return this.get(this.doctype,this.raw)}}],[{key:"query",value:function(e,t,r){var n=e[r.name];return t.getDocumentFromState(r.doctype,n)||(0,d.Q)(r.doctype).getById(n)}}]),n}(l.default);t.default=h,t.BelongsToInPlace=h},77147:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedById=t.getReferencedBy=t.isReferencedById=t.isReferencedBy=t.create=t.resolveClass=t.attachRelationships=t.responseToRelationship=t.pickTypeAndId=void 0;var a=n(r(76729)),o=n(r(44383)),i=n(r(71086)),c=n(r(14545)),u=n(r(88232)),s=n(r(15304)),l=n(r(25377)),d=n(r(93063)),f=n(r(93202));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){return(0,o.default)(e,"_type","_id")};t.pickTypeAndId=m,t.responseToRelationship=function(e){var t;return(0,i.default)({data:Array.isArray(t=e.data)?t.map(m):m(t),meta:e.meta,next:e.next,skip:e.skip,bookmark:e.bookmark})};var v=function(e,t){return h(h({},e),{},{relationships:h(h({},e.relationships),t)})};t.attachRelationships=function(e,t){if(Array.isArray(e.data))return h(h({},e),{},{data:e.data.map(function(e){return v(e,t[e._id])})});var r=e.data;return h(h({},e),{},{data:v(r,t[r._id])})};var y={"io.cozy.files:has-many":f.default,"has-many":l.default,"belongs-to-in-place":s.default,"has-one":u.default,"has-one-in-place":s.default,"has-many-in-place":d.default};t.resolveClass=function(e,t){if(void 0===t)throw Error("Undefined type for "+e);if("string"!=typeof t)return t;var r=y["".concat(e,":").concat(t)]||y[t];if(r)return r;throw Error("Unknown association '".concat(t,"'"))},t.create=function(e,t,r){var n=t.name,a=t.type,o=t.doctype;if(e[n]instanceof c.default)throw Error("Association ".concat(n," already exists"));return new a(e,n,o,r)},t.isReferencedBy=function(e,t){var r,n;return((null==e||null==(r=e.relationships)||null==(n=r.referenced_by)?void 0:n.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t})},t.isReferencedById=function(e,t,r){var n,a;return((null==e||null==(n=e.relationships)||null==(a=n.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).some(function(e){return e.type===t&&e.id===r})},t.getReferencedBy=function(e,t){var r,n;return((null==e||null==(r=e.relationships)||null==(n=r.referenced_by)?void 0:n.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t})},t.getReferencedById=function(e,t,r){var n,a;return((null==e||null==(n=e.relationships)||null==(a=n.referenced_by)?void 0:a.data)||(null==e?void 0:e.referenced_by)||[]).filter(function(e){return e.type===t&&e.id===r})}},68650:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HasManyFiles",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"resolveClass",{enumerable:!0,get:function(){return d.resolveClass}}),Object.defineProperty(t,"create",{enumerable:!0,get:function(){return d.create}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return d.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return d.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return d.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return d.getReferencedById}});var a=n(r(93202)),o=n(r(25377)),i=n(r(88232)),c=n(r(15304)),u=n(r(93063)),s=n(r(1268)),l=n(r(14545)),d=r(77147)},89258:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.authFunction=t.authenticateWithCordova=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(58494),u=r(7127),s="undefined"!=typeof window?window:null,l=function(e){return new Promise(function(t,r){s.SafariViewController.show({url:e,transition:"curl"},function(e){"closed"===e.event&&r(Error(c.REGISTRATION_ABORT))},function(e){console.log("KO: "+e),r(Error(c.REGISTRATION_ABORT))});var n=s.handleOpenURL;s.handleOpenURL=function(e){s.SafariViewController.hide(),t(e),n&&(s.handleOpenURL=n)}})},d=function(e){return new Promise(function(t,r){var n=s.cordova.InAppBrowser.open(e,"_blank","clearcache=yes,zoom=no"),a=function(){n.removeEventListener("loadstart",o),n.removeEventListener("exit",i)},o=function(e){var r=e.url,o=/\?access_code=(.+)$/.test(r),i=/\?state=(.+)$/.test(r);(o||i)&&(t(r),a(),n.close())},i=function(){r(Error(c.REGISTRATION_ABORT)),a(),n.close()};n.addEventListener("loadstart",o),n.addEventListener("exit",i)})},f=(n=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=(0,u.isIOSApp)(),!e.t0){e.next=5;break}return e.next=4,(0,u.hasSafariPlugin)();case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}return e.abrupt("return",l(t));case 9:if(!(0,u.hasInAppBrowserPlugin)()){e.next=13;break}return e.abrupt("return",d(t));case 13:return console.log(t),e.abrupt("return",new Promise(function(e){setTimeout(function(){e(prompt("Paste the url here:"))},5e3)}));case 15:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});t.authenticateWithCordova=f,t.authFunction=f},58494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES_ENCRYPTION=t.DOCTYPE_PERMISSIONS=t.DOCTYPE_FILES=t.REGISTRATION_ABORT=void 0,t.REGISTRATION_ABORT="REGISTRATION_ABORT",t.DOCTYPE_FILES="io.cozy.files",t.DOCTYPE_PERMISSIONS="io.cozy.permissions",t.DOCTYPE_FILES_ENCRYPTION="io.cozy.files.encryption"},39924:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_TYPE=void 0,t.APP_TYPE={KONNECTOR:"konnector",WEBAPP:"webapp"}},81610:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.clientContext=void 0;var a=r(96540);n(r(59201));var o=(0,a.createContext)({client:null,store:null});t.clientContext=o,t.default=o},54002:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.BulkEditError=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(91083)),u=n(r(7184)),s=n(r(62812)),l=n(r(77497)),d=n(r(30307));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.BulkEditError=function(e){(0,c.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(n);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function n(e,t){var a;return(0,o.default)(this,n),(a=r.call(this,"Error while bulk saving")).name="BulkEditError",a.results=(0,d.default)(e,t,function(e,t){return p(p({},e),{},{doc:t})}),a}return(0,i.default)(n,[{key:"getUpdatedDocuments",value:function(){return this.results.filter(function(e){return e.ok}).map(function(e){return e.doc})}},{key:"getErrors",value:function(){return this.results.filter(function(e){return!e.ok})}}]),n}((0,l.default)(Error))},71406:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.certifyFlagship=void 0;var c=i(r(30592)),u=i(r(93889));i(r(59201));var s=r(20707),l=(n=(0,u.default)(c.default.mark(function e(t){var r,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.getStackClient(),e.next=4,r.fetchJSON("POST","/auth/clients/".concat(r.oauthOptions.clientID,"/challenge"),null,{headers:{Authorization:r.registrationAccessTokenToAuthHeader()}});case 4:return n=e.sent,e.abrupt("return",n.nonce);case 8:throw e.prev=8,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while requesting a challenge from CozyStack:\n"+e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return n.apply(this,arguments)}),d=(a=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i,u,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.platform,o=t.attestation,i=t.keyId,u=t.issuer,s=n.getStackClient(),e.next=5,s.fetchJSON("POST","/auth/clients/".concat(s.oauthOptions.clientID,"/attestation"),{platform:a,attestation:o,challenge:r,keyId:i,issuer:u},{headers:{Authorization:s.registrationAccessTokenToAuthHeader()}});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Error("[FLAGSHIP_CERTIFICATION] Something went wrong while giving attestation to CozyStack:\n"+e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,r){return a.apply(this,arguments)});o=(0,u.default)(c.default.mark(function e(t,r){var n,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("[FLAGSHIP_CERTIFICATION] Certification configuration is not set");case 2:return e.prev=2,e.next=5,l(r);case 5:return n=e.sent,e.next=8,(0,s.getAppAttestationFromStore)(n,t);case 8:return a=e.sent,e.next=11,d(a,n,r);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.warn('[FLAGSHIP_CERTIFICATION] Automatic certification for URI "'.concat(r.stackClient.uri,'" failed. This is expected on dev environments and non-official phones. Cozy-stack will continue with manual certification through 2FA')),console.warn(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[2,13]])})),t.certifyFlagship=function(e,t){return o.apply(this,arguments)}},20707:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getAppAttestationFromStore=void 0;var o=a(r(30592));t.getAppAttestationFromStore=(n=(0,a(r(93889)).default)(o.default.mark(function e(t,r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("getAppAttestationFromStore can only be called from a React Native container");case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},35625:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrate=void 0;var a=n(r(13135)),o=r(68650);t.dehydrate=function(e){return Object.entries(e).reduce(function(e,t){var r=(0,a.default)(t,2),n=r[0],i=r[1],c=e;if(i instanceof o.Association)if(i.dehydrate)c=i.dehydrate(c);else throw Error("Association on key ".concat(n," should have a dehydrate method"));else c[n]=i;return c},{})}},56975:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return n.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return n.deconstructRedirectLink}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return n.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return n.ensureFirstSlash}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return n.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return n.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return n.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return n.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return n.BlockedCozyError}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return a.dehydrate}}),Object.defineProperty(t,"editSettings",{enumerable:!0,get:function(){return o.editSettings}}),Object.defineProperty(t,"getQuery",{enumerable:!0,get:function(){return o.getQuery}}),Object.defineProperty(t,"getSettings",{enumerable:!0,get:function(){return o.getSettings}}),Object.defineProperty(t,"normalizeSettings",{enumerable:!0,get:function(){return o.normalizeSettings}}),Object.defineProperty(t,"saveAfterFetchSettings",{enumerable:!0,get:function(){return o.saveAfterFetchSettings}});var n=r(79846),a=r(35625),o=r(93082)},33482:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.ensureFilePath=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(93889)),u=r(31201),s=a(r(59201));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=function(e){return{definition:function(){return(0,u.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),singleDocData:!0,fetchPolicy:s.default.fetchPolicies.olderThan(3e4)}}};n=(0,c.default)(o.default.mark(function e(t){var r,n,a,c,u=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:{},!t.path){e.next=3;break}return e.abrupt("return",t);case 3:return n=d(t.dir_id),e.next=6,r.client.fetchQueryAndGetFromState({definition:n.definition(),options:n.options});case 6:if(!(!(a=e.sent).data||!a.data.path)){e.next=9;break}throw Error("Could not define a file path for ".concat(t._id||t.id));case 9:return c=a.data.path+"/"+t.name,e.abrupt("return",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({path:c},t));case 11:case"end":return e.stop()}},e)})),t.ensureFilePath=function(e){return n.apply(this,arguments)}},93082:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=t.extractKeys=t.editSettings=t.normalizeSettings=t.saveAfterFetchSettings=t.getSettings=void 0;var i=o(r(13135)),c=o(r(76729)),u=o(r(30592)),s=o(r(93889));o(r(59201));var l=o(r(70971)),d=r(31201);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=l.default.olderThan(36e5);n=(0,s.default)(u.default.mark(function e(t,r,n){var a,o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=w(r),e.next=3,t.fetchQueryAndGetFromState({definition:a.definition,options:a.options});case 3:return o=v(e.sent.data),e.abrupt("return",_(o,n));case 6:case"end":return e.stop()}},e)})),t.getSettings=function(e,t,r){return n.apply(this,arguments)},a=(0,s.default)(u.default.mark(function e(t,r,n,a){var o,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=w(r),e.next=3,t.fetchQueryAndGetFromState({definition:o.definition,options:o.options});case 3:return i=v(e.sent.data),c=void 0,c="function"==typeof n?n(_(i,a)):h(h({},_(i,Object.keys(n))),n),s=y(r,i,c),e.next=10,t.save(s);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),t.saveAfterFetchSettings=function(e,t,r,n){return a.apply(this,arguments)};var v=function(e){return(Array.isArray(e)?e[0]:e)||{}};t.normalizeSettings=v;var y=function(e,t,r){var n=x(e);return"instance"===e?b(t,r):g(t,n,r)};t.editSettings=y;var b=function(e,t){for(var r=h(h({_id:e._id,_type:e._type,_rev:e.meta.rev},e),{},{attributes:h({},e.attributes)}),n=0,a=Object.entries(t);n<a.length;n++){var o=(0,i.default)(a[n],2),c=o[0],u=o[1];r[c]=u,r.attributes[c]=u}return r},g=function(e,t,r){for(var n=h({_type:t},e),a=0,o=Object.entries(r);a<o.length;a++){var c=(0,i.default)(o[a],2),u=c[0],s=c[1];n[u]=s}return n},_=function(e,t){var r,n={},a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;n[o]=e[o]}}catch(e){a.e(e)}finally{a.f()}return n};t.extractKeys=_;var w=function(e){return"instance"===e?O(e):"passwords"===e?O("bitwarden"):k(e)};t.getQuery=w;var k=function(e){var t=x(e);return{definition:(0,d.Q)(t).limitBy(1),options:{as:t,fetchPolicy:m,singleDocData:!0}}},O=function(e){var t="io.cozy.settings",r=x(e);return{definition:(0,d.Q)(t).getById(r),options:{as:"".concat(t,"/").concat(r),fetchPolicy:m,singleDocData:!0}}},x=function(e){return["instance","bitwarden"].includes(e)?"io.cozy.settings.".concat(e):"passwords"===e?"io.cozy.settings.bitwarden":"io.cozy.".concat(e,".settings")}},79846:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.rootCozyUrl=t.InvalidCozyUrlError=t.BlockedCozyError=t.InvalidProtocolError=t.InvalidRedirectLinkError=t.deconstructRedirectLink=t.deconstructCozyWebLinkWithSlug=t.generateWebLink=t.ensureFirstSlash=void 0;var c=i(r(10464)),u=i(r(70777)),s=i(r(30592)),l=i(r(93889)),d=i(r(92115)),f=i(r(91083)),p=i(r(7184)),h=i(r(62812)),m=i(r(77497)),v=i(r(13135));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);return r=t?Reflect.construct(n,arguments,(0,h.default)(this).constructor):n.apply(this,arguments),(0,p.default)(this,r)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){return e?e.startsWith("/")?e:"/"+e:"/"};t.ensureFirstSlash=g,t.generateWebLink=function(e){var t=e.cozyUrl,r=e.searchParams,n=e.pathname,a=e.hash,o=e.slug,i=e.subDomainType,c=new URL(t);c.host="nested"===i?"".concat(o,".").concat(c.host):c.host.split(".").map(function(e,t){return 0===t?e+"-"+o:e}).join("."),c.pathname=g(n),c.hash=g(a);var u,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(r||[]);try{for(s.s();!(u=s.n()).done;){var l=(0,v.default)(u.value,2),d=l[0],f=l[1];c.searchParams.set(d,f)}}catch(e){s.e(e)}finally{s.f()}return c.toString()},t.deconstructCozyWebLinkWithSlug=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flat",r=new URL(e),n="nested"===t?r.host.split(".")[0]:r.host.split(".")[0].split("-")[1],a="nested"===t?r.host.split(".")[1]:r.host.split(".")[0].split("-")[0];return{cozyBaseDomain:r.host.split(".").slice("nested"===t?2:1).join("."),cozyName:a,pathname:r.pathname,hash:r.hash,protocol:r.protocol,searchParams:r.searchParams.toString(),slug:n}},t.deconstructRedirectLink=function(e){var t=e.split("#"),r=(0,v.default)(t,2),n=r[0],a=r[1],o=n.split(/\/(.*)/),i=(0,v.default)(o,2),c=i[0],u=i[1];if(!c.match(/^[a-z0-9]+$/))throw new _(e);return{slug:c,pathname:u,hash:a}};var _=function(e){(0,f.default)(r,e);var t=y(r);function r(e){var n;return(0,d.default)(this,r),(n=t.call(this,"Invalid redirect link ".concat(e))).redirectLink=e,n}return r}((0,m.default)(Error));t.InvalidRedirectLinkError=_;var w=function(e){(0,f.default)(r,e);var t=y(r);function r(e){var n;return(0,d.default)(this,r),(n=t.call(this,"Invalid URL protocol ".concat(e.protocol))).url=e,n}return r}((0,m.default)(Error));t.InvalidProtocolError=w;var k=function(e){(0,f.default)(r,e);var t=y(r);function r(e){var n;return(0,d.default)(this,r),(n=t.call(this,"Blocked cozy ".concat(e.toString()))).url=e,n}return r}((0,m.default)(Error));t.BlockedCozyError=k;var O=function(e){(0,f.default)(r,e);var t=y(r);function r(e){var n;return(0,d.default)(this,r),(n=t.call(this,"URL ".concat(e.toString()," does not seem to be a valid Cozy URL"))).url=e,n}return r}((0,m.default)(Error));t.InvalidCozyUrlError=O;var x=function(e){var t=e.protocol,r=e.hostname,n=e.port;return(""!==t?"".concat(t,"//"):"https://")+r+(""!==n?":".concat(n):"")},E=(n=(0,l.default)(s.default.mark(function e(t){var r,n,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x(t)+"/.well-known/change-password");case 2:if(n=(r=e.sent).status,a=r.url,404!==n){e.next=6;break}throw new O(t);case 6:return e.next=8,C(r);case 8:if(!e.sent){e.next=10;break}throw new k(t);case 10:return o=t.origin!==new URL(a).origin,e.abrupt("return",200===n&&!o);case 12:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});a=(0,l.default)(s.default.mark(function e(t){var r,n,a,o,i,l,d,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(["http:","https:"].includes(t.protocol)){e.next=2;break}throw new w(t);case 2:return e.next=4,E(t);case 4:if(!e.sent){e.next=6;break}return e.abrupt("return",new URL(x({protocol:t.protocol,hostname:t.hostname,port:t.port})));case 6:if(!/^[^.-][^.]+-[^.-]+\./.test(t.hostname)){e.next=14;break}return r=t.hostname.split("."),a=(n=(0,u.default)(r))[0],o=n.slice(1),i=[a.replace(/-.+/,"")].concat((0,c.default)(o)).join("."),l=new URL(x({protocol:t.protocol,hostname:i,port:t.port})),e.next=12,E(l);case 12:if(!e.sent){e.next=14;break}return e.abrupt("return",l);case 14:return d=t.hostname.split(".").splice(1).join("."),f=new URL(x({protocol:t.protocol,hostname:d,port:t.port})),e.next=18,E(f);case 18:if(!e.sent){e.next=20;break}return e.abrupt("return",f);case 20:throw new O(t);case 21:case"end":return e.stop()}},e)})),t.rootCozyUrl=function(e){return a.apply(this,arguments)};var C=(o=(0,l.default)(s.default.mark(function e(t){var r,n,a,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(503===t.status){e.next=2;break}return e.abrupt("return",!1);case 2:return a=(n=t.headers.get("content-type"))&&n.indexOf("json")>=0,e.next=6,a?t.json():t.text();case 6:if(!(null!=(o=e.sent)&&null!=(r=o.some)&&r.call(o,function(e){return"Blocked"===e.title}))){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},55403:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.queryConnectFlat=t.queryConnect=t.withClient=void 0;var o=a(r(76729)),i=a(r(82710)),c=n(r(96540)),u=a(r(5556)),s=a(r(71382)),l=a(r(7509)),d=a(r(40258)),f=r(24921),p=a(r(87925));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.withClient=function(e){var t=function(t){var r=(0,d.default)();return c.default.createElement(e,(0,i.default)({},t,{client:r}))};return t.displayName="withClient(".concat(e.displayName||e.name,")"),t};var v=function(e,t,r){if(!t)throw Error("withQuery has no options for ".concat(e," (wrapping ").concat(r.name,")"));return function(r){var n=function(n,a){if(!a.client)throw Error("Should be used with client in context (use CozyProvider to set context)");var i="function"==typeof t?t(n):t;return t.doc?(p.default.warn("queryOpts.doc is deprecated"),c.default.createElement(r,m((0,o.default)({},e,i.doc),n))):c.default.createElement(l.default,i,function(t){return c.default.createElement(r,m((0,o.default)({},e,t),n))})};return n.contextTypes={client:u.default.object},n.displayName="withQuery(".concat(r.displayName||r.name,")"),n}};t.queryConnect=function(e){return function(t){var r=Object.keys(e).map(function(r){return v(r,e[r],t)});return s.default.apply(null,r)(t)}},t.queryConnectFlat=function(e){return function(t){var r=function(r){var n=(0,f.useQueries)(e);return c.default.createElement(t,(0,i.default)({},r,n))};return r.displayName="queryConnectFlat(".concat(t.displayName||t.name,")"),r}}},715:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(96540);t.default=function(){var e=(0,n.useRef)();return(0,n.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e}},67393:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=r(96540),i=n(r(715));t.default=function(e){var t=(0,i.default)(),r=(0,o.useState)(e),n=(0,a.default)(r,2),c=n[0],u=n[1];return[c,(0,o.useCallback)(function(e){t.current&&u(e)},[])]}},34658:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAppLinkWithStoreFallback",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useCapabilities",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useFetchShortcut",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"useClient",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"useQuery",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useQueries",{enumerable:!0,get:function(){return s.useQueries}}),Object.defineProperty(t,"useAppsInMaintenance",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useQueryAll",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useMutation",{enumerable:!0,get:function(){return f.useMutation}}),Object.defineProperty(t,"useInstanceInfo",{enumerable:!0,get:function(){return p.useInstanceInfo}}),Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return h.useSettings}});var o=a(r(40103)),i=a(r(50611)),c=a(r(40791)),u=a(r(40258)),s=n(r(24921)),l=a(r(15547)),d=a(r(1334)),f=r(89634),p=r(96702),h=r(42241)},40103:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=r(31201),s=r(83077);t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=(0,c.useState)("loading"),l=(0,i.default)(n,2),d=l[0],f=l[1],p=(0,c.useState)(!0),h=(0,i.default)(p,2),m=h[0],v=h[1],y=(0,c.useState)(null),b=(0,i.default)(y,2),g=b[0],_=b[1];return(0,c.useEffect)(function(){var n;(n=(0,o.default)(a.default.mark(function n(){var o,i,c;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.query((0,u.Q)("io.cozy.apps"));case 3:o=n.sent,i={slug:e},v(!!(c=(0,s.isInstalled)(o.data,i))),c?_((0,s.getUrl)(c)+r):_((0,s.getStoreURL)(o.data,i)),f("loaded"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),f("errored");case 14:case"end":return n.stop()}},n,null,[[0,11]])})),function(){return n.apply(this,arguments)})()},[t,e,r]),{fetchStatus:d,isInstalled:m,url:g}}},15547:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(24921)),o=r(31201),i=n(r(59201));t.default=function(){return(0,a.default)((0,o.Q)("io.cozy.apps_registry").getById("maintenance"),{as:"io.cozy.apps_registry/maintenance",fetchPolicy:i.default.fetchPolicies.olderThan(6e5),singleDocData:!1}).data||[]}},50611:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=n(r(58156)),s=r(31201);t.default=function(e){var t=(0,c.useState)(),r=(0,i.default)(t,2),n=r[0],l=r[1],d=(0,c.useState)("idle"),f=(0,i.default)(d,2),p=f[0],h=f[1];return(0,c.useEffect)(function(){var t,r=(t=(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h("loading"),t.prev=1,t.next=4,e.query((0,s.Q)("io.cozy.settings").getById("io.cozy.settings.capabilities"));case 4:r=t.sent,l((0,u.default)(r,"data",{})),h("loaded"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),h("failed");case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return t.apply(this,arguments)});e.capabilities?(l(e.capabilities),h("loaded")):r()},[e]),{capabilities:n,fetchStatus:p}}},40258:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(96540),o=n(r(81610));n(r(59201)),t.default=function(){return(0,a.useContext)(o.default).client}},40791:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=r(31201),s=n(r(59201));t.default=function(e,t){var r=(0,c.useState)(null),n=(0,i.default)(r,2),l=n[0],d=n[1],f=(0,c.useState)(null),p=(0,i.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)("idle"),y=(0,i.default)(v,2),b=y[0],g=y[1];return(0,c.useEffect)(function(){var r;(r=(0,o.default)(a.default.mark(function r(){var n,o,i,c,l,f;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return g("loading"),r.prev=1,r.next=4,e.fetchQueryAndGetFromState({definition:(0,u.Q)("io.cozy.files.shortcuts").getById(t),options:{as:"io.cozy.files.shortcuts/".concat(t),fetchPolicy:s.default.fetchPolicies.olderThan(6e5),singleDocData:!0}});case 4:if(!(l=null==(c=r.sent)||null==(n=c.data)||null==(o=n.metadata)||null==(i=o.target)?void 0:i.app)){r.next=13;break}return r.next=9,e.getStackClient().getIconURL({type:"app",slug:l,priority:"stack"});case 9:m(r.sent),r.next=16;break;case 13:f=new URL(c.data.url),m("".concat(e.getStackClient().uri,"/bitwarden/icons/").concat(f.host,"/icon.png"));case 16:d({data:c.data}),g("loaded"),r.next=23;break;case 20:r.prev=20,r.t0=r.catch(1),g("failed");case 23:case"end":return r.stop()}},r,null,[[1,20]])})),function(){return r.apply(this,arguments)})()},[e,t]),{shortcutInfos:l,shortcutImg:h,fetchStatus:b}}},96702:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useInstanceInfo=void 0;var a=n(r(24921)),o=n(r(59201)),i=r(31201),c=r(51240);t.useInstanceInfo=function(){var e=u("io.cozy.settings.instance"),t=(0,a.default)(e.definition,e.options),r=u("io.cozy.settings.context"),n=(0,a.default)(r.definition,r.options),o=u("io.cozy.settings.disk-usage"),i=(0,a.default)(o.definition,o.options);return{isLoaded:null!==(0,c.hasQueryBeenLoaded)(t)&&null!==(0,c.hasQueryBeenLoaded)(n)&&null!==(0,c.hasQueryBeenLoaded)(i),instance:{data:t.data},context:{data:n.data},diskUsage:{data:i.data}}};var u=function(e){return{definition:(0,i.Q)("io.cozy.settings").getById(e),options:{as:"io.cozy.settings/".concat(e),fetchPolicy:o.default.fetchPolicies.olderThan(54e4),singleDocData:!0}}}},89634:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useMutation=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540),u=n(r(5556)),s=n(r(40258)),l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.onSuccess,n=void 0===r?void 0:r,u=t.onError,l=void 0===u?void 0:u,d=(0,s.default)(),f=(0,c.useState)("pending"),p=(0,i.default)(f,2),h=p[0],m=p[1],v=(0,c.useState)(),y=(0,i.default)(v,2),b=y[0],g=y[1],_=(0,c.useState)(),w=(0,i.default)(_,2),k=w[0],O=w[1];return{mutate:(0,c.useCallback)((e=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(void 0),m("loading"),e.prev=2,e.next=5,d.save(t);case 5:if(O((r=e.sent).data),"function"!=typeof n){e.next=10;break}return e.next=10,n(r.data);case 10:m("loaded"),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(2),m("failed"),g(e.t0),"function"!=typeof l){e.next=20;break}return e.next=20,l(e.t0);case 20:case"end":return e.stop()}},e,null,[[2,13]])})),function(t){return e.apply(this,arguments)}),[d,l,n]),mutationStatus:h,error:b,data:k}};t.useMutation=l,l.propTypes={onSuccess:u.default.func,onError:u.default.func}},24921:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useQueries=void 0;var a=n(r(13135)),o=n(r(76729)),i=r(96540),c=r(32610),u=n(r(58156)),s=n(r(40258)),l=n(r(87925)),d=r(81610);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r(31201);var h=(0,c.createSelectorHook)(d.clientContext),m=function(e,t){if(!h)throw Error("You must use react-redux > 7.1.0 to use useQuery (uses useSelector) under the hood");if(!e)throw l.default.warn("Bad query",e),Error("Bad query");var r=t.as,n=t.enabled,a=void 0===n||n,o=a?"function"==typeof e?e():e:null;if(!r)throw Error("You must specify options.as when using useQuery");var c=(0,s.default)(),d=h(function(){return void 0===t.singleDocData&&null!=o&&o.id&&l.default.warn("useQuery options.singleDocData will pass to true in a next version of cozy-client, please add it now to prevent any problem in the future."),c.getQueryFromState(r,{hydrated:(0,u.default)(t,"hydrated",!0),singleDocData:(0,u.default)(t,"singleDocData",!1)})});(0,i.useEffect)(function(){!1!==a&&c.query(o,t)},[r,a]);var f=(0,i.useCallback)(function(){var e=c.getQueryFromState(r);return c.query(e.bookmark?e.definition.offsetBookmark(e.bookmark):e.definition.offset(e.data.length),{as:r})},[r,c]),m=(0,i.useCallback)(function(){return c.query(o,t)},[c,o,t]);return p(p({},d),{},{fetchMore:f,fetch:m})};t.useQueries=function(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var o=(0,a.default)(n[r],2),i=o[0],c=o[1];t[i]=m(c.query,c)}return t},t.default=m},1334:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540);r(31201);var u=n(r(24921)),s=n(r(67393));t.default=function(e,t){var r=(0,s.default)(!1),n=(0,i.default)(r,2),l=n[0],d=n[1],f=(0,u.default)(e,t);return(0,c.useEffect)(function(){var e;(e=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("loaded"===f.fetchStatus&&f.hasMore&&!l)){e.next=5;break}return d(!0),e.next=4,f.fetchMore();case 4:d(!1);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[f.hasMore,f.fetchStatus,l]),f}},42241:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=void 0;var a=n(r(80539)),o=r(96540),i=r(56975),c=r(89634),u=n(r(24921)),s=r(51240),l=r(93082);t.useSettings=function(e,t){var r=(0,i.getQuery)(e),n=(0,u.default)(r.definition,r.options),d=n.data,f=(0,a.default)(n,["data"]),p=(0,c.useMutation)(),h=p.mutate,m=(0,a.default)(p,["mutate"]),v=(0,o.useCallback)(function(t){var r=(0,i.normalizeSettings)(d);return h((0,i.editSettings)(e,r,t))},[h,d,e]),y=(0,i.normalizeSettings)(d),b=(0,s.hasQueryBeenLoaded)(f)?(0,l.extractKeys)(y,t):void 0;return{query:f,values:b,save:v,mutation:m}}},30589:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0});var o={CozyLink:!0,StackLink:!0,WebFlagshipLink:!0,compose:!0,QueryDefinition:!0,Q:!0,Mutations:!0,MutationTypes:!0,getDoctypeFromOperation:!0,Association:!0,HasMany:!0,HasOne:!0,HasOneInPlace:!0,HasManyInPlace:!0,HasManyTriggers:!0,isReferencedBy:!0,isReferencedById:!0,getReferencedBy:!0,getReferencedById:!0,deconstructCozyWebLinkWithSlug:!0,deconstructRedirectLink:!0,dehydrate:!0,generateWebLink:!0,ensureFirstSlash:!0,rootCozyUrl:!0,InvalidRedirectLinkError:!0,InvalidCozyUrlError:!0,InvalidProtocolError:!0,BlockedCozyError:!0,cancelable:!0,isQueryLoading:!0,hasQueryBeenLoaded:!0,isQueriesLoading:!0,hasQueriesBeenLoaded:!0,getQueryFromState:!0,dispatchCreate:!0,dispatchUpdate:!0,dispatchDelete:!0,Registry:!0,RealTimeQueries:!0,manifest:!0,CozyProvider:!0,withMutation:!0,withMutations:!0,Query:!0,queryConnect:!0,queryConnectFlat:!0,withClient:!0,models:!0,fetchPolicies:!0,BulkEditError:!0,webPerformanceApi:!0,defaultPerformanceApi:!0};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"CozyLink",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WebFlagshipLink",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"compose",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"QueryDefinition",{enumerable:!0,get:function(){return d.QueryDefinition}}),Object.defineProperty(t,"Q",{enumerable:!0,get:function(){return d.Q}}),Object.defineProperty(t,"Mutations",{enumerable:!0,get:function(){return d.Mutations}}),Object.defineProperty(t,"MutationTypes",{enumerable:!0,get:function(){return d.MutationTypes}}),Object.defineProperty(t,"getDoctypeFromOperation",{enumerable:!0,get:function(){return d.getDoctypeFromOperation}}),Object.defineProperty(t,"Association",{enumerable:!0,get:function(){return f.Association}}),Object.defineProperty(t,"HasMany",{enumerable:!0,get:function(){return f.HasMany}}),Object.defineProperty(t,"HasOne",{enumerable:!0,get:function(){return f.HasOne}}),Object.defineProperty(t,"HasOneInPlace",{enumerable:!0,get:function(){return f.HasOneInPlace}}),Object.defineProperty(t,"HasManyInPlace",{enumerable:!0,get:function(){return f.HasManyInPlace}}),Object.defineProperty(t,"HasManyTriggers",{enumerable:!0,get:function(){return f.HasManyTriggers}}),Object.defineProperty(t,"isReferencedBy",{enumerable:!0,get:function(){return p.isReferencedBy}}),Object.defineProperty(t,"isReferencedById",{enumerable:!0,get:function(){return p.isReferencedById}}),Object.defineProperty(t,"getReferencedBy",{enumerable:!0,get:function(){return p.getReferencedBy}}),Object.defineProperty(t,"getReferencedById",{enumerable:!0,get:function(){return p.getReferencedById}}),Object.defineProperty(t,"deconstructCozyWebLinkWithSlug",{enumerable:!0,get:function(){return h.deconstructCozyWebLinkWithSlug}}),Object.defineProperty(t,"deconstructRedirectLink",{enumerable:!0,get:function(){return h.deconstructRedirectLink}}),Object.defineProperty(t,"dehydrate",{enumerable:!0,get:function(){return h.dehydrate}}),Object.defineProperty(t,"generateWebLink",{enumerable:!0,get:function(){return h.generateWebLink}}),Object.defineProperty(t,"ensureFirstSlash",{enumerable:!0,get:function(){return h.ensureFirstSlash}}),Object.defineProperty(t,"rootCozyUrl",{enumerable:!0,get:function(){return h.rootCozyUrl}}),Object.defineProperty(t,"InvalidRedirectLinkError",{enumerable:!0,get:function(){return h.InvalidRedirectLinkError}}),Object.defineProperty(t,"InvalidCozyUrlError",{enumerable:!0,get:function(){return h.InvalidCozyUrlError}}),Object.defineProperty(t,"InvalidProtocolError",{enumerable:!0,get:function(){return h.InvalidProtocolError}}),Object.defineProperty(t,"BlockedCozyError",{enumerable:!0,get:function(){return h.BlockedCozyError}}),Object.defineProperty(t,"cancelable",{enumerable:!0,get:function(){return m.cancelable}}),Object.defineProperty(t,"isQueryLoading",{enumerable:!0,get:function(){return m.isQueryLoading}}),Object.defineProperty(t,"hasQueryBeenLoaded",{enumerable:!0,get:function(){return m.hasQueryBeenLoaded}}),Object.defineProperty(t,"isQueriesLoading",{enumerable:!0,get:function(){return m.isQueriesLoading}}),Object.defineProperty(t,"hasQueriesBeenLoaded",{enumerable:!0,get:function(){return m.hasQueriesBeenLoaded}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return v.getQueryFromState}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return v.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return v.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return v.dispatchDelete}}),Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"RealTimeQueries",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"withMutation",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"withMutations",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"queryConnect",{enumerable:!0,get:function(){return O.queryConnect}}),Object.defineProperty(t,"queryConnectFlat",{enumerable:!0,get:function(){return O.queryConnectFlat}}),Object.defineProperty(t,"withClient",{enumerable:!0,get:function(){return O.withClient}}),Object.defineProperty(t,"fetchPolicies",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"BulkEditError",{enumerable:!0,get:function(){return S.BulkEditError}}),Object.defineProperty(t,"webPerformanceApi",{enumerable:!0,get:function(){return A.webPerformanceApi}}),Object.defineProperty(t,"defaultPerformanceApi",{enumerable:!0,get:function(){return P.defaultPerformanceApi}}),t.models=t.manifest=void 0;var i=a(r(59201)),c=a(r(2586)),u=a(r(33801)),s=a(r(15031)),l=a(r(49870)),d=r(31201),f=r(68650),p=r(77147),h=r(56975),m=r(51240),v=r(46475),y=a(r(80366)),b=a(r(40602));t.manifest=n(r(67907));var g=a(r(36472)),_=a(r(24858)),w=a(r(78505)),k=a(r(7509)),O=r(55403);t.models=n(r(3584));var x=a(r(70971)),E=r(77647);Object.keys(E).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))});var C=r(34658);Object.keys(C).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))});var S=r(54002),A=r(56569),P=r(85778)},87925:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o=(0,a.default)("cozy-client");a.default.suggest.deny("cozy-client","info"),t.default=o},77647:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.createFakeClient=t.createMockClient=void 0;var a=n(r(13135)),o=n(r(30592)),i=n(r(93889)),c=n(r(76729)),u=n(r(80539)),s=n(r(55364)),l=n(r(59201)),d=r(46475),f=r(86344),p=r(31201);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var m=function(e,t,r){var n=r.definition,a=r.doctype,o=r.data,i=r.queryError,s=(0,u.default)(r,["definition","doctype","data","queryError"]);e.store.dispatch((0,d.initQuery)(t,n||(0,p.Q)(a))),i?e.store.dispatch((0,d.receiveQueryError)(t,i)):e.store.dispatch((0,d.receiveQueryResult)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({data:o?o.map(function(e){return(0,f.normalizeDoc)(e,a)}):o},s)))},v=function(e){var t;return t=(0,i.default)(o.default.mark(function t(r){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{data:null});case 2:if(!e[r.doctype]){t.next=6;break}return t.abrupt("return",{data:e[r.doctype]});case 6:return t.abrupt("return",{data:[]});case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}};t.createMockClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,r=e.remote,n=e.clientOptions,a=e.clientFunctions,o=jest.fn().mockImplementation(v(r));return y({queries:t,remote:r,clientOptions:n,clientFunctions:(0,s.default)({query:o,save:jest.fn(),saveAll:jest.fn(),stackClient:{fetchJSON:jest.fn()}},a)})};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.queries,r=e.remote,n=e.clientOptions,o=e.clientFunctions,i=new l.default(n||{});i.ensureStore();for(var c=0,u=Object.entries(t||{});c<u.length;c++){var d=(0,a.default)(u[c],2);m(i,d[0],d[1])}return i.query=v(r),(0,s.default)(i,o),i};t.createFakeClient=y},9499:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isAccountWithTrigger=t.buildAccount=t.getAccountName=t.getAccountLogin=t.setContractSyncStatusInAccount=t.getContractSyncStatusFromAccount=t.muteError=t.getMutedErrors=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(76729)),u=a(r(55364)),s=r(31201),l=r(25377),d=r(67907);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e){return(null==e?void 0:e.mutedErrors)||[]};t.getMutedErrors=m,t.muteError=function(e,t){var r=m(e);return r.push({type:t,mutedAt:new Date().toISOString()}),h(h({},e),{},{mutedErrors:r})},t.getContractSyncStatusFromAccount=function(e,t){var r,n,a=(0,l.getHasManyItem)(e,"contracts",t);if(!a)throw Error("Cannot find contrat ".concat(t," in account"));return null==(r=null==a||null==(n=a.metadata)?void 0:n.imported)||r},t.setContractSyncStatusInAccount=function(e,t,r){return(0,l.updateHasManyItem)(e,"contracts",t,function(e){if(void 0===e)throw Error("Cannot find contrat ".concat(t," in account"));return(0,u.default)({},e,{metadata:{imported:r}})})};var v=function(e){if(e.identifier)return e.auth[e.identifier];if(e&&e.auth){var t,r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(d.legacyLoginFields);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.auth[n])return e.auth[n]}}catch(e){r.e(e)}finally{r.f()}}return null};t.getAccountLogin=v,t.getAccountName=function(e){return e?e.auth&&(e.auth.accountName||v(e))||e._id:null},t.buildAccount=function(e,t){return{auth:t,account_type:e.slug,identifier:(0,d.getIdentifier)(e.fields),state:null}},n=(0,i.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,s.Q)("io.cozy.triggers").where({"message.account":r._id}).indexFields(["message.account"]).limitBy(1));case 2:return n=e.sent,e.abrupt("return",n.data.length>0);case 4:case"end":return e.stop()}},e)})),t.isAccountWithTrigger=function(e,t){return n.apply(this,arguments)}},83077:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getAppDisplayName=t.getUrl=t.isInstalled=t.getStoreInstallationURL=t.getStoreURL=void 0;var a=n(r(58156)),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.slug)throw Error("Expected app / konnector with the defined slug");var r=i(e,{slug:"store"});if(!r)return null;var n=r.links&&r.links.related;return n?"".concat(n,"#/discover/").concat(t.slug):null};t.getStoreURL=o,t.getStoreInstallationURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(e,t);return r?"".concat(r,"/install"):null};var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.find(function(e){return e.slug===t.slug})};t.isInstalled=i,t.getUrl=function(e){return e.links&&e.links.related},t.getAppDisplayName=function(e,t){var r=(0,a.default)(e,"name_prefix"),n=(0,a.default)(e,"name"),o=(0,a.default)(e,["locales",t,"name"],n),i=(0,a.default)(e,["locales",t,"name_prefix"],r);return i&&"cozy"!==i.toLowerCase()?"".concat(i," ").concat(o):o}},53010:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasExtensionInstalledAttribute=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(31201);n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,c.Q)("io.cozy.settings").getById("io.cozy.settings.bitwarden"),options:{as:"io.cozy.settings/io.cozy.settings.bitwarden",singleDocData:!0}});case 3:return r=e.sent.data.extension_installed,e.abrupt("return",!!r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasExtensionInstalledAttribute=function(e){return n.apply(this,arguments)}},95380:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMagicLink=t.isOIDC=void 0,t.isOIDC=function(e){var t;return null!=(t=e.capabilities.can_auth_with_oidc)&&t},t.isMagicLink=function(e){var t;return null!=(t=e.capabilities.can_auth_with_magic_links)&&t}},5840:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isContact=t.getIndexByFamilyNameGivenNameEmailCozyUrl=t.getDefaultSortIndexValue=t.makeDefaultSortIndexValue=t.getDisplayName=t.makeDisplayName=t.getFullname=t.makeFullname=t.getPrimaryAddress=t.getPrimaryPhone=t.getPrimaryCozyDomain=t.getPrimaryCozy=t.getPrimaryEmail=t.getInitials=t.getPrimaryOrFirst=t.CONTACTS_DOCTYPE=void 0;var a=n(r(58156)),o=n(r(62193)),i=n(r(87925)),c="io.cozy.contacts";t.CONTACTS_DOCTYPE=c;var u=function(e){return function(t){return t&&t[e]&&0!==t[e].length&&t[e][0]?t[e].find(function(e){return e.primary})||t[e][0]:""}};t.getPrimaryOrFirst=u,t.getInitials=function(e){if(null!=e&&null!=(t=e.name)&&t.givenName||null!=e&&null!=(r=e.name)&&r.familyName)return["givenName","familyName"].map(function(t){return(0,a.default)(e,["name",t,0],"")}).join("").toUpperCase();var t,r,n=s(e);if(n)return n[0].toUpperCase();var o=d(e);return o?o[0].toUpperCase():""};var s=function(e){return Array.isArray(e.email)?u("email")(e).address||"":e.email};t.getPrimaryEmail=s;var l=function(e){return Array.isArray(e.cozy)?u("cozy")(e).url||"":e.url};t.getPrimaryCozy=l;var d=function(e){try{return new URL(l(e)).hostname.replace(/^(www.)/g,"")}catch(t){return l(e)}};t.getPrimaryCozyDomain=d,t.getPrimaryPhone=function(e){return u("phone")(e).number||""},t.getPrimaryAddress=function(e){return u("address")(e).formattedAddress||""};var f=["namePrefix","givenName","additionalName","familyName","nameSuffix"],p=function(e,t){var r=(null==t?void 0:t.attributesFullname)||f;return e.name?r.map(function(t){return e.name[t]}).filter(function(e){return void 0!==e}).join(" ").trim():""};t.makeFullname=p,t.getFullname=function(e){return(0,a.default)(e,"fullname")?e.fullname:p(e)};var h=function(e,t){var r=p(e,t),n=s(e),a=d(e);return r&&r.length>0?r:n&&n.length>0?n:a&&a.length>0?a:""};t.makeDisplayName=h,t.getDisplayName=function(e){return(0,a.default)(e,"displayName")?e.displayName:h(e)};var m=function(e){var t=[(0,a.default)(e,"name.familyName",""),(0,a.default)(e,"name.givenName",""),s(e),d(e)].join("").trim().toLowerCase();return 0===t.length?null:t};t.makeDefaultSortIndexValue=m;var v=function(e){var t=(0,a.default)(e,"indexes.byFamilyNameGivenNameEmailCozyUrl",null);return null!==t?(0,o.default)(t)?null:t:m(e)};t.getDefaultSortIndexValue=v,t.getIndexByFamilyNameGivenNameEmailCozyUrl=function(e){return i.default.warn("Deprecation: `getIndexByFamilyNameGivenNameEmailCozyUrl` is deprecated, please use `getDefaultSortIndexValue` instead"),v(e)},t.isContact=function(e){return e._type===c}},1875:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getEmojiByCountry=t.getAllNationalities=t.getNationalityByCodeISO=t.getAllCountryNames=t.getCountryNameByCodeISO=t.getAllCountries=t.checkCountryCode=t.isCountryCodeAlpha2=t.isCountryCodeAlpha3=t.isValidCountryCodeTranslation=t.COUNTRIES_ISO=void 0;var a=n(r(10464)),o=r(86717),i=n(r(87925)),c=[{code2:"AF",code3:"AFG",number:"004"},{code2:"AL",code3:"ALB",number:"008"},{code2:"DZ",code3:"DZA",number:"012"},{code2:"AD",code3:"AND",number:"020"},{code2:"AO",code3:"AGO",number:"024"},{code2:"AG",code3:"ATG",number:"028"},{code2:"AR",code3:"ARG",number:"032"},{code2:"AM",code3:"ARM",number:"051"},{code2:"AU",code3:"AUS",number:"036"},{code2:"AT",code3:"AUT",number:"040"},{code2:"AZ",code3:"AZE",number:"031"},{code2:"BS",code3:"BHS",number:"044"},{code2:"BH",code3:"BHR",number:"048"},{code2:"BD",code3:"BGD",number:"050"},{code2:"BB",code3:"BRB",number:"052"},{code2:"BY",code3:"BLR",number:"112"},{code2:"BE",code3:"BEL",number:"056"},{code2:"BZ",code3:"BLZ",number:"084"},{code2:"BJ",code3:"BEN",number:"204"},{code2:"BM",code3:"BMU",number:"060"},{code2:"BT",code3:"BTN",number:"064"},{code2:"BO",code3:"BOL",number:"068"},{code2:"BQ",code3:"BES",number:"535"},{code2:"BA",code3:"BIH",number:"070"},{code2:"BW",code3:"BWA",number:"072"},{code2:"BV",code3:"BVT",number:"074"},{code2:"BR",code3:"BRA",number:"076"},{code2:"IO",code3:"IOT",number:"086"},{code2:"BN",code3:"BRN",number:"096"},{code2:"BG",code3:"BGR",number:"100"},{code2:"BF",code3:"BFA",number:"854"},{code2:"BI",code3:"BDI",number:"108"},{code2:"CV",code3:"CPV",number:"132"},{code2:"KH",code3:"KHM",number:"116"},{code2:"CM",code3:"CMR",number:"120"},{code2:"CA",code3:"CAN",number:"124"},{code2:"KY",code3:"CYM",number:"136"},{code2:"CF",code3:"CAF",number:"140"},{code2:"TD",code3:"TCD",number:"148"},{code2:"CL",code3:"CHL",number:"152"},{code2:"CN",code3:"CHN",number:"156"},{code2:"CX",code3:"CXR",number:"162"},{code2:"CC",code3:"CCK",number:"166"},{code2:"CO",code3:"COL",number:"170"},{code2:"KM",code3:"COM",number:"174"},{code2:"CD",code3:"COD",number:"180"},{code2:"CG",code3:"COG",number:"178"},{code2:"CK",code3:"COK",number:"184"},{code2:"CR",code3:"CRI",number:"188"},{code2:"HR",code3:"HRV",number:"191"},{code2:"CU",code3:"CUB",number:"192"},{code2:"CW",code3:"CUW",number:"531"},{code2:"CY",code3:"CYP",number:"196"},{code2:"CZ",code3:"CZE",number:"203"},{code2:"CI",code3:"CIV",number:"384"},{code2:"DK",code3:"DNK",number:"208"},{code2:"DJ",code3:"DJI",number:"262"},{code2:"DM",code3:"DMA",number:"212"},{code2:"DO",code3:"DOM",number:"214"},{code2:"EC",code3:"ECU",number:"218"},{code2:"EG",code3:"EGY",number:"818"},{code2:"SV",code3:"SLV",number:"222"},{code2:"GQ",code3:"GNQ",number:"226"},{code2:"ER",code3:"ERI",number:"232"},{code2:"EE",code3:"EST",number:"233"},{code2:"SZ",code3:"SWZ",number:"748"},{code2:"ET",code3:"ETH",number:"231"},{code2:"FK",code3:"FLK",number:"238"},{code2:"FO",code3:"FRO",number:"234"},{code2:"FJ",code3:"FJI",number:"242"},{code2:"FI",code3:"FIN",number:"246"},{code2:"FR",code3:"FRA",number:"250"},{code2:"GF",code3:"GUF",number:"254"},{code2:"PF",code3:"PYF",number:"258"},{code2:"TF",code3:"ATF",number:"260"},{code2:"GA",code3:"GAB",number:"266"},{code2:"GM",code3:"GMB",number:"270"},{code2:"GE",code3:"GEO",number:"268"},{code2:"DE",code3:"DEU",number:"276"},{code2:"GH",code3:"GHA",number:"288"},{code2:"GI",code3:"GIB",number:"292"},{code2:"GR",code3:"GRC",number:"300"},{code2:"GL",code3:"GRL",number:"304"},{code2:"GD",code3:"GRD",number:"308"},{code2:"GP",code3:"GLP",number:"312"},{code2:"GU",code3:"GUM",number:"316"},{code2:"GT",code3:"GTM",number:"320"},{code2:"GG",code3:"GGY",number:"831"},{code2:"GN",code3:"GIN",number:"324"},{code2:"GW",code3:"GNB",number:"624"},{code2:"GY",code3:"GUY",number:"328"},{code2:"HT",code3:"HTI",number:"332"},{code2:"HM",code3:"HMD",number:"334"},{code2:"VA",code3:"VAT",number:"336"},{code2:"HN",code3:"HND",number:"340"},{code2:"HK",code3:"HKG",number:"344"},{code2:"HU",code3:"HUN",number:"348"},{code2:"IS",code3:"ISL",number:"352"},{code2:"IN",code3:"IND",number:"356"},{code2:"ID",code3:"IDN",number:"360"},{code2:"IR",code3:"IRN",number:"364"},{code2:"IQ",code3:"IRQ",number:"368"},{code2:"IE",code3:"IRL",number:"372"},{code2:"IM",code3:"IMN",number:"833"},{code2:"IL",code3:"ISR",number:"376"},{code2:"IT",code3:"ITA",number:"380"},{code2:"JM",code3:"JAM",number:"388"},{code2:"JP",code3:"JPN",number:"392"},{code2:"JE",code3:"JEY",number:"832"},{code2:"JO",code3:"JOR",number:"400"},{code2:"KZ",code3:"KAZ",number:"398"},{code2:"KE",code3:"KEN",number:"404"},{code2:"KI",code3:"KIR",number:"296"},{code2:"KP",code3:"PRK",number:"408"},{code2:"KR",code3:"KOR",number:"410"},{code2:"KW",code3:"KWT",number:"414"},{code2:"KG",code3:"KGZ",number:"417"},{code2:"LA",code3:"LAO",number:"418"},{code2:"LV",code3:"LVA",number:"428"},{code2:"LB",code3:"LBN",number:"422"},{code2:"LS",code3:"LSO",number:"426"},{code2:"LR",code3:"LBR",number:"430"},{code2:"LY",code3:"LBY",number:"434"},{code2:"LI",code3:"LIE",number:"438"},{code2:"LT",code3:"LTU",number:"440"},{code2:"LU",code3:"LUX",number:"442"},{code2:"MO",code3:"MAC",number:"446"},{code2:"MG",code3:"MDG",number:"450"},{code2:"MW",code3:"MWI",number:"454"},{code2:"MY",code3:"MYS",number:"458"},{code2:"MV",code3:"MDV",number:"462"},{code2:"ML",code3:"MLI",number:"466"},{code2:"MT",code3:"MLT",number:"470"},{code2:"MH",code3:"MHL",number:"584"},{code2:"MQ",code3:"MTQ",number:"474"},{code2:"MR",code3:"MRT",number:"478"},{code2:"MU",code3:"MUS",number:"480"},{code2:"YT",code3:"MYT",number:"175"},{code2:"MX",code3:"MEX",number:"484"},{code2:"FM",code3:"FSM",number:"583"},{code2:"MD",code3:"MDA",number:"498"},{code2:"MC",code3:"MCO",number:"492"},{code2:"MN",code3:"MNG",number:"496"},{code2:"ME",code3:"MNE",number:"499"},{code2:"MS",code3:"MSR",number:"500"},{code2:"MA",code3:"MAR",number:"504"},{code2:"MZ",code3:"MOZ",number:"508"},{code2:"MM",code3:"MMR",number:"104"},{code2:"NA",code3:"NAM",number:"516"},{code2:"NR",code3:"NRU",number:"520"},{code2:"NP",code3:"NPL",number:"524"},{code2:"NL",code3:"NLD",number:"528"},{code2:"NC",code3:"NCL",number:"540"},{code2:"NZ",code3:"NZL",number:"554"},{code2:"NI",code3:"NIC",number:"558"},{code2:"NE",code3:"NER",number:"562"},{code2:"NG",code3:"NGA",number:"566"},{code2:"NU",code3:"NIU",number:"570"},{code2:"NF",code3:"NFK",number:"574"},{code2:"MP",code3:"MNP",number:"580"},{code2:"NO",code3:"NOR",number:"578"},{code2:"OM",code3:"OMN",number:"512"},{code2:"PK",code3:"PAK",number:"586"},{code2:"PW",code3:"PLW",number:"585"},{code2:"PS",code3:"PSE",number:"275"},{code2:"PA",code3:"PAN",number:"591"},{code2:"PG",code3:"PNG",number:"598"},{code2:"PY",code3:"PRY",number:"600"},{code2:"PE",code3:"PER",number:"604"},{code2:"PH",code3:"PHL",number:"608"},{code2:"PN",code3:"PCN",number:"612"},{code2:"PL",code3:"POL",number:"616"},{code2:"PT",code3:"PRT",number:"620"},{code2:"PR",code3:"PRI",number:"630"},{code2:"QA",code3:"QAT",number:"634"},{code2:"MK",code3:"MKD",number:"807"},{code2:"RO",code3:"ROU",number:"642"},{code2:"RU",code3:"RUS",number:"643"},{code2:"RW",code3:"RWA",number:"646"},{code2:"RE",code3:"REU",number:"638"},{code2:"BL",code3:"BLM",number:"652"},{code2:"SH",code3:"SHN",number:"654"},{code2:"KN",code3:"KNA",number:"659"},{code2:"LC",code3:"LCA",number:"662"},{code2:"MF",code3:"MAF",number:"663"},{code2:"PM",code3:"SPM",number:"666"},{code2:"VC",code3:"VCT",number:"670"},{code2:"WS",code3:"WSM",number:"882"},{code2:"SM",code3:"SMR",number:"674"},{code2:"ST",code3:"STP",number:"678"},{code2:"SA",code3:"SAU",number:"682"},{code2:"SN",code3:"SEN",number:"686"},{code2:"RS",code3:"SRB",number:"688"},{code2:"SC",code3:"SYC",number:"690"},{code2:"SL",code3:"SLE",number:"694"},{code2:"SG",code3:"SGP",number:"702"},{code2:"SX",code3:"SXM",number:"534"},{code2:"SK",code3:"SVK",number:"703"},{code2:"SI",code3:"SVN",number:"705"},{code2:"SB",code3:"SLB",number:"090"},{code2:"SO",code3:"SOM",number:"706"},{code2:"ZA",code3:"ZAF",number:"710"},{code2:"GS",code3:"SGS",number:"239"},{code2:"SS",code3:"SSD",number:"728"},{code2:"ES",code3:"ESP",number:"724"},{code2:"LK",code3:"LKA",number:"144"},{code2:"SD",code3:"SDN",number:"729"},{code2:"SR",code3:"SUR",number:"740"},{code2:"SJ",code3:"SJM",number:"744"},{code2:"SE",code3:"SWE",number:"752"},{code2:"CH",code3:"CHE",number:"756"},{code2:"SY",code3:"SYR",number:"760"},{code2:"TW",code3:"TWN",number:"158"},{code2:"TJ",code3:"TJK",number:"762"},{code2:"TZ",code3:"TZA",number:"834"},{code2:"TH",code3:"THA",number:"764"},{code2:"TL",code3:"TLS",number:"626"},{code2:"TG",code3:"TGO",number:"768"},{code2:"TK",code3:"TKL",number:"772"},{code2:"TO",code3:"TON",number:"776"},{code2:"TT",code3:"TTO",number:"780"},{code2:"TN",code3:"TUN",number:"788"},{code2:"TR",code3:"TUR",number:"792"},{code2:"TM",code3:"TKM",number:"795"},{code2:"TC",code3:"TCA",number:"796"},{code2:"TV",code3:"TUV",number:"798"},{code2:"UG",code3:"UGA",number:"800"},{code2:"UA",code3:"UKR",number:"804"},{code2:"AE",code3:"ARE",number:"784"},{code2:"GB",code3:"GBR",number:"826"},{code2:"UM",code3:"UMI",number:"581"},{code2:"US",code3:"USA",number:"840"},{code2:"UY",code3:"URY",number:"858"},{code2:"UZ",code3:"UZB",number:"860"},{code2:"VU",code3:"VUT",number:"548"},{code2:"VE",code3:"VEN",number:"862"},{code2:"VN",code3:"VNM",number:"704"},{code2:"VG",code3:"VGB",number:"092"},{code2:"VI",code3:"VIR",number:"850"},{code2:"WF",code3:"WLF",number:"876"},{code2:"EH",code3:"ESH",number:"732"},{code2:"YE",code3:"YEM",number:"887"},{code2:"ZM",code3:"ZMB",number:"894"},{code2:"ZW",code3:"ZWE",number:"716"},{code2:"AX",code3:"ALA",number:"248"}];t.COUNTRIES_ISO=c,t.isValidCountryCodeTranslation=function(e,t){var r=(0,o.getLocalizer)(e).polyglot;return s(t)&&r.has("nationalities.".concat(t))&&r.has("countries.".concat(t))};var u=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code3===t})};t.isCountryCodeAlpha3=u;var s=function(e){if(!e)return!1;var t=e.toUpperCase();return c.some(function(e){return e.code2===t})};t.isCountryCodeAlpha2=s,t.checkCountryCode=function(e){return s(e)||u(e)};var l=function(e){var t=(0,o.getLocalizer)(e).t;return c.map(function(e){return{code2:e.code2,code3:e.code3,number:e.number,name:t("countries.".concat(e.code2)),nationality:t("nationalities.".concat(e.code2))}})};t.getAllCountries=l;var d=function(e){return function(t){var r,n=null==e||null==(r=e.toString())?void 0:r.toUpperCase();return/^[A-Z]{2,3}$/.test(n)?t.code2===n||t.code3===n:!!/^\d+$/.test(n)&&t.number===n}};t.getCountryNameByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},r=l(t.lang).find(d(e));return r?r.name:(i.default.warn("Country with code ".concat(e," not found")),null)},t.getAllCountryNames=function(e){return l(e).map(function(e){return e.name})},t.getNationalityByCodeISO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"en"},r=l(t.lang).find(d(e));return r?r.nationality:(i.default.warn("Nationality with code ".concat(e," not found")),null)},t.getAllNationalities=function(e){return l(e).map(function(e){return e.nationality})},t.getEmojiByCountry=function(e){if(!e)return null;if(!/^[a-z]{2}$/i.test(e))return i.default.error("Country argument must be an ISO 3166-1 alpha-2 string, but got '".concat(JSON.stringify(e),"' instead.")),null;if(!c.find(function(t){return t.code2===e.toUpperCase()}))return i.default.error("Country with code ".concat(e," not found in the list of countries")),null;var t=(0,a.default)(e.toUpperCase()).map(function(e){return e.codePointAt(0)+127397});return String.fromCodePoint.apply(String,(0,a.default)(t))}},86717:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=void 0;for(var a=n(r(67436)),o=n(r(45383)),i=n(r(82356)),c={en:o.default,fr:i.default},u={},s=0,l=["fr","en"];s<l.length;s++){var d=l[s],f=new a.default;f.extend(c[d]),u[d]=f}t.getLocalizer=function(e){var t=u[e]||u.en;return{t:t.t.bind(t),polyglot:t,lang:e}}},1411:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAggregatesFromDACC=t.buildAggregateParams=t.sendMeasureToDACC=t.checkMeasureParams=t.isCorrectDateFormat=void 0;var i=o(r(30592)),c=o(r(93889)),u=o(r(40918));o(r(59201));var s=function(e){try{return!!new Date(Date.parse(e)).toISOString().startsWith(e)}catch(e){return!1}};t.isCorrectDateFormat=s;var l=function(e){var t=e.createdBy,r=e.measureName,n=e.startDate,a=e.value,o=e.group1,i=e.group2,c=e.group3;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: createdBy");if(!r||"string"!=typeof r)throw Error("Missing or wrong type parameter: measureName");if(!n)throw Error("Missing parameter: startDate");if(!s(n))throw Error("Date should be in YYYY-MM-DD format");if("number"!=typeof a)throw Error("Missing or wrong type parameter: value");if(o&&("object"!=typeof o||0===Object.keys(o).length)||i&&("object"!=typeof i||0===Object.keys(i).length)||c&&("object"!=typeof c||0===Object.keys(c).length))throw Error("Groups should be key-value objects");if(c&&(!i||!o)||i&&!o)throw Error("Group order must be respected")};t.checkMeasureParams=l,n=(0,c.default)(i.default.mark(function e(t,r,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(n),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(r),{data:JSON.stringify(n),path:"measure"});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,u.default)("error","Error while sending measure to remote doctype: ".concat(e.t0.message)),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,6]])})),t.sendMeasureToDACC=function(e,t,r){return n.apply(this,arguments)};var d=function(e){var t=e.measureName;if(!t||"string"!=typeof t)throw Error("Missing or wrong type parameter: measureName");var r=e.startDate||new Date(0).toISOString(),n=e.endDate||new Date(Date.now()).toISOString();if(!s(r)||!s(n))throw(0,u.default)("error","Date should be in YYYY-MM-DD format but received: startDate: ".concat(r," | endDate: ").concat(n)),Error("Date should be in YYYY-MM-DD format");return{measureName:t,startDate:r,endDate:n}};t.buildAggregateParams=d,a=(0,c.default)(i.default.mark(function e(t,r,n){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=d(n),e.next=4,t.getStackClient().fetchJSON("POST","/remote/".concat(r),{data:JSON.stringify(a),path:"aggregate"});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),(0,u.default)("error","Error while fetching aggregates to remote doctype: ".concat(e.t0.message)),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])})),t.fetchAggregatesFromDACC=function(e,t,r){return a.apply(this,arguments)}},40929:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconLabelPairs=t.THEME_OTHERS_LABELS=t.THEME_INVOICE_LABELS=t.THEME_FINANCE_LABELS=t.THEME_ACTIVITY_LABELS=t.THEME_TRANSPORT_LABELS=t.THEME_HOME_LABELS=t.THEME_HEALTH_LABELS=t.THEME_WORK_STUDY_LABELS=t.THEME_FAMILY_LABELS=t.THEME_IDENTITY_LABELS=void 0,t.THEME_IDENTITY_LABELS=["identity_photo","national_id_card","passport","residence_permit","electoral_card","family_record_book","birth_certificate","driver_license","citizen_registration_certificate","note_identity_document","other_identity_document"],t.THEME_FAMILY_LABELS=["family_record_book","birth_certificate","wedding","pacs","single_parent_benefit","divorce","large_family_card","caf","payment_proof_family_allowance","note_family_document","other_family_document","person_insurance"],t.THEME_WORK_STUDY_LABELS=["diploma","work_contract","pay_sheet","unemployment_benefit","employment_center_certificate","pension","work_disability_recognition","gradebook","student_card","school_attendance_certificate","school_insurance_certificate","resume","motivation_letter","expense_claim","note_work_document","other_work_document"],t.THEME_HEALTH_LABELS=["health_certificate","health_book","national_health_insurance_card","national_health_insurance_right_certificate","health_insurance_card","prescription","health_invoice","work_disability_recognition","pregnancy_medical_certificate","note_health_document","other_health_document"],t.THEME_HOME_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","other_invoice","work_invoice","house_sale_agreeement","building_permit","technical_diagnostic_record","unfit_for_habitation_declaration","lease","rent_receipt","accommodation_proof","house_insurance","work_quote","condition_report","note_house_document","other_house_document","real_estate_insurance"],t.THEME_TRANSPORT_LABELS=["driver_license","vehicle_registration","car_insurance","transport_card","mechanic_invoice","transport_invoice","note_transport_document","other_transport_document"],t.THEME_ACTIVITY_LABELS=["personal_sporting_licence","fidelity_card","note_activity_document","other_activity_document"],t.THEME_FINANCE_LABELS=["fine","tax_certificate","tax_return","tax_notice","tax_timetable","real_estate_tax","pay_sheet","receipt","single_parent_benefit","other_tax_document","bank_details","bank_statement","loan_agreement","payment_proof_family_allowance","note_finance","expense_claim","other_bank_document","other_revenue"],t.THEME_INVOICE_LABELS=["phone_invoice","isp_invoice","telecom_invoice","energy_invoice","water_invoice","appliance_invoice","web_service_invoice","restaurant_invoice","work_invoice","transport_invoice","health_invoice","note_invoice","expense_claim","energy_contract","grocery_invoice","other_invoice"],t.THEME_OTHERS_LABELS=["other_administrative_document"],t.iconLabelPairs=[{icon:"bank-check",labels:["bank_details"]},{icon:"bank",labels:["other_administrative_document","other_tax_document","real_estate_tax","tax_certificate","tax_notice","tax_return","tax_timetable"]},{icon:"benefit",labels:["loan_agreement","other_revenue","pay_sheet","payment_proof_family_allowance","pension"]},{icon:"bill",labels:["other_invoice"]},{icon:"car",labels:["car_insurance","driver_license","other_transport_document","transport_card","transport_invoice","vehicle_registration"]},{icon:"child",labels:["birth_certificate"]},{icon:"email",labels:["receipt"]},{icon:"euro",labels:["other_bank_document"]},{icon:"exchange",labels:["bank_statement"]},{icon:"file-type-note",labels:["note_activity_document","note_family_document","note_finance","note_health_document","note_house_document","note_identity_document","note_invoice","note_transport_document","note_work_document"]},{icon:"fitness",labels:["other_activity_document","personal_sporting_licence"]},{icon:"globe",labels:["residence_permit"]},{icon:"gouv",labels:["electoral_card"]},{icon:"heart",labels:["health_book","health_certificate","health_insurance_card","health_invoice","national_health_insurance_card","national_health_insurance_right_certificate","other_health_document","person_insurance","pregnancy_medical_certificate","prescription"]},{icon:"home",labels:["accommodation_proof","building_permit","condition_report","house_insurance","house_sale_agreeement","lease","mechanic_invoice","other_house_document","real_estate_insurance","rent_receipt","technical_diagnostic_record","unfit_for_habitation_declaration","work_invoice","work_quote"]},{icon:"image",labels:["identity_photo"]},{icon:"justice",labels:["fine"]},{icon:"laudry",labels:["appliance_invoice"]},{icon:"lightning",labels:["energy_contract","energy_invoice"]},{icon:"people",labels:["national_id_card","other_identity_document","resume","work_disability_recognition"]},{icon:"plane",labels:["passport"]},{icon:"remboursement",labels:["expense_claim"]},{icon:"restaurant",labels:["restaurant_invoice"]},{icon:"school",labels:["diploma","gradebook"]},{icon:"shop",labels:["fidelity_card","grocery_invoice"]},{icon:"team",labels:["caf","citizen_registration_certificate","divorce","family_record_book","large_family_card","other_family_document","pacs","single_parent_benefit","wedding"]},{icon:"telecom",labels:["isp_invoice","telecom_invoice","web_service_invoice"]},{icon:"telephone",labels:["phone_invoice"]},{icon:"water",labels:["water_invoice"]},{icon:"work",labels:["employment_center_certificate","motivation_letter","other_work_document","school_attendance_certificate","school_insurance_certificate","student_card","unemployment_benefit","work_contract"]}]},62439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themesList=void 0;var n=r(40929),a=r(6905),o=function(e){return e.map(function(e){try{return a.Qualification.getByLabel(e)}catch(e){return console.log("error",e),null}}).filter(function(e){return e})};t.themesList=[{id:"theme1",label:"identity",icon:"people",items:o(n.THEME_IDENTITY_LABELS),defaultItems:["birth_certificate"]},{id:"theme2",label:"family",icon:"team",items:o(n.THEME_FAMILY_LABELS),defaultItems:["family_record_book"]},{id:"theme3",label:"work_study",icon:"work",items:o(n.THEME_WORK_STUDY_LABELS)},{id:"theme4",label:"health",icon:"heart",items:o(n.THEME_HEALTH_LABELS)},{id:"theme5",label:"home",icon:"home",items:o(n.THEME_HOME_LABELS)},{id:"theme6",label:"transport",icon:"car",items:o(n.THEME_TRANSPORT_LABELS),defaultItems:["driver_license"]},{id:"theme7",label:"activity",icon:"chess",items:o(n.THEME_ACTIVITY_LABELS)},{id:"theme8",label:"finance",icon:"bank",items:o(n.THEME_FINANCE_LABELS)},{id:"theme9",label:"invoice",icon:"bill",items:o(n.THEME_INVOICE_LABELS)},{id:"theme10",label:"others",icon:"dots",items:o(n.THEME_OTHERS_LABELS)}]},30458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQualificationNote=t.getThemeByItem=void 0;var n=r(62439);t.getThemeByItem=function(e){var t=n.themesList.find(function(t){return t.defaultItems&&t.defaultItems.includes(e.label)});return t||n.themesList.find(function(t){return t.items.some(function(t){return t.label===e.label})})},t.isQualificationNote=function(e){return e.label.toLowerCase().startsWith("note_")}},88828:function(e,t,r){"use strict";var n=r(78965);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Qualification",{enumerable:!0,get:function(){return a.Qualification}}),Object.defineProperty(t,"setQualification",{enumerable:!0,get:function(){return a.setQualification}}),Object.defineProperty(t,"getQualification",{enumerable:!0,get:function(){return a.getQualification}}),t.helpers=t.themes=t.locales=void 0;var a=r(6905);t.locales=n(r(91944)),t.themes=n(r(62439)),t.helpers=n(r(30458))},91944:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizer=t.getBoundT=void 0;var a=n(r(76729)),o=n(r(67436)),i=n(r(96100)),c=n(r(23967)),u=r(1875);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}for(var d={en:i.default,fr:c.default},f={},p=0,h=["fr","en"];p<h.length;p++){var m=h[p],v=new o.default;v.extend(d[m]),f[m]=v}t.getBoundT=function(e){var t=y(e);return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(l({},r),{},{smart_count:(null==r?void 0:r.smart_count)||1}),a=null==r?void 0:r.country,o="foreign"!==a?(0,u.getEmojiByCountry)(a):null,i="foreign"===a?t("country.foreign"):null;return o||i?"".concat(t(e,n)," ").concat(o||i):t(e,n)}};var y=function(e){var t=f[e]||f.en;return t.t.bind(t)};t.getLocalizer=y},6905:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasSupportedQualification=t.isSupportedQualification=t.getIconByLabel=t.getQualification=t.setQualification=t.Qualification=void 0;var o=a(r(76729)),i=a(r(92115)),c=a(r(47783)),u=a(r(63560)),s=a(r(66245)),l=n(r(51996)),d=a(r(87925)),f=r(40929);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,e);var n=l.qualifications.find(function(e){return e.label===t});if(n){this.icon=r.icon||y(t),this.label=n.label;var a=r.purpose||n.purpose;a&&(this.purpose=a);var o=r.sourceCategory||n.sourceCategory;o&&(this.sourceCategory=o);var c=r.sourceSubCategory||n.sourceSubCategory;c&&(this.sourceSubCategory=c);var u=r.subjects||n.subjects;u&&(this.subjects=u)}else throw Error("No qualification found for the label ".concat(t))}return(0,c.default)(e,[{key:"checkAttributes",value:function(e){if(this.purpose!==e.purpose)if(this.purpose)throw Error("The purpose for the label ".concat(this.label," should be ").concat(this.purpose,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.purposeKnownValues.includes(e.purpose)||d.default.info("This purpose is not listed among the known values: ".concat(e.purpose,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceCategory!==e.sourceCategory)if(this.sourceCategory)throw Error("The sourceCategory for the label ".concat(this.label," should be ").concat(this.sourceCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceCategoryKnownValues.includes(e.sourceCategory)||d.default.info("This sourceCategory is not listed among the known values: ".concat(e.sourceCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if(this.sourceSubCategory!==e.sourceSubCategory)if(this.sourceSubCategory)throw Error("The sourceSubCategory for the label ".concat(this.label," should be ").concat(this.sourceSubCategory,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");else l.sourceSubCategoryKnownValues.includes(e.sourceSubCategory)||d.default.info("This sourceSubCategory is not listed among the known values: ".concat(e.sourceSubCategory,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues");if((0,s.default)(this.subjects,e.subjects).length>0)throw Error("The subjects for the label ".concat(this.label," should include ").concat(this.subjects,". ")+"Please use this or open an issue on https://github.com/cozy/cozy-client/issues");var t=(0,s.default)(e.subjects,this.subjects);if(t.length>0){var r=(0,s.default)(t,l.subjectsKnownValues);r.length>0&&d.default.info("These subjects are not listed among the known values: ".concat(r,". ")+"Please open an issue on https://github.com/cozy/cozy-client/issues")}}},{key:"setPurpose",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{purpose:t}))}},{key:"setSourceCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceCategory:t}))}},{key:"setSourceSubCategory",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{sourceSubCategory:t}))}},{key:"setSubjects",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{subjects:t}))}},{key:"setIcon",value:function(t){return new e(this.label,m(m({},this.toQualification()),{},{icon:t}))}},{key:"toQualification",value:function(){return{icon:this.icon,label:this.label,purpose:this.purpose,sourceCategory:this.sourceCategory,sourceSubCategory:this.sourceSubCategory,subjects:this.subjects}}}]),e}();t.Qualification=v,v.getByLabel=function(e){return new v(e)},t.setQualification=function(e,t){if(t.label){var r=t;return new v(t.label).checkAttributes(t),t.icon||(r=new v(t.label,t).setIcon(y(t.label))),(0,u.default)(e,"metadata.qualification",r)}throw Error("You must set a label to qualify")},t.getQualification=function(e){var t,r=null==e||null==(t=e.metadata)?void 0:t.qualification;return r?new v(r.label,r.qualification).toQualification():null};var y=function(e){var t,r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(f.iconLabelPairs);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.labels.includes(e))return n.icon}}catch(e){r.e(e)}finally{r.f()}return d.default.info("The ".concat(e," qualification does not seem to have an icon.\n    Please open an issue on https://github.com/cozy/cozy-client/issues")),""};t.getIconByLabel=y;var b=function(e){return l.qualifications.some(function(t){return t.label===e})};t.isSupportedQualification=b,t.hasSupportedQualification=function(e){var t,r;return b(null==e||null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label)}},60400:function(e,t,r){"use strict";var n,a,o,i,c,u,s,l,d,f,p,h=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=function(e){var t=e._id||e.id;return A({_id:t,id:t,_type:e._type||E.DOCTYPE_FILES},e)},t.ensureFilePath=function(e,t){if(e.path)return e;if(!t||!t.path)throw Error("Could not define a file path for ".concat(e._id||e.id));return A({path:t.path+"/"+e.name},e)},t.getParentFolderId=function(e){var t=(0,g.default)(e,"attributes.dir_id");return""===t?null:t},t.downloadFile=t.copy=t.fetchBlobFileById=t.isFromKonnector=t.hasCertifications=t.hasQualifications=t.isPlainText=t.doMobileUpload=t.readMobileFile=t.uploadFileWithConflictStrategy=t.generateFileNameForRevision=t.generateNewFileNameOnConflict=t.overrideFileForPath=t.move=t.getFullpath=t.hasMetadataAttribute=t.fetchFilesByQualificationRules=t.saveFileQualification=t.isSharingShorcutNew=t.isSharingShortcutNew=t.isSharingShorcut=t.isSharingShortcut=t.getSharingShortcutTargetDoctype=t.getSharingShortcutTargetMime=t.getSharingShortcutStatus=t.isShortcut=t.shouldBeOpenedByOnlyOffice=t.isOnlyOfficeFile=t.isEncryptedFileOrFolder=t.isEncryptedFolder=t.getEncryptiondRef=t.isEncrypted=t.isNote=t.isDirectory=t.isFile=t.splitFilename=t.ALBUMS_DOCTYPE=void 0;var m=h(r(30592)),v=h(r(93889)),y=h(r(76729)),b=r(7127),g=h(r(58156)),_=h(r(85015)),w=h(r(61448)),k=h(r(31521)),O=r(6905),x=r(31201),E=r(58494);h(r(59201));var C=h(r(87925));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,y.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P="file";t.ALBUMS_DOCTYPE="io.cozy.photos.albums";var M=/(.+)(\..*)$/,j=function(e){if(!(0,_.default)(e.name))throw Error("file should have a name property");if("file"===e.type){var t=e.name.match(M);if(t)return{filename:t[1],extension:t[2]}}return{filename:e.name,extension:""}};t.splitFilename=j;var D=function(e){return e&&e.type===P};t.isFile=D,t.isDirectory=function(e){return e&&"directory"===e.type};var T=function(e){return!!(e&&e.name&&e.name.endsWith(".cozy-note"))&&e.type===P&&!!e.metadata&&void 0!==e.metadata.title&&void 0!==e.metadata.version};t.isNote=T;var I=function(e){return!!e.encrypted};t.isEncrypted=I;var R=function(e){return(0,g.default)(e,"referenced_by",[]).find(function(e){return e.type===E.DOCTYPE_FILES_ENCRYPTION})};t.getEncryptiondRef=R;var N=function(e){return!!R(e)};t.isEncryptedFolder=N,t.isEncryptedFileOrFolder=function(e){return N(e)||I(e)};var L=function(e){return D(e)&&!T(e)&&("text"===e.class||"spreadsheet"===e.class||"slide"===e.class)};t.isOnlyOfficeFile=L,t.shouldBeOpenedByOnlyOffice=function(e){return L(e)&&!e.name.endsWith(".txt")&&!e.name.endsWith(".md")},t.isShortcut=function(e){return e&&"shortcut"===e.class};var F=function(e){return(0,g.default)(e,"metadata.sharing.status")};t.getSharingShortcutStatus=F,t.getSharingShortcutTargetMime=function(e){return(0,g.default)(e,"metadata.target.mime")},t.getSharingShortcutTargetDoctype=function(e){return(0,g.default)(e,"metadata.target._type")};var B=function(e){return!!F(e)};t.isSharingShortcut=B,t.isSharingShorcut=function(e){return C.default.warn("Deprecation: `isSharingShorcut` is deprecated, please use `isSharingShortcut` instead"),B(e)};var z=function(e){return"new"===F(e)};t.isSharingShortcutNew=z,t.isSharingShorcutNew=function(e){return C.default.warn("Deprecation: `isSharingShorcutNew` is deprecated, please use `isSharingShortcutNew` instead"),z(e)},n=(0,v.default)(m.default.mark(function e(t,r,n){var a;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,O.setQualification)(r,n),e.abrupt("return",t.collection(E.DOCTYPE_FILES).updateMetadataAttribute(r._id,a.metadata));case 2:case"end":return e.stop()}},e)})),t.saveFileQualification=function(e,t,r){return n.apply(this,arguments)},a=(0,v.default)(m.default.mark(function e(t,r){var n,a,o,i;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rules,a=r.count,o=(0,x.Q)(E.DOCTYPE_FILES).where(A({},n)).partialIndex({trashed:!1}).indexFields(["cozyMetadata.updatedAt","metadata.qualification"]).sortBy([{"cozyMetadata.updatedAt":"desc"}]).limitBy(a||1),e.next=4,t.query(o);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)})),t.fetchFilesByQualificationRules=function(e,t){return a.apply(this,arguments)},t.hasMetadataAttribute=function(e){var t=e.file,r=e.attribute;return(0,w.default)(t,"metadata.".concat(r))};var H=(o=(0,v.default)(m.default.mark(function e(t,r,n){var a,o;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw Error("You must provide a dirId");case 2:return e.next=4,t.query((0,x.Q)(E.DOCTYPE_FILES).getById(r));case 4:return a=e.sent.data,o=(0,k.default)(a.path,"/"),e.abrupt("return","".concat(o,"/").concat(n));case 8:case"end":return e.stop()}},e)})),function(e,t,r){return o.apply(this,arguments)});t.getFullpath=H,i=(0,v.default)(m.default.mark(function e(t,r,n){var a,o,i,c,u,s=arguments;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(s.length>3&&void 0!==s[3]?s[3]:{force:!1}).force,e.prev=1,"io.cozy.remote.nextcloud.files"!==r._type){e.next=10;break}if("io.cozy.remote.nextcloud.files"!==n._type){e.next=7;break}return e.next=6,t.collection("io.cozy.remote.nextcloud.files").move(r,n);case 6:case 9:case 13:return e.abrupt("return",{moved:void 0,deleted:null});case 7:return e.next=9,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(r,n);case 10:if("io.cozy.remote.nextcloud.files"!==n._type){e.next=14;break}return e.next=13,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(n,r);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return e.prev=19,e.next=22,t.collection(E.DOCTYPE_FILES).updateFileMetadata(r._id,{dir_id:n._id});case 22:return o=e.sent,e.abrupt("return",{moved:o.data,deleted:null});case 26:if(e.prev=26,e.t1=e.catch(19),!(409===e.t1.status&&a)){e.next=43;break}return e.next=31,H(t,n._id,r.name);case 31:return i=e.sent,e.next=34,t.collection(E.DOCTYPE_FILES).statByPath(i);case 34:return c=e.sent,e.next=37,t.collection(E.DOCTYPE_FILES).destroy(c.data);case 37:return e.next=39,t.collection(E.DOCTYPE_FILES).updateFileMetadata(r._id,{dir_id:n._id});case 39:return u=e.sent,e.abrupt("return",{moved:u.data,deleted:c.data.id});case 43:throw e.t1;case 44:case"end":return e.stop()}},e,null,[[1,16],[19,26]])})),t.move=function(e,t,r){return i.apply(this,arguments)},c=(0,v.default)(m.default.mark(function e(t,r,n,a){var o,i,c,u,s,l,d,f;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=r).endsWith("/")||(o+="/"),i=t.collection(E.DOCTYPE_FILES),e.prev=3,e.next=6,i.statByPath(o+n.name);case 6:return u=(c=e.sent.data).id,s=c.dir_id,e.next=10,i.updateFile(n,{dirId:s,fileId:u,metadata:a});case 10:return l=e.sent,e.abrupt("return",l);case 14:if(e.prev=14,e.t0=e.catch(3),!/Not Found/.test(e.t0)){e.next=24;break}return e.next=19,i.ensureDirectoryExists(o);case 19:return d=e.sent,e.next=22,i.createFile(n,{dirId:d,metadata:a});case 22:return f=e.sent,e.abrupt("return",f);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,null,[[3,14]])})),t.overrideFileForPath=function(e,t,r,n){return c.apply(this,arguments)};var U=function(e,t){var r=(null==t?void 0:t.delimiter)||"_",n=new RegExp("(".concat(r,")([0-9]+)$")),a=e.match(n);if(!a)return"".concat(e).concat(r,"1");var o=parseInt(a[2]);return o++,e.replace(new RegExp("(".concat(r,")([0-9]+)$")),"".concat(r).concat(o))};t.generateNewFileNameOnConflict=U,t.generateFileNameForRevision=function(e,t,r){var n=j(e),a=n.filename,o=n.extension;return"".concat(a,"_").concat(r(t.updated_at,"DD MMMM - HH[h]mm")).concat(o)};var V=(u=(0,v.default)(m.default.mark(function e(t,r,n){var a,o,i,c,u,s,l,d,f,p,h;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,o=n.dirId,i=n.conflictStrategy,c=n.conflictOptions,e.prev=1,e.next=4,H(t,o,a);case 4:return u=e.sent,e.next=7,t.collection(E.DOCTYPE_FILES).statByPath(u);case 7:if(s=e.sent.data.id,"erase"!==i){e.next=16;break}return e.next=12,t.collection(E.DOCTYPE_FILES).updateFile(r,A(A({},n),{},{fileId:s}));case 12:return l=e.sent,e.abrupt("return",l);case 16:return f=(d=j({name:a,type:"file"})).filename,p=d.extension,h=U(f,c)+p,e.abrupt("return",V(t,r,A(A({},n),{},{name:h})));case 19:e.next=26;break;case 21:if(e.prev=21,e.t0=e.catch(1),!/Not Found/.test(e.t0.message)){e.next=25;break}return e.abrupt("return",t.collection(E.DOCTYPE_FILES).createFile(r,n));case 25:throw e.t0;case 26:case"end":return e.stop()}},e,null,[[1,21]])})),function(e,t,r){return u.apply(this,arguments)});t.uploadFileWithConflictStrategy=V;var Z=(s=(0,v.default)(m.default.mark(function e(t){var r;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise(function(e,r){var n=function(){var t=(0,v.default)(m.default.mark(function t(n){return m.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.file(function(){var t=(0,v.default)(m.default.mark(function t(r){var n;return m.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=new FileReader).onloadend=(0,v.default)(m.default.mark(function t(){return m.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(n.result);case 1:case"end":return t.stop()}},t)})),n.readAsArrayBuffer(r);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(e){console.error("error getting fileentry file!"+e),r(e)});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a=function(e){r(e)};window.resolveLocalFileSystemURL(t,n,a)}),e.abrupt("return",r);case 2:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});t.readMobileFile=Z,l=(0,v.default)(m.default.mark(function e(t,r,n){var a;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r);case 2:return a=e.sent,e.abrupt("return",V(t,a,n));case 4:case"end":return e.stop()}},e)})),t.doMobileUpload=function(e,t,r){return l.apply(this,arguments)},t.isPlainText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?/^text\//.test(e):/\.(txt|md)$/.test(t)},t.hasQualifications=function(e){return!!(0,g.default)(e,"metadata.qualification")},t.hasCertifications=function(e){return(0,g.default)(e,"metadata.carbonCopy",!1)||(0,g.default)(e,"metadata.electronicSafe",!1)},t.isFromKonnector=function(e){return(0,w.default)(e,"cozyMetadata.sourceAccount")},d=(0,v.default)(m.default.mark(function e(t,r){var n,a,o;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection(E.DOCTYPE_FILES),e.next=3,n.fetchFileContentById(r);case 3:return a=e.sent,e.next=6,a.blob();case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e)})),t.fetchBlobFileById=function(e,t){return d.apply(this,arguments)},f=(0,v.default)(m.default.mark(function e(t,r,n){var a,o,i,c;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"io.cozy.remote.nextcloud.files"!==r._type||"io.cozy.remote.nextcloud.files"!==n._type){e.next=6;break}return e.next=4,t.collection("io.cozy.remote.nextcloud.files").copy(r,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:if("io.cozy.remote.nextcloud.files"!==r._type||"io.cozy.files"!==n._type){e.next=11;break}return e.next=9,t.collection("io.cozy.remote.nextcloud.files").moveToCozy(r,n,{copy:!0});case 9:return o=e.sent,e.abrupt("return",o);case 11:if("io.cozy.remote.nextcloud.files"!==n._type){e.next=16;break}return e.next=14,t.collection("io.cozy.remote.nextcloud.files").moveFromCozy(n,r,{copy:!0});case 14:return i=e.sent,e.abrupt("return",i);case 16:return e.next=18,t.collection(E.DOCTYPE_FILES).copy(r._id,void 0,n._id);case 18:return c=e.sent,e.abrupt("return",c);case 22:throw e.prev=22,e.t0=e.catch(0),e.t0;case 25:case"end":return e.stop()}},e,null,[[0,22]])})),t.copy=function(e,t,r){return f.apply(this,arguments)},p=(0,v.default)(m.default.mark(function e(t){var r,n,a,o,i,c;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.file,a=t.url,o=t.webviewIntent,i=r.collection(E.DOCTYPE_FILES),!((0,b.isFlagshipApp)()&&o&&!I(n))){e.next=19;break}return e.next=5,null==o?void 0:o.call("isAvailable","downloadFile");case 5:if(e.t1=c=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==c;case 9:if(!e.t0){e.next=13;break}e.t2=c,e.next=14;break;case 13:e.t2=!1;case 14:if(!e.t2){e.next=19;break}return e.next=18,o.call("downloadFile",n);case 18:return e.abrupt("return",e.sent);case 19:if(!I(n)){e.next=21;break}return e.abrupt("return",i.forceFileDownload(a,n.name));case 21:return e.abrupt("return",i.download(n));case 22:case"end":return e.stop()}},e)})),t.downloadFile=function(e){return p.apply(this,arguments)}},56006:function(e,t,r){"use strict";var n,a,o,i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getReferencedFolder=t.createFolderWithReference=t.ensureMagicFolder=t.MAGIC_FOLDERS=void 0;var c=i(r(30592)),u=i(r(93889)),s=i(r(33031));i(r(59201));var l=r(58494),d=r(31201),f="io.cozy.apps",p="administrative",h="photos",m={ADMINISTRATIVE:"".concat(f,"/").concat(p),PHOTOS:"".concat(f,"/").concat(h),PHOTOS_BACKUP:"".concat(f,"/").concat(h,"/mobile"),PHOTOS_UPLOAD:"".concat(f,"/").concat(h,"/upload"),NOTES:"".concat(f,"/notes"),HOME:"".concat(f,"/home"),PAPERS:"".concat(f,"/").concat(p,"/papers"),COACH_CO2:"".concat(f,"/").concat(p,"/coachco2")};t.MAGIC_FOLDERS=m,n=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={_type:f,_id:r},e.next=3,y(t,a);case 3:if(!(o=e.sent)){e.next=6;break}return e.abrupt("return",o);case 6:if((i=Object.values(m)).includes(r)){e.next=9;break}throw Error("Cannot create Magic folder with id ".concat(r,". Allowed values are ").concat(i.join(", "),"."));case 9:if(n){e.next=11;break}throw Error("Magic folder default path must be defined");case 11:return e.abrupt("return",v(t,n,a));case 12:case"end":return e.stop()}},e)})),t.ensureMagicFolder=function(e,t,r){return n.apply(this,arguments)};var v=(a=(0,u.default)(c.default.mark(function e(t,r,n){var a,o,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(l.DOCTYPE_FILES),e.next=3,a.ensureDirectoryExists(r);case 3:return o=e.sent,e.next=6,a.addReferencesTo(n,[{_id:o}]);case 6:return e.next=8,a.get(o);case 8:return i=e.sent.data,e.abrupt("return",i);case 11:case"end":return e.stop()}},e)})),function(e,t,r){return a.apply(this,arguments)});t.createFolderWithReference=v;var y=(o=(0,u.default)(c.default.mark(function e(t,r){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query((0,d.Q)(l.DOCTYPE_FILES).partialIndex({type:"directory",trashed:!1}).referencedBy(r));case 2:return n=e.sent.included,e.abrupt("return",n.length>0?(0,s.default)(n,"created_at").pop():null);case 5:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)});t.getReferencedFolder=y},25893:function(e,t){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.deltaLatitude=t.deltaLongitude=t.computeSphericalCenter=t.geodesicDistance=t.computeSpeed=void 0,t.computeSpeed=function(e,t){return e&&t?Math.round(e/t*100)/100:0};var n=function(e){return e*Math.PI/180},a=function(e){return 180*e/Math.PI},o=function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r};t.geodesicDistance=function(e,t){if((null==e?void 0:e.lon)===void 0||(null==e?void 0:e.lat)===void 0||(null==t?void 0:t.lon)===void 0||(null==t?void 0:t.lat)===void 0)return null;var r=n(e.lon),a=n(e.lat),i=n(t.lon),c=n(t.lat);return o(6378137*(2*Math.asin(Math.sqrt(Math.pow(Math.sin((c-a)/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin((i-r)/2),2)))),2)},t.computeSphericalCenter=function(e){if(e.length<1)return null;if(1===e.length)return e[0];var t,i=0,c=0,u=0,s=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,c=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(u)throw i}}}}(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,d=n(l.lon),f=n(l.lat),p=Math.cos(f)*Math.cos(d),h=Math.cos(f)*Math.sin(d),m=Math.sin(f);i+=p,c+=h,u+=m}}catch(e){s.e(e)}finally{s.f()}var v=i/e.length,y=c/e.length,b=u/e.length,g=a(Math.atan2(y,v));return{lat:o(a(Math.atan2(b,Math.sqrt(v*v+y*y))),13),lon:o(g,13)}},t.deltaLongitude=function(e,t){return o(a(t/(6378137*Math.cos(n(e)))),13)},t.deltaLatitude=function(e){return o(e/(40075e3/360),13)}},3584:function(e,t,r){"use strict";var n=r(78965);Object.defineProperty(t,"__esModule",{value:!0}),t.geo=t.user=t.paper=t.dacc=t.sharing=t.timeseries=t.document=t.contact=t.utils=t.permission=t.note=t.account=t.konnectorFolder=t.folder=t.file=t.applications=t.instance=t.trigger=t.accounts=t.triggers=void 0;var a=n(r(35056));t.trigger=a,t.instance=n(r(50357)),t.applications=n(r(83077)),t.file=n(r(60400)),t.folder=n(r(56006)),t.konnectorFolder=n(r(49619));var o=n(r(9499));t.account=o,t.note=n(r(52254)),t.permission=n(r(77957)),t.utils=n(r(90969)),t.contact=n(r(5840)),t.document=n(r(88828)),t.timeseries=n(r(47314)),t.sharing=n(r(29312)),t.dacc=n(r(1411)),t.paper=n(r(57698)),t.user=n(r(27141)),t.geo=n(r(25893)),t.triggers=a,t.accounts=o},50357:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeDiskInfos=t.hasPasswordDefinedAttribute=t.buildPremiumLink=t.hasAnOffer=t.shouldDisplayOffers=t.getUuid=t.isFreemiumUser=t.arePremiumLinksEnabled=t.isSelfHosted=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(58156)),u=r(31201),s=function(e){return!(0,c.default)(e,"context.data.manager_url")};t.isSelfHosted=s;var l=function(e){return!!(0,c.default)(e,"context.data.enable_premium_links")};t.arePremiumLinksEnabled=l;var d=function(e){return 5e10>=parseInt((0,c.default)(e,"diskUsage.data.quota",!1))};t.isFreemiumUser=d;var f=function(e){return(0,c.default)(e,"instance.data.uuid")};t.getUuid=f,t.shouldDisplayOffers=function(e){return!s(e)&&l(e)&&f(e)&&d(e)},t.hasAnOffer=function(e){return!s(e)&&l(e)&&f(e)&&!d(e)},t.buildPremiumLink=function(e){var t=(0,c.default)(e,"context.data.manager_url",!1),r=f(e);return t&&r?"".concat(t,"/cozy/instances/").concat(r,"/premium"):null},n=(0,i.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchQueryAndGetFromState({definition:(0,u.Q)("io.cozy.settings").getById("io.cozy.settings.instance"),options:{as:"io.cozy.settings/io.cozy.settings.instance",singleDocData:!0}});case 3:return r=e.sent.data.password_defined,e.abrupt("return",!!r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),t.hasPasswordDefinedAttribute=function(e){return n.apply(this,arguments)};var p=function(e){return 1e-9*e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e%1?e.toFixed(t):e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return{diskQuota:p(t),diskUsage:p(e),percentUsage:e/t*100}};t.makeDiskInfos=function(e,t){var r=m(+e,t?+t:void 0),n=r.diskQuota,a=r.diskUsage,o=r.percentUsage;return{humanDiskQuota:h(n),humanDiskUsage:h(a),percentUsage:Math.round(o).toString()}}},49619:function(e,t,r){"use strict";var n,a,o,i,c,u,s,l=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.findKonnectorAccountFolderByReference=t.buildFolderPermission=t.buildMainFolderPath=t.buildFolderPath=t.statDirectoryByPath=t.createDirectoryByPath=t.ensureKonnectorFolder=void 0;var d=l(r(30592)),f=l(r(13135)),p=l(r(93889)),h=r(56006);l(r(59201));var m=r(9499),v=r(91944),y=r(31201),b="io.cozy.files";n=(0,p.default)(d.default.mark(function e(t,r){var n,a,o,i,c,u,s,l,p,y,b,O,x,E,C;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.konnector,a=r.account,o=r.lang,i=t.collection("io.cozy.permissions"),c=(0,v.getLocalizer)(o),e.next=5,Promise.all([(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.ADMINISTRATIVE,c("MagicFolders.administrative")),(0,h.ensureMagicFolder)(t,h.MAGIC_FOLDERS.PHOTOS,c("MagicFolders.photos"))]);case 5:return u=e.sent,l=(s=(0,f.default)(u,2))[0],p=s[1],y=(0,m.getAccountName)(a),e.next=12,R({client:t,slug:n.slug,sourceAccountIdentifier:y});case 12:if(!(b=e.sent)){e.next=15;break}return e.abrupt("return",b);case 15:return e.next=17,N({client:t,slug:n.slug});case 17:if(!(O=e.sent)){e.next=22;break}return e.next=21,function(e){return L.apply(this,arguments)}({client:t,mainFolder:O,konnector:n,sourceAccountIdentifier:y});case 21:return e.abrupt("return",e.sent);case 22:return x=k(n,{administrative:l.path,photos:p.path}),e.next=25,_(t,x);case 25:if(e.t0=e.sent,e.t0){e.next=30;break}return e.next=29,g(t,x);case 29:e.t0=e.sent;case 30:return T({client:t,folder:e.t0,konnector:n}),E=w(n,a,{administrative:l.path,photos:p.path}),e.next=35,_(t,E);case 35:if(e.t1=e.sent,e.t1){e.next=40;break}return e.next=39,g(t,E);case 39:e.t1=e.sent;case 40:return C=e.t1,e.next=43,Promise.all([i.add(n,P(C)),T({client:t,folder:C,konnector:n}),I({client:t,folder:C,sourceAccountIdentifier:y})]);case 43:return e.abrupt("return",C);case 44:case"end":return e.stop()}},e)})),t.ensureKonnectorFolder=function(e,t){return n.apply(this,arguments)};var g=(a=(0,p.default)(d.default.mark(function e(t,r){var n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(b).createDirectoryByPath(r);case 2:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)});t.createDirectoryByPath=g;var _=(o=(0,p.default)(d.default.mark(function e(t,r){var n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection(b).statByPath(r);case 3:if(!(n=e.sent).data.trashed){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",n.data);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0&&404===e.t0.status)){e.next=13;break}return e.abrupt("return",null);case 13:throw Error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t){return o.apply(this,arguments)});t.statDirectoryByPath=_;var w=function(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=M(((null==e||null==(r=e.folders)||null==(n=r[0])?void 0:n.defaultDir)||"$administrative/$konnector/$account").replace(/(\/+)/g,"/"),"/");O(o)||(o="$administrative/"+o);var i=o.split("/",1),c=E(o,i[0]),u=C(i[0],a),s=S(c,{konnector:e.name,account:(0,m.getAccountName)(t).replace(A,"-")});return"/".concat(u,"/").concat(s)};t.buildFolderPath=w;var k=function(e){var t,r,n,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=M(((null==e||null==(t=e.folders)||null==(r=t[0])||null==(n=r.defaultDir)||null==(a=n.split("/"))||null==(o=a.slice(0,-1))?void 0:o.join("/"))||"$administrative/$konnector").replace(/(\/+)/g,"/"),"/");O(c)||(c="$administrative/"+c);var u=c.split("/",1),s=E(c,u[0]),l=C(u[0],i),d=S(s,{konnector:e.name});return"/".concat(l,"/").concat(d)};t.buildMainFolderPath=k;var O=function(e){return x.some(function(t){return e.startsWith(t)})},x=["$administrative","$photos"],E=function(e,t){var r=e.substring(t.length);return""===r&&(r="$konnector/$account"),r},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M((t[e.slice(1)]||"Administrative").replace(/(\/+)/g,"/"),"/")},S=function(e,t){return M(e.replace(/(\/+)/g,"/"),"/").split("/").map(function(e){return(null==t?void 0:t[e.slice(1)])||e}).join("/")},A=/\//g,P=function(e){return{saveFolder:{type:b,values:[e._id],verbs:["GET","PATCH","POST"]}}};t.buildFolderPermission=P;var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return e.replace(new RegExp("^([".concat(t,"]*)(.*?)([").concat(t,"]*)$")),"$2")},j=function(e,t){var r;return!!(null==(r=e.referenced_by)?void 0:r.find(function(e){return"io.cozy.konnectors"===e.type&&e.id==="io.cozy.konnectors/"+t}))},D=function(e,t){var r;return!!(null==(r=e.referenced_by)?void 0:r.find(function(e){return"io.cozy.accounts.sourceAccountIdentifier"===e.type&&(!t||e.id===t)}))},T=(i=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.folder,a=t.konnector,o=r.collection(b),j(n,a.slug)){e.next=5;break}return e.next=5,o.addReferencesTo(a,[n]);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),I=(c=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.folder,a=t.sourceAccountIdentifier,o=r.collection(b),D(n,a)){e.next=5;break}return e.next=5,o.addReferencesTo({_id:a,_type:"io.cozy.accounts.sourceAccountIdentifier"},[n]);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),R=(u=(0,p.default)(d.default.mark(function e(t){var r,n,a,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.slug,a=t.sourceAccountIdentifier,e.next=3,r.query((0,y.Q)(b).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(n)}));case 3:return o=e.sent.included,e.abrupt("return",o.find(function(e){return D(e,a)}));case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});t.findKonnectorAccountFolderByReference=R;var N=(s=(0,p.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.slug,e.next=3,r.query((0,y.Q)(b).partialIndex({type:"directory",trashed:!1}).referencedBy({_type:"io.cozy.konnectors",_id:"io.cozy.konnectors/".concat(n)}));case 3:return a=e.sent.included,e.abrupt("return",a.find(function(e){return!D(e)}));case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});function L(){return(L=(0,p.default)(d.default.mark(function e(t){var r,n,a,o,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.mainFolder,a=t.konnector,o=t.sourceAccountIdentifier,i=n.path+"/"+o,e.next=4,_(r,i);case 4:if(e.t0=e.sent,e.t0){e.next=9;break}return e.next=8,g(r,i);case 8:e.t0=e.sent;case 9:return c=e.t0,e.next=12,T({client:r,folder:c,konnector:a});case 12:return e.next=14,I({client:r,folder:c,sourceAccountIdentifier:o});case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},67907:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeCategories=h,t.areTermsValid=m,t.isPartnershipValid=v,t.sanitize=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return!e.categories&&e.category&&"string"==typeof e.category&&(t.categories=[e.category],delete t.category),t.categories=h(t.categories),"object"==typeof e.name&&(t.name=e.name.en),e.available_version&&(t.availableVersion=e.available_version,delete t.available_version),e.latest_version&&(t.latestVersion=e.latestVersion,delete t.latest_version),t.terms&&!m(t.terms)&&delete t.terms,t.partnership&&!v(t.partnership)&&delete t.partnership,t.fields&&(t.fields=b(e.fields)),t},t.getIdentifier=t.sanitizeIdentifier=t.legacyLoginFields=t.ROLE_IDENTIFIER=void 0;var a=n(r(76729)),o=n(r(49870)),i=n(r(88055)),c=n(r(20826));function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var l="identifier";t.ROLE_IDENTIFIER=l;var d=["login","identifier","new_identifier","email"];t.legacyLoginFields=d;var f=["secret","dob","code","answer","access_token","refresh_token","appSecret"],p=["banking","cozy","energy","health","host_provider","insurance","isp","mes_infos","online_services","others","partners","press","productivity","ptnb","public_service","shopping","social","telecom","transport"];function h(e){if(!e)return["others"];var t=e.filter(function(e){return p.includes(e)});return t.length?t:["others"]}function m(e){return!!(e&&e.id&&e.url&&e.version)}function v(e){return!!(e&&e.description)}var y=function(e){var t=(0,i.default)(e),r=!1;for(var n in t)t[n].role===l&&(r?delete t[n].role:r=!0);if(r)return t;var a,o=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(d);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(t[c])return t[c].role=l,t}}catch(e){o.e(e)}finally{o.f()}for(var s in t)if("password"!==t[s].type){t[s].role=l;break}return t};t.sanitizeIdentifier=y,t.getIdentifier=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.default)(y(e),function(e){return e.role===l})||null};var b=(0,o.default)([function(e){var t=(0,i.default)(e);return delete t.advancedFields,t},y,function(e){var t=(0,i.default)(e);for(var r in t){var n=t[r],a=void 0===n.required?n.isRequired:n.required;t[r].required="boolean"!=typeof a||a}return t},function(e){var t=(0,i.default)(e);for(var r in t){var n=t[r];"boolean"!=typeof n.encrypted&&(n.encrypted="password"===n.type||f.includes(r))}return t}])},52254:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchURL=t.generateUrlForNote=t.generatePrivateUrl=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(56975),u=a(r(87925)),s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.returnUrl,a=new URL(e);return n&&a.searchParams.set("returnUrl",n),a.hash="#/n/".concat(t.id),a.toString()};t.generatePrivateUrl=s,t.generateUrlForNote=function(e,t){return u.default.warn("generateUrlForNote is deprecated. Please use models.note.generatePrivateUrl instead"),s(e,t)},n=(0,i.default)(o.default.mark(function e(t,r){var n,a,i,u,s,l,d,f,p,h,m,v=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>2&&void 0!==v[2]?v[2]:{},e.next=3,t.getStackClient().collection("io.cozy.notes").fetchURL({_id:r.id});case 3:if(i=(a=e.sent.data).note_id,u=a.subdomain,s=a.protocol,l=a.instance,d=a.sharecode,f=a.public_name,!d){e.next=18;break}return(h=[["id",i]]).push(["sharecode",d]),f&&h.push(["username",f]),e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(s,"://").concat(l),searchParams:h,pathname:null!=(p=n.pathname)?p:"/public/",slug:"notes",subDomainType:u}));case 18:return e.abrupt("return",(0,c.generateWebLink)({cozyUrl:"".concat(s,"://").concat(l),pathname:null!=(m=n.pathname)?m:"",slug:"notes",subDomainType:u,hash:"/n/".concat(i)}));case 19:case"end":return e.stop()}},e)})),t.fetchURL=function(e,t){return n.apply(this,arguments)}},57698:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isForeignPaper=t.makeExpirationDescription=t.makeExpiresInMessage=t.makeExpiredMessage=t.formatContactValue=t.getTranslatedNameForContact=t.formatOtherMetadataValue=t.getTranslatedNameForOtherMetadata=t.formatInformationMetadataValue=t.getTranslatedNameForInformationMetadata=t.formatDateMetadataValue=t.getTranslatedNameForDateMetadata=t.getMetadataQualificationType=t.formatMetadataQualification=t.makeMetadataQualification=t.isExpiringSoon=t.isExpired=t.computeExpirationNoticeLink=t.computeExpirationNoticeDate=t.computeExpirationDate=t.isExpiring=t.KNOWN_BILLS_ATTRIBUTES_NAMES=t.KNOWN_OTHER_METADATA_NAMES=t.KNOWN_INFORMATION_METADATA_NAMES=t.KNOWN_DATE_METADATA_NAMES=void 0;var a=n(r(10464)),o=n(r(93165)),i=n(r(57870)),c=n(r(36013)),u=n(r(30520)),s=r(91944),l=r(86717),d=r(5840),f=n(r(58156)),p=r(1875),h={national_id_card:"https://www.service-public.fr/particuliers/vosdroits/N358",residence_permit:"https://www.service-public.fr/particuliers/vosdroits/N110",passport:"https://www.service-public.fr/particuliers/vosdroits/N360",driver_license:"https://permisdeconduire.ants.gouv.fr/demarches-en-ligne/perte-vol-deterioration-fin-de-validite-ou-changement-d-etat-civil"},m=["AObtentionDate","BObtentionDate","CObtentionDate","DObtentionDate","obtentionDate","expirationDate","referencedDate","issueDate","shootingDate","date","datetime"];t.KNOWN_DATE_METADATA_NAMES=m;var v=["number","bicNumber","country","refTaxIncome","contractType","netSocialAmount","employerName","vehicle.licenseNumber","vehicle.confidentialNumber","noticePeriod"];t.KNOWN_INFORMATION_METADATA_NAMES=v;var y=["contact","page","qualification"];t.KNOWN_OTHER_METADATA_NAMES=y;var b=["amount","subtype","employer"];t.KNOWN_BILLS_ATTRIBUTES_NAMES=b;var g=function(e){var t,r,n,a,o,i=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label,c=null==(n=e.metadata)?void 0:n.country,u=null==(a=e.metadata)?void 0:a.expirationDate,s=null==(o=e.metadata)?void 0:o.noticePeriod;return"national_id_card"===i&&(!c||"fr"===c)&&!!u&&!!s},_=function(e){var t,r,n=null==(t=e.metadata)?void 0:t.expirationDate,a=null==(r=e.metadata)?void 0:r.noticePeriod;return!!n&&!!a},w=function(e){var t,r,n,a=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label,o=null==(n=e.metadata)?void 0:n.referencedDate,i=e.created_at;return"personal_sporting_licence"===a&&(!!o||!!i)};t.isExpiring=function(e){return!!(g(e)||_(e)||w(e))};var k=function(e){if(g(e)||_(e)){var t;return new Date(null==(t=e.metadata)?void 0:t.expirationDate)}if(w(e)){var r,n=null==(r=e.metadata)?void 0:r.referencedDate,a=e.created_at;return(0,o.default)(new Date(null!=n?n:a),{days:365})}return null};t.computeExpirationDate=k;var O=function(e){if(g(e)||_(e)){var t;return parseInt(null==(t=e.metadata)?void 0:t.noticePeriod,10)}return w(e)?15:null},x=function(e){var t=k(e);if(null==t)return null;var r=O(e);return null==r?null:(0,i.default)(t,{days:r})};t.computeExpirationNoticeDate=x,t.computeExpirationNoticeLink=function(e){var t,r,n=null==(t=e.metadata)||null==(r=t.qualification)?void 0:r.label;return n&&h[n]||null},t.isExpired=function(e){var t=new Date,r=k(e);return null!=r&&r<=t},t.isExpiringSoon=function(e){var t=new Date,r=k(e),n=x(e);return null!=r&&null!=n&&n<=t&&t<r};var E=function(e){var t=e.metadata,r=e.knownMetadataPath,n=e.value||(0,f.default)(t,r,null)||null;return Object.keys(t).some(function(e){return r.startsWith(e)})||"contact"===r?{name:r,value:n}:null};t.makeMetadataQualification=E,t.formatMetadataQualification=function(e){var t=m.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean).filter(function(e,t,r){return r.length>1?"datetime"!==e.name:e}),r=v.map(function(t){return E({metadata:e,knownMetadataPath:t})}).filter(Boolean),n=y.map(function(t){var r,n="qualification"===t?null==(r=e[t])?void 0:r.label:e[t];return E({metadata:e,knownMetadataPath:t,value:n})}).filter(Boolean);return[].concat((0,a.default)(t),(0,a.default)(r),(0,a.default)(n))},t.getMetadataQualificationType=function(e){return m.includes(e)?"date":v.includes(e)?"information":y.includes(e)?"contact"===e?"contact":"other":b.includes(e)?"bills":null},t.getTranslatedNameForDateMetadata=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.qualification.date.title.".concat(e))},t.formatDateMetadataValue=function(e,t){var r=t.lang,n=t.f,a=(0,s.getLocalizer)(r);return e?n(e,"en"===r?"LL/dd/yyyy":"dd/LL/yyyy"):a("Scan.qualification.noInfo")},t.getTranslatedNameForInformationMetadata=function(e,t){var r=t.lang,n=t.qualificationLabel,a=(0,s.getLocalizer)(r);return a("number"===e?"Scan.qualification.information.title.".concat(n,".").concat(e):"Scan.qualification.information.title.".concat(e))},t.formatInformationMetadataValue=function(e,t){var r=t.lang,n=t.name,a=t.qualificationLabel,o=(0,s.getLocalizer)(r),i=(0,l.getLocalizer)(r).t;return"number"==typeof e||e?"noticePeriod"===n?"".concat(e," ").concat(o("Scan.qualification.information.day",{smart_count:e})):"contractType"===n?o("Scan.attributes.contractType.".concat(e),{_:e}):"refTaxIncome"===n||"netSocialAmount"===n||"amount"===n||"number"===n&&"pay_sheet"===a?"".concat(e," €"):"country"===n&&(0,p.isValidCountryCodeTranslation)(r,e)?i("countries.".concat(e)):e:o("Scan.qualification.noInfo")},t.getTranslatedNameForOtherMetadata=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.qualification.".concat(e))},t.formatOtherMetadataValue=function(e,t){var r=t.lang,n=t.name,a=(0,s.getLocalizer)(r);return"qualification"===n?a("Scan.items.".concat(e),{smart_count:1}):a("Scan.qualification.".concat(e))},t.getTranslatedNameForContact=function(e){var t=e.lang;return(0,s.getLocalizer)(t)("Scan.qualification.contact")},t.formatContactValue=function(e){return e&&e.length>0?e.map(function(e){return"".concat((0,d.getDisplayName)(e))}).join(", "):""},t.makeExpiredMessage=function(e){var t=e.lang;return(0,s.getLocalizer)(t)("Scan.expiration.expired")},t.makeExpiresInMessage=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.expiration.expiresIn",{duration:(0,c.default)(new Date(e),{locale:"fr"===r?u.default:void 0})})},t.makeExpirationDescription=function(e,t){var r=t.lang;return(0,s.getLocalizer)(r)("Scan.expiration.description",{duration:(0,c.default)(new Date(e),{locale:"fr"===r?u.default:void 0})})},t.isForeignPaper=function(e){var t;return null!=(t=e.metadata)&&!!t.country&&"fr"!==e.metadata.country.toLowerCase()}},77957:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isReadOnly=v,t.fetchOwn=y,t.isForType=g,t.isDocumentReadOnly=function(e){return w.apply(this,arguments)},t.isShortcutCreatedOnTheRecipientCozy=void 0;var a=n(r(76729)),o=n(r(30592)),i=n(r(93889)),c=n(r(10464)),u=n(r(5287)),s=n(r(58156));n(r(59201));var l=r(31201),d=r(60400),f=r(58494),p=n(r(87925));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.writability;return e.verbs&&e.verbs.length>0&&0===(0,u.default)(e.verbs,["ALL"].concat((0,c.default)(void 0===r?["PATCH","POST","PUT","DELETE"]:r))).length}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,i.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.collection("io.cozy.permissions"),e.next=3,r.fetchOwnPermissions();case 3:if(n=e.sent,a=(0,s.default)(n,"data.attributes.permissions")){e.next=7;break}throw"Can't get self permissions";case 7:return e.abrupt("return",Object.values(a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){return e.type===t||e.type+".*"===t}function _(){return(_=(0,i.default)(o.default.mark(function e(t){var r,n,a,c,u,s,p,h,v,b,_;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_=function(){return(_=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.doc,n=t.client,!(i=(a=t.perms).find(function(e){if(!e.values)return!0;var t=r[e.selector||"id"];return e.values.includes(t)}))){e.next=6;break}return e.abrupt("return",i);case 6:if(u!==f.DOCTYPE_FILES){e.next=16;break}if(e.t0=c=(0,d.getParentFolderId)(r),!e.t0){e.next=13;break}return e.next=12,h(c);case 12:e.t0=e.sent;case 13:if(!(s=e.t0)){e.next=16;break}return e.abrupt("return",b({doc:s,perms:a,client:n}));case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)},b=function(e){return _.apply(this,arguments)},v=function(){return(v=(0,i.default)(o.default.mark(function e(t){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.Q)(f.DOCTYPE_FILES).getById(t),e.next=3,n.query(r);case 3:return a=e.sent,e.abrupt("return",a&&a.data);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)},h=function(e){return v.apply(this,arguments)},r=t.document,n=t.client,a=t.permissions,c=r._id||r.id,u=r._type||r.type,s=m(m({},r),{},{id:c,type:u}),!a){e.next=12;break}e.t0=a,e.next=15;break;case 12:return e.next=14,y(n);case 14:e.t0=e.sent;case 15:return p=e.t0.filter(function(e){return g(e,u)}),e.abrupt("return",b({doc:s,client:n,perms:p}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.document,n=t.client,a=t.writability,void 0!==(i=t.permissions)){e.next=10;break}return e.next=7,y(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i;case 11:if(!((c=e.t0).length<=1)){e.next=16;break}e.t1=c[0],e.next=19;break;case 16:return e.next=18,function(e){return _.apply(this,arguments)}({document:r,client:n,permissions:c});case 18:e.t1=e.sent;case 19:if(!(u=e.t1)){e.next=24;break}return e.abrupt("return",v(u,{writability:a}));case 24:return p.default.warn("can't find the document in current attached permissions"),e.abrupt("return",void 0);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.isShortcutCreatedOnTheRecipientCozy=function(e){if(!e.included)return!1;var t=e.included.find(function(e){return"io.cozy.sharings.members"===e.type});return!!t&&!!t.attributes.instance}},29312:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeSharingLink=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(93889)),u=r(58494);a(r(59201));var s=r(56975);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}n=(0,c.default)(o.default.mark(function e(t,r){var n,a,i,c,l,f,p,h,m,v,y=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(i=y.length>2&&void 0!==y[2]?y[2]:{}).ttl,l=i.password,p=void 0===(f=i.verbs)?["GET"]:f,h=d(d({_type:u.DOCTYPE_PERMISSIONS,permissions:{files:{type:u.DOCTYPE_FILES,values:r,verbs:p}}},c&&{ttl:c}),l&&{password:l}),e.next=4,t.save(h);case 4:return m=e.sent.data,v=(0,s.generateWebLink)({cozyUrl:t.getStackClient().uri,searchParams:[["sharecode",null==m||null==(n=m.attributes)||null==(a=n.shortcodes)?void 0:a.code]],pathname:"/public",slug:"drive",subDomainType:t.capabilities.flat_subdomains?"flat":"nested"}),e.abrupt("return",v);case 8:case"end":return e.stop()}},e)})),t.makeSharingLink=function(e,t){return n.apply(this,arguments)}},47314:function(e,t,r){"use strict";var n,a,o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTimeSeriesByIntervalAndSource=t.saveTimeSeries=void 0;var i=o(r(30592)),c=o(r(93889)),u=r(31201),s=function(e){if(!e.startDate||!e.endDate)throw Error("You must specify a startDate and endDate for the time serie");if(!Date.parse(e.startDate)||!Date.parse(e.endDate))throw Error("Invalid date format for the time serie");if(!e.dataType)throw Error("You must specify a dataType for the time serie");if(!e.series||!Array.isArray(e.series))throw Error("You must specify a series array for the time serie")};n=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,u,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.dataType,a=r.series,o=r.startDate,c=r.endDate,u=r.source,l=r.theme,s({dataType:n,series:a,startDate:o,endDate:c,source:u}),d={_type:"io.cozy.timeseries.".concat(n),startDate:o,endDate:c,source:u,theme:l,series:a},e.abrupt("return",t.save(d));case 5:case"end":return e.stop()}},e)})),t.saveTimeSeries=function(e,t){return n.apply(this,arguments)},a=(0,c.default)(i.default.mark(function e(t,r){var n,a,o,c,s,l,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.startDate,a=r.endDate,o=r.dataType,c=r.source,s=r.limit,l="io.cozy.timeseries.".concat(o),d=(0,u.Q)(l).where({source:c,startDate:{$gte:n},endDate:{$lte:a}}).indexFields(["source","startDate","endDate"]).sortBy([{source:"desc"},{startDate:"desc"},{endDate:"desc"}]).limitBy(s||5),e.abrupt("return",t.query(d));case 4:case"end":return e.stop()}},e)})),t.fetchTimeSeriesByIntervalAndSource=function(e,t){return a.apply(this,arguments)}},35056:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.triggers=t.triggerStates=void 0;var a=n(r(76729)),o=r(9499),i=n(r(87925));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=["CHALLENGE_ASKED","DISK_QUOTA_EXCEEDED","TERMS_VERSION_MISMATCH","USER_ACTION_NEEDED","USER_ACTION_NEEDED.CHANGE_PASSWORD","USER_ACTION_NEEDED.ACCOUNT_REMOVED","USER_ACTION_NEEDED.WEBAUTH_REQUIRED","USER_ACTION_NEEDED.SCA_REQUIRED","LOGIN_FAILED"],l={getLastExecution:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_execution},getLastSuccess:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_success},getLastsuccess:function(e){var t;return i.default.warn("Deprecated, please use getLastSuccess instead of getLastsuccess"),null==e||null==(t=e.current_state)?void 0:t.last_success},isErrored:function(e){var t;return(null==e||null==(t=e.current_state)?void 0:t.status)==="errored"},getLastErrorType:function(e){var t;return null==e||null==(t=e.current_state)?void 0:t.last_error}};t.triggerStates=l;var d={isKonnectorWorker:function(e){return"konnector"===e.worker},isKonnector:function(e){return"konnector"===e.worker||"client"===e.worker},getKonnector:function(e){return d.isKonnector(e)?e.message&&e.message.konnector?e.message.konnector:e.message&&e.message.Data?JSON.parse(atob(e.message.Data)).konnector:void 0:null},getAccountId:function(e){var t,r,n=null==e||null==(t=e.message)?void 0:t.Data;return n?JSON.parse(atob(n)).account:null==e||null==(r=e.message)?void 0:r.account},isLatestErrorMuted:function(e,t){var r=l.getLastErrorType(e),n=l.getLastSuccess(e),a=n?new Date(n):new Date;return(0,o.getMutedErrors)(t).some(function(e){return e.type===r&&(!n||new Date(e.mutedAt)>a)})},hasActionableError:function(e){var t;return s.includes(null==e||null==(t=e.current_state)?void 0:t.last_error)},buildTriggerAttributes:function(e){var t=e.account,r=e.cron,n=e.folder,a=e.konnector,o={account:t._id,konnector:a.slug};n&&(o.folder_to_save=n._id);var i=a.clientSide?{type:"@client"}:{type:"@cron",arguments:void 0===r?"0 0 0 * * 0":r};return u(u({},{worker:"konnector",message:o}),i)}};t.triggers=d},27141:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.hasPassword=void 0;var o=a(r(30592)),i=a(r(93889)),c=r(50357),u=r(53010),s=r(95380);n=(0,i.default)(o.default.mark(function e(t){var r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.hasExtensionInstalledAttribute)(t);case 2:return r=e.sent,e.next=5,(0,c.hasPasswordDefinedAttribute)(t);case 5:return n=e.sent,e.abrupt("return",!((0,s.isMagicLink)(t)||(0,s.isOIDC)(t))||r||n);case 7:case"end":return e.stop()}},e)})),t.hasPassword=function(e){return n.apply(this,arguments)}},90969:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getFlagshipDownloadLink=t.getCreatedByApp=t.hasBeenUpdatedByApp=void 0;var a=n(r(58156)),o=r(7127),i=n(r(94619));t.hasBeenUpdatedByApp=function(e,t){var r=(0,a.default)(e,"cozyMetadata.updatedByApps");return!!(r&&r.find(function(e){return e.slug===t}))},t.getCreatedByApp=function(e){return(0,a.default)(e,"cozyMetadata.createdByApp")},t.getFlagshipDownloadLink=function(e){if((0,o.isAndroid)()){var t=(0,i.default)("flagship.playstore-id")||"io.cozy.flagship.mobile";return"https://play.google.com/store/apps/details?id=".concat(t,"&hl=").concat(e)}if((0,o.isIOS)()){var r=(0,i.default)("flagship.appstore-id")||"id1600636174";return"https://apps.apple.com/".concat(e,"/app/").concat(r)}return(0,i.default)("flagship.download-link")||"https://cozy.io/".concat(e,"/download")}},85778:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPerformanceApi=void 0,t.defaultPerformanceApi={measure:function(e){},mark:function(e){return e}}},56569:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.webPerformanceApi=void 0;var a=n(r(97200));t.webPerformanceApi={measure:function(e){var t=e.measureName,r=e.markName,n=e.category,a=e.color,o=null!=t?t:r;performance.measure(o,{start:r,detail:{devtools:{track:null!=n?n:"CozyClient",color:null!=a?a:"secondary"}}})},mark:function(e){var t="".concat((0,a.default)()," ").concat(e);return performance.mark(t),t}}},70971:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={olderThan:function(e){return function(t){return!t||!t.lastUpdate||Date.now()-t.lastUpdate>e}},noFetch:function(){return!1}}},10899:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));t.default=function(){var e;function t(){(0,i.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),(o=this.pending[n])?i=o:(i=t(),this.pending[n]=i),e.prev=3,e.next=6,i;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[n]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,r){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),r=this.pending[t];return r||null}}]),t}()},31201:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryDefinition=t.MutationTypes=t.Mutations=t.getDoctypeFromOperation=t.uploadFile=t.removeReferencedBy=t.addReferencedBy=t.removeReferencesTo=t.addReferencesTo=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocument=t.isAGetByIdQuery=t.Q=void 0;var a=n(r(76729)),o=n(r(92115)),i=n(r(47783)),c=n(r(20826)),u=n(r(87925));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),this.doctype=t.doctype,this.id=t.id,this.ids=t.ids,this.selector=t.selector,this.fields=t.fields,this.indexedFields=t.indexedFields,this.partialFilter=t.partialFilter,this.sort=t.sort,this.includes=t.includes,this.referenced=t.referenced,this.limit=t.limit,this.skip=t.skip,this.cursor=t.cursor,this.bookmark=t.bookmark}return(0,i.default)(e,[{key:"checkSortOrder",value:function(e){var t=e.sort,r=e.selector,n=e.indexedFields,a=this.sort||t,o=this.selector||r||{},i=this.indexedFields||n;if(a){var c=i||Object.keys(o);if(c&&!(c.length<1)){if(a.length>c.length)return void u.default.warn("You should not sort on non-indexed fields.\n\n        Sort: ".concat(JSON.stringify(a),"\n\n        Indexed fields: ").concat(c));for(var s=0;s<a.length;s++)if(Object.keys(a[s])[0]!==c[s])return void u.default.warn("The sort order should be the same than the indexed fields.\n\n          Sort: ".concat(JSON.stringify(a),"\n\n          Indexed fields: ").concat(c,"\n"))}}}},{key:"checkSelector",value:function(e){(0,c.default)(e,["$exists",!1])&&u.default.warn('The "$exists: false" predicate should be defined as a partial index for better performance.\n\n        Selector: '.concat(JSON.stringify(e))),(0,c.default)(e,"$ne")&&u.default.info("The use of the $ne operator is more efficient with a partial index.\n\n        Selector: ".concat(JSON.stringify(e)));var t=(0,c.default)(e,function(e){return Array.isArray(e)});if(t&&!t.startsWith("$"))throw Error("You pass ".concat(JSON.stringify(e),", this is a valid mango operation, \n\n        but sift doesn't support it so CozyClient can not evaluate \n\n        the request in memory. You must use a MongoDB operator \n\n        like $in or $or operator instead, preferably in a partial index, \n\n        to avoid costly full-scan"))}},{key:"checkSelectFields",value:function(e){var t=e.fields,r=e.selector,n=e.partialFilter,a=this.fields||t,o=this.selector||r,i=this.partialFilter||n;if(a&&(o||i)&&!Object.keys(l(l({},o),i)).every(function(e){return a.includes(e)}))throw Error("The .select should includes all the fields used in where or partialIndex.\n        Please fix this query: fields: ".concat(JSON.stringify(this.toDefinition())))}},{key:"getById",value:function(t){if(!t)throw Error("getById called with undefined id");return new e(l(l({},this.toDefinition()),{},{id:t}))}},{key:"getByIds",value:function(t){return new e(l(l({},this.toDefinition()),{},{ids:t}))}},{key:"where",value:function(t){return this.checkSortOrder({selector:t}),this.checkSelector(t),this.checkSelectFields({selector:t}),new e(l(l({},this.toDefinition()),{},{selector:t}))}},{key:"select",value:function(t){return this.checkSelectFields({fields:t}),new e(l(l({},this.toDefinition()),{},{fields:t}))}},{key:"indexFields",value:function(t){return this.checkSortOrder({indexedFields:t}),new e(l(l({},this.toDefinition()),{},{indexedFields:t}))}},{key:"partialIndex",value:function(t){return this.checkSelectFields({partialFilter:t}),new e(l(l({},this.toDefinition()),{},{partialFilter:t}))}},{key:"sortBy",value:function(t){if(!Array.isArray(t))throw Error('Invalid sort, should be an array ([{ label: "desc"}, { name: "asc"}]), you passed '.concat(JSON.stringify(t),"."));return this.checkSortOrder({sort:t}),new e(l(l({},this.toDefinition()),{},{sort:t}))}},{key:"include",value:function(t){if(!Array.isArray(t))throw Error("include() takes an array of relationship names");return new e(l(l({},this.toDefinition()),{},{includes:t}))}},{key:"limitBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{limit:t}))}},{key:"UNSAFE_noLimit",value:function(){return new e(l(l({},this.toDefinition()),{},{limit:null}))}},{key:"offset",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,cursor:void 0,skip:t}))}},{key:"offsetCursor",value:function(t){return new e(l(l({},this.toDefinition()),{},{bookmark:void 0,skip:void 0,cursor:t}))}},{key:"offsetBookmark",value:function(t){return new e(l(l({},this.toDefinition()),{},{skip:void 0,cursor:void 0,bookmark:t}))}},{key:"referencedBy",value:function(t){return new e(l(l({},this.toDefinition()),{},{referenced:t}))}},{key:"toDefinition",value:function(){return{doctype:this.doctype,id:this.id,ids:this.ids,selector:this.selector,fields:this.fields,indexedFields:this.indexedFields,partialFilter:this.partialFilter,sort:this.sort,includes:this.includes,referenced:this.referenced,limit:this.limit,skip:this.skip,cursor:this.cursor,bookmark:this.bookmark}}}]),e}();t.QueryDefinition=d,t.Q=function(e){return new d({doctype:e})},t.isAGetByIdQuery=function(e){if(!e)return!1;var t=Object.values(e);return 0!==t.length&&2===t.filter(function(e){return void 0!==e}).length&&void 0!==e.id};var f="CREATE_DOCUMENT",p="UPDATE_DOCUMENT",h="UPDATE_DOCUMENTS",m="DELETE_DOCUMENT",v="ADD_REFERENCES_TO",y="UPLOAD_FILE",b=function(e){return{mutationType:S.CREATE_DOCUMENT,document:e}};t.createDocument=b;var g=function(e){return{mutationType:S.UPDATE_DOCUMENT,document:e}};t.updateDocument=g;var _=function(e){return{mutationType:S.UPDATE_DOCUMENTS,documents:e}};t.updateDocuments=_;var w=function(e){return{mutationType:S.DELETE_DOCUMENT,document:e}};t.deleteDocument=w;var k=function(e,t){return{mutationType:S.ADD_REFERENCES_TO,referencedDocuments:t,document:e}};t.addReferencesTo=k;var O=function(e,t){return{mutationType:S.REMOVE_REFERENCES_TO,referencedDocuments:t,document:e}};t.removeReferencesTo=O;var x=function(e,t){return{mutationType:S.ADD_REFERENCED_BY,referencedDocuments:t,document:e}};t.addReferencedBy=x;var E=function(e,t){return{mutationType:S.REMOVE_REFERENCED_BY,referencedDocuments:t,document:e}};t.removeReferencedBy=E;var C=function(e,t){return{mutationType:S.UPLOAD_FILE,file:e,dirPath:t}};t.uploadFile=C,t.getDoctypeFromOperation=function(e){if(!e.mutationType)return e.doctype;var t=e.mutationType;switch(t){case f:case p:return e.document._type;case h:return e.documents[0]._type;case m:return e.document._type;case v:case y:throw Error("Not implemented");default:throw Error("Unknown mutationType ".concat(t))}},t.Mutations={createDocument:b,updateDocument:g,updateDocuments:_,deleteDocument:w,addReferencesTo:k,removeReferencesTo:O,addReferencedBy:x,removeReferencedBy:E,uploadFile:C};var S={CREATE_DOCUMENT:f,UPDATE_DOCUMENT:p,UPDATE_DOCUMENTS:h,DELETE_DOCUMENT:m,ADD_REFERENCES_TO:v,REMOVE_REFERENCES_TO:"REMOVE_REFERENCES_TO",ADD_REFERENCED_BY:"ADD_REFERENCED_BY",REMOVE_REFERENCED_BY:"REMOVE_REFERENCED_BY",UPLOAD_FILE:y};t.MutationTypes=S},8895:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(73916)),o=n(r(94394)),i=n(r(35970)),c=n(r(2404)),u=n(r(63375)),s=n(r(9063)),l=r(31201),d=function(e){var t=(0,o.default)(e,function(e){return e.id||e.ids?"idQueries":"others"}),r=t.idQueries,n=void 0===r?[]:r,a=t.others,d=n.length>0?new l.QueryDefinition({doctype:e[0].doctype,ids:(0,u.default)((0,i.default)(n.map(function(e){return e.id||e.ids})))}):[];return(0,s.default)(void 0===a?[]:a,c.default).concat(d)};t.default=function(e){var t=(0,o.default)(e,function(e){return e.doctype});return(0,i.default)(Object.values((0,a.default)(t,d)))}},80366:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.registryEndpoint=t.transformRegistryFormatToStackFormat=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(76729)),s=n(r(58156));r(48318);var l=n(r(84969)),d=r(39924);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.transformRegistryFormatToStackFormat=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,u.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:(0,s.default)(e,"latest_version.manifest.source"),attributes:(0,s.default)(e,"latest_version.manifest")},e)},t.registryEndpoint="/registry/";var p=function(e){var t=new URLSearchParams(e).toString();return t?"?".concat(t):""},h=function(e){var t=e.type,r=t===d.APP_TYPE.KONNECTOR||"node"===t?"konnectors":"apps";return"/".concat(r)};t.default=function(){var e,t,r;function n(e){if((0,i.default)(this,n),!e.client)throw Error("Need to pass a client to instantiate a Registry API.");this.client=e.client}return(0,c.default)(n,[{key:"installApp",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u,s,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.slug,o=t.terms,i={},(c=t.installed)&&(i.PermissionsAcked=c),r&&(i.Source=r),u=p(i),!o){e.next=9;break}return e.next=9,l.default.save(this.client,o);case 9:return s=t.installed?"PUT":"POST",d=h(t),e.abrupt("return",this.client.stackClient.fetchJSON(s,"".concat(d,"/").concat(n).concat(u)));case 12:case"end":return e.stop()}},e,this)})),function(t,r){return e.apply(this,arguments)})},{key:"uninstallApp",value:(t=(0,o.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slug,n=h(t),e.abrupt("return",this.client.stackClient.fetchJSON("DELETE","".concat(n,"/").concat(r)));case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"fetchApps",value:(r=(0,o.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.channel,n=t.type,u=new URLSearchParams(c={limit:i=void 0===(o=t.limit)?"200":o,versionsChannel:r,latestChannelVersion:r}).toString(),n&&(u+="&filter[type]=".concat(n)),e.next=6,this.client.stackClient.fetchJSON("GET","/registry?".concat(u));case 6:return s=e.sent.data,e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"fetchAppsInMaintenance",value:function(){return this.client.stackClient.fetchJSON("GET","/registry/maintenance")}},{key:"fetchApp",value:function(e){return this.client.stackClient.fetchJSON("GET","/registry/".concat(e))}},{key:"fetchAppVersion",value:function(e){if(!e.slug)throw Error("Need to pass a slug to use fetchAppVersion");var t=e.slug,r=e.channel,n=e.version,a=r||n&&"latest"!==n?r:"stable",o="/registry/".concat(t,"/");return a?o+="".concat(a,"/").concat(n||"latest"):o+="".concat(n),this.client.stackClient.fetchJSON("GET",o)}}]),n}()},68737:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndMergeDocument=t.getCollectionFromSlice=t.getDocumentFromSlice=t.default=t.mergeDocumentsWithRelationships=void 0;var a=n(r(76729)),o=n(r(38970)),i=n(r(58156)),c=n(r(2404)),u=n(r(90179)),s=n(r(55364)),l=n(r(87925)),d=r(59063),f=r(31201),p=r(31171),h=r(69626);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=function(e,t){var r=t._type;if(!r)throw Error("Document without _type");if(!(0,h.properId)(t))throw Error("Document without id");var n=(0,i.default)(e,[r,(0,h.properId)(t)]);return(0,c.default)(n,t)?e:v(v({},e),{},(0,a.default)({},r,v(v({},e[r]),{},(0,a.default)({},(0,h.properId)(t),b(n,t)))))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=v(v({},e),t);return(e.relationships||t.relationships)&&(r.relationships=v(v({},e.relationships),t.relationships)),r};t.mergeDocumentsWithRelationships=b,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!(0,d.isReceivingData)(t)&&!(0,p.isReceivingMutationResult)(t))return e;if(t&&t.definition&&t.definition.mutationType===f.MutationTypes.DELETE_DOCUMENT){var r=t.definition.document._id,n=t.definition.document._type;return v(v({},e),{},(0,a.default)({},n,(0,u.default)(e[n],r)))}var o=t.response,i=o.data,c=o.included;if(!i||Array.isArray(i)&&0===i.length)return e;var s=c?c.reduce(y,e):e;return Array.isArray(i)?g(i,s):y(s,i)},t.getDocumentFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");if(!r)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined id");return e[t]&&e[t][r]?e[t][r]:null},t.getCollectionFromSlice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");return e[t]?Object.values(e[t]):null};var g=function(e,t){var r=e[0]._type;if(!r)throw l.default.info("Document without _type",e[0]),Error("Document without _type");var n=(0,o.default)(e,h.properId),a=Object.assign({},t);return a[r]=Object.assign({},t[r]),Object.values(n).map(function(e){var t=(0,h.properId)(e);a[r][t]?a[r][t]=(0,s.default)({},a[r][t],e):a[r][t]=e}),a};t.extractAndMergeDocument=g},69626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.properId=void 0,t.properId=function(e){return e.id||e._id}},46475:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initQuery",{enumerable:!0,get:function(){return f.initQuery}}),Object.defineProperty(t,"loadQuery",{enumerable:!0,get:function(){return f.loadQuery}}),Object.defineProperty(t,"resetQuery",{enumerable:!0,get:function(){return f.resetQuery}}),Object.defineProperty(t,"receiveQueryResult",{enumerable:!0,get:function(){return f.receiveQueryResult}}),Object.defineProperty(t,"receiveQueryError",{enumerable:!0,get:function(){return f.receiveQueryError}}),Object.defineProperty(t,"executeQueryFromState",{enumerable:!0,get:function(){return f.executeQueryFromState}}),Object.defineProperty(t,"initMutation",{enumerable:!0,get:function(){return p.initMutation}}),Object.defineProperty(t,"receiveMutationResult",{enumerable:!0,get:function(){return p.receiveMutationResult}}),Object.defineProperty(t,"receiveMutationError",{enumerable:!0,get:function(){return p.receiveMutationError}}),Object.defineProperty(t,"getStateRoot",{enumerable:!0,get:function(){return h.getStateRoot}}),Object.defineProperty(t,"getCollectionFromState",{enumerable:!0,get:function(){return h.getCollectionFromState}}),Object.defineProperty(t,"getDocumentFromState",{enumerable:!0,get:function(){return h.getDocumentFromState}}),Object.defineProperty(t,"getQueryFromStore",{enumerable:!0,get:function(){return h.getQueryFromStore}}),Object.defineProperty(t,"getQueryFromState",{enumerable:!0,get:function(){return h.getQueryFromState}}),Object.defineProperty(t,"getRawQueryFromState",{enumerable:!0,get:function(){return h.getRawQueryFromState}}),Object.defineProperty(t,"isQueryExisting",{enumerable:!0,get:function(){return h.isQueryExisting}}),Object.defineProperty(t,"dispatchCreate",{enumerable:!0,get:function(){return m.dispatchCreate}}),Object.defineProperty(t,"dispatchUpdate",{enumerable:!0,get:function(){return m.dispatchUpdate}}),Object.defineProperty(t,"dispatchDelete",{enumerable:!0,get:function(){return m.dispatchDelete}}),t.resetState=t.createStore=t.default=t.StoreProxy=void 0;var o=a(r(76729)),i=a(r(92115)),c=a(r(47783)),u=a(r(94619)),s=r(42638),l=a(r(86463)),d=a(r(68737)),f=n(r(59063)),p=r(31171),h=r(61813),m=r(60174);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b="COZY_CLIENT.RESET_STATE";t.resetState=function(){return{type:b}};var g=function(){function e(t){(0,i.default)(this,e),this.state=t}return(0,c.default)(e,[{key:"readDocument",value:function(e,t){return this.state.documents[e][t]}},{key:"writeDocument",value:function(e){this.setState(function(t){return y(y({},t),{},{documents:y(y({},t.documents),{},(0,o.default)({},e._type,y(y({},t.documents[e._type]),{},(0,o.default)({},e._id,e))))})})}},{key:"setState",value:function(e){this.state=e(this.state)}},{key:"getState",value:function(){return this.state}}]),e}();t.StoreProxy=g;var _={documents:{},queries:{}},w=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments.length>1?arguments[1]:void 0,n=e.mark("combinedReducer");if(r.type==b)return e.measure({markName:n,measureName:"".concat(n," reset"),category:"CozyClientStore"}),_;if(!(0,f.isQueryAction)(r)&&!(0,p.isMutationAction)(r))return e.measure({markName:n,measureName:"".concat(n," no query nor mutate action"),category:"CozyClientStore"}),t;if(r.update){var a=new g(t);r.update(a,r.response);var o={documents:a.getState().documents,queries:(0,f.default)(e,a.getState().queries,r,a.getState().documents)};return e.measure({markName:n,measureName:"".concat(n," update action"),category:"CozyClientStore"}),o}var i=(0,d.default)(t.documents,r),c=i!==t.documents,u={documents:i,queries:(0,f.default)(e,t.queries,r,i,c)};return e.measure({markName:n,measureName:"".concat(n," queries"),category:"CozyClientStore"}),u}};t.default=w;var k=(0,u.default)("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.compose;t.createStore=function(e){return(0,s.createStore)((0,s.combineReducers)({cozy:w(e)}),k((0,s.applyMiddleware)(l.default)))}},31171:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMutationError=t.receiveMutationResult=t.initMutation=t.isReceivingMutationResult=t.isMutationAction=void 0;var a=n(r(76729));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c="INIT_MUTATION",u="RECEIVE_MUTATION_RESULT",s="RECEIVE_MUTATION_ERROR";t.isMutationAction=function(e){return -1!==[c,u,s].indexOf(e.type)},t.isReceivingMutationResult=function(e){return e.type===u},t.initMutation=function(e,t){return{type:c,mutationId:e,definition:t}},t.receiveMutationResult=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(i({type:u,mutationId:e,response:t},r),{},{definition:n})},t.receiveMutationError=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:s,mutationId:e,error:t,definition:r}}},59063:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.QueryIDGenerator=t.getQueryFromSlice=t.resetQuery=t.receiveQueryError=t.receiveQueryResult=t.loadQuery=t.initQuery=t.default=t.updateData=t.makeSorterFromDefinition=t.executeQueryFromState=t.mergeSelectorAndPartialIndex=t.convert$gtNullSelectors=t.sortAndLimitDocsIds=t.isReceivingData=t.isQueryAction=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(13135)),c=n(r(76729)),u=n(r(10464)),s=n(r(73916)),l=n(r(94394)),d=n(r(66245)),f=n(r(5287)),p=n(r(92078)),h=n(r(11331)),m=n(r(63375)),v=n(r(42877)),y=n(r(85015)),b=n(r(58156)),g=n(r(14745)),_=n(r(94619)),w=r(68737),k=r(31171),O=r(69626),x=r(31201),E=n(r(87925)),C=r(61813);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P="INIT_QUERY",M="LOAD_QUERY",j="RECEIVE_QUERY_RESULT",D="RECEIVE_QUERY_ERROR",T="RESET_QUERY",I=(0,_.default)("debug"),R=function(e){return -1!==[P,M,j,D,T].indexOf(e.type)};t.isQueryAction=R,t.isReceivingData=function(e){return e.type===j};var N={id:null,definition:null,fetchStatus:"pending",isFetching:null,lastFetch:null,lastUpdate:null,lastErrorUpdate:null,lastError:null,hasMore:!1,count:0,fetchedPagesCount:0,data:[],bookmark:null},L=function(e,t,r,n){var a,o=n.count,i=n.fetchedPagesCount,c=(0,u.default)(r);if(e.definition.sort&&t){var s=G(e.definition),l=t[e.definition.doctype];c=s(l?c.map(function(e){return l[e]}).filter(Boolean):[]).map(O.properId)}var d=e.definition.limit;return d&&(a=o<d?i>1?d*(i-1)+o:o:d*i,c=c.slice(0,a)),c};t.sortAndLimitDocsIds=L;var F=function(e,t,r,n){var a=n.count,o=n.fetchedPagesCount,i=(0,m.default)([].concat((0,u.default)(e.data),(0,u.default)(t.data.map(O.properId))));return L(e,r,i,{count:a,fetchedPagesCount:o})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;switch(r.type){case P:if(t.lastUpdate&&t.id===r.queryId&&t.definition===r.queryDefinition)return t;return A(A({},t),{},{id:r.queryId,definition:r.queryDefinition,options:r.options,fetchStatus:t.lastUpdate?t.fetchStatus:"pending"});case M:if("loading"===t.fetchStatus)return t;if("loaded"===t.fetchStatus&&r.backgroundFetching)return A(A({},t),{},{fetchStatus:"loaded",isFetching:!0});return A(A({},t),{},{fetchStatus:"loading"});case j:var a=e.mark("RECEIVE_QUERY_RESULT"),o=r.response;if(!o.data)return e.measure({markName:a,measureName:"".concat(a," with no data"),category:"CozyClientStore"}),A(A({},t),{},{fetchStatus:"loaded",isFetching:!r.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()});var i=A({fetchStatus:"loaded",isFetching:!r.backgroundFetching&&null,lastFetch:Date.now(),lastUpdate:Date.now()},I&&{execution_stats:o.execution_stats});if(!Array.isArray(o.data))return e.measure({markName:a,measureName:"".concat(a," with object"),category:"CozyClientStore"}),A(A(A({},t),i),{},{hasMore:!1,count:1,data:[(0,O.properId)(o.data)]});var c=o.meta&&o.meta.count?o.meta.count:o.data.length;if(r.backgroundFetching)return e.measure({markName:a,measureName:"".concat(a," with background fetching"),category:"CozyClientStore"}),A(A(A({},t),i),{},{bookmark:o.bookmark||null,hasMore:void 0!==o.next?o.next:t.hasMore,count:c,data:o.data.map(O.properId)});var u=t.fetchedPagesCount+1,s=F(t,o,n,{count:c,fetchedPagesCount:u});return e.measure({markName:a,measureName:"".concat(a," default"),category:"CozyClientStore"}),A(A(A({},t),i),{},{bookmark:o.bookmark||null,hasMore:void 0!==o.next?o.next:t.hasMore,count:c,fetchedPagesCount:u,data:s});case D:return A(A({},t),{},{id:r.queryId,fetchStatus:"failed",isFetching:!r.backgroundFetching&&null,lastError:r.error,lastErrorUpdate:Date.now()});case T:return A(A({},N),{},{id:r.queryId,definition:t.definition,options:t.options});default:return t}},z=function e(t){for(var r={},n=0,a=Object.entries(t);n<a.length;n++){var o=(0,i.default)(a[n],2),c=o[0],u=o[1],s=(0,h.default)(u)?e(u):u;r["$gt"===c&&null===s?"$gtnull":c]=s}return r};t.convert$gtNullSelectors=z;var H=function(e){return A(A({},(0,b.default)(e,"selector")),(0,b.default)(e,"partialFilter"))};t.mergeSelectorAndPartialIndex=H;var U=function(e){if(e.selector||e.partialFilter){var t=H(e);return g.default.use({$gtnull:function(e,t){return!!t}}),(0,g.default)(z(t))}if(e.id){var r={_id:e.id};return(0,g.default)(r)}if(!e.ids)return null;var n={_id:{$in:e.ids}};return(0,g.default)(n)};t.executeQueryFromState=function(e,t){var r=(0,C.getCollectionFromState)(e,t.doctype),n=!!t.id;if(!r)return{data:n?null:[]};var a=r.filter(V(t));return n?{data:a.length>0?a[0]:null}:{data:G(t)(a)}};var V=function(e){var t=e.doctype,r=U(e);return function(e){return e._type===t&&!e._deleted&&(!r||!!r(e))}},Z=function(e){return function(t){var r=(0,b.default)(t,e);return(0,y.default)(r)?r.toLowerCase():r}},G=function(e){var t=e.sort;if(!t)return function(e){return e};if(!Array.isArray(e.sort))return E.default.warn("Correct update of queries with a sort that is not an array is not supported. Use an array as argument of QueryDefinition::sort"),function(e){return e};var r=t.map(function(e){return Object.entries(e)[0]}),n=r.map(function(e){return e[0]}).map(Z),a=r.map(function(e){return e[1]});return function(e){return(0,v.default)(e,n,a)}};t.makeSorterFromDefinition=G;var q=function(e,t,r){var n=V(e.definition),a=(0,s.default)((0,l.default)(t,n),function(e){return e.map(O.properId)}),o=a.true,i=void 0===o?[]:o,c=a.false,u=e.data,h=e.options&&e.options.autoUpdate,m=!h||!1!==h.remove,v=!h||!1!==h.add,y=!h||!1!==h.update,b=m?(0,f.default)(u,void 0===c?[]:c):[],g=v?(0,d.default)(i,u):[],_=y?(0,f.default)(u,i):[],w=b.length||g.length||_.length,k=(0,d.default)((0,p.default)(u,g),b),x=e.fetchedPagesCount,E=L(e,r,k,{count:k.length,fetchedPagesCount:x});return A(A({},e),{},{data:E,count:E.length,fetchedPagesCount:x,lastUpdate:w?Date.now():e.lastUpdate})};t.updateData=q;var W=function(e,t){return function(r){var n=(0,b.default)(e,"response.data")||(0,b.default)(e,"definition.document");return n&&(Array.isArray(n)||(n=[n]),n.length&&r.definition.doctype===n[0]._type)?q(r,n,t):r}};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(r.type==P){var o=B(e,t[r.queryId],r,n);return o===t[r.queryId]?t:A(A({},t),{},(0,c.default)({},r.queryId,o))}if(R(r)){var i=W(r,n);return(0,s.default)(t,function(t){return t.id==r.queryId?B(e,t,r,n):a?i(t):t})}if((0,k.isReceivingMutationResult)(r)){var u=r.updateQueries?function(e){var t=r.updateQueries,a=r.response,o=t[e.id];if(!o)return e;var i=o(Q(n,e.definition.doctype,e.data),a).map(O.properId);return A(A({},e),{},{data:i,count:i.length,lastUpdate:Date.now()})}:W(r,n);return(0,s.default)(t,u)}return t},t.initQuery=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.doctype)throw Error("Cannot init query with no doctype");return{type:P,queryId:e,queryDefinition:t,options:r}},t.loadQuery=function(e,t){return A({type:M,queryId:e},t)},t.receiveQueryResult=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A({type:j,queryId:e,response:t},r)},t.receiveQueryError=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A({type:D,queryId:e,error:t},r)},t.resetQuery=function(e){return{type:T,queryId:e}};var Q=function(e,t,r){return r.map(function(r){return(0,w.getDocumentFromSlice)(e,t,r)})};t.getQueryFromSlice=function(e,t,r){if(!e||!e[t])return A(A({},N),{},{id:t,data:null});var n=e[t];return r?A(A({},n),{},{data:Q(r,n.definition.doctype,n.data)}):n};var J=function(){function e(){(0,a.default)(this,e),this.idCounter=1}return(0,o.default)(e,[{key:"generateRandomId",value:function(){var e=this.idCounter;return this.idCounter++,e.toString()}},{key:"generateId",value:function(e){if(!(0,x.isAGetByIdQuery)(e))return this.generateRandomId();var t=e.id,r=e.doctype;return"".concat(r,"/").concat(t)}}]),e}();t.QueryIDGenerator=J,J.UNNAMED="unnamed"},60174:function(e,t,r){"use strict";var n,a,o,i,c=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchDelete=t.dispatchUpdate=t.dispatchCreate=void 0;var u=c(r(30592)),s=c(r(93889)),l=c(r(76729)),d=r(31201),f=r(31171);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,l.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m=function(e,t){return h({id:e._id,_type:t},e)},v=(n=(0,s.default)(u.default.mark(function e(t,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r.enhanceDocFn){e.next=4;break}return e.next=3,r.enhanceDocFn(t,{client:r.client});case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),y=function(e,t,r){e.dispatch((0,f.receiveMutationResult)(e.generateRandomId(),{data:t},{},r(t)))};a=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(n,r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.createDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchCreate=function(e,t,r){return a.apply(this,arguments)},o=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(n,r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.updateDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchUpdate=function(e,t,r){return o.apply(this,arguments)},i=(0,s.default)(u.default.mark(function e(t,r,n){var a,o,i=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},o=m(h(h({},n),{},{_deleted:!0}),r),e.next=4,v(o,{client:t,enhanceDocFn:null==a?void 0:a.enhanceDocFn});case 4:y(t,e.sent,d.Mutations.deleteDocument);case 6:case"end":return e.stop()}},e)})),t.dispatchDelete=function(e,t,r){return i.apply(this,arguments)}},61813:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryExisting=t.getRawQueryFromState=t.getQueryFromState=t.getQueryFromStore=t.getDocumentFromState=t.getCollectionFromState=t.getStateRoot=void 0;var n=r(68737),a=r(59063),o=function(e){return e.cozy||{}};t.getStateRoot=o,t.getCollectionFromState=function(e,t){return(0,n.getCollectionFromSlice)(o(e).documents,t)},t.getDocumentFromState=function(e,t,r){return(0,n.getDocumentFromSlice)(o(e).documents,t,r)},t.getQueryFromStore=function(e,t){return i(e.getState(),t)};var i=function(e,t){return(0,a.getQueryFromSlice)(o(e).queries,t,o(e).documents)};t.getQueryFromState=i,t.getRawQueryFromState=function(e,t){return(0,a.getQueryFromSlice)(o(e).queries,t)},t.isQueryExisting=function(e,t){return void 0!==o(e).queries[t]}},84969:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(80539)),c=n(r(93889));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l="io.cozy.terms";function d(){return(d=(0,c.default)(a.default.mark(function e(t,r){var n,o,c,u,d,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,o=(0,i.default)(r,["id"]),e.next=3,t.query({doctype:l,selector:{termsId:n,version:o.version},limit:1});case 3:if(!((c=e.sent.data)&&c.length)){e.next=13;break}if((u=c[0]).termsId!=n||u.version!=o.version||u.url==o.url){e.next=11;break}return d=s(s({_type:l},u),{},{url:o.url}),e.next=11,t.save(d);case 11:e.next=16;break;case 13:return f=s(s({_type:l},o),{},{termsId:n,accepted:!0,acceptedAt:new Date}),e.next=16,t.save(f);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.default={save:function(e,t){return d.apply(this,arguments)}}},36667:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.CozyClient=void 0;var a=n(r(91083)),o=n(r(7184)),i=n(r(62812)),c=n(r(92115));t.CozyClient=function(e){(0,a.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,i.default)(n);return e=t?Reflect.construct(r,arguments,(0,i.default)(this).constructor):r.apply(this,arguments),(0,o.default)(this,e)});function n(){return(0,c.default)(this,n),r.apply(this,arguments)}return n}(function e(t){(0,c.default)(this,e),Object.assign(this,t)})},6948:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(31201),t.default={}},51240:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeOfflineError=t.hasQueriesBeenLoaded=t.isQueriesLoading=t.hasQueryBeenLoaded=t.isQueryLoading=t.cancelable=void 0;var a=n(r(87925));t.cancelable=function(e){var t,r=new Promise(function(r,n){t=n,e.then(r),e.catch(n)});return r.cancel=function(){t({canceled:!0})},r};var o=function(e){return e?"loading"===e.fetchStatus||"pending"===e.fetchStatus:(a.default.warn("isQueryLoading called on falsy value."),!1)};t.isQueryLoading=o;var i=function(e){return e.lastFetch};t.hasQueryBeenLoaded=i,t.isQueriesLoading=function(e){return Object.values(e).some(function(e){return o(e)})},t.hasQueriesBeenLoaded=function(e){return Object.values(e).some(function(e){return i(e)})},t.isReactNativeOfflineError=function(e){return"Network request failed"===e.message}},24858:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(82710)),i=a(r(92115)),c=a(r(47783)),u=a(r(61023)),s=a(r(91083)),l=a(r(7184)),d=a(r(62812)),f=a(r(76729)),p=n(r(96540)),h=a(r(5556));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n=r.displayName||r.name||"Component",a=function(a){(0,s.default)(v,a);var h,m=(h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(v);return e=h?Reflect.construct(t,arguments,(0,d.default)(this).constructor):t.apply(this,arguments),(0,l.default)(this,e)});function v(r,a){var o;if((0,i.default)(this,v),o=m.call(this,r,a),(0,f.default)((0,u.default)(o),"mutate",function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return o.client.mutate(e.apply(null,n),t)}),o.client=r.client||a.client,!o.client)throw Error('Could not find "client" in either the context or props of '.concat(n));return o}return(0,c.default)(v,[{key:"render",value:function(){var e=(0,f.default)({},t.name||"mutate",this.mutate);return p.default.createElement(r,(0,o.default)({},e,this.props))}}]),v}(p.Component);return(0,f.default)(a,"contextTypes",{client:h.default.object}),a.displayName="WithMutation(".concat(n,")"),a}}},78505:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(82710)),i=a(r(92115)),c=a(r(47783)),u=a(r(91083)),s=a(r(7184)),l=a(r(62812)),d=a(r(76729)),f=a(r(10464)),p=a(r(55364)),h=n(r(96540)),m=a(r(5556)),v=a(r(87925));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=e.displayName||e.name||"Component",n=function(n){(0,u.default)(b,n);var a,m=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,l.default)(b);return e=a?Reflect.construct(t,arguments,(0,l.default)(this).constructor):t.apply(this,arguments),(0,s.default)(this,e)});function b(e,n){(0,i.default)(this,b);var a=m.call(this,e,n),o=e.client||n.client;if(v.default.warn("Deprecation: withMutations will be removed in the near future, prefer to use withClient to access the client. See https://github.com/cozy/cozy-client/pull/638 for more information."),!o)throw Error('Could not find "client" in either the context or props of '.concat(r));return a.mutations=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({createDocument:o.create.bind(o),saveDocument:o.save.bind(o),deleteDocument:o.destroy.bind(o)},p.default.apply(void 0,(0,f.default)(t.map(function(t){return"function"==typeof t?t(o,e):t})))),a}return(0,c.default)(b,[{key:"render",value:function(){return h.default.createElement(e,(0,o.default)({},this.mutations,this.props))}}]),b}(h.Component);return(0,d.default)(n,"contextTypes",{client:m.default.object}),n.displayName="WithMutations(".concat(r,")"),n}}},25055:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e);var r=t;"string"==typeof r&&(r=JSON.parse(r)),this.tokenType=r.token_type||r.tokenType,this.accessToken=r.access_token||r.accessToken,this.refreshToken=r.refresh_token||r.refreshToken,this.scope=r.scope}return(0,o.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAccessToken",value:function(){return this.accessToken}}]),e}()},59207:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeApp=t.APPS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812)),d=n(r(76729)),f=n(r(58156)),p=r(80366),h=n(r(90602)),m=n(r(57791)),v=r(80075);r(57929);var y=n(r(30598));function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.apps";t.APPS_DOCTYPE=w;var k=function(e,t){return _(_({},(0,v.normalizeDoctypeJsonApi)(t)(e)),{},{id:e.id})};t.normalizeApp=k;var O=function(e){(0,u.default)(_,e);var t,r,n,d,m,v,g=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(_);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function _(e){var t;return(0,i.default)(this,_),(t=g.call(this,w,e)).endpoint="/apps/",t}return(0,c.default)(_,[{key:"get",value:(r=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u,s,l,d,m=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.indexOf("/")>-1?n=t.split("/")[1]:(y.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query apps/konnectors only with id, please use the form ".concat(this.doctype,"/").concat(t,"\n\n- Q('io.cozy.apps').getById('banks')\n+ Q('io.cozy.apps').getById('io.cozy.apps/banks')")),n=t),!(r&&r.sources&&(!Array.isArray(r.sources)||0===r.sources.length))){e.next=3;break}throw Error('Invalid "sources" attribute passed in query, please use an array with at least one element.');case 3:o=(0,f.default)(r,"sources",["stack"]),i={stack:function(){return h.default.get(m.stackClient,"".concat(m.endpoint).concat(encodeURIComponent(n)),{normalize:function(e){return k(e,m.doctype)}})},registry:function(){return m.stackClient.fetchJSON("GET",p.registryEndpoint+n)}},c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(o),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=27;break}return s=u.value,e.prev=10,e.next=13,i[s]();case 13:if(l=e.sent,"registry"===s){e.next=16;break}return e.abrupt("return",l);case 16:return y.default.warn("The use of source registry is deprecated since it can polute the io.cozy.apps slice. For exemple, if we request data from the registry, than the app will be present in the io.cozy.apps slice and then the isInstalled() will return true.\n\n            Use Q('io.cozy.apps_registry) instead"),d=(0,p.transformRegistryFormatToStackFormat)(l),e.abrupt("return",{data:k(d,this.doctype)});case 21:if(e.prev=21,e.t0=e.catch(10),s!==o[o.length-1]){e.next=25;break}throw e.t0;case 25:e.next=8;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),c.e(e.t1);case 32:return e.prev=32,c.f(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[6,29,32,35],[10,21]])})),function(e,t){return r.apply(this,arguments)})},{key:"all",value:(n=(0,o.default)(a.default.mark(function e(){var t,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.endpoint);case 2:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return k(e,r.doctype)}),meta:{count:t.meta.count},skip:0,next:!1});case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"create",value:(d=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"update",value:(m=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("update() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)})},{key:"destroy",value:(v=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})}]),_}(m.default);O.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=O},50042:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e),this.token=t||""}return(0,o.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:".concat(this.token,"@")}},{key:"getAccessToken",value:function(){return this.token}}]),e}()},87233:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeAppFromRegistry=t.APPS_REGISTRY_DOCTYPE=void 0;var o=a(r(92115)),i=a(r(47783)),c=a(r(91083)),u=a(r(7184)),s=a(r(62812)),l=a(r(30592)),d=a(r(93889)),f=a(r(76729)),p=a(r(57791)),h=r(80075);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y="io.cozy.apps_registry";t.APPS_REGISTRY_DOCTYPE=y;var b=function(e,t){var r,n="".concat("webapp"===e.type?"io.cozy.apps":"io.cozy.konnectors","/").concat(e.slug),a=v(v({},e.attributes),null==(r=e.latest_version)?void 0:r.manifest);return v({},(0,h.normalizeDoc)(v(v({},e),{},{attributes:a,id:n,_id:n}),t))};t.normalizeAppFromRegistry=b;var g=(n=(0,d.default)(l.default.mark(function e(t,r,n){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchJSON("GET","/registry?versionsChannel=".concat(t,"&filter[type]=konnector&limit=500"));case 2:return a=e.sent,e.abrupt("return",{data:a.data.map(function(e){return b(e,r)})});case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)});t.default=function(e){(0,c.default)(p,e);var t,r,n,a,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(p);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function p(e){var t;return(0,o.default)(this,p),(t=f.call(this,y,e)).endpoint="/registry/",t}return(0,i.default)(p,[{key:"get",value:(r=(0,d.default)(l.default.mark(function e(t){var r,n,a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("konnectors/")){e.next=3;break}return r=t.split("/")[1],e.abrupt("return",g(r,this.doctype,this.stackClient));case 3:return e.next=5,this.stackClient.fetchJSON("GET","".concat(this.endpoint).concat(t));case 5:if(n=e.sent,"maintenance"!==t){e.next=8;break}return e.abrupt("return",{data:n.map(function(e){return b(e,a.doctype)})});case 8:return e.abrupt("return",{data:b(n,this.doctype)});case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"create",value:(n=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})}]),p}(p.default)},90602:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Collection=t.isDocumentUpdateConflict=t.isTimeoutError=t.isNoUsableIndexError=t.isIndexNotUsedWarning=t.isIndexConflictError=t.isIndexNotFoundError=t.dontThrowNotFoundError=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));r(77901);var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.message.match(/not_found/))return Array.isArray(t)?{data:t,meta:{count:0},skip:0,next:!1}:{data:t};throw e};t.dontThrowNotFoundError=u,t.isIndexNotFoundError=function(e){return e.message.match(/no_index/)},t.isIndexConflictError=function(e){return e.message.match(/error_saving_ddoc/)},t.isIndexNotUsedWarning=function(e){return e.match(/was not used because it does not contain a valid index for this query/)},t.isNoUsableIndexError=function(e){return e.message.match(/no_usable_index/)},t.isTimeoutError=function(e){return e.message.match(/context deadline exceeded/)},t.isDocumentUpdateConflict=function(e){return e.message.match(/Document update conflict/)};var s=function(){var e;function t(){(0,i.default)(this,t)}return(0,c.default)(t,null,[{key:"get",value:(e=(0,o.default)(a.default.mark(function e(t,r,n){var o,i,c,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(o=n.normalize)?function(e,t){return e}:o,s=void 0===(c=n.method)?"GET":c,e.prev=1,e.next=4,t.fetchJSON(s,r);case 4:return l=e.sent,e.abrupt("return",{data:i(l.data,l)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",u(e.t0,null));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t,r,n){return e.apply(this,arguments)})}]),t}();t.Collection=s,t.default=s},44515:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONTACTS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(2695)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(57791)),h=r(80075);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r(6948);var y="io.cozy.contacts";t.CONTACTS_DOCTYPE=y;var b=(0,h.normalizeDoctypeJsonApi)(y),g=function(e){var t;return v(v({},b(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})};t.default=function(e){(0,s.default)(h,e);var t,r,n,f,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(h);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,i.default)(this,h),p.apply(this,arguments)}return(0,c.default)(h,[{key:"find",value:(r=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||1!==Object.values(t).length||!0!=t.me){e.next=4;break}return e.abrupt("return",this.findMyself());case 4:return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"find",this).call(this,t,r));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"findMyself",value:(n=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/contacts/myself");case 2:return t={data:[g(e.sent.data)],next:!1,meta:null,bookmark:!1},e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(f=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys((null==t||null==(r=t.cozyMetadata)?void 0:r.sync)||{}).length>0)){e.next=6;break}return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"update",this).call(this,v(v({},t),{},{trashed:!0})));case 6:return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"destroy",this).call(this,t));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}]),h}(p.default)},52498:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(76729)),u=a(r(92115)),s=a(r(47783)),l=a(r(88055)),d=n(r(59207)),f=a(r(50042));a(r(25055));var p=a(r(57791)),h=a(r(75896)),m=n(r(51631)),v=n(r(73395)),y=a(r(76712)),b=a(r(49301)),g=n(r(16632)),_=n(r(70163)),w=n(r(98501)),k=n(r(38603)),O=n(r(30683)),x=n(r(44515)),E=n(r(87233)),C=a(r(24580)),S=a(r(55699)),A=r(91392),P=a(r(56173)),M=n(r(57929)),j=a(r(30598)),D=a(r(82022)),T=r(23911);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(e){var t=e;if(null===t)return null;for(;"/"===t[t.length-1];)t=t.slice(0,-1);return t},L=function(){var e,t,r,n;function a(e){(0,u.default)(this,a);var t=R({},e),r=t.token,n=t.uri;this.options=t,this.setUri(void 0===n?"":n),this.setToken(r),this.konnectors=new v.default(this),this.jobs=new m.default(this),this._promiseCache=new D.default}return(0,s.default)(a,[{key:"isRevocationError",value:function(e){return!!(null==e?void 0:e.message)&&(!!(M.default.CLIENT_NOT_FOUND.test(e.message)||M.default.UNREGISTERED_CLIENT.test(e.message))||void 0)}},{key:"collection",value:function(e){if(!e)throw Error("CozyStackClient.collection() called without a doctype");switch(e){case d.APPS_DOCTYPE:return new d.default(this);case v.KONNECTORS_DOCTYPE:return new v.default(this);case"io.cozy.files":return new h.default(e,this);case"io.cozy.sharings":return new y.default(e,this);case"io.cozy.permissions":return new b.default(e,this);case x.CONTACTS_DOCTYPE:return new x.default(e,this);case g.TRIGGERS_DOCTYPE:return new g.default(this);case m.JOBS_DOCTYPE:return new m.default(this);case _.SETTINGS_DOCTYPE:return new _.default(this);case w.NOTES_DOCTYPE:return new w.default(this);case k.OAUTH_CLIENTS_DOCTYPE:return new k.default(this);case O.SHORTCUTS_DOCTYPE:return new O.default(this);case E.APPS_REGISTRY_DOCTYPE:return new E.default(this);case T.NEXTCLOUD_FILES_DOCTYPE:return new T.NextcloudFilesCollection(this);default:return new p.default(e,this)}}},{key:"fetch",value:function(e){function t(t,r,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=(0,i.default)(o.default.mark(function e(t,r,n){var a,i,c,u,s,l,d=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=R({},a=d.length>3&&void 0!==d[3]?d[3]:{})).method=t,c=i.headers=R({},a.headers),"GET"!==t&&"HEAD"!==t&&void 0!==n&&c["Content-Type"]&&(i.body=n),c.Authorization||(c.Authorization=this.getAuthorizationHeader()),i.credentials=i.credentials||"include",u=this.fullpath(r),s=(0,A.shouldXMLHTTPRequestBeUsed)(t,r,i)?A.fetchWithXMLHttpRequest:fetch,e.prev=9,e.next=12,s(u,i);case 12:return(l=e.sent).ok||this.emit("error",new M.FetchError(l,"".concat(l.status," ").concat(l.statusText))),e.abrupt("return",l);case 17:throw e.prev=17,e.t0=e.catch(9),this.isRevocationError(e.t0)&&this.onRevocationChange(!0),e.t0;case 21:case"end":return e.stop()}},e,this,[[9,17]])})),function(t,r,n){return e.apply(this,arguments)}))},{key:"onTokenRefresh",value:function(e){this.options&&this.options.onTokenRefresh&&this.options.onTokenRefresh(e)}},{key:"onRevocationChange",value:function(e){this.options&&this.options.onRevocationChange&&this.options.onRevocationChange(e)}},{key:"refreshToken",value:(t=(0,i.default)(o.default.mark(function e(){var t,r,n,a,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}throw Error("Cannot refresh an empty token");case 2:return t={method:"GET",credentials:"include"},e.next=5,fetch("/?refreshToken",t);case 5:if((r=e.sent).ok){e.next=8;break}throw Error("Couldn't fetch a new token - response "+r.statusCode);case 8:return e.next=10,r.text();case 10:if(!(!(n=e.sent.match(/data-cozy="([^"]+)"/))||n.length<2)){e.next=14;break}throw Error("Couldn't fetch a new token - no data-cozy element found in HTML");case 14:if(a=JSON.parse(n[1].replace(/&#34;/g,'"')).token){e.next=19;break}throw Error("Couldn't fetch a new token - missing in data-cozy attribute");case 19:return i=new f.default(a),this.setToken(i),this.onTokenRefresh(i),j.default.info("Token successfully refreshed"),e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"fetchJSON",value:(r=(0,i.default)(o.default.mark(function e(t,r,n){var a,i=this,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},e.prev=1,e.next=4,this.fetchJSONWithCurrentToken(t,r,n,a);case 4:case 20:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(M.default.EXPIRED_TOKEN.test(e.t0.message)||M.default.INVALID_TOKEN.test(e.t0.message)||M.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=23;break}return e.prev=10,e.next=13,this._promiseCache.exec(function(){return i.refreshToken()},function(){return"refreshToken"});case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),e.t0;case 18:return e.next=20,this.fetchJSONWithCurrentToken(t,r,n,a);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[1,7],[10,15]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"fetchJSONWithCurrentToken",value:(n=(0,i.default)(o.default.mark(function e(t,r,n){var a,i,c,u,s,d,f,p,h=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:{},(c=(i=(0,l.default)(a)).headers=i.headers||{}).Accept="application/json",u=n,"GET"===t||"HEAD"===t||void 0===u||c["Content-Type"]||(c["Content-Type"]="application/json",u=JSON.stringify(u)),e.next=8,this.fetch(t,r,u,i);case 8:return f=(d=(s=e.sent).headers.get("content-type"))&&d.indexOf("json")>=0,e.next=13,f?s.json():s.text();case 13:if(p=e.sent,!s.ok){e.next=16;break}return e.abrupt("return",p);case 16:throw new M.FetchError(s,p);case 17:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"fullpath",value:function(e){return e.startsWith("http")?e:this.uri+e}},{key:"getAuthorizationHeader",value:function(){return this.token?this.token.toAuthHeader():null}},{key:"setCredentials",value:function(e){return(0,S.default)("CozyStackClient::setCredentials is deprecated, use CozyStackClient::setToken"),this.setToken(e)}},{key:"getCredentials",value:function(){return(0,S.default)("CozyStackClient::getCredentials is deprecated, use CozyStackClient::getAuthorizationHeader"),this.getAuthorizationHeader()}},{key:"setToken",value:function(e){if(e){if(e.toAuthHeader)this.token=e;else if("string"==typeof e)this.token=new f.default(e);else throw j.default.warn("Cozy-Client: Unknown token format",e),Error("Cozy-Client: Unknown token format");this.onRevocationChange(!1)}else this.token=null}},{key:"getAccessToken",value:function(){return this.token&&this.token.getAccessToken()}},{key:"setUri",value:function(e){this.uri=N(e)}},{key:"getIconURL",value:function(e){return(0,C.default)(this,e)}}]),a}();P.default.mixin(L),t.default=L},57791:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(80539)),i=a(r(10464)),c=a(r(76729)),u=a(r(30592)),s=a(r(46370)),l=a(r(93889)),d=a(r(92115)),f=a(r(47783)),p=a(r(94619)),h=r(977),m=a(r(63375)),v=a(r(90179)),y=a(r(912)),b=a(r(55364)),g=a(r(22331)),_=a(r(55373)),w=r(55104),k=r(80075),O=n(r(90602)),x=n(r(12505));r(57929);var E=a(r(30598));function C(){var e=(0,s.default)(["/data/","/_design/","/copy?rev=",""]);return C=function(){return e},e}function S(){var e=(0,s.default)(["/data/","/_design/","?rev=",""]);return S=function(){return e},e}function A(){var e=(0,s.default)(["/data/","/_design_docs?include_docs=true"]);return A=function(){return e},e}function P(){var e=(0,s.default)(["/data/","/_index"]);return P=function(){return e},e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(){var e=(0,s.default)(["/data/","/","?rev=",""]);return j=function(){return e},e}function D(){var e=(0,s.default)(["/data/","/",""]);return D=function(){return e},e}function T(){var e=(0,s.default)(["/data/","/",""]);return T=function(){return e},e}function I(){var e=(0,s.default)(["/data/","/_all_docs?include_docs=true"]);return I=function(){return e},e}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(){var e=(0,s.default)(["/data/","/_find"]);return L=function(){return e},e}function F(){var e=(0,s.default)(["/data/","/",""]);return F=function(){return e},e}var B=function(e){return Object.assign({},(0,v.default)(e,"_type"),{_deleted:!0})};t.default=function(){var e,t,r,n,a,s,R,z,H,U,V,Z,G,q,W,Q,J,Y,$,K,X,ee;function et(e,t){(0,d.default)(this,et),this.doctype=e,this.stackClient=t,this.indexes={},this.endpoint="/data/".concat(this.doctype,"/")}return(0,f.default)(et,[{key:"all",value:(e=(0,l.default)(u.default.mark(function e(){var t,r,n,a,o,i,c,s,l,d,f,p,m,v,y,b=this,_=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=_.length>0&&void 0!==_[0]?_[0]:{}).limit)?100:r,o=void 0===(a=t.skip)?0:a,i=t.bookmark,l=(s=!!(c=t.keys)||null===n)?"_all_docs":"_normal_docs",d=(0,h.uri)(F(),this.doctype,l),f={include_docs:!0,limit:n,skip:o,keys:c,bookmark:i},p=x.buildURL(d,f),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",p);case 9:m=e.sent,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 15:return v=s?m.rows.filter(function(e){return e&&null!==e.doc&&!e.error&&!(0,g.default)(e.id,"_design")}).map(function(e){return(0,k.normalizeDoc)(e.doc,b.doctype)}):m.rows.map(function(e){return(0,k.normalizeDoc)(e,b.doctype)}),y=i?m.rows.length>=n:o+m.rows.length<m.total_rows,e.abrupt("return",{data:v,meta:{count:s?v.length:m.total_rows},skip:o,bookmark:m.bookmark,next:y});case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(){return e.apply(this,arguments)})},{key:"fetchDocumentsWithMango",value:(t=(0,l.default)(u.default.mark(function e(t,r){var n,a=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",this.stackClient.fetchJSON("POST",t,this.toMangoOptions(r,n)));case 2:case"end":return e.stop()}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"migrateIndex",value:(r=(0,l.default)(u.default.mark(function e(t,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.copyIndex(t,r);case 3:return e.next=5,this.destroyIndex(t);case 5:e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(0),(0,O.isDocumentUpdateConflict)(e.t0)){e.next=11;break}throw e.t0;case 11:return(0,h.sleep)(1e3),e.next=14,this.copyIndex(t,r);case 14:return e.next=16,this.destroyIndex(t);case 16:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return r.apply(this,arguments)})},{key:"handleMissingIndex",value:(n=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.indexedFields,a=r.partialFilter,n||(n=(0,w.getIndexFields)({sort:r.sort,selector:t})),o=(0,w.getIndexNameFromFields)(n,a),e.next=5,this.findExistingIndex(t,r);case 5:if(i=e.sent){e.next=11;break}return e.next=9,this.createIndex(n,{partialFilter:a,indexName:o});case 9:case 14:e.next=17;break;case 11:if(i._id==="_design/".concat(o)){e.next=16;break}return e.next=14,this.migrateIndex(i,o);case 16:throw Error("Index unusable for query, index used: ".concat(o));case 17:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findWithMango",value:(a=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,e.next=4,this.fetchDocumentsWithMango(t,r,n);case 4:if(!((i=(a=e.sent).warning||(null==(o=a.meta)?void 0:o.warning))&&n.partialFilter&&(0,O.isIndexNotUsedWarning)(i))){e.next=8;break}throw Error("no_index");case 8:e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(1),!((0,O.isIndexNotFoundError)(e.t0)||(0,O.isNoUsableIndexError)(e.t0)||(0,O.isTimeoutError)(e.t0))){e.next=20;break}return e.next=15,this.handleMissingIndex(r,n);case 15:return e.next=17,this.fetchDocumentsWithMango(t,r,n);case 17:a=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}},e,this,[[1,10]])})),function(e,t){return a.apply(this,arguments)})},{key:"find",value:(s=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c=this,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=s.length>1&&void 0!==s[1]?s[1]:{}).skip)?0:n,e.prev=2,i=(0,h.uri)(L(),this.doctype),e.next=6,this.findWithMango(i,t,r);case 6:o=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 12:return e.abrupt("return",{data:o.docs.map(function(e){return(0,k.normalizeDoc)(e,c.doctype)}),next:o.next,skip:a,bookmark:o.bookmark,execution_stats:o.execution_stats});case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return s.apply(this,arguments)})},{key:"findAll",value:(R=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,c,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:{},n=!0,a=[],o=r.bookmark||void 0;case 4:if(!n){e.next=13;break}return e.next=7,this.find(t,N(N({},r),{},{bookmark:o}));case 7:c=e.sent,a.push.apply(a,(0,i.default)(c.data)),o=c.bookmark,n=c.next,e.next=4;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"get",value:(z=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.default.get(this.stackClient,"".concat(this.endpoint).concat(encodeURIComponent(t)),{normalize:this.constructor.normalizeDoctype(this.doctype)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"getAll",value:(H=(0,l.default)(u.default.mark(function e(t){var r,n,a=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",(0,h.uri)(I(),this.doctype),{keys:t});case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 9:return n=r.rows.filter(function(e){return e.doc}),e.abrupt("return",{data:n.map(function(e){return(0,k.normalizeDoc)(e.doc,a.doctype)}),meta:{count:n.length}});case 11:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return H.apply(this,arguments)})},{key:"create",value:(U=(0,l.default)(u.default.mark(function e(t){var r,n,a,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,t._type,n=(0,o.default)(t,["_id","_type"]),i=(a=!!r)?"PUT":"POST",c=(0,h.uri)(T(),this.doctype,a?r:""),e.next=6,this.stackClient.fetchJSON(i,c,n);case 6:return s=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(s.data,this.doctype)});case 8:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"update",value:(V=(0,l.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("PUT",(0,h.uri)(D(),this.doctype,t._id),t);case 2:return r=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(r.data,this.doctype)});case 4:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"destroy",value:(Z=(0,l.default)(u.default.mark(function e(t){var r,n,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,n=t._rev,a=(0,o.default)(t,["_id","_rev"]),e.next=3,this.stackClient.fetchJSON("DELETE",(0,h.uri)(j(),this.doctype,r,n));case 3:return i=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(N(N({},a),{},{_id:r,_rev:i.rev,_deleted:!0}),this.doctype)});case 5:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"updateAll",value:(G=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.stackClient,!(!(n=t?t.map(function(e){return(0,v.default)(e,"_type")}):t)||!n.length)){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return e.prev=4,e.next=7,r.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:n});case 7:return a=e.sent,e.abrupt("return",a);case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."===e.t0.reason.reason)){e.next=24;break}return e.next=16,this.create(n[0]);case 16:return o=e.sent,e.next=19,this.updateAll(n.slice(1));case 19:return(i=e.sent).unshift({ok:!0,id:o._id,rev:o._rev}),e.abrupt("return",i);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[4,11]])})),function(e){return G.apply(this,arguments)})},{key:"destroyAll",value:function(e){return this.updateAll(e.map(B))}},{key:"toMangoOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sort,n=t.indexedFields,a=t.partialFilter,o=t.fields,u=t.skip,s=t.limit,l=t.bookmark;r=(0,w.transformSort)(r),!n&&e&&E.default.warn("Selector fields should be manually indexed to prevent unexpected behaviour"),n=n||(0,w.getIndexFields)({sort:r,selector:e});var d=t.indexId||"_design/".concat((0,w.getIndexNameFromFields)(n,a));if(r){var f=(0,m.default)(r.map(function(e){return(0,y.default)(Object.values(e))}));if(f.length>1)throw Error("Mango sort can only use a single order (asc or desc).");var h,v=f.length>0?(0,y.default)(f):"asc",g=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return M(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(n);try{for(g.s();!(h=g.n()).done;)!function(){var e=h.value;r.find(function(t){return(0,y.default)(Object.keys(t))===e})||r.push((0,c.default)({},e,v))}()}catch(e){g.e(e)}finally{g.f()}}return{selector:a?(0,b.default)(N({},e),a):e,use_index:d,fields:o?[].concat((0,i.default)(o),["_id","_rev"]):void 0,limit:s,skip:void 0===u?0:u,bookmark:t.bookmark||l,sort:r,execution_stats:!!(0,p.default)("debug")||void 0}}},{key:"checkUniquenessOf",value:(q=(0,l.default)(u.default.mark(function e(t,r){var n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUniqueIndexId(t);case 2:return n=e.sent,e.next=5,this.find((0,c.default)({},t,r),{indexId:n,fields:["_id"]});case 5:return a=e.sent,e.abrupt("return",0===a.data.length);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return q.apply(this,arguments)})},{key:"getUniqueIndexId",value:function(e){return this.getIndexId([e],{indexName:"".concat(this.doctype,"/").concat(e)})}},{key:"getIndexId",value:(W=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(n=r.partialFilter)?"":n,i=void 0===(o=r.indexName)?(0,w.getIndexNameFromFields)(t):o,this.indexes[i]){e.next=20;break}return e.prev=2,e.next=5,this.createIndex(t,{partialFilter:a});case 5:c=e.sent,e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(2),(0,O.isIndexConflictError)(e.t0)){e.next=14;break}throw e.t0;case 14:return e.next=16,(0,h.sleep)(1e3);case 16:return e.next=18,this.createIndex(t,{partialFilter:a});case 18:c=e.sent;case 19:this.indexes[i]=c;case 20:return e.abrupt("return",this.indexes[i].id);case 21:case"end":return e.stop()}},e,this,[[2,8]])})),function(e,t){return W.apply(this,arguments)})},{key:"createIndex",value:(Q=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c,s,l,d=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=d.length>1&&void 0!==d[1]?d[1]:{}).partialFilter,a=r.indexName,o={index:{fields:t}},a&&(o.ddoc=a),n&&(o.index.partial_filter_selector=n),e.prev=4,e.next=7,this.stackClient.fetchJSON("POST",(0,h.uri)(P(),this.doctype),o);case 7:i=e.sent,e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(4),(0,O.isIndexConflictError)(e.t0)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return");case 17:if(c={id:i.id,fields:t},"exists"!==i.result){e.next=20;break}return e.abrupt("return",c);case 20:return s={},t.forEach(function(e){return s[e]={$gt:null}}),l={indexId:c.id,limit:1,partialFilterFields:n?(0,w.getIndexFields)({partialFilter:n}):null},e.next=25,(0,h.attempt)(this.find(s,l));case 25:if(!e.sent){e.next=27;break}return e.abrupt("return",c);case 27:return e.next=29,(0,h.sleep)(1e3);case 29:return e.next=31,(0,h.attempt)(this.find(s,l));case 31:if(!e.sent){e.next=33;break}return e.abrupt("return",c);case 33:return e.next=35,(0,h.sleep)(500);case 35:return e.abrupt("return",c);case 36:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return Q.apply(this,arguments)})},{key:"fetchAllMangoIndexes",value:(J=(0,l.default)(u.default.mark(function e(){var t,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.uri)(A(),this.doctype),e.next=3,this.stackClient.fetchJSON("GET",t);case 3:return r=e.sent,e.abrupt("return",r.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(0,w.normalizeDesignDoc)(e)}));case 5:case"end":return e.stop()}},e,this)})),function(){return J.apply(this,arguments)})},{key:"destroyIndex",value:(Y=(0,l.default)(u.default.mark(function e(t){var r,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id.split("/")[1],n=t._rev,a=(0,h.uri)(S(),this.doctype,r,n),e.abrupt("return",this.stackClient.fetchJSON("DELETE",a));case 4:case"end":return e.stop()}},e,this)})),function(e){return Y.apply(this,arguments)})},{key:"copyIndex",value:($=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id.split("/")[1],a=t._rev,o=(0,h.uri)(C(),this.doctype,n,a),i={headers:{Destination:"_design/".concat(r)}},e.abrupt("return",this.stackClient.fetchJSON("POST",o,null,i));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return $.apply(this,arguments)})},{key:"findExistingIndex",value:(K=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.sort,a=r.indexedFields,o=r.partialFilter,e.next=3,this.fetchAllMangoIndexes();case 3:if(!((i=e.sent).length<1)){e.next=6;break}return e.abrupt("return",null);case 6:return n=(0,w.transformSort)(n),c=a||(0,w.getIndexFields)({sort:n,selector:t}),s=i.find(function(e){return(0,w.isMatchingIndex)(e,c,o)}),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"fetchChangesRaw",value:(X=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.doc_ids&&t.doc_ids.length>0,n="?".concat([_.default.stringify(N(N({},(0,v.default)(t,["doc_ids","includeDocs"])),{},{include_docs:t.includeDocs})),r&&void 0===t.filter?"filter=_doc_ids":void 0].filter(Boolean).join("&")),a=r?"POST":"GET",o="/data/".concat(this.doctype,"/_changes").concat(n),i=r?{doc_ids:t.doc_ids}:void 0,e.next=7,this.stackClient.fetchJSON(a,o,i);case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)})),function(e){return X.apply(this,arguments)})},{key:"fetchChanges",value:(ee=(0,l.default)(u.default.mark(function e(){var t,r,n,a,o,i,c=this,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},r=s.length>1&&void 0!==s[1]?s[1]:{},n={includeDocs:!0},"object"!=typeof t?(n.since=t,E.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(n,t),e.next=6,this.fetchChangesRaw(n);case 6:return o=(a=e.sent).last_seq,i=a.results.map(function(e){return e.doc}).filter(Boolean),r.includeDesign||(i=i.filter(function(e){return 0!==e._id.indexOf("_design")})),r.includeDeleted||(i=i.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:o,documents:i.map(function(e){return(0,k.normalizeDoc)(e,c.doctype)})});case 12:case"end":return e.stop()}},e,this)})),function(){return ee.apply(this,arguments)})}],[{key:"normalizeDoctype",value:function(e){return(0,k.normalizeDoctypeRawApi)(e)}}]),et}()},75896:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isDirectory=t.isFile=void 0;var o=a(r(80539)),i=a(r(30592)),c=a(r(46370)),u=a(r(93889)),s=a(r(92115)),l=a(r(47783)),d=a(r(61023)),f=a(r(91083)),p=a(r(7184)),h=a(r(62812)),m=a(r(76729)),v=a(r(71133)),y=a(r(61448)),b=a(r(58156)),g=a(r(90179)),_=a(r(44383));r(55104);var w=a(r(57791)),k=r(80075),O=r(977);r(57929);var x=r(90602),E=r(37125),C=n(r(12505)),S=a(r(30598));function A(){var e=(0,c.default)(["/files/_changes"]);return A=function(){return e},e}function P(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return P=function(){return e},e}function M(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return M=function(){return e},e}function j(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return j=function(){return e},e}function D(){var e=(0,c.default)(["/files/","/versions"]);return D=function(){return e},e}function T(){var e=(0,c.default)(["/files/upload/metadata"]);return T=function(){return e},e}function I(){var e=(0,c.default)(["/files/",""]);return I=function(){return e},e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(){var e=(0,c.default)(["/files/","?Name=","&Type=directory&MetadataID=",""]);return N=function(){return e},e}function L(){var e=(0,c.default)(["/files/metadata?Path=",""]);return L=function(){return e},e}function F(){var e=(0,c.default)(["/files/",""]);return F=function(){return e},e}function B(){var e=(0,c.default)(["/files/downloads?Path=",""]);return B=function(){return e},e}function z(){var e=(0,c.default)(["/files/downloads?VersionId=","&Filename=",""]);return z=function(){return e},e}function H(){var e=(0,c.default)(["/files/downloads?Id=","&Filename=",""]);return H=function(){return e},e}function U(){var e=(0,c.default)(["/files/","?Name=","&Type=file&Executable=","&Encrypted=",""]);return U=function(){return e},e}function V(){var e=(0,c.default)(["/files/","?Name=","&Type=file&Executable=","&Encrypted=","&MetadataID=","&Size=","&SourceAccount=","&SourceAccountIdentifier=",""]);return V=function(){return e},e}function Z(){var e=(0,c.default)(["/files/",""]);return Z=function(){return e},e}function G(){var e=(0,c.default)(["/files/","/copy"]);return G=function(){return e},e}function q(){var e=(0,c.default)(["/files/trash/",""]);return q=function(){return e},e}function W(){var e=(0,c.default)(["/files/",""]);return W=function(){return e},e}function Q(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return Q=function(){return e},e}function J(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return J=function(){return e},e}function Y(){var e=(0,c.default)(["/files/","/relationships/referenced_by"]);return Y=function(){return e},e}function $(){var e=(0,c.default)(["/files/","/relationships/referenced_by"]);return $=function(){return e},e}function K(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return K=function(){return e},e}function X(){var e=(0,c.default)(["/files/_all_docs?include_docs=true"]);return X=function(){return e},e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var er="io.cozy.files.root-dir",en=(0,k.normalizeDoctypeJsonApi)("io.cozy.files"),ea=function(e){var t;return et(et({},en(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})},eo=function(e){return e?e.map(function(e){return{_type:e.type,_id:e.id}}):[]},ei=function(e){return e&&e.trim()},ec=function(e){var t=ei(e);if("string"!=typeof t||""===t)throw Error("Missing name argument");if("."===e||".."===e)throw Error("Invalid filename: ".concat(e));var r=(0,E.getIllegalCharacters)(t);if(r.length)throw Error("Invalid filename containing illegal character(s): ".concat(r));return t};t.isFile=function(e){var t=e._type,r=e.type;return"io.cozy.files"===t||"directory"===r||"file"===r},t.isDirectory=function(e){return"directory"===e.type};var eu=function(e,t){return new Promise(function(r){e.forEach(function(e){return e.then(function(e){t(e)&&r(!0)})}),Promise.all(e).then(function(){return r(!1)})})},es=function(e){var t=e.lastIndexOf("/");return e.substring(0,t)};t.default=function(e){(0,f.default)(eF,e);var t,r,n,a,c,w,k,E,ee,en,el,ed,ef,ep,eh,em,ev,ey,eb,eg,e_,ew,ek,eO,ex,eE,eC,eS,eA,eP,eM,ej,eD,eT,eI,eR,eN,eL=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,h.default)(eF);return e=t?Reflect.construct(r,arguments,(0,h.default)(this).constructor):r.apply(this,arguments),(0,p.default)(this,e)});function eF(e,t){var r;return(0,s.default)(this,eF),r=eL.call(this,e,t),(0,m.default)((0,d.default)(r),"extractResponseLinkRelated",function(e){var t=e.links&&e.links.related;if(!t)throw Error("No related link in server response");return r.stackClient.fullpath(t)}),(0,m.default)((0,d.default)(r),"forceFileDownload",function(e,t){(0,O.forceDownload)(e,t)}),r.specialDirectories={},r}return(0,l.default)(eF,[{key:"get",value:function(e){return this.statById(e)}},{key:"getAll",value:(r=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",(0,O.uri)(X()),{keys:t});case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,x.dontThrowNotFoundError)(e.t0));case 9:return e.abrupt("return",{data:r.data.map(function(e){return ea(e)}),meta:{count:r.data.length},execution_stats:r.execution_stats});case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return r.apply(this,arguments)})},{key:"fetchFindFiles",value:(n=(0,u.default)(i.default.mark(function e(t,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST","/files/_find",this.toMangoOptions(t,r)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"find",value:(a=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=s.length>1&&void 0!==s[1]?s[1]:{}).skip)?0:n,e.prev=2,e.next=6,this.findWithMango("/files/_find",t,r);case 6:o=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,x.dontThrowNotFoundError)(e.t0));case 12:return c=(0,b.default)(o,"links.next",""),u=new URL("".concat(this.stackClient.uri).concat(c)).searchParams.get("page[cursor]"),e.abrupt("return",{data:o.data.map(function(e){return ea(e)}),meta:o.meta,next:o.meta.count>a+o.data.length,skip:a,bookmark:u||void 0,execution_stats:o.meta.execution_stats});case 16:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return a.apply(this,arguments)})},{key:"findReferencedBy",value:(c=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:n,o={include:"files","page[limit]":r.limit,"page[cursor]":r.cursor,sort:"datetime"},c=(0,O.uri)(K(),t._type,t._id),u=C.buildURL(c,o),e.next=6,this.stackClient.fetchJSON("GET",u);case 6:return s=e.sent,e.abrupt("return",{data:eo(s.data),included:s.included?s.included.map(function(e){return ea(e)}):[],next:(0,y.default)(s,"links.next"),meta:s.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"addReferencedBy",value:(w=(0,u.default)(i.default.mark(function e(t,r){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:e._type}}),e.next=3,this.stackClient.fetchJSON("POST",(0,O.uri)($(),t._id),{data:n});case 3:return a=e.sent,e.abrupt("return",{data:eo(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"removeReferencedBy",value:(k=(0,u.default)(i.default.mark(function e(t,r){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id||e.id,type:e._type||e.type}}),e.next=3,this.stackClient.fetchJSON("DELETE",(0,O.uri)(Y(),t._id||t.id),{data:n});case 3:return a=e.sent,e.abrupt("return",{data:eo(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"addReferencesTo",value:(E=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("POST",(0,O.uri)(J(),t._type,t._id),{data:n}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"removeReferencesTo",value:(ee=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("DELETE",(0,O.uri)(Q(),t._type,t._id),{data:n}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ee.apply(this,arguments)})},{key:"destroy",value:(en=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(l.length>1&&void 0!==l[1]?l[1]:{}).ifMatch)?"":r,a=t._id,o=t.relationships,c=t.referenced_by,e.next=4,this.stackClient.fetchJSON("DELETE",(0,O.uri)(W(),a),void 0,{headers:{"If-Match":n}});case 4:if(u=e.sent,!Array.isArray(s=(0,b.default)(o,"referenced_by.data",c))){e.next=9;break}return e.next=9,this.removeReferencedBy(t,s);case 9:return e.abrupt("return",{data:ea(u.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return en.apply(this,arguments)})},{key:"emptyTrash",value:function(){return this.stackClient.fetchJSON("DELETE","/files/trash")}},{key:"restore",value:function(e){return this.stackClient.fetchJSON("POST",(0,O.uri)(q(),e))}},{key:"copy",value:(el=(0,u.default)(i.default.mark(function e(t,r,n){var a,o,c,u,s,l,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(a=(f.length>3&&void 0!==f[3]?f[3]:{}).sanitizeName)||a,null!=(c=r)&&o&&(c=ec(c)),u={name:c,DirID:n},s=(0,O.uri)(G(),t),l=C.buildURL(s,u),e.next=8,this.stackClient.fetchJSON("POST",l);case 8:return d=e.sent,e.abrupt("return",{data:ea(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return el.apply(this,arguments)})},{key:"deleteFilePermanently",value:(ed=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("PATCH",(0,O.uri)(Z(),t),{data:{type:"io.cozy.files",id:t,attributes:{permanent_delete:!0}}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)})),function(e){return ed.apply(this,arguments)})},{key:"upload",value:(ef=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(c.length>2&&void 0!==c[2]?c[2]:{}).sanitizeName)||n,e.next=3,this.ensureDirectoryExists(r,{sanitizeName:a});case 3:return o=e.sent,e.abrupt("return",this.createFile(t,{dirId:o},{sanitizeName:a}));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return ef.apply(this,arguments)})},{key:"create",value:(ep=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(r=(u.length>1&&void 0!==u[1]?u[1]:{}).sanitizeName)||r,"directory"!==t.type){e.next=5;break}return e.abrupt("return",this.createDirectory(t,{sanitizeName:n}));case 5:return a=t.data,c=(0,o.default)(t,["data"]),e.abrupt("return",this.createFile(a,c,{sanitizeName:n}));case 7:case"end":return e.stop()}},e,this)})),function(e){return ep.apply(this,arguments)})},{key:"update",value:(eh=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(r=(s.length>1&&void 0!==s[1]?s[1]:{}).sanitizeName)||r,a=t.data,c=(0,o.default)(t,["data"]),u=t.id||t._id,!a){e.next=8;break}if("directory"!==t.type){e.next=6;break}throw Error("You cannot pass a data object for a directory");case 6:return c.fileId=u,e.abrupt("return",this.updateFile(a,c,{sanitizeName:n}));case 8:return e.abrupt("return",this.updateAttributes(u,t,{sanitizeName:n}));case 9:case"end":return e.stop()}},e,this)})),function(e){return eh.apply(this,arguments)})},{key:"createFile",value:(em=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,x,E=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E.length>1&&void 0!==E[1]?E[1]:{},a=void 0===(n=(E.length>2&&void 0!==E[2]?E[2]:{}).sanitizeName)||n,c=r.name,s=void 0===(u=r.dirId)?"":u,d=void 0!==(l=r.executable)&&l,p=void 0!==(f=r.encrypted)&&f,h=r.metadata,v=void 0===(m=r.sourceAccount)?"":m,b=void 0===(y=r.sourceAccountIdentifier)?"":y,g=(0,o.default)(r,["name","dirId","executable","encrypted","metadata","sourceAccount","sourceAccountIdentifier"]),(_=c)||"string"!=typeof t.name||(_=t.name),a&&(_=ec(_)),w="",!h){e.next=12;break}return e.next=10,this.createFileMetadata(h);case 10:w=e.sent.data.id;case 12:return k="",g.contentLength&&(k=String(g.contentLength)),x=(0,O.uri)(V(),s,_,d,p,w,k,v,b),e.abrupt("return",this.doUpload(t,x,g));case 16:case"end":return e.stop()}},e,this)})),function(e){return em.apply(this,arguments)})},{key:"updateFile",value:(ev=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w.length>1&&void 0!==w[1]?w[1]:{},a=void 0===(n=(w.length>2&&void 0!==w[2]?w[2]:{}).sanitizeName)||n,u=void 0!==(c=r.executable)&&c,l=void 0!==(s=r.encrypted)&&s,d=r.fileId,p=void 0===(f=r.name)?"":f,h=r.metadata,m=(0,o.default)(r,["executable","encrypted","fileId","name","metadata"]),!(!d||"string"!=typeof d)){e.next=5;break}throw Error("missing fileId argument");case 5:if(!(!(v=p||t.name)||"string"!=typeof v)){e.next=8;break}throw Error("missing name in data argument");case 8:if(y=a?ec(v):v,g=(0,O.uri)(U(),d,y,u,l),!h){e.next=16;break}return e.next=13,this.createFileMetadata(h);case 13:b=e.sent.data.id,g+="&MetadataID=".concat(b);case 16:return _="",m.contentLength&&(_=String(m.contentLength),g+="&Size=".concat(_)),e.abrupt("return",this.doUpload(t,g,m,"PUT"));case 19:case"end":return e.stop()}},e,this)})),function(e){return ev.apply(this,arguments)})},{key:"getDownloadLinkById",value:function(e,t){return this.stackClient.fetchJSON("POST",(0,O.uri)(H(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByRevision",value:function(e,t){return this.stackClient.fetchJSON("POST",(0,O.uri)(z(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByPath",value:function(e){return this.stackClient.fetchJSON("POST",(0,O.uri)(B(),e)).then(this.extractResponseLinkRelated)}},{key:"download",value:(ey=(0,u.default)(i.default.mark(function e(t){var r,n,a,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,a=(o.length>2&&void 0!==o[2]?o[2]:void 0)||t.name,r){e.next=9;break}return e.next=6,this.getDownloadLinkById(t._id,a);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,this.getDownloadLinkByRevision(r,a);case 11:n=e.sent;case 12:this.forceFileDownload("".concat(n,"?Dl=1"),a);case 13:case"end":return e.stop()}},e,this)})),function(e){return ey.apply(this,arguments)})},{key:"fetchFileContent",value:(eb=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("FileCollection.fetchFileContent() is deprecated. Use FileCollection.fetchFileContentById() instead"),e.abrupt("return",this.fetchFileContentById(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return eb.apply(this,arguments)})},{key:"fetchFileContentById",value:(eg=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetch("GET","/files/download/".concat(t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return eg.apply(this,arguments)})},{key:"getBeautifulSize",value:function(e,t){return(0,O.formatBytes)(parseInt(e.size),t)}},{key:"downloadArchive",value:(e_=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(u.length>2&&void 0!==u[2]?u[2]:{}).pages,a=r?(0,O.slugify)(r):"files",e.next=4,this.createArchiveLinkByIds({ids:t,name:a,pages:n});case 4:o=e.sent,c=this.stackClient.fullpath(o),this.forceFileDownload(c,a+".zip");case 7:case"end":return e.stop()}},e,this)})),function(e,t){return e_.apply(this,arguments)})},{key:"getArchiveLinkByIds",value:(ew=(0,u.default)(i.default.mark(function e(t){var r,n,a=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"files",S.default.warn("CozyClient FileCollection getArchiveLinkByIds method is deprecated. Use createArchiveLinkByIds instead"),e.next=4,this.stackClient.fetchJSON("POST","/files/archive",{data:{type:"io.cozy.archives",attributes:{name:r,ids:t}}});case 4:return n=e.sent,e.abrupt("return",n.links.related);case 6:case"end":return e.stop()}},e,this)})),function(e){return ew.apply(this,arguments)})},{key:"createArchiveLinkByIds",value:(ek=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ids,a=void 0===(n=t.name)?"files":n,o=t.pages,e.next=3,this.stackClient.fetchJSON("POST","/files/archive",{data:{type:"io.cozy.archives",attributes:et({name:a,ids:r},o&&{pages:o})}});case 3:return c=e.sent,e.abrupt("return",c.links.related);case 5:case"end":return e.stop()}},e,this)})),function(e){return ek.apply(this,arguments)})},{key:"isChildOf",value:(eO=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s,l,d,f,p=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n="object"==typeof t?t:{_id:t})._id,o=n.dirID,c=n.path,u=("object"==typeof r?r:{_id:r})._id,a!==u&&o!==u){e.next=4;break}return e.abrupt("return",!0);case 4:if(c){e.next=10;break}return e.next=7,this.statById(a);case 7:c=(s=e.sent).data.path,o=s.data.dirID;case 10:for(l=c,d=[c];""!=l;)""!=(f=es(l))&&d.push(f),l=f;return d.reverse(),e.abrupt("return",eu(d.map(function(e){return p.statByPath(e)}),function(e){return e.data._id==u}));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return eO.apply(this,arguments)})},{key:"statById",value:(ex=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=(0,_.default)(r,["page[limit]","page[skip]","page[cursor]"]),a=(0,O.uri)(F(),t),o=C.buildURL(a,n),e.next=6,this.stackClient.fetchJSON("GET",o);case 6:return c=e.sent,e.abrupt("return",{data:ea(c.data),included:c.included&&c.included.map(function(e){return ea(e)}),links:c.links});case 8:case"end":return e.stop()}},e,this)})),function(e){return ex.apply(this,arguments)})},{key:"statByPath",value:(eE=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,O.uri)(L(),t));case 2:return r=e.sent,e.abrupt("return",{data:ea(r.data),included:r.included&&r.included.map(function(e){return ea(e)})});case 4:case"end":return e.stop()}},e,this)})),function(e){return eE.apply(this,arguments)})},{key:"createDirectory",value:(eC=(0,u.default)(i.default.mark(function e(){var t,r,n,a,o,c,u,s,l,d,f,p=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},n=void 0===(r=(p.length>1&&void 0!==p[1]?p[1]:{}).sanitizeName)||r,a=t.name,o=t.dirId,c=t.lastModifiedDate,u=t.metadata,s="",!u){e.next=9;break}return e.next=7,this.createFileMetadata(u);case 7:s=e.sent.data.id;case 9:return l=n?ec(a):a,d=c&&("string"==typeof c?new Date(c):c),e.next=13,this.stackClient.fetchJSON("POST",(0,O.uri)(N(),o,l,s),void 0,{headers:{Date:d?d.toGMTString():""}});case 13:return f=e.sent,e.abrupt("return",{data:ea(f.data)});case 15:case"end":return e.stop()}},e,this)})),function(){return eC.apply(this,arguments)})},{key:"ensureDirectoryExists",value:(eS=(0,u.default)(i.default.mark(function e(t){var r,n,a,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(r=(o.length>1&&void 0!==o[1]?o[1]:{}).sanitizeName)||r,this.specialDirectories[t]){e.next=6;break}return e.next=4,this.createDirectoryByPath(t,{sanitizeName:n});case 4:a=e.sent,this.specialDirectories[t]=a.data._id;case 6:return e.abrupt("return",this.specialDirectories[t]);case 7:case"end":return e.stop()}},e,this)})),function(e){return eS.apply(this,arguments)})},{key:"getDirectoryOrCreate",value:(eA=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(n=(l.length>2&&void 0!==l[2]?l[2]:{}).sanitizeName)||n,!(r&&!r.attributes)){e.next=3;break}throw Error("Malformed parent directory");case 3:return o=a?ei(t):t,c="".concat(r._id===er?"":r.attributes.path,"/").concat(o),e.prev=5,e.next=8,this.statByPath(c||"/");case 8:return u=e.sent,e.abrupt("return",u);case 12:if(e.prev=12,e.t0=e.catch(5),!((s=JSON.parse(e.t0.message).errors)&&s.length&&"404"===s[0].status)){e.next=18;break}return e.abrupt("return",this.createDirectory({name:o,dirId:r&&r._id},{sanitizeName:a}));case 18:throw s;case 19:case"end":return e.stop()}},e,this,[[5,12]])})),function(e,t){return eA.apply(this,arguments)})},{key:"createDirectoryByPath",value:(eP=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l,d=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(d.length>1&&void 0!==d[1]?d[1]:{}).sanitizeName)||r,a=t.split("/").filter(function(e){return""!==e}),e.next=4,this.statById(er);case 4:if(o=e.sent,a.length){e.next=7;break}return e.abrupt("return",o);case 7:c=o,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return R(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(a),e.prev=9,u.s();case 11:if((s=u.n()).done){e.next=18;break}return l=s.value,e.next=15,this.getDirectoryOrCreate(l,c.data,{sanitizeName:n});case 15:c=e.sent;case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}},e,this,[[9,20,23,26]])})),function(e){return eP.apply(this,arguments)})},{key:"updateAttributes",value:(eM=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(u.length>2&&void 0!==u[2]?u[2]:{}).sanitizeName)||n,o=et({},r),r.name&&a&&(o.name=ec(r.name)),e.next=5,this.stackClient.fetchJSON("PATCH",(0,O.uri)(I(),t),{data:{type:"io.cozy.files",id:t,attributes:o}});case 5:return c=e.sent,e.abrupt("return",{data:ea(c.data)});case 7:case"end":return e.stop()}},e,this)})),function(e,t){return eM.apply(this,arguments)})},{key:"updateFileMetadata",value:(ej=(0,u.default)(i.default.mark(function e(t,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("CozyClient FileCollection updateFileMetadata method is deprecated. Use updateAttributes instead"),e.abrupt("return",this.updateAttributes(t,r));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ej.apply(this,arguments)})},{key:"createFileMetadata",value:(eD=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",(0,O.uri)(T()),{data:{type:"io.cozy.files.metadata",attributes:t}});case 2:return r=e.sent,e.abrupt("return",{data:r.data});case 4:case"end":return e.stop()}},e,this)})),function(e){return eD.apply(this,arguments)})},{key:"updateMetadataAttribute",value:(eT=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",(0,O.uri)(D(),t),{data:{type:"io.cozy.files.metadata",attributes:r}});case 2:return n=e.sent,e.abrupt("return",{data:n.data});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return eT.apply(this,arguments)})},{key:"getFileTypeFromName",value:function(e){return v.default.getType(e)||"application/octet-stream"}},{key:"doUpload",value:(eI=(0,u.default)(i.default.mark(function e(t,r,n){var a,o,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,O,x=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x.length>3&&void 0!==x[3]?x[3]:"POST",o=r,c=t){e.next=5;break}throw Error("missing data argument");case 5:if(c.buffer&&c.buffer instanceof ArrayBuffer&&(c=c.buffer),u="undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer,s="undefined"!=typeof File&&c instanceof File,l="undefined"!=typeof Blob&&c instanceof Blob,d=!0===c.readable&&"function"==typeof c.pipe,f="string"==typeof c,!(!u&&!s&&!l&&!d&&!f)){e.next=13;break}throw Error("invalid data type");case 13:return h=(p=n||{}).contentType,m=p.contentLength,v=p.checksum,y=p.lastModifiedDate,b=p.ifMatch,h||("string"==typeof c?h="text/plain":c.type?h=c.type:(_=new URLSearchParams((g=o.split("?")).length>1?g[1]:"").get("Name"),h=this.getFileTypeFromName(_.toLowerCase()))),(y=y||c.lastModified)&&(y=new Date(y)),w={"Content-Type":h},m&&(w["Content-Length"]=String(m)),v&&(w["Content-MD5"]=v),y&&(k=y.toISOString(),o="".concat(o,"&UpdatedAt=").concat(k,"&CreatedAt=").concat(k)),b&&(w["If-Match"]=b),e.next=24,this.stackClient.fetchJSON(a,o,c,{headers:w,onUploadProgress:n.onUploadProgress});case 24:return O=e.sent,e.abrupt("return",{data:ea(O.data)});case 26:case"end":return e.stop()}},e,this)})),function(e,t,r){return eI.apply(this,arguments)})},{key:"findNotSynchronizedDirectories",value:(eR=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l,d,f,p=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=p.length>1&&void 0!==p[1]?p[1]:{}).skip)?0:n,o=r.limit,c=r.cursor,s={include:void 0!==(u=r.includeFiles)&&u?"files":void 0,"page[limit]":o,"page[cursor]":c,sort:"id"},l=(0,O.uri)(j(),t._type,t._id),d=C.buildURL(l,s),e.next=6,this.stackClient.fetchJSON("GET",d);case 6:return f=e.sent,e.abrupt("return",{data:f.data.map(function(e){return ea(e)}),included:f.included?f.included.map(function(e){return ea(e)}):[],next:(0,y.default)(f,"links.next"),meta:f.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return eR.apply(this,arguments)})},{key:"addNotSynchronizedDirectories",value:function(e,t){var r=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("POST",(0,O.uri)(M(),e._type,e._id),{data:r})}},{key:"removeNotSynchronizedDirectories",value:function(e,t){var r=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("DELETE",(0,O.uri)(P(),e._type,e._id),{data:r})}},{key:"fetchChanges",value:(eN=(0,u.default)(i.default.mark(function e(){var t,r,n,a,o,c,u,s,l,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=f.length>1&&void 0!==f[1]?f[1]:{},n={},"object"!=typeof t?(n.since=t,S.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(n,t),Object.keys(r).length>0&&(Object.assign(n,r),(r.skipTrashed||r.includeFilePath)&&(n.includeDocs=!0)),a=et(et({},(0,g.default)(n,["fields","includeDocs","includeFilePath","skipDeleted","skipTrashed"])),{},{fields:n.fields?n.fields.join(","):null,include_docs:n.includeDocs,include_file_path:n.includeFilePath,skip_deleted:n.skipDeleted,skip_trashed:n.skipTrashed}),o=(0,O.uri)(A()),c=C.buildURL(o,a),e.next=10,this.stackClient.fetchJSON("GET",c);case 10:return s=(u=e.sent).last_seq,l=u.pending,d=u.results,e.abrupt("return",{newLastSeq:s,pending:l,results:d});case 15:case"end":return e.stop()}},e,this)})),function(){return eN.apply(this,arguments)})}]),eF}(w.default)},51631:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hasJobFinished=t.normalizeJob=t.JOBS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(46370)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(90602)),p=n(r(57791)),h=r(977),m=r(80075);function v(){var e=(0,o.default)(["/jobs/",""]);return v=function(){return e},e}var y="io.cozy.jobs";t.JOBS_DOCTYPE=y;var b=function(e){return new Promise(function(t){return setTimeout(t,e)})},g=(0,m.normalizeDoctypeJsonApi)(y);t.normalizeJob=g;var _=function(e){return"done"===e.state||"errored"===e.state};t.hasJobFinished=_,t.default=function(e){(0,s.default)(m,e);var t,r,n,o,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(m);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function m(e){return(0,c.default)(this,m),p.call(this,y,e)}return(0,u.default)(m,[{key:"queued",value:function(e){return this.stackClient.fetchJSON("GET","/jobs/queue/".concat(e))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.stackClient.fetchJSON("POST","/jobs/queue/".concat(e),{data:{type:y,attributes:{arguments:t,options:r,manual:n}}})}},{key:"get",value:(r=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.default.get(this.stackClient,(0,h.uri)(v(),t),{normalize:g}));case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"update",value:(n=(0,i.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("client"===t.worker){e.next=2;break}throw Error("JobCollection.update only works for client workers. ".concat(t.worker," given"));case 2:return e.next=4,this.stackClient.fetchJSON("PATCH","/jobs/".concat(t._id),{data:{type:y,id:t._id,attributes:{state:t.attributes.state,error:t.attributes.error}}});case 4:return r=e.sent,e.abrupt("return",g(r.data));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"waitFor",value:(o=(0,i.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s,l,d,f,p,h,m=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(n=(r=m.length>1&&void 0!==m[1]?m[1]:{}).onUpdate)?null:n,c=void 0===(i=r.until)?_:i,s=void 0===(u=r.delay)?5e3:u,d=void 0===(l=r.timeout)?3e5:l,f=Date.now(),e.next=4,this.get(t);case 4:p=e.sent.data.attributes;case 5:if(!(!p||!c(p))){e.next=17;break}return e.next=8,b(s);case 8:return e.next=10,this.get(t);case 10:if(p=e.sent.data.attributes,o&&o(p),h=Date.now(),!(f-h>d)){e.next=15;break}throw Error("Timeout for JobCollection::waitFor");case 15:e.next=5;break;case 17:return e.abrupt("return",p);case 18:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}]),m}(p.default)},73395:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.KONNECTORS_DOCTYPE=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(92115)),u=a(r(47783)),s=a(r(91083)),l=a(r(7184)),d=a(r(62812)),f=a(r(44383)),p=a(r(59207)),h=n(r(16632)),m=r(80075),v="io.cozy.konnectors";t.KONNECTORS_DOCTYPE=v,t.default=function(e){(0,s.default)(g,e);var t,r,n,a,p,y,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(g);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function g(e){var t;return(0,c.default)(this,g),(t=b.call(this,e)).doctype=v,t.endpoint="/konnectors/",t}return(0,u.default)(g,[{key:"create",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(n=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"findTriggersBySlug",value:(a=(0,i.default)(o.default.mark(function e(t){var r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new h.default(this.stackClient),e.next=3,r.all({limit:null});case 3:return n=e.sent.data,e.abrupt("return",n.map(function(e){return e.attributes}).filter(function(e){return(0,h.isForKonnector)(e,t)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"launch",value:(p=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=new h.default(this.stackClient),e.next=4,this.findTriggersBySlug(t);case 4:if(a=e.sent,1!==(i=r.accountId?a.filter(function(e){return(0,h.isForAccount)(e,r.accountId)}):a).length){e.next=10;break}return e.abrupt("return",n.launch(a[0]));case 10:if(c=JSON.stringify((0,f.default)({slug:t,accountId:r.accountId})),0!==i.length){e.next=15;break}throw Error("No trigger found for ".concat(c));case 15:if(!(i.length>1)){e.next=17;break}throw Error("More than 1 trigger found for ".concat(c));case 17:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"update",value:(y=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},t){e.next=3;break}throw Error("Cannot call update with no slug");case 3:return n=r.source||null,a=r.sync?{headers:{Accept:"text/event-stream"}}:{},e.next=8,this.stackClient.fetchJSON("PUT","/konnectors/".concat(t)+(n?"?Source=".concat(n):""),a);case 8:return i=e.sent,e.abrupt("return",(0,m.normalizeDoc)(i));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}]),g}(p.default)},23911:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.NEXTCLOUD_FILES_DOCTYPE=t.NextcloudFilesCollection=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812)),d=n(r(76729)),f=n(r(57791)),p=r(977),h=r(57929),m=r(80075);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g="io.cozy.remote.nextcloud.files";t.NEXTCLOUD_FILES_DOCTYPE=g;var _=(0,m.normalizeDoctypeJsonApi)(g),w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fromTrash,a=void 0!==n&&n;return function(r){var n=_(r);return b(b({},n),{},{parentPath:t,path:a?n.path:(0,p.joinPath)(t,n.name),cozyMetadata:b(b({},n.cozyMetadata),{},{sourceAccount:e})})}};t.NextcloudFilesCollection=function(e){(0,u.default)(C,e);var t,r,n,d,f,m,y,b,_,k,O,x,E=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(C);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function C(e){return(0,i.default)(this,C),E.call(this,g,e)}return(0,c.default)(C,[{key:"find",value:(r=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t["cozyMetadata.sourceAccount"]&&t.parentPath)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/remote/nextcloud/".concat(t["cozyMetadata.sourceAccount"]).concat((0,p.encodePath)(t.parentPath)));case 3:return r=e.sent,e.abrupt("return",{data:r.data.map(w(t["cozyMetadata.sourceAccount"],t.parentPath,{fromTrash:t.trashed}))});case 5:throw Error("Not implemented");case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(n=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroyAll",value:(d=(0,o.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}return o=n.value,e.next=7,this.destroy(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(e){return d.apply(this,arguments)})},{key:"download",value:(f=(0,o.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("GET","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path),"?Dl=1"));case 2:return r=e.sent,e.next=5,r.blob();case 5:n=e.sent,o=URL.createObjectURL(n),i=t.path.split("/").pop(),(0,p.forceDownload)(o,i);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"move",value:(m=(0,o.default)(a.default.mark(function e(t,r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.joinPath)(r.path,t.name),e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/move").concat((0,p.encodePath)(t.path),"?To=").concat((0,p.encodePath)(n)));case 3:if(204!==(o=e.sent).status){e.next=6;break}return e.abrupt("return",o);case 6:throw new h.FetchError(o,o.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"moveToCozy",value:(y=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0!==(n=(c.length>2&&void 0!==c[2]?c[2]:{}).copy)&&n,e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/downstream").concat((0,p.encodePath)(t.path),"?To=").concat(r._id).concat(o?"&Copy=true":""));case 3:if(201!==(i=e.sent).status){e.next=6;break}return e.abrupt("return",i);case 6:throw new h.FetchError(i,i.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"moveFromCozy",value:(b=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0!==(n=(u.length>2&&void 0!==u[2]?u[2]:{}).copy)&&n,i=(0,p.joinPath)(t.path,r.name),e.next=4,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/upstream").concat((0,p.encodePath)(i),"?From=").concat(r._id).concat(o?"&Copy=true":""));case 4:if(204!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new h.FetchError(c,c.json());case 8:case"end":return e.stop()}},e,this)})),function(e,t){return b.apply(this,arguments)})},{key:"restore",value:(_=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/restore").concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"emptyTrash",value:(k=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t,"/trash"));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"deletePermanently",value:(O=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"copy",value:(x=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/copy/").concat(t.path).concat(r?"?Path=".concat(r.path,"/").concat(t.name):""));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})}]),C}(f.default)},98501:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NOTES_URL_DOCTYPE=t.NOTES_DOCTYPE=void 0;var a=n(r(46370)),o=n(r(76729)),i=n(r(30592)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(57791)),h=r(80075),m=r(977),v=r(80886);function y(){var e=(0,a.default)(["/notes/","/open"]);return y=function(){return e},e}function b(){var e=(0,a.default)(["/files/",""]);return b=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.notes";t.NOTES_DOCTYPE=w;var k="io.cozy.notes.url";t.NOTES_URL_DOCTYPE=k;var O=(0,h.normalizeDoctypeJsonApi)(w),x=(0,h.normalizeDoctypeJsonApi)(k),E=function(e){(0,l.default)(g,e);var t,r,n,a,o,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(g);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function g(e){return(0,u.default)(this,g),h.call(this,w,e)}return(0,s.default)(g,[{key:"get",value:(r=(0,c.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes/".concat(t));case 2:return r=e.sent,e.abrupt("return",{data:O(r.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"all",value:(n=(0,c.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes");case 2:return t=e.sent,e.abrupt("return",_(_({},t),{},{data:t.data.map(O)}));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",(0,m.uri)(b(),r));case 3:return n=e.sent,e.abrupt("return",{data:_(_({},O(n.data)),{},{_deleted:!0})});case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"create",value:(o=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dir_id,e.next=3,this.stackClient.fetchJSON("POST","/notes",{data:{type:"io.cozy.notes.documents",attributes:{title:"",schema:(0,v.getDefaultSchema)(),dir_id:r}}});case 3:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:O(n.data)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"fetchURL",value:(p=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("GET",(0,m.uri)(y(),r));case 3:return n=e.sent,e.abrupt("return",{data:x(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDefaultSchema",value:function(){return(0,v.getDefaultSchema)()}}]),g}(p.default);E.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=E},80886:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSchema=t.marks=t.nodes=void 0;var r=[["doc",{content:"(block)+",marks:"link"}],["paragraph",{content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline",parseDOM:[{tag:"p"}]}],["text",{group:"inline"}],["bulletList",{group:"block",content:"listItem+",parseDOM:[{tag:"ul"}]}],["orderedList",{group:"block",content:"listItem+",parseDOM:[{tag:"ol"}]}],["listItem",{content:"(paragraph ) (paragraph | bulletList | orderedList )*",defining:!0,parseDOM:[{tag:"li"}]}],["heading",{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}]}],["blockquote",{content:"paragraph+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}]}],["rule",{group:"block",parseDOM:[{tag:"hr"}]}],["panel",{group:"block",content:"(paragraph | heading | bulletList | orderedList)+",attrs:{panelType:{default:"info"}},parseDOM:[{tag:"div[data-panel-type]"}]}],["confluenceUnsupportedBlock",{group:"block",attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedBlock"]'}]}],["confluenceUnsupportedInline",{group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedInline"]'}]}],["unsupportedBlock",{inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]'}]}],["unsupportedInline",{inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]'}]}],["hardBreak",{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}]}],["table",{content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1}},tableRole:"table",isolating:!0,selectable:!1,group:"block",parseDOM:[{tag:"table"}]}],["tableHeader",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading )+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"header_cell",isolating:!0,marks:"",parseDOM:[{tag:"th"}]}],["tableRow",{content:"(tableCell | tableHeader)+",tableRole:"row",parseDOM:[{tag:"tr"}]}],["tableCell",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | unsupportedBlock)+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"cell",marks:"",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td"}]}]];t.nodes=r;var n=[["link",{excludes:"color",group:"link",attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]"}]}],["em",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}]}],["strong",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strong"},{tag:"b"},{style:"font-weight"}]}],["textColor",{attrs:{color:{}},inclusive:!0,group:"color",parseDOM:[{style:"color"}]}],["strike",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration"}]}],["subsup",{inclusive:!0,group:"fontStyle",attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}}]}],["underline",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"u"},{style:"text-decoration"}]}],["code",{excludes:"fontStyle link searchQuery color",inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0}]}],["typeAheadQuery",{excludes:"searchQuery",inclusive:!0,group:"searchQuery",parseDOM:[{tag:"span[data-type-ahead-query]"}],attrs:{trigger:{default:""}}}]];t.marks=n,t.getDefaultSchema=function(){return{nodes:r,marks:n}}},79776:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(77497)),o=n(r(30592)),i=n(r(93889)),c=n(r(76729)),u=n(r(80539)),s=n(r(92115)),l=n(r(47783)),d=n(r(91083)),f=n(r(7184)),p=n(r(62812)),h=n(r(52498)),m=n(r(25055)),v=n(r(55699)),y=n(r(57929)),b=n(r(30598));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);return r=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,r)}}var k={clientID:"",clientName:"",clientKind:"",clientSecret:"",clientURI:"",registrationAccessToken:"",redirectURI:"",softwareID:"",softwareVersion:"",logoURI:"",policyURI:"",notificationPlatform:"",notificationDeviceToken:""},O=function(e){(0,d.default)(S,e);var t,r,n,a,c,f,p,h,g,O,E,C=w(S);function S(e){var t,r=e.oauth,n=e.scope,a=e.onTokenRefresh,o=(0,u.default)(e,["oauth","scope","onTokenRefresh"]);return(0,s.default)(this,S),(t=C.call(this,o)).setOAuthOptions(_(_({},k),r)),r.token&&t.setToken(r.token),t.scope=void 0===n?[]:n,t.onTokenRefresh=a,t}return(0,l.default)(S,[{key:"isRegistered",value:function(){return""!==this.oauthOptions.clientID}},{key:"snakeCaseOAuthData",value:function(e){var t={softwareID:"software_id",softwareVersion:"software_version",clientID:"client_id",clientName:"client_name",clientKind:"client_kind",clientURI:"client_uri",logoURI:"logo_uri",policyURI:"policy_uri",notificationPlatform:"notification_platform",notificationDeviceToken:"notification_device_token",redirectURI:"redirect_uris"},r={};return Object.keys(e).forEach(function(n){var a=t[n]||n,o=e[n];r[a]=o}),r.redirect_uris&&r.redirect_uris instanceof Array==!1&&(r.redirect_uris=[r.redirect_uris]),r}},{key:"camelCaseOAuthData",value:function(e){var t={client_id:"clientID",client_name:"clientName",client_secret:"clientSecret",registration_access_token:"registrationAccessToken",software_id:"softwareID",redirect_uris:"redirectURI"},r={};return Object.keys(e).forEach(function(n){var a=t[n]||n,o=e[n];r[a]=o}),r}},{key:"doRegistration",value:function(){return this.fetchJSON("POST","/auth/register",this.snakeCaseOAuthData({redirectURI:this.oauthOptions.redirectURI,clientName:this.oauthOptions.clientName,softwareID:this.oauthOptions.softwareID,clientKind:this.oauthOptions.clientKind,clientURI:this.oauthOptions.clientURI,logoURI:this.oauthOptions.logoURI,policyURI:this.oauthOptions.policyURI,softwareVersion:this.oauthOptions.softwareVersion,notificationPlatform:this.oauthOptions.notificationPlatform,notificationDeviceToken:this.oauthOptions.notificationDeviceToken}))}},{key:"register",value:(t=(0,i.default)(o.default.mark(function e(){var t,r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRegistered()){e.next=2;break}throw Error("Client already registered");case 2:if(t=["redirectURI"],r=Object.keys(this.oauthOptions),!((n=t.filter(function(e){return r[e]})).length>0)){e.next=7;break}throw Error("Can't register client : missing ".concat(n," fields"));case 7:return e.next=9,this.doRegistration();case 9:return a=e.sent,this.setOAuthOptions(_(_({},this.oauthOptions),{},{client_id:a.client_id,client_name:a.client_name,client_secret:a.client_secret,registration_access_token:a.registration_access_token,software_id:a.software_id})),e.abrupt("return",this.oauthOptions);case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"unregister",value:(r=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:return t=this.oauthOptions.clientID,this.oauthOptions.clientID="",e.abrupt("return",this.fetchJSON("DELETE","/auth/register/".concat(t),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"fetchInformation",value:(n=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:return e.abrupt("return",this.fetchJSON("GET","/auth/register/".concat(this.oauthOptions.clientID),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updateInformation",value:(a=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]&&c[1],this.isRegistered()){e.next=3;break}throw new x;case 3:return n={clientID:this.oauthOptions.clientID,clientName:this.oauthOptions.clientName,redirectURI:this.oauthOptions.redirectURI,softwareID:this.oauthOptions.softwareID},a=this.snakeCaseOAuthData(_(_({},n),t)),r&&(a.client_secret=this.oauthOptions.clientSecret),e.next=8,this.fetchJSON("PUT","/auth/register/".concat(this.oauthOptions.clientID),a,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}});case 8:return i=e.sent,this.setOAuthOptions(_(_({},a),i)),e.abrupt("return",this.oauthOptions);case 11:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"generateStateCode",value:function(){var e;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(16),window.crypto.getRandomValues(e);else{e=Array(16);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}},{key:"getAuthCodeURL",value:function(e){var t=e.stateCode,r=e.scopes,n=void 0===r?this.scope:r,a=e.sessionCode,o=void 0===a?void 0:a,i=e.codeChallenge,c=void 0===i?void 0:i;if(!this.isRegistered())throw new x;var u={client_id:this.oauthOptions.clientID,redirect_uri:this.oauthOptions.redirectURI,state:t,response_type:"code",scope:n.join(" ")};return this.oauthOptions.registerToken&&(u=_(_({},u),{},{registerToken:this.oauthOptions.registerToken})),o&&(u=_(_({},u),{},{session_code:o})),c&&(u=_(_({},u),{},{code_challenge:c,code_challenge_method:"S256"})),"".concat(this.uri,"/auth/authorize?").concat(this.dataToQueryString(u))}},{key:"dataToQueryString",value:function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}},{key:"getAccessCodeFromURL",value:function(e,t){if(!t)throw Error("Missing state code");var r=new URL(e).searchParams,n=r.get("state"),a=r.get("access_code");if(t!==n)throw Error("Given state does not match url query state");return a}},{key:"fetchAccessToken",value:(c=(0,i.default)(o.default.mark(function e(t,r,n,a){var i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.isRegistered()&&!r)){e.next=2;break}throw new x;case 2:return c={grant_type:"authorization_code",code:t,client_id:(i=r||this.oauthOptions).clientID,client_secret:i.clientSecret},a&&(c=_(_({},c),{},{code_verifier:a})),e.next=7,this.fetchJSON("POST",(n||"")+"/auth/access_token",this.dataToQueryString(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return u=e.sent,e.abrupt("return",new m.default(u));case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return c.apply(this,arguments)})},{key:"fetchKonnectorToken",value:(f=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchJSON("POST","/auth/tokens/konnectors/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),Error('oAuthClient.fetchKonnectorToken(): Could not create a token for the konnector with slug "'.concat(t,'". \n\n').concat(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return f.apply(this,arguments)})},{key:"fetchSessionCode",value:(p=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchJSON("POST","/auth/session_code"));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchSessionCodeWithPassword",value:(h=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.passwordHash,a=void 0===(n=t.twoFactorToken)?void 0:n,c=void 0===(i=t.twoFactorPasscode)?void 0:i,e.abrupt("return",this.fetchJSON("POST","/auth/session_code",{passphrase:r,two_factor_token:a,two_factor_passcode:c}));case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"loginFlagship",value:(g=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.emailVerifiedCode)?void 0:r,a=t.passwordHash,c=void 0===(i=t.twoFactorToken)?void 0:i,s=void 0===(u=t.twoFactorPasscode)?void 0:u,e.abrupt("return",this.fetchJSON("POST","/auth/login/flagship",{client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret,email_verified_code:n,passphrase:a,two_factor_token:c,two_factor_passcode:s}));case 2:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"refreshToken",value:(O=(0,i.default)(o.default.mark(function e(){var t,r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:if(this.token){e.next=4;break}throw Error("No token to refresh");case 4:return t={grant_type:"refresh_token",refresh_token:this.token.refreshToken,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},e.prev=5,e.next=8,this.fetchJSONWithCurrentToken("POST","/auth/access_token",this.dataToQueryString(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 8:return r=e.sent,n=new m.default(_({refresh_token:this.token.refreshToken},r)),this.setToken(n),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(n),e.abrupt("return",n);case 15:if(e.prev=15,e.t0=e.catch(5),!this.isRevocationError(e.t0)){e.next=21;break}throw this.onRevocationChange(!0),b.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 21:if(!(y.default.EXPIRED_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=28;break}return e.next=24,this.checkForRevocation();case 24:if(!e.sent){e.next=28;break}throw b.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 28:throw e.t0;case 29:case"end":return e.stop()}},e,this,[[5,15]])})),function(){return O.apply(this,arguments)})},{key:"exchangeOAuthSecret",value:function(e,t){return this.fetchJSON("POST",e+"/auth/secret_exchange",{secret:t})}},{key:"setToken",value:function(e){e?this.token=e instanceof m.default?e:new m.default(e):this.token=null}},{key:"setCredentials",value:function(e){return(0,v.default)("setCredentials is deprecated, please replace by setToken"),this.setToken(e)}},{key:"setOAuthOptions",value:function(e){this.oauthOptions=this.camelCaseOAuthData(e)}},{key:"resetClientId",value:function(){this.oauthOptions.clientID=""}},{key:"resetClient",value:function(){this.resetClientId(),this.setUri(null),this.setToken(null)}},{key:"registrationAccessTokenToAuthHeader",value:function(){if(!this.oauthOptions.registrationAccessToken)throw Error("No registration access token");return"Bearer "+this.oauthOptions.registrationAccessToken}},{key:"setPassphraseFlagship",value:function(e){var t=e.registerToken,r=e.passwordHash,n=e.hint,a=e.key,o=e.publicKey,i=e.privateKey,c=e.iterations;return this.fetchJSON("POST","/settings/passphrase/flagship",{register_token:t,passphrase:r,hint:n,key:a,public_key:o,private_key:i,iterations:c,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}})}},{key:"checkForRevocation",value:(E=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchInformation();case 3:case 11:return e.abrupt("return",!1);case 6:if(e.prev=6,e.t0=e.catch(0),!this.isRevocationError(e.t0)){e.next=11;break}return this.onRevocationChange(!0),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return E.apply(this,arguments)})}]),S}(h.default),x=function(e){(0,d.default)(r,e);var t=w(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Client not registered or missing OAuth information";return(0,s.default)(this,r),(e=t.call(this,n)).message=n,e.name="NotRegisteredException",e}return r}((0,a.default)(Error));t.default=O},38603:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OAUTH_CLIENTS_DOCTYPE=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(46370)),u=a(r(93889)),s=a(r(92115)),l=a(r(47783)),d=a(r(91083)),f=a(r(7184)),p=a(r(62812)),h=a(r(58156)),m=a(r(57791)),v=r(80075),y=r(977),b=n(r(12505)),g=r(90602),_=r(57929);function w(){var e=(0,c.default)(["/settings/clients/",""]);return w=function(){return e},e}function k(){var e=(0,c.default)(["/settings/clients/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,c.default)(["/settings/clients"]);return E=function(){return e},e}var C="io.cozy.oauth.clients";t.OAUTH_CLIENTS_DOCTYPE=C;var S=(0,v.normalizeDoctypeJsonApi)(C),A=function(e){(0,d.default)(c,e);var t,r,n,a,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,p.default)(c);return e=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,e)});function c(e){return(0,s.default)(this,c),i.call(this,C,e)}return(0,l.default)(c,[{key:"all",value:(r=(0,u.default)(o.default.mark(function e(){var t,r,n,a,i,c,u,s,l,d,f,p,m,v,_=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=_.length>0&&void 0!==_[0]?_[0]:{}).limit)?100:r,a=t.bookmark,i=t.keys,c={"page[limit]":n,"page[cursor]":a},u=(0,y.uri)(E()),s=b.buildURL(u,c),e.prev=5,e.next=8,this.stackClient.fetchJSON("GET",s);case 8:l=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",(0,g.dontThrowNotFoundError)(e.t0));case 14:if(d=(0,h.default)(l,"links.next",""),p=void 0!==(f=new URL("".concat(this.stackClient.uri).concat(d)).searchParams.get("page[cursor]")||void 0),!i){e.next=24;break}return m=l.data.filter(function(e){return i.includes(e.id)}).map(function(e){return S(e)}),v=x(x({},l.meta),{},{count:m.length}),e.abrupt("return",{data:m,meta:v,next:i.length>m.length&&p,bookmark:f});case 24:return e.abrupt("return",{data:l.data.map(function(e){return S(e)}),meta:l.meta,next:p,bookmark:f});case 25:case"end":return e.stop()}},e,this,[[5,11]])})),function(){return r.apply(this,arguments)})},{key:"get",value:(n=(0,u.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all({keys:[t]});case 2:r=e.sent;case 3:if(!r.next){e.next=9;break}return e.next=6,this.all({keys:[t],bookmark:r.bookmark});case 6:r=e.sent,e.next=3;break;case 9:if(!r.data.length){e.next=13;break}return e.abrupt("return",{data:S(r.data[0])});case 13:throw r.url=(0,y.uri)(k(),t),r.status="404",new _.FetchError(r,"Not Found");case 16:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,u.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",(0,y.uri)(w(),r));case 3:return e.abrupt("return",{data:x(x({},S(t)),{},{_deleted:!0})});case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})}]),c}(m.default);A.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=A},49301:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPermissionsFor=void 0;var a=n(r(10464)),o=n(r(76729)),i=n(r(80539)),c=n(r(30592)),u=n(r(46370)),s=n(r(93889)),l=n(r(92115)),d=n(r(47783)),f=n(r(91083)),p=n(r(7184)),h=n(r(62812)),m=n(r(57791)),v=r(80075),y=r(75896),b=r(977),g=n(r(30598));function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){var e=(0,u.default)(["/permissions/doctype/","/shared-by-link"]);return w=function(){return e},e}function k(){var e=(0,u.default)(["/permissions/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,u.default)(["/permissions/",""]);return E=function(){return e},e}var C=function(e){return(0,v.normalizeDoc)(e,"io.cozy.permissions")},S=function(e){(0,f.default)(T,e);var t,r,n,o,u,m,v,y,O,S,M,j,D=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,h.default)(T);return e=t?Reflect.construct(r,arguments,(0,h.default)(this).constructor):r.apply(this,arguments),(0,p.default)(this,e)});function T(){return(0,l.default)(this,T),D.apply(this,arguments)}return(0,d.default)(T,[{key:"get",value:(r=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,b.uri)(E(),t));case 2:return r=e.sent,e.abrupt("return",{data:C(r.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"create",value:(n=(0,s.default)(c.default.mark(function e(t){var r,n,a,o,u,s,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._id,t._type,n=void 0===(r=t.codes)?"code":r,a=t.ttl,o=t.tiny,u=(0,i.default)(t,["_id","_type","codes","ttl","tiny"]),(s=new URLSearchParams).append("codes",n),a&&s.append("ttl",a),o&&s.append("tiny",!0),e.next=7,this.stackClient.fetchJSON("POST","/permissions?".concat(s),{data:{type:"io.cozy.permissions",attributes:u}});case 7:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"add",value:(o=(0,s.default)(c.default.mark(function e(t,r){var n,a,o,i,u,s,l,d=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=d.length>2&&void 0!==d[2]?d[2]:{},e.t0=t._type,e.next="io.cozy.apps"===e.t0?4:"io.cozy.konnectors"===e.t0?6:"io.cozy.permissions"===e.t0?8:10;break;case 4:return a="/permissions/apps/".concat(t.slug),e.abrupt("break",11);case 6:return a="/permissions/konnectors/".concat(t.slug),e.abrupt("break",11);case 8:return a="/permissions/".concat(t._id),e.abrupt("break",11);case 10:throw Error("Permissions can only be added on existing permissions, apps and konnectors.");case 11:return o=n.expiresAt,u=(i=n.password)||""===i,s=o||""===o,e.next=16,this.stackClient.fetchJSON("PATCH",a,{data:{type:"io.cozy.permissions",attributes:x(x({permissions:r},u&&{password:i}),s&&{expires_at:o})}});case 16:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 18:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"destroy",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,b.uri)(k(),e.id))}},{key:"findLinksByDoctype",value:(u=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,b.uri)(w(),t));case 2:return r=e.sent,e.abrupt("return",x(x({},r),{},{data:r.data.map(C)}));case 4:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"findApps",value:(m=(0,s.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.default.warn("PermissionCollection.findApps will be removed in next version of cozy-client. \n\n      You can use AppCollection.all() instead \n\n      or even better client.query(Q('io.cozy.apps'), {as: 'io.cozy.apps'})"),e.next=3,this.stackClient.fetchJSON("GET","/apps/");case 3:return t=e.sent,e.abrupt("return",x(x({},t),{},{data:t.data.map(function(e){return x({_id:e.id},e)})}));case 5:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"createSharingLink",value:(v=(0,s.default)(c.default.mark(function e(t){var r,n,a,o,i,u,s,l,d,f=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=f.length>1&&void 0!==f[1]?f[1]:{}).ttl,a=r.password,o=r.verbs,i=r.tiny,s=void 0===(u=r.codes)?"code":u,(l=new URLSearchParams).append("codes",s),n&&l.append("ttl",n),i&&l.append("tiny",!0),e.next=8,this.stackClient.fetchJSON("POST","/permissions?".concat(l),{data:{type:"io.cozy.permissions",attributes:x({permissions:A(t,!0,o?{verbs:o}:{})},a&&{password:a})}});case 8:return d=e.sent,e.abrupt("return",{data:C(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchPermissionsByLink",value:(y=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.links&&t.links.next)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET",t.links.next);case 3:return r=e.sent,e.abrupt("return",x(x({},r),{},{data:r.data.map(C)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchAllLinks",value:(O=(0,s.default)(c.default.mark(function e(t){var r,n,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findLinksByDoctype(t._type);case 2:n=r=e.sent;case 4:if(!(n.links&&n.links.next)){e.next=11;break}return e.next=7,this.fetchPermissionsByLink(n);case 7:n=e.sent,(o=r.data).push.apply(o,(0,a.default)(n.data)),e.next=4;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"revokeSharingLink",value:(S=(0,s.default)(c.default.mark(function e(t){var r,n,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLinks(t);case 2:r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(e.sent.data.filter(function(e){return P(e,t)})),e.prev=5,r.s();case 7:if((n=r.n()).done){e.next=13;break}return a=n.value,e.next=11,this.destroy(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[5,15,18,21]])})),function(e){return S.apply(this,arguments)})},{key:"getOwnPermissions",value:(M=(0,s.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.default.warn("getOwnPermissions is deprecated, please use fetchOwnPermissions instead"),e.abrupt("return",this.fetchOwnPermissions());case 2:case"end":return e.stop()}},e,this)})),function(){return M.apply(this,arguments)})},{key:"fetchOwnPermissions",value:(j=(0,s.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/permissions/self");case 2:return t=e.sent,e.abrupt("return",{data:C(t.data),included:t.included?t.included.map(C):[]});case 4:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})}]),T}(m.default),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e._id,a=e._type,o=r.verbs?r.verbs:t?["GET"]:["ALL"];return(0,y.isFile)(e)?{files:{type:"io.cozy.files",verbs:o,values:[n]}}:{collection:{type:a,verbs:o,values:[n]},files:{type:"io.cozy.files",verbs:o,values:["".concat(a,"/").concat(n)],selector:"referenced_by"}}};t.getPermissionsFor=A;var P=function(e,t){var r=t._id;return(0,y.isFile)(t)?-1!==e.attributes.permissions.files.values.indexOf(r):-1!==e.attributes.permissions.collection.values.indexOf(r)};t.default=S},70163:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeSettings=t.SETTINGS_DOCTYPE=void 0;var a=n(r(46370)),o=n(r(30592)),i=n(r(76729)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(57791)),h=n(r(30598)),m=r(977),v=r(80075);function y(){var e=(0,a.default)(["/data/","/",""]);return y=function(){return e},e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var g="io.cozy.settings";t.SETTINGS_DOCTYPE=g;var _=(0,v.normalizeDoctypeJsonApi)(g);t.normalizeSettings=_;var w=function(e){(0,l.default)(v,e);var t,r,n,a,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(v);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function v(e){return(0,u.default)(this,v),p.call(this,g,e)}return(0,s.default)(v,[{key:"get",value:(r=(0,c.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.bitwarden"!==t){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/data/io.cozy.settings/io.cozy.settings.bitwarden");case 3:return r=e.sent,e.abrupt("return",{data:_(r)});case 5:return t.startsWith("io.cozy.settings.")?n=t.substring(17):(h.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query settings with an incomplete id\n\n- Q('io.cozy.settings').getById('instance')\n+ Q('io.cozy.settings').getById('io.cozy.settings.instance')"),n=t),e.next=8,this.stackClient.fetchJSON("GET","/settings/".concat(n));case 8:return a=e.sent,e.abrupt("return",{data:_(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:"/settings/".concat(n)},a.data))});case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"update",value:(n=(0,c.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.instance"!==t._id){e.next=6;break}return e.next=3,this.stackClient.fetchJSON("PUT","/settings/instance",{data:t});case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,this.stackClient.fetchJSON("PUT",(0,m.uri)(y(),this.doctype,t._id),t);case 8:r=e.sent;case 9:return e.abrupt("return",{data:_(r.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"updateLastSynced",value:(a=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST","/settings/synchronized"));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),v}(p.default);w.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=w},76712:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getSharingRules=t.BITWARDEN_CIPHERS_DOCTYPE=t.BITWARDEN_ORGANIZATIONS_DOCTYPE=t.SHARING_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(46370)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(57791)),h=r(80075),m=r(75896),v=r(977),y=n(r(30598));function b(){var e=(0,i.default)(["/sharings/","/recipients"]);return b=function(){return e},e}function g(){var e=(0,i.default)(["/sharings/","/recipients/self"]);return g=function(){return e},e}function _(){var e=(0,i.default)(["/sharings/","/groups/",""]);return _=function(){return e},e}function w(){var e=(0,i.default)(["/sharings/","/recipients/",""]);return w=function(){return e},e}function k(){var e=(0,i.default)(["/sharings/","/recipients"]);return k=function(){return e},e}function O(){var e=(0,i.default)(["/sharings/",""]);return O=function(){return e},e}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(){var e=(0,i.default)(["/sharings/doctype/",""]);return C=function(){return e},e}var S="io.cozy.sharings";t.SHARING_DOCTYPE=S;var A="com.bitwarden.organizations";t.BITWARDEN_ORGANIZATIONS_DOCTYPE=A;var P="com.bitwarden.ciphers";t.BITWARDEN_CIPHERS_DOCTYPE=P;var M=(0,h.normalizeDoctypeJsonApi)(S),j=function(e){(0,l.default)(m,e);var t,r,n,o,i,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(m);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function m(){return(0,u.default)(this,m),h.apply(this,arguments)}return(0,s.default)(m,[{key:"findByDoctype",value:(r=(0,c.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,v.uri)(C(),t));case 2:return r=e.sent,e.abrupt("return",E(E({},r),{},{data:r.data.map(M)}));case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"get",value:(n=(0,c.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,v.uri)(O(),t),e.next=3,this.stackClient.fetchJSON("GET",r);case 3:return n=e.sent,e.abrupt("return",{data:M(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"create",value:(o=(0,c.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s,l,d,f,p,h,m;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,n=t.description,o=t.previewPath,i=t.rules,u=void 0===(c=t.recipients)?[]:c,l=void 0===(s=t.readOnlyRecipients)?[]:s,d=t.openSharing,f=t.appSlug,p={description:n,preview_path:o,open_sharing:d,rules:i||T(r)},h={},f&&(h={app_slug:f}),e.next=6,this.stackClient.fetchJSON("POST","/sharings/",{data:{type:"io.cozy.sharings",attributes:E(E({},p),h),relationships:E(E({},u.length>0&&{recipients:{data:u.map(z)}}),l.length>0&&{read_only_recipients:{data:l.map(z)}})}});case 6:return m=e.sent,e.abrupt("return",{data:M(m.data)});case 8:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"share",value:(i=(0,c.default)(a.default.mark(function e(t,r,n,o){var i,c,u=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>4&&void 0!==u[4]?u[4]:null,y.default.warn("SharingCollection.share is deprecated, use SharingCollection.create instead"),c="two-way"===n?{recipients:r}:{readOnlyRecipients:r},e.abrupt("return",this.create(E(E({document:t},c),{},{description:o,previewPath:i,openSharing:"two-way"===n,rules:T(t,n)})));case 4:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return i.apply(this,arguments)})},{key:"getDiscoveryLink",value:function(e,t,r){var n=(r||{}).shortcut,a=new URLSearchParams;return a.append("sharecode",t),n&&a.append("shortcut",!0),this.stackClient.fullpath("/sharings/".concat(e,"/discovery?").concat(a))}},{key:"addRecipients",value:(p=(0,c.default)(a.default.mark(function e(t){var r,n,o,i,c,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,o=void 0===(n=t.recipients)?[]:n,c=void 0===(i=t.readOnlyRecipients)?[]:i,e.next=3,this.stackClient.fetchJSON("POST",(0,v.uri)(k(),r._id),{data:{type:"io.cozy.sharings",id:r._id,relationships:E(E({},o.length>0&&{recipients:{data:o.map(z)}}),c.length>0&&{read_only_recipients:{data:c.map(z)}})}});case 3:return u=e.sent,e.abrupt("return",{data:M(u.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"revokeRecipient",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(w(),e._id,t))}},{key:"revokeGroup",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(_(),e._id,t))}},{key:"revokeSelf",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(g(),e._id))}},{key:"revokeAllRecipients",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(b(),e._id))}}]),m}(p.default);j.normalizeDoctype=h.normalizeDoctypeJsonApi;var D=function(e,t){return(0,m.isFile)(e)?L(e,t):e._type===A?B(e):I(e,t)},T=function(e,t){return t&&y.default.warn("sharingType is deprecated and will be removed. We now set this default rules: ".concat(D(e),"} \n\n      If this default rules do not fill your need, please set custom rules\n      by using the 'rules' object of the SharingCollection.create() method")),D(e,t)};t.getSharingRules=T;var I=function(e,t){var r=e._id,n=e._type;return[E({title:"collection",doctype:n,values:[r]},N(t)),E({title:"items",doctype:"io.cozy.files",values:["".concat(n,"/").concat(r)],selector:"referenced_by"},R(t))]},R=function(e){return"two-way"===e?{add:"sync",update:"sync",remove:"sync"}:{add:"push",update:"none",remove:"push"}},N=function(e){return e?"two-way"===e?{update:"sync",remove:"revoke"}:{update:"push",remove:"revoke"}:{update:"sync",remove:"revoke"}},L=function(e,t){var r=e._id;return[E({title:e.name,doctype:"io.cozy.files",values:[r]},F(e,t))]},F=function(e,t){return(0,m.isDirectory)(e)?t?"two-way"===t?{add:"sync",update:"sync",remove:"sync"}:{add:"push",update:"push",remove:"push"}:{add:"sync",update:"sync",remove:"sync"}:t?"two-way"===t?{update:"sync",remove:"revoke"}:{update:"push",remove:"revoke"}:{update:"sync",remove:"revoke"}},B=function(e){var t=e._id;return[{title:e.name,doctype:A,values:[t],add:"sync",update:"sync",remove:"revoke"},{title:"Ciphers",doctype:P,values:[t],add:"sync",update:"sync",remove:"sync",selector:"organization_id"}]},z=function(e){return{id:e._id,type:e._type}};t.default=j},30683:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHORTCUTS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(46370)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(57791)),h=r(80075),m=r(977),v=r(37125);function y(){var e=(0,o.default)(["/shortcuts/",""]);return y=function(){return e},e}function b(){var e=(0,o.default)(["/shortcuts"]);return b=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.files.shortcuts";t.SHORTCUTS_DOCTYPE=w;var k=(0,h.normalizeDoctypeJsonApi)(w),O=function(e){return _(_({},k(e)),{},{_id:e._id})},x=function(e){(0,s.default)(f,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(f);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function f(e){return(0,c.default)(this,f),o.call(this,w,e)}return(0,u.default)(f,[{key:"create",value:(r=(0,i.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type||(t.type=w),!(!t.name||!t.name.trim()||!t.url||!t.dir_id)){e.next=3;break}throw Error("you need at least a name, an url and a dir_id attributes to create a shortcut");case 3:if("."!==(r=t.name.trim())&&".."!==r){e.next=6;break}throw Error("Invalid filename: ".concat(r));case 6:if(!(n=(0,v.getIllegalCharacters)(r)).length){e.next=9;break}throw Error("Invalid filename containing illegal character(s): ".concat(n));case 9:return o=(0,m.uri)(b()),e.next=12,this.stackClient.fetchJSON("POST",o,{data:{attributes:t,type:"io.cozy.files.shortcuts"}});case 12:return i=e.sent,e.abrupt("return",{data:O(i.data)});case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"get",value:(n=(0,i.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,m.uri)(y(),t),e.next=3,this.stackClient.fetchJSON("GET",r);case 3:return n=e.sent,e.abrupt("return",{data:O(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),f}(p.default);x.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=x},16632:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isForAccount=t.isForKonnector=t.normalizeTrigger=t.TRIGGERS_DOCTYPE=t.JOBS_DOCTYPE=void 0;var o=a(r(80539)),i=a(r(76729)),c=a(r(46370)),u=a(r(30592)),s=a(r(93889)),l=a(r(92115)),d=a(r(47783)),f=a(r(2695)),p=a(r(91083)),h=a(r(7184)),m=a(r(62812)),v=n(r(90602)),y=r(80075),b=r(51631),g=r(977),_=a(r(57791));function w(){var e=(0,c.default)(["/jobs/triggers/","/launch"]);return w=function(){return e},e}function k(){var e=(0,c.default)(["/jobs/triggers/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,c.default)(["/jobs/triggers/",""]);return E=function(){return e},e}function C(){var e=(0,c.default)(["/jobs/triggers"]);return C=function(){return e},e}r(57929),t.JOBS_DOCTYPE="io.cozy.jobs";var S="io.cozy.triggers";t.TRIGGERS_DOCTYPE=S;var A=(0,y.normalizeDoctypeJsonApi)(S);t.normalizeTrigger=A,t.isForKonnector=function(e,t){return"konnector"===e.worker&&e.message.konnector==t},t.isForAccount=function(e,t){return e.message.account==t};var P=function(e,t){var r=new URLSearchParams;return e&&(Array.isArray(e.$in)?r.set("Worker",e.$in.join(",")):r.set("Worker",e)),t&&(Array.isArray(t.$in)?r.set("Type",t.$in.join(",")):r.set("Type",t)),r.toString()},M=function(e){(0,p.default)(M,e);var t,r,n,a,i,c,y,_,O=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,m.default)(M);return e=t?Reflect.construct(r,arguments,(0,m.default)(this).constructor):r.apply(this,arguments),(0,h.default)(this,e)});function M(e){return(0,l.default)(this,M),O.call(this,S,e)}return(0,d.default)(M,[{key:"all",value:(r=(0,s.default)(u.default.mark(function e(){var t,r=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]&&r[0],e.prev=1,e.next=4,this.stackClient.fetchJSON("GET","/jobs/triggers");case 4:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return A(e)}),meta:{count:t.data.length},next:!1,skip:0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return r.apply(this,arguments)})},{key:"create",value:(n=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.uri)(C()),e.next=3,this.stackClient.fetchJSON("POST",r,{data:{attributes:t}});case 3:return n=e.sent,e.abrupt("return",{data:A(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,s.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._id){e.next=3;break}throw Error("TriggerCollection.destroy needs a document with an _id");case 3:return e.next=5,this.stackClient.fetchJSON("DELETE",(0,g.uri)(E(),r));case 5:return e.abrupt("return",{data:A(x(x({},t),{},{_deleted:!0}))});case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"find",value:(i=(0,s.default)(u.default.mark(function e(){var t,r,n,a,i,c,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=s.length>1&&void 0!==s[1]?s[1]:{},n=t.worker,a=t.type,!(0===Object.keys((0,o.default)(t,["worker","type"])).length&&!r.partialFilter)){e.next=18;break}return i="/jobs/triggers?".concat(P(n,a)),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",i);case 9:return c=e.sent,e.abrupt("return",{data:c.data.map(function(e){return A(e)}),meta:{count:c.data.length},next:!1,skip:0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 16:e.next=19;break;case 18:return e.abrupt("return",(0,f.default)((0,m.default)(M.prototype),"find",this).call(this,t,r));case 19:case"end":return e.stop()}},e,this,[[6,13]])})),function(){return i.apply(this,arguments)})},{key:"get",value:(c=(0,s.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.default.get(this.stackClient,(0,g.uri)(k(),t),{normalize:A}));case 1:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"launch",value:(y=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.uri)(w(),t._id),e.next=3,this.stackClient.fetchJSON("POST",r);case 3:return n=e.sent,e.abrupt("return",{data:(0,b.normalizeJob)(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"update",value:(_=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=u.default.keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}if(["_id","_rev","_type","arguments","message","cozyMetadata"].includes(e.t1.value)){e.next=5;break}throw Error("TriggerCollection.update only works for 'arguments', and 'message' attributes.");case 5:e.next=1;break;case 7:return r=x(x({},t.arguments?{arguments:t.arguments}:{}),t.message?{message:t.message}:{}),e.next=10,this.stackClient.fetchJSON("PATCH","/jobs/triggers/".concat(t._id),{data:{attributes:r}});case 10:return n=e.sent,e.abrupt("return",{data:A(n.data)});case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})}]),M}(_.default);M.normalizeDoctype=y.normalizeDoctypeJsonApi,t.default=M},57929:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.default=void 0;var a=n(r(92115)),o=n(r(61023)),i=n(r(91083)),c=n(r(7184)),u=n(r(62812)),s=n(r(77497)),l=/the client must be registered/;t.default={EXPIRED_TOKEN:/Expired token/,CLIENT_NOT_FOUND:/Client not found/,INVALID_TOKEN:/Invalid JWT token/,INVALID_TOKEN_ALT:/Invalid token/,UNREGISTERED_CLIENT:l};var d=/invalid_token/,f=/access_token_expired/,p=function(e){var t,r=null==(t=e.headers)?void 0:t.get("www-authenticate");if(r){if(f.test(r))return"Expired token";if(d.test(r))return"Invalid token"}};t.FetchError=function(e){(0,i.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(n);return e=t?Reflect.construct(r,arguments,(0,u.default)(this).constructor):r.apply(this,arguments),(0,c.default)(this,e)});function n(e,t){if((0,a.default)(this,n),c=r.call(this),null==(i=Error.captureStackTrace)||i.call(Error,(0,o.default)(c),c.constructor),c.name="FetchError",c.response=e,c.url=e.url,c.status=e.status,c.reason=t,null===t)throw Error("FetchError received a ".concat(e.status," error without a Response Body when calling ").concat(e.url));var i,c,u=p(e);return Object.defineProperty((0,o.default)(c),"message",{value:("string"==typeof t.error&&l.test(t.error)?t.error:void 0)||t.message||u||("string"==typeof t?t:JSON.stringify(t))}),c}return n}((0,s.default)(Error))},24580:function(e,t,r){"use strict";var n,a,o=r(78965),i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconURL=t.default=t._getIconURL=void 0;var c=i(r(30592)),u=i(r(93889));r(77901);var s=o(r(97944));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e,t,r,n){if(!r)throw Error("Cannot fetch icon: missing domain");var a=f(e,t,r,n);if(!a)throw Error("Cannot get icon source for app ".concat(e.name));return a},f=function(e,t,r,n){var a=e&&e.links&&e.links.icon||p(e,t);return a?"".concat(n,"//").concat(r).concat(a):null},p=function(e,t){return t?"/registry/".concat(t,"/icon"):e&&e.latest_version&&e.latest_version.version&&"/registry/".concat(e.slug,"/").concat(e.latest_version.version,"/icon")},h={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},m=function(e){if(!e.icon)throw Error("".concat(e.name,": Cannot detect icon mime type since app has no icon"));var t=e.icon.split(".").pop();if(!t)throw Error("".concat(e.name,": Unable to detect icon mime type from extension (").concat(e.icon,")"));return t},v=(n=(0,u.default)(c.default.mark(function e(t,r){var n,a,o,i,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=18;break}return i=o.value,e.prev=5,e.next=8,i();case 8:return u=e.sent,r&&r(u),e.abrupt("return",u);case 13:e.prev=13,e.t0=e.catch(5),n=e.t0;case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),a.e(e.t1);case 23:return e.prev=23,a.f(),e.finish(23);case 26:throw n;case 27:case"end":return e.stop()}},e,null,[[1,20,23,26],[5,13]])})),function(e,t){return n.apply(this,arguments)}),y=(a=(0,u.default)(c.default.mark(function e(t,r){var n,a,o,i,u,s,l,f,p,y,b,g,_,w;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.type,a=r.slug,o=r.appData,u=void 0===(i=r.priority)?"stack":i,!t.oauthOptions){e.next=29;break}return s=[function(){return t.fetch("GET","/".concat(n,"s/").concat(a,"/icon"))},function(){return t.fetch("GET","/registry/".concat(a,"/icon"))}],"registry"===u&&s.reverse(),e.next=6,v(s,function(e){if(!e.ok)throw Error("Error while fetching icon ".concat(e.statusText))});case 6:return l=e.sent,e.next=9,l.blob();case 9:if((f=e.sent).type){e.next=26;break}if(y=[function(){var e,r;return e=n,r=a,t.fetchJSON("GET","/".concat(e,"s/").concat(r)).then(function(e){return e.data.attributes})},function(){var e;return e=a,t.fetchJSON("GET","/registry/".concat(e)).then(function(e){return e.latest_version.manifest})}],"registry"===u&&y.reverse(),e.t1=o,e.t1){e.next=18;break}return e.next=17,v(y);case 17:e.t1=e.sent;case 18:if(e.t0=e.t1,e.t0){e.next=21;break}e.t0={};case 21:if(h[b=m(p=e.t0)]){e.next=25;break}throw Error('Unknown image extension "'.concat(b,'" for app ').concat(p.name));case 25:f=new Blob([f],{type:h[b]});case 26:return e.abrupt("return",URL.createObjectURL(f));case 29:return e.prev=29,_=(g=new URL(t.uri)).host,w=g.protocol,e.abrupt("return",d(o,a,_,w));case 34:throw e.prev=34,e.t2=e.catch(29),Error("Cannot fetch icon: invalid stackClient.uri: ".concat(e.t2.message));case 37:case"end":return e.stop()}},e,null,[[29,34]])})),function(e,t){return a.apply(this,arguments)});t._getIconURL=y;var b=function(){return y.apply(this,arguments).catch(function(){return new s.ErrorReturned})};t.getIconURL=b,t.default=(0,s.default)(b,{maxDuration:3e5,key:function(e,t){var r=t.type,n=t.slug,a=t.priority;return e.uri+NaN+r+":"+n+":"+a}})},37125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIllegalCharacters=void 0,t.getIllegalCharacters=function(e){var t=e.match(/\/|\x00|\n|\r/g);return t?t.join(" "):""}},86344:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"OAuthClient",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return c.FetchError}}),Object.defineProperty(t,"normalizeDoc",{enumerable:!0,get:function(){return u.normalizeDoc}});var o=a(r(52498)),i=a(r(79776)),c=n(r(57929)),u=r(80075)},55699:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30598));t.default=function(){a.default.warn.apply(a.default,arguments)}},30598:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o=(0,a.default)("cozy-stack-client");a.default.suggest.deny("cozy-stack-client","info"),t.default=o},55104:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeOperatorsExplicit=t.isMatchingIndex=t.getIndexFields=t.transformSort=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=t.normalizeDesignDoc=void 0;var a=n(r(10464)),o=n(r(13135)),i=n(r(76729)),c=n(r(912)),u=n(r(58156)),s=n(r(2404)),l=n(r(23805));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.normalizeDesignDoc=function(e){var t=e._id||e.id;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:t,_id:t},e.doc)};var f=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(n,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(n,"_(")),")"):"object"==typeof a?"".concat(n,"_").concat(e(a)):"".concat(n,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=f,t.getIndexNameFromFields=function(e,t){var r="by_".concat(e.join("_and_"));return t?"".concat(r,"_filter_(").concat(f(t),")"):r},t.transformSort=function(e){if(!e||Array.isArray(e))return e;throw Error('Passing an object to the "sort" is not supported')},t.getIndexFields=function(e){var t=e.selector,r=e.partialFilter,n=e.sort;return Array.from(new Set([].concat((0,a.default)((void 0===n?[]:n).map(function(e){return(0,c.default)(Object.keys(e))})),(0,a.default)(t?Object.keys(t):[]),(0,a.default)(r?Object.keys(r):[]))))},t.isMatchingIndex=function(e,t,r){var n=Object.keys((0,u.default)(e,"views"))[0],a=Object.keys((0,u.default)(e,"views.".concat(n,".map.fields")));if((0,s.default)(a,t)){var o=(0,u.default)(e,"views.".concat(n,".map.partial_filter_selector"));if(!r&&!o)return!0;var i=p(null!=r?r:{});if((0,s.default)(i,o))return!0}return!1};var p=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.entries(t).reduce(function(t,n){var a,c=(0,o.default)(n,2),u=c[0],s=c[1];return"$nor"===u?t.$and=s.map(function(e){return Object.entries(e).reduce(function(e,t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return"string"==typeof a?e[n]={$ne:a}:e[n]=p(a,!0),e},{})}).sort(h):null!=(a=s.$or)&&a.every(function(e){return"string"==typeof e})?t.$or=s.$or.map(function(t){return e((0,i.default)({},u,t),r)}).sort(h):Array.isArray(s)&&s.every(l.default)?t[u]=s.map(function(t){return e(t,r)}).sort(h):(0,l.default)(s)&&!Array.isArray(s)?t[u]=e(s,r):r&&"$eq"===u?t.$ne=s:u.startsWith("$")?t[u]=s:t[u]={$eq:s},t},{}),a=Object.keys(n).sort();return 1===a.length?n:{$and:a.map(function(e){return(0,i.default)({},e,n[e])})}};t.makeOperatorsExplicit=p;var h=function(e,t){var r=Object.keys(e)[0],n=Object.keys(t)[0];return r.localeCompare(n)}},97944:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReturned=t.default=void 0;var a=n(r(92115)),o=n(r(91083)),i=n(r(7184)),c=n(r(62812)),u=function(e){(0,o.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,c.default)(n);return e=t?Reflect.construct(r,arguments,(0,c.default)(this).constructor):r.apply(this,arguments),(0,i.default)(this,e)});function n(){return(0,a.default)(this,n),r.apply(this,arguments)}return n}((0,n(r(77497)).default)(String));t.ErrorReturned=u;var s=function(e,t){for(var r=Date.now(),n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];r-e[o].date>t&&delete e[o]}};t.default=function(e,t){var r={};return function(){var n=t.key.apply(null,arguments);s(r,t.maxDuration);var a=r[n];if(a)return a.result;var o=e.apply(this,arguments);return r[n]={result:o,date:Date.now()},"object"==typeof o&&"function"==typeof o.then&&o.then(function(e){e instanceof u&&delete r[n]}).catch(function(e){delete r[n]}),o}}},80075:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDoc=c,t.normalizeDoctypeJsonApi=function(e){return function(t,r){var n=c(t,e);return i(i({},n),n.attributes||{})}},t.normalizeDoctypeRawApi=function(e){return function(t,r){var n=c(r,e);return i(i({},n),n.attributes||{})}};var a=n(r(76729));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e._id||e.id;return i({id:r,_id:r,_type:t},e)}},82022:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));t.default=function(){var e;function t(){(0,i.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),(o=this.pending[n])?i=o:(i=t(),this.pending[n]=i),e.prev=3,e.next=6,i;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[n]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,r){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),r=this.pending[t];return r||null}}]),t}()},12505:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.buildURL=t.encode=void 0;var a=n(r(13135)),o=n(r(71086)),i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?"["+t.map(function(t){return e(t,!0)}).join(",")+"]":r?encodeURIComponent('"'.concat(t,'"')):encodeURIComponent(t)},c=function(e){return Object.entries(e).map(function(e){var t=(0,a.default)(e,2),r=t[0],n=i(t[1]);return"".concat(r,"=").concat(n)}).join("&")};t.encode=c,t.buildURL=function(e,t){var r=c((0,o.default)(t));return r?"".concat(e,"?").concat(r):e}},77901:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},977:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPath=function(e,t){return"".concat(e).concat(e.endsWith("/")?"":"/").concat(t)},t.encodePath=t.forceDownload=t.formatBytes=t.slugify=t.sleep=t.attempt=t.uri=void 0,t.uri=function(e){for(var t=[e[0]],r=0;r<(arguments.length<=1?0:arguments.length-1);r++)t.push(encodeURIComponent(r+1<1||arguments.length<=r+1?void 0:arguments[r+1])+e[r+1]);return t.join("")},t.attempt=function(e){return e.then(function(){return!0}).catch(function(){return!1})},t.sleep=function(e,t){return new Promise(function(r){setTimeout(r,e,t)})},t.slugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t.formatBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},t.forceDownload=function(e,t){var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},t.encodePath=function(e){return e.split("/").map(function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}).join("/")}},91392:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldXMLHTTPRequestBeUsed=t.fetchWithXMLHttpRequest=void 0;var o=a(r(30592)),i=a(r(13135)),c=a(r(93889)),u=a(r(50104));n=(0,c.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,n){var a=new XMLHttpRequest;r.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",r.onUploadProgress,!1),a.onload=function(){4==this.readyState?e(this):n(this)},a.onerror=function(e){n(e)},a.open(r.method,t,!0),a.withCredentials=!0;for(var o=0,c=Object.entries(r.headers);o<c.length;o++){var u=(0,i.default)(c[o],2),s=u[0],l=u[1];a.setRequestHeader(s,l)}a.send(r.body)});case 2:return n=e.sent,e.abrupt("return",{headers:new Headers(n.getAllResponseHeaders().split("\r\n").map(function(e){return e.split(":",2)}).filter(function(e){return 2==e.length})),ok:n.status>=200&&n.status<300,text:function(){var e=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.responseText);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),json:function(){var e=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(n.responseText));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),status:n.status,statusText:n.statusText});case 4:case"end":return e.stop()}},e)})),t.fetchWithXMLHttpRequest=function(e,t){return n.apply(this,arguments)};var s=(0,u.default)(function(){var e=new XMLHttpRequest;return"onload"in e&&"onprogress"in e});t.shouldXMLHTTPRequestBeUsed=function(e,t,r){return!!r.onUploadProgress&&s()}},2112:function(e,t,r){"use strict";var n,a,o,i=[r(18467),r(70418),r(80949),r(54228),r(45405),r(31471)],c=-1,u=[],s=!1;function l(){n&&a&&(n=!1,a.length?u=a.concat(u):c=-1,u.length&&d())}function d(){if(!n){s=!1,n=!0;for(var e=u.length,t=setTimeout(l);e;){for(a=u,u=[];a&&++c<e;)a[c].run();c=-1,e=u.length}a=null,c=-1,n=!1,clearTimeout(t)}}for(var f=-1,p=i.length;++f<p;)if(i[f]&&i[f].test&&i[f].test()){o=i[f].install(d);break}function h(e,t){this.fun=e,this.array=t}h.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),s||n||(s=!0,o())}},54228:function(e,t,r){"use strict";t.test=function(){return!r.g.setImmediate&&void 0!==r.g.MessageChannel},t.install=function(e){var t=new r.g.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},80949:function(e,t,r){"use strict";var n=r.g.MutationObserver||r.g.WebKitMutationObserver;t.test=function(){return n},t.install=function(e){var t=0,a=new n(e),o=r.g.document.createTextNode("");return a.observe(o,{characterData:!0}),function(){o.data=t=++t%2}}},70418:function(e,t,r){"use strict";t.test=function(){return"function"==typeof r.g.queueMicrotask},t.install=function(e){return function(){r.g.queueMicrotask(e)}}},45405:function(e,t,r){"use strict";t.test=function(){return"document"in r.g&&"onreadystatechange"in r.g.document.createElement("script")},t.install=function(e){return function(){var t=r.g.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},r.g.document.documentElement.appendChild(t),e}}},31471:function(e,t){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},67436:function(e,t,r){"use strict";var n,a=r(48938),o=r(73932),i=r(9771),c=r(19030),u=r(20214),s=function(e){i(!1,e)},l=String.prototype.replace,d=String.prototype.split,f="||||",p=function(e){var t=e%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},h={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:p,chinese:function(){return 0},croatian:p,french:function(e){return+(e>=2)},german:function(e){return+(1!==e)},russian:p,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return+(e%10!=1||e%100==11)},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var v=(n={},function(e,t){var r,i,c,u=n[t];return u&&!e.pluralTypes[u]&&(u=null,n[t]=u),!u&&(u=(r=e.pluralTypeToLanguages,i={},a(o(r),function(e){var t=e[0];a(e[1],function(e){i[e]=t})}),c=i)[t]||c[d.call(t,/-/,1)[0]]||c.en)&&(n[t]=u),u}),y=/%\{(.*?)\}/g;function b(e,t,r,n,a){if("string"!=typeof e)throw TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var o=e,i="number"==typeof t?{smart_count:t}:t;if(null!=i.smart_count&&e){var s,p=a||h,m=d.call(e,f),b=v(p,r||"en");o=u(m[s=i.smart_count,p.pluralTypes[b](s)]||m[0])}return l.call(o,n||y,function(e,t){return c(i,t)&&null!=i[t]?i[t]:e})}function g(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?b:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||s,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",r=e&&e.suffix||"}";if(t===f||r===f)throw RangeError('"'+f+'" token is reserved for pluralization');return RegExp(m(t)+"(.*?)"+m(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||h}g.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},g.prototype.extend=function(e,t){a(o(e||{}),function(e){var r=e[0],n=e[1],a=t?t+"."+r:r;"object"==typeof n?this.extend(n,a):this.phrases[a]=n},this)},g.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:a(o(e||{}),function(e){var r=e[0],n=e[1],a=t?t+"."+r:r;"object"==typeof n?this.unset(n,a):delete this.phrases[a]},this)},g.prototype.clear=function(){this.phrases={}},g.prototype.replace=function(e){this.clear(),this.extend(e)},g.prototype.t=function(e,t){var r,n,a=null==t?{}:t;return"string"==typeof this.phrases[e]?r=this.phrases[e]:"string"==typeof a._?r=a._:this.onMissingKey?n=(0,this.onMissingKey)(e,a,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof r&&(n=b(r,a,this.currentLocale,this.tokenRegex,this.pluralRules)),n},g.prototype.has=function(e){return c(this.phrases,e)},g.transformPhrase=function(e,t,r){return b(e,t,r)},e.exports=g},89513:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>rC});var n,a,o,i,c,u,s=r(2112),l=r.n(s),d=new Uint8Array(16);let f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=[],h=0;h<256;++h)p.push((h+256).toString(16).substr(1));let m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase();if(!("string"==typeof r&&f.test(r)))throw TypeError("Stringified UUID is invalid");return r},v=function(e,t,r){var n=(e=e||{}).random||(e.rng||function(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(d)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return m(n)};var y=r(5457),b=r.n(y),g=r(34655),_=r(96737),w=r.n(_),k=r(56698),O=r.n(k),x=r(37007),E=r.n(x),C=r(65606);function S(e){return e.substring(1)}function A(){this._store={}}function P(e){if(this._store=new A,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}A.prototype.get=function(e){return this._store["$"+e]},A.prototype.set=function(e,t){return this._store["$"+e]=t,!0},A.prototype.has=function(e){return"$"+e in this._store},A.prototype.keys=function(){return Object.keys(this._store).map(e=>S(e))},A.prototype.delete=function(e){var t="$"+e,r=t in this._store;return delete this._store[t],r},A.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var a=t[r];e(this._store[a],a=S(a))}},Object.defineProperty(A.prototype,"size",{get:function(){return Object.keys(this._store).length}}),P.prototype.add=function(e){return this._store.set(e,!0)},P.prototype.has=function(e){return this._store.has(e)},P.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(P.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(o=P,i=A):(o=Set,i=Map);var M=Function.prototype.toString,j=M.call(Object);function D(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(r=0,t=[],n=e.length;r<n;r++)t[r]=D(e[r]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob)return function(e){if(e instanceof ArrayBuffer){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}var a=e.size,o=e.type;return"function"==typeof e.slice?e.slice(0,a,o):e.webkitSlice(0,a,o)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&M.call(r)==j}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var t,r,n,a=D(e[r]);void 0!==a&&(t[r]=a)}return t}function T(e){var t=!1;return w()(function(r){if(t)throw Error("once called more than once");t=!0,e.apply(this,r)})}function I(e){return w()(function(t){t=D(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),a=new Promise(function(n,a){var o;try{var i=T(function(e,t){e?a(e):n(t)});t.push(i),(o=e.apply(r,t))&&"function"==typeof o.then&&n(o)}catch(e){a(e)}});return n&&a.then(function(e){n(null,e)},n),a})}function R(e,t){return I(w()(function(r){if(this._closed)return Promise.reject(Error("database is closed"));if(this._destroyed)return Promise.reject(Error("database is destroyed"));var n=this;if(n.constructor.listeners("debug").length){for(var a=["api",n.name,e],o=0;o<r.length-1;o++)a.push(r[o]);n.constructor.emit("debug",a);var i=r[r.length-1];r[r.length-1]=function(t,r){var a=["api",n.name,e];a=a.concat(t?["error",t]:["success",r]),n.constructor.emit("debug",a),i(t,r)}}return this.taskqueue.isReady?t.apply(this,r):new Promise(function(t,a){n.taskqueue.addTask(function(o){o?a(o):t(n[e].apply(n,r))})})}))}function N(e,t){for(var r={},n=0,a=t.length;n<a;n++){var o=t[n];o in e&&(r[o]=e[o])}return r}function L(e){return e}function F(e){return[{ok:e}]}function B(e,t,r){var n=t.docs,a=new i;n.forEach(function(e){a.has(e.id)?a.get(e.id).push(e):a.set(e.id,[e])});var o=a.size,c=0,u=Array(o),s=[];a.forEach(function(e,t){s.push(t)});var l=0;!function n(){if(!(l>=s.length)){var i,d,f=Math.min(l+6,s.length),p=s.slice(l,f);i=p,d=l,i.forEach(function(i,s){var l=d+s,f=a.get(i),p=N(f[0],["atts_since","attachments"]);p.open_revs=f.map(function(e){return e.rev}),p.open_revs=p.open_revs.filter(L);var h=L;0===p.open_revs.length&&(delete p.open_revs,h=F),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(p[e]=t[e])}),e.get(i,p,function(e,t){var a,s;a=e?[{error:e}]:h(t),u[l]={id:i,docs:a},++c===o&&(s=[],u.forEach(function(e){e.docs.forEach(function(t){s.push({id:e.id,docs:[t]})})}),r(null,{results:s})),n()})}),l+=p.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),c=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){c=!1}function z(){var e;E().call(this),this._listeners={},e=this,c&&addEventListener("storage",function(t){e.emit(t.key)})}function H(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function U(e){var t,r,n=0;return e||(n=2e3),t=e,r=n,t=parseInt(t,10)||0,(r=parseInt(r,10))!=r||r<=t?r=(t||1)<<1:r+=1,r>6e5&&(t=3e5,r=6e5),~~((r-t)*Math.random()+t)}function V(e,t){H("info","The above "+e+" is totally normal. "+t)}O()(z,E()),z.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var a=this,o=!1;this._listeners[t]=i,this.on(e,i)}function i(){if(a._listeners[t]){if(o){o="waiting";return}o=!0;var e=N(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===o&&l()(i),o=!1}).on("error",function(){o=!1})}}},z.prototype.removeListener=function(e,t){t in this._listeners&&(E().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},z.prototype.notifyLocalWindows=function(e){c&&(localStorage[e]="a"===localStorage[e]?"b":"a")},z.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Z="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};function G(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}O()(G,Error),G.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new G(401,"unauthorized","Name or password is incorrect.");var q=new G(400,"bad_request","Missing JSON list of 'docs'"),W=new G(404,"not_found","missing"),Q=new G(409,"conflict","Document update conflict"),J=new G(400,"bad_request","_id field must contain a string"),Y=new G(412,"missing_id","_id is required for puts"),$=new G(400,"bad_request","Only reserved document ids may start with underscore.");new G(412,"precondition_failed","Database not open");var K=new G(500,"unknown_error","Database encountered an unknown error"),X=new G(500,"badarg","Some query argument is invalid");new G(400,"invalid_request","Request was invalid");var ee=new G(400,"query_parse_error","Some query parameter is invalid"),et=new G(500,"doc_validation","Bad special document member"),er=new G(400,"bad_request","Something wrong with the request"),en=new G(400,"bad_request","Document must be a JSON object");new G(404,"not_found","Database not found");var ea=new G(500,"indexed_db_went_bad","unknown");new G(500,"web_sql_went_bad","unknown"),new G(500,"levelDB_went_went_bad","unknown"),new G(403,"forbidden","Forbidden by design doc validate_doc_update function");var eo=new G(400,"bad_request","Invalid rev format");new G(412,"file_exists","The database could not be created, the file already exists.");var ei=new G(412,"missing_stub","A pre-existing attachment stub wasn't found");function ec(e,t){function r(t){for(var r=Object.getOwnPropertyNames(e),n=0,a=r.length;n<a;n++)"function"!=typeof e[r[n]]&&(this[r[n]]=e[r[n]]);void 0===this.stack&&(this.stack=Error().stack),void 0!==t&&(this.reason=t)}return r.prototype=G.prototype,new r(t)}function eu(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=Error().stack),e}function es(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(n){n.doc||(n.doc={});var a=r&&function(e,t,r){try{return!e(t,r)}catch(e){return ec(er,"Filter function threw: "+e.toString())}}(e.filter,n.doc,t);if("object"==typeof a)return a;if(a)return!1;if(e.include_docs){if(!e.attachments)for(var o in n.doc._attachments)Object.prototype.hasOwnProperty.call(n.doc._attachments,o)&&(n.doc._attachments[o].stub=!0)}else delete n.doc;return!0}}function el(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function ed(e){var t;if(e?"string"!=typeof e?t=ec(J):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ec($)):t=ec(Y),t)throw t}function ef(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(H("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ep(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function eh(e){var t=ep(e);return t?t.join("/"):null}new G(413,"invalid_url","Provided URL is invalid");var em=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ev="queryKey",ey=/(?:^|&)([^&=]*)=?([^&]*)/g,eb=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function eg(e){for(var t=eb.exec(e),r={},n=14;n--;){var a=em[n],o=t[n]||"",i=-1!==["user","password"].indexOf(a);r[a]=i?decodeURIComponent(o):o}return r[ev]={},r[em[12]].replace(ey,function(e,t,n){t&&(r[ev][t]=n)}),r}function e_(e,t){var r=[],n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r.push(a),n.push(t[a]));return r.push(e),Function.apply(null,r).apply(null,n)}function ew(e,t,r){return e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(n){var a,o,i,c=n._rev,u=r(n);return u?(u._id=t,u._rev=c,a=e,o=u,i=r,a.put(o).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return ew(a,o._id,i)})):{updated:!1,rev:c}})}var ek=function(e){return atob(e)},eO=function(e){return btoa(e)};function ex(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if("TypeError"!==a.name)throw a;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}function eE(e,t){return ex([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),a=0;a<t;a++)n[a]=e.charCodeAt(a);return r}(e)],{type:t})}function eC(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";if(n)return t(r);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,a=0;a<n;a++)t+=String.fromCharCode(r[a]);return t}(r))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function eS(e,t){eC(e,function(e){t(e)})}function eA(e,t){eS(e,function(e){t(eO(e))})}var eP=self.setImmediate||self.setTimeout;function eM(e,t,r,n,a){var o,i,c,u;(r>0||n<t.size)&&(t=(o=t).webkitSlice?o.webkitSlice(r,n):o.slice(r,n)),i=t,c=function(t){e.append(t),a()},(u=new FileReader).onloadend=function(e){c(e.target.result||new ArrayBuffer(0))},u.readAsArrayBuffer(i)}function ej(e,t,r,n,a){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),a()}function eD(e,t){var r="string"==typeof e,n=r?e.length:e.size,a=Math.min(32768,n),o=Math.ceil(n/a),i=0,c=r?new(b()):new(b()).ArrayBuffer,u=r?ej:eM;function s(){eP(d)}function l(){t(eO(c.end(!0))),c.destroy()}function d(){var t=i*a,r=t+a;++i<o?u(c,e,t,r,s):u(c,e,t,r,l)}d()}function eT(e,t){if(!t)return v().replace(/-/g,"").toLowerCase();var r,n=Z({},e);return delete n._rev_tree,r=JSON.stringify(n),b().hash(r)}function eI(e){for(var t,r,n,a,o=e.rev_tree.slice();a=o.pop();){var i=a.ids,c=i[2],u=a.pos;if(c.length){for(var s=0,l=c.length;s<l;s++)o.push({pos:u+1,ids:c[s]});continue}var d=!!i[1].deleted,f=i[0];(!t||(n!==d?n:r!==u?r<u:t<f))&&(t=f,r=u,n=d)}return r+"-"+t}function eR(e,t){for(var r,n=e.slice();r=n.pop();)for(var a=r.pos,o=r.ids,i=o[2],c=t(0===i.length,a,o[0],r.ctx,o[1]),u=0,s=i.length;u<s;u++)n.push({pos:a+1,ids:i[u],ctx:c})}function eN(e,t){return e.pos-t.pos}function eL(e){var t=[];eR(e,function(e,r,n,a,o){e&&t.push({rev:r+"-"+n,pos:r,opts:o})}),t.sort(eN).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function eF(e){for(var t=eI(e),r=eL(e.rev_tree),n=[],a=0,o=r.length;a<o;a++){var i=r[a];i.rev===t||i.opts.deleted||n.push(i.rev)}return n}function eB(e){for(var t,r=[],n=e.slice();t=n.pop();){var a=t.pos,o=t.ids,i=o[0],c=o[1],u=o[2],s=0===u.length,l=t.history?t.history.slice():[];l.push({id:i,opts:c}),s&&r.push({pos:a+1-l.length,ids:l});for(var d=0,f=u.length;d<f;d++)n.push({pos:a+1,ids:u[d],history:l})}return r.reverse()}function ez(e,t){return e.pos-t.pos}function eH(e,t){for(var r,n,a=t,o=e.length;a<o;a++){var i=e[a],c=[i.id,i.opts,[]];n?(n[2].push(c),n=c):r=n=c}return r}function eU(e,t){return e[0]<t[0]?-1:1}function eV(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var a=r.pop(),o=a.tree1,i=a.tree2;(o[1].status||i[1].status)&&(o[1].status="available"===o[1].status||"available"===i[1].status?"available":"missing");for(var c=0;c<i[2].length;c++){if(!o[2][0]){n="new_leaf",o[2][0]=i[2][c];continue}for(var u=!1,s=0;s<o[2].length;s++)o[2][s][0]===i[2][c][0]&&(r.push({tree1:o[2][s],tree2:i[2][c]}),u=!0);u||(n="new_branch",function(e,t,r){var n=function(e,t,r){for(var n,a=0,o=e.length;a<o;)0>r(e[n=a+o>>>1],t)?a=n+1:o=n;return a}(e,t,r);e.splice(n,0,t)}(o[2],i[2][c],eU))}}return{conflicts:n,tree:e}}function eZ(e,t,r){var n,a=[],o=!1,i=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var c=0,u=e.length;c<u;c++){var s=e[c];if(s.pos===t.pos&&s.ids[0]===t.ids[0])n=eV(s.ids,t.ids),a.push({pos:s.pos,ids:n.tree}),o=o||n.conflicts,i=!0;else if(!0!==r){var l=s.pos<t.pos?s:t,d=s.pos<t.pos?t:s,f=d.pos-l.pos,p=[],h=[];for(h.push({ids:l.ids,diff:f,parent:null,parentIdx:null});h.length>0;){var m=h.pop();if(0===m.diff){m.ids[0]===d.ids[0]&&p.push(m);continue}for(var v=m.ids[2],y=0,b=v.length;y<b;y++)h.push({ids:v[y],diff:m.diff-1,parent:m.ids,parentIdx:y})}var g=p[0];g?(n=eV(g.ids,d.ids),g.parent[2][g.parentIdx]=n.tree,a.push({pos:l.pos,ids:l.ids}),o=o||n.conflicts,i=!0):a.push(s)}else a.push(s)}return i||a.push(t),a.sort(ez),{tree:a,conflicts:o||"internal_node"}}function eG(e,t,r){var n=eZ(e,t),a=function(e,t){for(var r=eB(e),n=0,a=r.length;n<a;n++){var o,i,c,u=r[n],s=u.ids;if(s.length>t){o||(o={});var l=s.length-t;c={pos:u.pos+l,ids:eH(s,l)};for(var d=0;d<l;d++)o[u.pos+d+"-"+s[d].id]=!0}else c={pos:u.pos,ids:eH(s,0)};i=i?eZ(i,c,!0).tree:[c]}return o&&eR(i,function(e,t,r){delete o[t+"-"+r]}),{tree:i,revs:o?Object.keys(o):[]}}(n.tree,r);return{tree:a.tree,stemmedRevs:a.revs,conflicts:n.conflicts}}function eq(e){return e.ids}function eW(e,t){t||(t=eI(e));for(var r,n=t.substring(t.indexOf("-")+1),a=e.rev_tree.map(eq);r=a.pop();){if(r[0]===n)return!!r[1].deleted;a=a.concat(r[2])}}function eQ(e){return/^_local/.test(e)}function eJ(e,t,r){E().call(this);var n=this;this.db=e;var a=(t=t?D(t):{}).complete=T(function(t,r){if(t)("listenerCount"in n?n.listenerCount("error"):E().listenerCount(n,"error"))>0&&n.emit("error",t);else n.emit("complete",r);n.removeAllListeners(),e.removeListener("destroyed",o)});function o(){n.cancel()}r&&(n.on("complete",function(e){r(null,e)}),n.on("error",r)),e.once("destroyed",o),t.onChange=function(e,t,r){if(!n.isCancelled)try{n.emit("change",e,t,r)}catch(e){H("error",'Error in .on("change", function):',e)}};var i=new Promise(function(e,r){t.complete=function(t,n){t?r(t):e(n)}});n.once("cancel",function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})}),this.then=i.then.bind(i),this.catch=i.catch.bind(i),this.then(function(e){a(null,e)},a),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function eY(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=eL(t.rev_tree).map(function(e){return{rev:e.rev}}));var a={id:t.id,changes:n,doc:e};return eW(t,e._rev)&&(a.deleted=!0),r.conflicts&&(a.doc._conflicts=eF(t),a.doc._conflicts.length||delete a.doc._conflicts),a}O()(eJ,E());function e$(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function eK(e,t){var r,n,a=(r=e._id)<(n=t._id)?-1:+(r>n);if(0!==a)return a;var o=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return o<i?-1:+(o>i)}function eX(){for(var e in E().call(this),eX.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function e0(){this.isReady=!1,this.failed=!1,this.queue=[]}function e1(e,t){if(!(this instanceof e1))return new e1(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=D(t),r.auto_compaction=t.auto_compaction,r.prefix=e1.prefix,"string"!=typeof e)throw Error("Missing/invalid DB name");var n=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=e1.adapters,a=e1.preferredAdapters,o=e1.prefix,i=t.adapter;if(!i)for(var u=0;u<a.length;++u){if("idb"===(i=a[u])&&"websql"in n&&c&&localStorage["_pouch__websqldb_"+o+e]){H("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var s=n[i];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:o+e,adapter:i}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,r.name=e,r._adapter=t.adapter,e1.emit("debug",["adapter","Picked adapter: ",t.adapter]),!e1.adapters[t.adapter]||!e1.adapters[t.adapter].valid())throw Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!e1.adapters[t.view_adapter]||!e1.adapters[t.view_adapter].valid()))throw Error("Invalid View Adapter: "+t.view_adapter);eX.call(r),r.taskqueue=new e0,r.adapter=t.adapter,e1.adapters[t.adapter].call(r,t,function(e){if(e)return r.taskqueue.fail(e);function t(e){r.removeListener("closed",n),e||r.constructor.emit("destroyed",r.name)}function n(){r.removeListener("destroyed",t),r.constructor.emit("unref",r)}r.once("destroyed",t),r.once("closed",n),r.constructor.emit("ref",r),r.emit("created",r),e1.emit("created",r.name),r.taskqueue.ready(r)})}eJ.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},eJ.prototype.validateChanges=function(e){var t=e.complete,r=this;e1._changesFilterPlugin?e1._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},eJ.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=D(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=eY,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(n){if(t.isCancelled)return void r(null,{status:"cancelled"});e.since=n.update_seq,t.doChanges(e)},r);if(e1._changesFilterPlugin){if(e1._changesFilterPlugin.normalize(e),e1._changesFilterPlugin.shouldFilter(this,e))return e1._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&H("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var a=t.cancel;t.cancel=w()(function(e){n.cancel(),a.apply(this,e)})}},O()(eX,E()),eX.prototype.post=R("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(ec(en));this.bulkDocs({docs:[e]},t,e$(r,e._id))}),eX.prototype.put=R("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(ec(en));if(ed(e._id),eQ(e._id)&&"function"==typeof this._putLocal)if(e._deleted)return this._removeLocal(e,r);else return this._putLocal(e,r);var n,a,o,i,c=this;function u(r){"function"==typeof c._put&&!1!==t.new_edits?c._put(e,t,r):c.bulkDocs({docs:[e]},t,e$(r,e._id))}t.force&&e._rev?(a=(n=e._rev.split("-"))[1],e._revisions={start:o=parseInt(n[0],10)+1,ids:[i=eT(),a]},e._rev=o+"-"+i,t.new_edits=!1,u(function(t){var n=t?null:{ok:!0,id:e._id,rev:e._rev};r(t,n)})):u(r)}),eX.prototype.putAttachment=R("putAttachment",function(e,t,r,n,a){var o=this;function i(e){var r="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:a,data:n,revpos:++r},o.put(e)}return"function"==typeof a&&(a=n,n=r,r=null),void 0===a&&(a=n,n=r,r=null),a||H("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then(function(e){if(e._rev!==r)throw ec(Q);return i(e)},function(t){if(t.reason===W.message)return i({_id:e});throw t})}),eX.prototype.removeAttachment=R("removeAttachment",function(e,t,r,n){var a=this;a.get(e,function(e,o){return e?void n(e):o._rev!==r?void n(ec(Q)):o._attachments?void(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,a.put(o,n)):n()})}),eX.prototype.remove=R("remove",function(e,t,r,n){"string"==typeof t?(a={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(a=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var a,o={_id:a._id,_rev:a._rev||r.rev};if(o._deleted=!0,eQ(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(a,n);this.bulkDocs({docs:[o]},r,e$(n,o._id))}),eX.prototype.revsDiff=R("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var a=0,o=new i;function c(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}n.map(function(t){this._getRevisionTree(t,function(i,u){if(i&&404===i.status&&"missing"===i.message)o.set(t,{missing:e[t]});else{var s;if(i)return r(i);s=e[t].slice(0),eR(u,function(e,r,n,a,o){var i=r+"-"+n,u=s.indexOf(i);-1!==u&&(s.splice(u,1),"available"!==o.status&&c(t,i))}),s.forEach(function(e){c(t,e)})}if(++a===n.length){var l={};return o.forEach(function(e,t){l[t]=e}),r(null,l)}})},this)}),eX.prototype.bulkGet=R("bulkGet",function(e,t){B(this,e,t)}),eX.prototype.compactDocument=R("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(a,o){if(a)return r(a);var i,c,u=(i={},c=[],eR(o,function(e,t,r,n){var a=t+"-"+r;return e&&(i[a]=0),void 0!==n&&c.push({from:n,to:a}),a}),c.reverse(),c.forEach(function(e){void 0===i[e.from]?i[e.from]=1+i[e.to]:i[e.from]=Math.min(i[e.from],1+i[e.to])}),i),s=[],l=[];Object.keys(u).forEach(function(e){u[e]>t&&s.push(e)}),eR(o,function(e,t,r,n,a){var o=t+"-"+r;"available"===a.status&&-1!==s.indexOf(o)&&l.push(o)}),n._doCompaction(e,l,r)})}),eX.prototype.compact=R("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var r=t._compactionQueue[0],n=r.opts,a=r.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(n.last_seq=r.last_seq),t._compact(n,function(r,n){r?a(r):a(null,n),l()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),eX.prototype._compact=function(e,t){var r=this,n={return_docs:!1,last_seq:e.last_seq||0},a=[];r.changes(n).on("change",function(e){a.push(r.compactDocument(e.id,0))}).on("complete",function(e){var n=e.last_seq;Promise.all(a).then(function(){return ew(r,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},eX.prototype.get=R("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(ec(J));if(eQ(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],a=this;function o(){var o=[],i=n.length;if(!i)return r(null,o);n.forEach(function(n){a.get(e,{rev:n,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)o.push({missing:n});else{for(var a,c=0,u=o.length;c<u;c++)if(o[c].ok&&o[c].ok._rev===t._rev){a=!0;break}a||o.push({ok:t})}--i||r(null,o)})})}if(t.open_revs){if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return r(e);n=eL(t).map(function(e){return e.rev}),o()});else{if(!Array.isArray(t.open_revs))return r(ec(K,"function_clause"));n=t.open_revs;for(var i=0;i<n.length;i++){var c=n[i];if(!("string"==typeof c&&/^\d+-/.test(c)))return r(ec(eo))}o()}return}return this._get(e,t,function(n,o){if(n)return n.docId=e,r(n);var i=o.doc,c=o.metadata,u=o.ctx;if(t.conflicts){var s=eF(c);s.length&&(i._conflicts=s)}if(eW(c,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){for(var l=i._rev.split("-"),d=parseInt(l[0],10),f=l[1],p=eB(c.rev_tree),h=null,m=0;m<p.length;m++){var v=p[m],y=v.ids.map(function(e){return e.id}).indexOf(f);y!==d-1&&(h||-1===y)||(h=v)}if(!h)return(n=Error("invalid rev tree")).docId=e,r(n);var b=h.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])+1,g=h.ids.length-b;if(h.ids.splice(b,g),h.ids.reverse(),t.revs&&(i._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var _=h.pos+h.ids.length;i._revs_info=h.ids.map(function(e){return{rev:--_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&i._attachments){var w=i._attachments,k=Object.keys(w).length;if(0===k)return r(null,i);Object.keys(w).forEach(function(e){this._getAttachment(i._id,e,w[e],{rev:i._rev,binary:t.binary,ctx:u},function(t,n){var a=i._attachments[e];a.data=n,delete a.stub,delete a.length,--k||r(null,i)})},a)}else{if(i._attachments)for(var O in i._attachments)Object.prototype.hasOwnProperty.call(i._attachments,O)&&(i._attachments[O].stub=!0);r(null,i)}})}),eX.prototype.getAttachment=R("getAttachment",function(e,t,r,n){var a=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(o,i){return o?n(o):i.doc._attachments&&i.doc._attachments[t]?void(r.ctx=i.ctx,r.binary=!0,a._getAttachment(e,t,i.doc._attachments[t],r,n)):n(ec(W))})}),eX.prototype.allDocs=R("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(TypeError("options.keys must be an array"));var r,n,a=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(a)return void t(ec(ee,"Query parameter `"+a+"` is not compatible with multi-get"));if(!ef(this)&&(n="limit"in(r=e)?r.keys.slice(r.skip,r.limit+r.skip):r.skip>0?r.keys.slice(r.skip):r.keys,r.keys=n,r.skip=0,delete r.limit,r.descending&&(n.reverse(),r.descending=!1),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),eX.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new eJ(this,e,t)},eX.prototype.close=R("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),eX.prototype.info=R("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!!(t.auto_compaction&&!ef(t)),n.adapter=t.adapter,e(null,n)})}),eX.prototype.id=R("id",function(e){return this._id(e)}),eX.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},eX.prototype.bulkDocs=R("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(ec(q));for(var n,a=0;a<e.docs.length;++a)if("object"!=typeof e.docs[a]||Array.isArray(e.docs[a]))return r(ec(en));if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){n=n||"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'",e._attachments[t].content_type||H("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),n)return r(ec(er,n));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var o=this;t.new_edits||ef(o)||e.docs.sort(eK),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),a=0;a<n.length;a++){var o=n[a];r._attachments[o]=N(r._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var i=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,n){if(e)return r(e);if(t.new_edits||(n=n.filter(function(e){return e.error})),!ef(o))for(var a=0,c=n.length;a<c;a++)n[a].id=n[a].id||i[a];r(null,n)})}),eX.prototype.registerDependentDatabase=R("registerDependentDatabase",function(e,t){var r=D(this.__opts);this.__opts.view_adapter&&(r.adapter=this.__opts.view_adapter);var n=new this.constructor(e,r);ew(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),eX.prototype.destroy=R("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function a(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}if(ef(r))return a();r.get("_local/_pouch_dependentDbs",function(e,o){if(e)if(404!==e.status)return t(e);else return a();var i=o.dependentDbs,c=r.constructor;Promise.all(Object.keys(i).map(function(e){var t=n?e.replace(RegExp("^"+c.prefix),""):e;return new c(t,r.__opts).destroy()})).then(a,t)})}),e0.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},e0.prototype.fail=function(e){this.failed=e,this.execute()},e0.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},e0.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},O()(e1,eX);var e2="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},e3=fetch,e6=Headers;e1.adapters={},e1.preferredAdapters=[],e1.prefix="_pouch_";var e4=new(E());function e5(e,t){for(var r=e,n=0,a=t.length;n<a&&(r=r[t[n]]);n++);return r}function e8(e){for(var t=[],r="",n=0,a=e.length;n<a;n++){var o=e[n];n>0&&"\\"===e[n-1]&&("$"===o||"."===o)?r=r.substring(0,r.length-1)+o:"."===o?(t.push(r),r=""):r+=o}return t.push(r),t}Object.keys(E().prototype).forEach(function(e){"function"==typeof E().prototype[e]&&(e1[e]=e4[e].bind(e4))}),n=e1._destructionListeners=new i,e1.on("ref",function(e){n.has(e.name)||n.set(e.name,[]),n.get(e.name).push(e)}),e1.on("unref",function(e){if(n.has(e.name)){var t=n.get(e.name),r=t.indexOf(e);r<0||(t.splice(r,1),t.length>1?n.set(e.name,t):n.delete(e.name))}}),e1.on("destroyed",function(e){if(n.has(e)){var t=n.get(e);n.delete(e),t.forEach(function(e){e.emit("destroyed",!0)})}}),e1.adapter=function(e,t,r){t.valid()&&(e1.adapters[e]=t,r&&e1.preferredAdapters.push(e))},e1.plugin=function(e){if("function"==typeof e)e(e1);else if("object"!=typeof e||0===Object.keys(e).length)throw Error('Invalid plugin: got "'+e+'", expected an object or a function');else Object.keys(e).forEach(function(t){e1.prototype[t]=e[t]});return this.__defaults&&(e1.__defaults=Z({},this.__defaults)),e1},e1.defaults=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},e&&"object"==typeof e&&(e=(r=e).name,delete r.name),r=Z({},t.__defaults,r),e1.call(this,e,r)}return O()(t,e1),t.preferredAdapters=e1.preferredAdapters.slice(),Object.keys(e1).forEach(function(e){e in t||(t[e]=e1[e])}),t.__defaults=Z({},this.__defaults,e),t},e1.fetch=function(e,t){return e3(e,t)};var e7=["$or","$nor","$not"];function e9(e){return e7.indexOf(e)>-1}function te(e){return Object.keys(e)[0]}function tt(e){var t={},r={$or:!0,$nor:!0};return e.forEach(function(e){Object.keys(e).forEach(function(n){var a=e[n];if("object"!=typeof a&&(a={$eq:a}),e9(n))if(a instanceof Array){if(r[n]){r[n]=!1,t[n]=a;return}var o=[];t[n].forEach(function(e){Object.keys(a).forEach(function(t){var r=a[t],n=Math.max(Object.keys(e).length,Object.keys(r).length),i=tt([e,r]);Object.keys(i).length<=n||o.push(i)})}),t[n]=o}else t[n]=tt([a]);else{var i=t[n]=t[n]||{};Object.keys(a).forEach(function(e){var t,r,n,o,c,u,s,l,d,f,p,h,m=a[e];if("$gt"===e||"$gte"===e){return t=e,r=m,void(void 0===(n=i).$eq&&(void 0!==n.$gte?"$gte"===t?r>n.$gte&&(n.$gte=r):r>=n.$gte&&(delete n.$gte,n.$gt=r):void 0!==n.$gt?"$gte"===t?r>n.$gt&&(delete n.$gt,n.$gte=r):r>n.$gt&&(n.$gt=r):n[t]=r))}if("$lt"===e||"$lte"===e){return o=e,c=m,void(void 0===(u=i).$eq&&(void 0!==u.$lte?"$lte"===o?c<u.$lte&&(u.$lte=c):c<=u.$lte&&(delete u.$lte,u.$lt=c):void 0!==u.$lt?"$lte"===o?c<u.$lt&&(delete u.$lt,u.$lte=c):c<u.$lt&&(u.$lt=c):u[o]=c))}if("$ne"===e){return s=m,void("$ne"in(l=i)?l.$ne.push(s):l.$ne=[s])}if("$eq"===e){return d=m,f=i,void(delete f.$gt,delete f.$gte,delete f.$lt,delete f.$lte,delete f.$ne,f.$eq=d)}if("$regex"===e){return p=m,void("$regex"in(h=i)?h.$regex.push(p):h.$regex=[p])}i[e]=m})}})}),t}function tr(e,t){if(e===t)return 0;e=tn(e),t=tn(t);var r,n,a=to(e),o=to(t);if(a-o!=0)return a-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:r>n?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var a=tr(e[n],t[n]);if(0!==a)return a}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),a=Math.min(r.length,n.length),o=0;o<a;o++){var i=tr(r[o],n[o]);if(0!==i||0!==(i=tr(e[r[o]],t[n[o]])))return i}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function tn(e){switch(typeof e){case"undefined":return null;case"number":if(e===1/0||e===-1/0||isNaN(e))return null;break;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=Array(r);for(var n=0;n<r;n++)e[n]=tn(t[n])}else if(e instanceof Date)return e.toJSON();else if(null!==e){for(var a in e={},t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=t[a];void 0!==o&&(e[a]=tn(o))}}}return e}function ta(e){return to(e=tn(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return+!!e;case"number":return function(e){if(0===e)return"1";var t,r=e.toExponential().split(/e\+?/),n=parseInt(r[1],10),a=e<0,o=a?"0":"2";o+=""+(t=((a?-n:n)- -324).toString(),function(e,t,r){for(var n="",a=3-e.length;n.length<a;)n+="0";return n}(t,"0",3)+t);var i=Math.abs(parseFloat(r[0]));a&&(i=10-i);var c=i.toFixed(20);return o+(""+(c=c.replace(/\.?0+$/,"")))}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,a=r.length,o="";if(t)for(;++n<a;)o+=ta(r[n]);else for(;++n<a;){var i=r[n];o+=ta(i)+ta(e[i])}return o}return""}(e)+"\0"}function to(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function ti(e,t,r){return r.every(function(r){var n,a,o,i=t[r],c=e8(r),u=e5(e,c);return e9(r)?(n=r,a=i,o=e,"$or"===n?a.some(function(e){return ti(o,e,Object.keys(e))}):"$not"===n?!ti(o,a,Object.keys(a)):!a.find(function(e){return ti(o,e,Object.keys(e))})):tc(i,e,c,u)})}function tc(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every(function(a){var o=e[a];if(0===a.indexOf("$"))return tu(a,t,o,r,n);var i=e8(a);if(void 0===n&&"object"!=typeof o&&i.length>0)return!1;var c=e5(n,i);return"object"==typeof o?tc(o,t,r,c):tu("$eq",t,o,i,c)}):e===n)}function tu(e,t,r,n,a){if(!tf[e])throw Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return tf[e](t,r,n,a)}function ts(e){return null!=e}function tl(e){return void 0!==e}function td(e,t){return t.some(function(t){return e instanceof Array?e.some(function(e){return 0===tr(t,e)}):0===tr(t,e)})}var tf={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.some(function(e){return ti(e,t,Object.keys(t))}):n.some(function(n){return tc(t,e,r,n)}))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.every(function(e){return ti(e,t,Object.keys(t))}):n.every(function(n){return tc(t,e,r,n)}))},$eq:function(e,t,r,n){return tl(n)&&0===tr(n,t)},$gte:function(e,t,r,n){return tl(n)&&tr(n,t)>=0},$gt:function(e,t,r,n){return tl(n)&&tr(n,t)>0},$lte:function(e,t,r,n){return tl(n)&&0>=tr(n,t)},$lt:function(e,t,r,n){return tl(n)&&0>tr(n,t)},$exists:function(e,t,r,n){return t?tl(n):!tl(n)},$mod:function(e,t,r,n){return ts(n)&&"number"==typeof n&&parseInt(n,10)===n&&n%t[0]===t[1]},$ne:function(e,t,r,n){return t.every(function(e){return 0!==tr(n,e)})},$in:function(e,t,r,n){return ts(n)&&td(n,t)},$nin:function(e,t,r,n){return ts(n)&&!td(n,t)},$size:function(e,t,r,n){return ts(n)&&Array.isArray(n)&&n.length===t},$all:function(e,t,r,n){return Array.isArray(n)&&t.every(function(e){return n.some(function(t){return 0===tr(e,t)})})},$regex:function(e,t,r,n){return ts(n)&&"string"==typeof n&&t.every(function(e){return new RegExp(e).test(n)})},$type:function(e,t,r,n){switch(t){case"null":return null===n;case"boolean":return"boolean"==typeof n;case"number":return"number"==typeof n;case"string":return"string"==typeof n;case"array":return n instanceof Array;case"object":return"[object Object]"===({}).toString.call(n)}}};function tp(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function th(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=eh(e.view):e.filter=eh(e.filter))}function tm(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ef(e.db)}function tv(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view)return r(ec(er,"`view` filter parameter not found or invalid."));var n=ep(t.view);e.db.get("_design/"+n[0],function(a,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(a)return r(eu(a));var i=o&&o.views&&o.views[n[1]]&&o.views[n[1]].map;if(!i)return r(ec(W,o.views?"missing json key: "+n[1]:"missing json key: views"));t.filter=e_(['return function(doc) {\n  "use strict";\n  var emitted = false;\n  var emit = function (a, b) {\n    emitted = true;\n  };',"  var view = "+i+";","  view(doc);\n  if (emitted) {\n    return true;\n  }\n};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){var r=t.selector;if("object"!=typeof r)throw Error("Selector error: expected a JSON object");var n=function(e,t,r){if(e=e.filter(function(e){return ti(e.doc,t.selector,r)}),t.sort){var n,a=function(e){function t(t){return e.map(function(e){return e5(t,e8(te(e)))})}return function(e,r){var n,a,o=tr(t(e.doc),t(r.doc));return 0!==o?o:(n=e.doc._id)<(a=r.doc._id)?-1:+(n>a)}}(t.sort);e=e.sort(a),"string"!=typeof t.sort[0]&&"desc"===(n=t.sort[0])[te(n)]&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}([{doc:e}],{selector:r=function(e){var t=D(e),r=!1;(function e(t,r){for(var n in t){"$and"===n&&(r=!0);var a=t[n];"object"==typeof a&&(r=e(a,r))}return r})(t,!1)&&("$and"in(t=function e(t){for(var r in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=tt(t[n].$and));var a=t[r];"object"==typeof a&&e(a)}return t}(t))&&(t=tt(t.$and)),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],a=e[n];("object"!=typeof a||null===a)&&(e[n]={$eq:a})}})}),"$not"in t&&(t.$not=tt([t.$not]));for(var n=Object.keys(t),a=0;a<n.length;a++){var o=n[a],i=t[o];"object"!=typeof i||null===i?i={$eq:i}:!r&&("$ne"in i&&(i.$ne=[i.$ne]),"$regex"in i&&(i.$regex=[i.$regex])),t[o]=i}return t}(r)},Object.keys(r));return n&&1===n.length},e.doChanges(t);else{var a=ep(t.filter);e.db.get("_design/"+a[0],function(n,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(n)return r(eu(n));var i=o&&o.filters&&o.filters[a[1]];if(!i)return r(ec(W,o&&o.filters?"missing json key: "+a[1]:"missing json key: filters"));t.filter=e_('"use strict";\nreturn '+i+";",{}),e.doChanges(t)})}}function ty(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}e1.plugin(function(e){e._changesFilterPlugin={validate:tp,normalize:th,shouldFilter:tm,filter:tv}}),e1.version="7.3.1";var tb=ty(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),tg=ty(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function t_(e){if(!/^\d+-/.test(e))return ec(eo);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function tw(e,t,r){r||(r={deterministic_revs:!0});var n,a,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=v()),a=eT(e,r.deterministic_revs),e._rev){if((o=t_(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[a,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[a,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,a=[n[0],t,[]],o=1,i=n.length;o<i;o++)a=[n[o],{status:"missing"},[a]];return[{pos:r,ids:a}]}(e._revisions,i),n=e._revisions.start,a=e._revisions.ids[0]),!e._rev_tree){if((o=t_(e._rev)).error)return o;e._rev_tree=[{pos:n=o.prefix,ids:[a=o.id,i,[]]}]}ed(e._id),e._rev=n+"-"+a;var c={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!tb[u]){var l=ec(et,u);throw l.message=et.message+": "+u,l}s&&!tg[u]?c.metadata[u.slice(1)]=e[u]:c.data[u]=e[u]}return c}var tk="document-store",tO="by-sequence",tx="attach-store",tE="attach-seq-store",tC="meta-store",tS="local-store",tA="detect-blob-support";function tP(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(ec(ea,r,t.type))}}function tM(e,t,r){return{data:function(e){try{return JSON.stringify(e)}catch(t){return g.stringify(e)}}(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function tj(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return g.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function tD(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function tT(e,t,r,n){if(r)if(e)if("string"!=typeof e)n(e);else n(eE(ek(e),t));else n(ex([""],{type:t}));else e?"string"!=typeof e?eC(e,function(e){n(eO(e))}):n(e):n("")}function tI(e,t,r,n){var a=Object.keys(e._attachments||{});if(!a.length)return n&&n();var o=0;function i(){++o===a.length&&n&&n()}a.forEach(function(n){if(t.attachments&&t.include_docs){var a,o;o=(a=e._attachments[n]).digest,r.objectStore(tx).get(o).onsuccess=function(e){a.body=e.target.result.body,i()}}else e._attachments[n].stub=!0,i()})}function tR(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments)return Promise.all(Object.keys(e.doc._attachments).map(function(r){var n=e.doc._attachments[r];if("body"in n){var a=n.body,o=n.content_type;return new Promise(function(i){tT(a,o,t,function(t){e.doc._attachments[r]=Z(N(n,["digest","content_type"]),{data:t}),i()})})}}))}))}function tN(e,t,r){var n=[],a=r.objectStore(tO),o=r.objectStore(tx),i=r.objectStore(tE),c=e.length;function u(){n.length&&n.forEach(function(e){i.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}})}e.forEach(function(e){a.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return void(!--c&&u());a.delete(t),i.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var r=t.value.digestSeq.split("::")[0];n.push(r),i.delete(t.primaryKey),t.continue()}else--c||u()}}})}function tL(e,t,r){try{return{txn:e.transaction(t,r)}}catch(e){return{error:e}}}var tF=new z;function tB(e,t,r,n,a){var o,i,c;function u(e){i=e.target.result,o&&a(o,i,c)}function s(e){o=e.target.result,i&&a(o,i,c)}function l(e){var t=e.target.result;if(!t)return a();a([t.key],[t.value],t)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(c={continue:function(){if(!o.length)return a();var r,c=o[o.length-1];if(t&&t.upper)try{r=IDBKeyRange.bound(c,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return a()}else r=IDBKeyRange.lowerBound(c,!0);t=r,o=null,i=null,e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=s}},e.getAll(t,n).onsuccess=u,e.getAllKeys(t,n).onsuccess=s):r?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}var tz=!1,tH=[];function tU(){!tz&&tH.length&&(tz=!0,tH.shift()())}var tV=new i,tZ=new i;function tG(e,t){var r,n,a=this;r=function(t){!function(e,t,r){var n=t.name,a=null,s=null;function d(e){return function(t,r){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,r)}}function f(e,t){var r=e.objectStore(tk);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var a=n.value,o=eW(a);a.deletedOrLocal=o?"1":"0",r.put(a),n.continue()}else t()}}function p(e,t){var r=e.objectStore(tS),n=e.objectStore(tk),a=e.objectStore(tO);n.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var i=o.value,c=i.id,u=eQ(c),s=eI(i);if(u){var l=c+"::"+s,d=a.index("_doc_id_rev"),f=IDBKeyRange.bound(c+"::",c+"::~",!1,!1),p=d.openCursor(f);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===l&&r.put(t),a.delete(p.primaryKey),p.continue()}else n.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function h(e,t){var r=e.objectStore(tO),n=e.objectStore(tx),a=e.objectStore(tE);n.count().onsuccess=function(e){if(!e.target.result)return t();r.openCursor().onsuccess=function(e){var r=e.target.result;if(!r)return t();for(var n=r.value,o=r.primaryKey,i=Object.keys(n._attachments||{}),c={},u=0;u<i.length;u++)c[n._attachments[i[u]].digest]=!0;var s=Object.keys(c);for(u=0;u<s.length;u++){var l=s[u];a.put({seq:o,digestSeq:l+"::"+o})}r.continue()}}}function m(e){var t=e.objectStore(tO),r=e.objectStore(tk);r.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var a,o,i,c,u,s=(u=n.value).data?tj(u):(u.deleted="1"===u.deletedOrLocal,u);if(s.winningRev=s.winningRev||eI(s),s.seq)return l();a=s.id+"::",o=s.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(a,o)),c=0,i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=c,l();var r=t.primaryKey;r>c&&(c=r),t.continue()}}function l(){var e=tM(s,s.winningRev,s.deleted);r.put(e).onsuccess=function(){n.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=I(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(r,n,o){!function(e,t,r,n,a,o){for(var c,u,s,l,d,f,p,h,m=t.docs,v=0,y=m.length;v<y;v++){var b=m[v];b._id&&eQ(b._id)||(b=m[v]=tw(b,r.new_edits,e)).error&&!p&&(p=b)}if(p)return o(p);var g=!1,_=0,w=Array(m.length),k=new i,O=!1;function x(){g=!0,E()}function E(){h&&g&&(h.docCount+=_,f.put(h))}function C(){O||(tF.notify(n._meta.name),o(null,w))}function S(e,t,r,n,a,o,i,c){e.metadata.winningRev=t,e.metadata.deleted=r;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,n&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,r,n,a,o){var i=e.data,c=0,u=Object.keys(i._attachments);function s(){c===u.length&&A(e,t,r,n,a,o)}function d(){c++,s()}u.forEach(function(r){var n=e.data._attachments[r];if(n.stub)c++,s();else{var a,o,i,u=n.data;delete n.data,n.revpos=parseInt(t,10),a=n.digest,o=u,i=d,l.count(a).onsuccess=function(e){if(e.target.result)return i();l.put({digest:a,body:o}).onsuccess=i}}})}(e,t,r,a,i,c);_+=o,E(),A(e,t,r,a,i,c)}function A(e,t,r,a,o,i){var l=e.data,f=e.metadata;function p(o){var i,s,l=e.stemmedRevs||[];a&&n.auto_compaction&&(l=l.concat((i=e.metadata,s=[],eR(i.rev_tree,function(e,t,r,n,a){"available"!==a.status||e||(s.push(t+"-"+r),a.status="missing")}),s))),l&&l.length&&tN(l,e.metadata.id,c),f.seq=o.target.result;var d=tM(f,t,r);u.put(d).onsuccess=h}function h(){w[o]={ok:!0,id:f.id,rev:f.rev},k.set(e.metadata.id,e.metadata),function(e,t,r){var n=0,a=Object.keys(e.data._attachments||{});if(!a.length)return r();function o(){++n===a.length&&r()}for(var i=0;i<a.length;i++)!function(r){var n=e.data._attachments[r].digest,a=d.put({seq:t,digestSeq:n+"::"+t});a.onsuccess=o,a.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}(a[i])}(e,f.seq,i)}l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var m=s.put(l);m.onsuccess=p,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),s.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){s.put(l,e.target.result).onsuccess=p}}}!function(e,t,r){if(!e.length)return r();var n,a=0;function o(){a++,e.length===a&&(n?r(n):r())}e.forEach(function(e){var r=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!r.length)return o();function i(e){n=e,++a===r.length&&o()}for(var c in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,c)&&function(e,t,r){if(e.stub)return r();if("string"==typeof e.data)!function(e,t,r){var n=function(e){try{return ek(e)}catch(e){return{error:ec(X,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,"blob"===t?e.data=eE(n,e.content_type):"base64"===t?e.data=eO(n):e.data=n,eD(n,function(t){e.digest="md5-"+t,r()})}(e,t,r);else eD(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?eS(e.data,function(t){e.data=t,r()}):"base64"===t?eA(e.data,function(t){e.data=t,r()}):r()})}(e.data._attachments[c],t,i)})}(m,n._meta.blobSupport?"blob":"base64",function(t){if(t)return o(t);!function(){var t=tL(a,[tk,tO,tx,tS,tE,tC],"readwrite");if(t.error)return o(t.error);(c=t.txn).onabort=tP(o),c.ontimeout=tP(o),c.oncomplete=C,u=c.objectStore(tk),s=c.objectStore(tO),l=c.objectStore(tx),d=c.objectStore(tE),(f=c.objectStore(tC)).get(tC).onsuccess=function(e){h=e.target.result,E()},function(e){var t,r=[];if(m.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var n=e.data._attachments[t];n.stub&&r.push(n.digest)})}),!r.length)return e();var n=0;r.forEach(function(a){var o;o=function(a){a&&!t&&(t=a),++n===r.length&&e(t)},l.get(a).onsuccess=function(e){if(e.target.result)o();else{var t=ec(ei,"unknown stub attachment with digest "+a);t.status=412,o(t)}}})}(function(t){if(t)return O=!0,o(t);!function(){if(m.length)for(var t=0,a=0,o=m.length;a<o;a++){var s=m[a];if(s._id&&eQ(s._id)){l();continue}u.get(s.metadata.id).onsuccess=d}function l(){++t===m.length&&function(e,t,r,n,a,o,c,u,s){e=e||1e3;var l=u.new_edits,d=new i,f=0,p=t.length;function h(){++f===p&&s&&s()}t.forEach(function(e,t){if(e._id&&eQ(e._id))return void r[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:a},function(e,r){o[t]=e||r,h()});var n=e.metadata.id;d.has(n)?(p--,d.get(n).push([e,t])):d.set(n,[[e,t]])}),d.forEach(function(t,r){var a=0;function i(){++a<t.length?s():h()}function s(){var s=t[a],d=s[0],f=s[1];if(n.has(r))!function(e,t,r,n,a,o,i,c){if(function(e,t){for(var r,n=e.slice(),a=t.split("-"),o=parseInt(a[0],10),i=a[1];r=n.pop();){if(r.pos===o&&r.ids[0]===i)return!0;for(var c=r.ids[2],u=0,s=c.length;u<s;u++)n.push({pos:r.pos+1,ids:c[u]})}return!1}(t.rev_tree,r.metadata.rev)&&!c)return n[a]=r,o();var u,s=t.winningRev||eI(t),l="deleted"in t?t.deleted:eW(t,s),d="deleted"in r.metadata?r.metadata.deleted:eW(r.metadata),f=/^1-/.test(r.metadata.rev);if(l&&!d&&c&&f){var p=r.data;p._rev=s,p._id=r.metadata.id,r=tw(p,c)}var h=eG(t.rev_tree,r.metadata.rev_tree[0],e);if(c&&(l&&d&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!d&&"new_branch"===h.conflicts)){var m=ec(Q);return n[a]=m,o()}var v=r.metadata.rev;r.metadata.rev_tree=h.tree,r.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var y=eI(r.metadata),b=eW(r.metadata,y),g=l===b?0:l<b?-1:1;u=v===y?b:eW(r.metadata,v),i(r,y,b,u,!0,g,a,o)}(e,n.get(r),d,o,f,i,c,l);else{var p=eG([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=p.tree,d.stemmedRevs=p.stemmedRevs||[],function(e,t,r){var n=eI(e.metadata),a=eW(e.metadata,n);if("was_delete"in u&&a)return o[t]=ec(W,"deleted"),r();if(l&&"missing"===e.metadata.rev_tree[0].ids[1].status){var i=ec(Q);return o[t]=i,r()}var s=+!a;c(e,n,a,a,!1,s,t,r)}(d,f,i)}}s()})}(e.revs_limit,m,n,k,c,w,S,r,x)}function d(e){var t=tj(e.target.result);t&&k.set(t.id,t),l()}}()})}()})}(t,r,n,e,a,d(o))},e._get=function(e,t,r){var n,o,i,c=t.ctx;if(!c){var u=tL(a,[tk,tO,tx],"readonly");if(u.error)return r(u.error);c=u.txn}function s(){r(i,{doc:n,metadata:o,ctx:c})}c.objectStore(tk).get(e).onsuccess=function(e){if(!(o=tj(e.target.result)))return i=ec(W,"missing"),s();if(t.rev)r=t.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var a=r.pos,o=r.ids,i=o[0],c=o[1],u=o[2],s=0===u.length,l=r.history?r.history.slice():[];if(l.push({id:i,pos:a,opts:c}),s)for(var d=0,f=l.length;d<f;d++){var p=l[d];if(p.pos+"-"+p.id===e)return a+"-"+i}for(var h=0,m=u.length;h<m;h++)n.push({pos:a+1,ids:u[h],history:l})}throw Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else{var r=o.winningRev;if(eW(o))return i=ec(W,"deleted"),s()}var a=c.objectStore(tO),u=o.id+"::"+r;a.index("_doc_id_rev").get(u).onsuccess=function(e){if((n=e.target.result)&&(n=tD(n)),!n)return i=ec(W,"missing"),s();s()}}},e._getAttachment=function(e,t,r,n,o){if(n.ctx)i=n.ctx;else{var i,c=tL(a,[tk,tO,tx],"readonly");if(c.error)return o(c.error);i=c.txn}var u=r.digest,s=r.content_type;i.objectStore(tx).get(u).onsuccess=function(e){tT(e.target.result.body,s,n.binary,function(e){o(null,e)})}},e._info=function(t){var r,n,o=tL(a,[tC,tO],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(tC).get(tC).onsuccess=function(e){n=e.target.result.docCount},i.objectStore(tO).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;r=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:n,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,r){var n,a,o,i,c,u,s,l,d,f="startkey"in e&&e.startkey,p="endkey"in e&&e.endkey,h="key"in e&&e.key,m="keys"in e&&e.keys,v=e.skip||0,y="number"==typeof e.limit?e.limit:-1,b=!1!==e.inclusive_end;if(!m&&(s=(u=function(e,t,r,n,a){try{if(e&&t)if(a)return IDBKeyRange.bound(t,e,!r,!1);else return IDBKeyRange.bound(e,t,!1,!r);if(e)if(a)return IDBKeyRange.upperBound(e);else return IDBKeyRange.lowerBound(e);if(t)if(a)return IDBKeyRange.lowerBound(t,!r);else return IDBKeyRange.upperBound(t,!r);else if(n)return IDBKeyRange.only(n)}catch(e){return{error:e}}return null}(f,p,b,h,e.descending))&&u.error)&&("DataError"!==s.name||0!==s.code))return r(ec(ea,s.name,s.message));var g=[tk,tO,tC];e.attachments&&g.push(tx);var _=tL(t,g,"readonly");if(_.error)return r(_.error);var w=_.txn;w.oncomplete=function(){e.attachments?tR(C,e.binary).then(P):P()},w.onabort=tP(r);var k=w.objectStore(tk),O=w.objectStore(tO),x=w.objectStore(tC),E=O.index("_doc_id_rev"),C=[];function S(t){for(var r=0,n=t.length;r<n&&C.length!==y;r++){var a=t[r];if(a.error&&m){C.push(a);continue}var o=tj(a);!function(t,r){var n,a={id:r.id,key:r.id,value:{rev:t}};r.deleted?m&&(C.push(a),a.value.deleted=!0,a.doc=null):v--<=0&&(C.push(a),e.include_docs&&(n=r.id+"::"+t,E.get(n).onsuccess=function(t){if(a.doc=tD(t.target.result)||{},e.conflicts){var n=eF(r);n.length&&(a.doc._conflicts=n)}tI(a.doc,e,w)}))}(o.winningRev,o)}}function A(e,t,r){r&&(S(t),C.length<y&&r.continue())}function P(){var t={total_rows:l,offset:e.skip,rows:C};e.update_seq&&void 0!==d&&(t.update_seq=d),r(null,t)}if(x.get(tC).onsuccess=function(e){l=e.target.result.docCount},e.update_seq&&(n=O,a=function(e){e.target.result&&e.target.result.length>0&&(d=e.target.result[0])},n.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,r=void 0;return t&&t.key&&(r=t.key),a({target:{result:[r]}})}),!s&&0!==y){if(m)return o=e.keys,i=Array(o.length),c=0,o.forEach(function(e,t){k.get(e).onsuccess=function(r){r.target.result?i[t]=r.target.result:i[t]={key:e,error:"not_found"},++c===o.length&&A(o,i,{})}});if(-1===y){var M=u,j=function(t){var r=t.target.result;e.descending&&(r=r.reverse()),S(r)};if("function"==typeof k.getAll){k.getAll(M).onsuccess=j;return}var D=[];k.openCursor(M).onsuccess=function(e){var t=e.target.result;t?(D.push(t.value),t.continue()):j({target:{result:D}})};return}tB(k,u,e.descending,y+v,A)}}(e,a,d(t))},e._changes=function(t){return function(e,t,r,n){if((e=D(e)).continuous){var a,c,u,s,l=r+":"+v();return tF.addListener(r,l,t,e),tF.notify(r),{cancel:function(){tF.removeListener(r,l)}}}var d=e.doc_ids&&new o(e.doc_ids);e.since=e.since||0;var f=e.since,p="limit"in e?e.limit:-1;0===p&&(p=1);var h=[],m=0,y=es(e),b=new i;function g(e,t,r,n){if(r.seq!==t)return n();if(r.winningRev===e._rev)return n(r,e);var a=e._id+"::"+r.winningRev;s.get(a).onsuccess=function(e){n(r,tD(e.target.result))}}function _(){e.complete(null,{results:h,last_seq:f})}var w=[tk,tO];e.attachments&&w.push(tx);var k=tL(n,w,"readonly");if(k.error)return e.complete(k.error);(a=k.txn).onabort=tP(e.complete),a.oncomplete=function(){!e.continuous&&e.attachments?tR(h).then(_):_()},c=a.objectStore(tO),u=a.objectStore(tk),s=c.index("_doc_id_rev"),tB(c,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,p,function(t,r,n){if(n&&t.length){var o=Array(t.length),i=Array(t.length),c=0;r.forEach(function(r,s){!function(e,t,r){if(d&&!d.has(e._id))return r();var n=b.get(e._id);if(n)return g(e,t,n,r);u.get(e._id).onsuccess=function(a){n=tj(a.target.result),b.set(e._id,n),g(e,t,n,r)}}(tD(r),t[s],function(r,u){i[s]=r,o[s]=u,++c===t.length&&function(){for(var t=[],r=0,c=o.length;r<c&&m!==p;r++){var u=o[r];if(u){var s=i[r];t.push(function(t,r){var n=e.processChange(r,t,e);f=n.seq=t.seq;var o=y(n);return"object"==typeof o?Promise.reject(o):o?(m++,e.return_docs&&h.push(n),e.attachments&&e.include_docs)?new Promise(function(t){tI(r,e,a,function(){tR([n],e.binary).then(function(){t(n)})})}):Promise.resolve(n):Promise.resolve()}(s,u))}}Promise.all(t).then(function(t){for(var r=0,n=t.length;r<n;r++)t[r]&&e.onChange(t[r])}).catch(e.complete),m!==p&&n.continue()}()})})}})}(t,e,n,a)},e._close=function(e){a.close(),tV.delete(n),e()},e._getRevisionTree=function(e,t){var r=tL(a,[tk],"readonly");if(r.error)return t(r.error);r.txn.objectStore(tk).get(e).onsuccess=function(e){var r=tj(e.target.result);r?t(null,r.rev_tree):t(ec(W))}},e._doCompaction=function(e,t,r){var n=tL(a,[tk,tO,tx,tE],"readwrite");if(n.error)return r(n.error);var o=n.txn;o.objectStore(tk).get(e).onsuccess=function(r){var n=tj(r.target.result);eR(n.rev_tree,function(e,r,n,a,o){-1!==t.indexOf(r+"-"+n)&&(o.status="missing")}),tN(t,e,o);var a=n.winningRev,i=n.deleted;o.objectStore(tk).put(tM(n,a,i))},o.onabort=tP(r),o.oncomplete=function(){r()}},e._getLocal=function(e,t){var r=tL(a,[tS],"readonly");if(r.error)return t(r.error);var n=r.txn.objectStore(tS).get(e);n.onerror=tP(t),n.onsuccess=function(e){var r=e.target.result;r?(delete r._doc_id_rev,t(null,r)):t(ec(W))}},e._putLocal=function(e,t,r){"function"==typeof t&&(r=t,t={}),delete e._revisions;var n,o,i=e._rev,c=e._id;i?e._rev="0-"+(parseInt(i.split("-")[1],10)+1):e._rev="0-1";var u=t.ctx;if(!u){var s=tL(a,[tS],"readwrite");if(s.error)return r(s.error);(u=s.txn).onerror=tP(r),u.oncomplete=function(){n&&r(null,n)}}var l=u.objectStore(tS);i?(o=l.get(c)).onsuccess=function(a){var o=a.target.result;o&&o._rev===i?l.put(e).onsuccess=function(){n={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,n)}:r(ec(Q))}:((o=l.add(e)).onerror=function(e){r(ec(Q)),e.preventDefault(),e.stopPropagation()},o.onsuccess=function(){n={ok:!0,id:e._id,rev:e._rev},t.ctx&&r(null,n)})},e._removeLocal=function(e,t,r){"function"==typeof t&&(r=t,t={});var n,o=t.ctx;if(!o){var i=tL(a,[tS],"readwrite");if(i.error)return r(i.error);(o=i.txn).oncomplete=function(){n&&r(null,n)}}var c=e._id,u=o.objectStore(tS),s=u.get(c);s.onerror=tP(r),s.onsuccess=function(a){var o=a.target.result;o&&o._rev===e._rev?(u.delete(c),n={ok:!0,id:c,rev:"0-0"},t.ctx&&r(null,n)):r(ec(W))}},e._destroy=function(e,t){tF.removeAllListeners(n);var r=tZ.get(n);r&&r.result&&(r.result.close(),tV.delete(n));var a=indexedDB.deleteDatabase(n);a.onsuccess=function(){tZ.delete(n),c&&n in localStorage&&delete localStorage[n],t(null,{ok:!0})},a.onerror=tP(t)};var y=tV.get(n);if(y)return a=y.idb,e._meta=y.global,l()(function(){r(null,e)});var b=indexedDB.open(n,5);tZ.set(n,b),b.onupgradeneeded=function(e){var t,r,n,a=e.target.result;if(e.oldVersion<1)return t=a.createObjectStore(tk,{keyPath:"id"}),a.createObjectStore(tO,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),a.createObjectStore(tx,{keyPath:"digest"}),a.createObjectStore(tC,{keyPath:"id",autoIncrement:!1}),a.createObjectStore(tA),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),a.createObjectStore(tS,{keyPath:"_id"}),void((r=a.createObjectStore(tE,{autoIncrement:!0})).createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0}));var o=e.currentTarget.transaction;e.oldVersion<3&&a.createObjectStore(tS,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.oldVersion<4&&((n=a.createObjectStore(tE,{autoIncrement:!0})).createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0}));var i=[f,p,h,m],c=e.oldVersion;!function e(){var t=i[c-1];c++,t&&t(o,e)}()},b.onsuccess=function(t){(a=t.target.result).onversionchange=function(){a.close(),tV.delete(n)},a.onabort=function(e){H("error","Database has a global failure",e.target.error),s=e.target.error,a.close(),tV.delete(n)};var o,i,c,l,d,f=a.transaction([tC,tA,tk],"readwrite"),p=!1;function h(){void 0!==l&&p&&(e._meta={name:n,instanceId:d,blobSupport:l},tV.set(n,{idb:a,global:e._meta}),r(null,e))}function m(){if(void 0!==c&&void 0!==i){var e=n+"_id";e in i?d=i[e]:i[e]=d=v(),i.docCount=c,f.objectStore(tC).put(i)}}f.objectStore(tC).get(tC).onsuccess=function(e){i=e.target.result||{id:tC},m()},o=function(e){c=e,m()},f.objectStore(tk).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){o(e.target.result)},u||(u=new Promise(function(e){var t=ex([""]),r=f.objectStore(tA).put(t,"key");r.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);e(navigator.userAgent.match(/Edge\//)||!t||parseInt(t[1],10)>=43)},r.onerror=f.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})),u.then(function(e){l=e,h()}),f.oncomplete=function(){p=!0,h()},f.onabort=tP(r)},b.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",H("error",t),r(ec(ea,t))}}(a,e,t)},n=a.constructor,tH.push(function(){r(function(e,r){try{t(e,r)}catch(e){n.emit("error",e)}tz=!1,l()(function(){tU(n)})})}),tU()}tG.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var tq={};function tW(e){var t=e.doc||e.ok,r=t&&t._attachments;r&&Object.keys(r).forEach(function(e){var t,n,a=r[e];t=a.data,n=a.content_type,a.data=eE(ek(t),n)})}function tQ(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function tJ(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map(function(t){var r=e._attachments[t];if(r.data&&"string"!=typeof r.data)return new Promise(function(e){eA(r.data,e)}).then(function(e){r.data=e})})):Promise.resolve()}function tY(e,t){return t$(e,e.db+"/"+t)}function t$(e,t){var r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function tK(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function tX(e,t){var r,n=this,a=function(e,t){if(function(e){if(!e.prefix)return!1;var t=eg(e.prefix).protocol;return"http"===t||"https"===t}(t)){var r=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(r)}var n=eg(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var a=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=a.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=a.join("/"),n}(e.name,e),o=tY(a,"");e=D(e);var i=function(t,r){if((r=r||{}).headers=r.headers||new e6,r.credentials="include",e.auth||a.auth){var n,o,i,c,u,s,l=e.auth||a.auth,d=eO(unescape(encodeURIComponent(l.username+":"+l.password)));r.headers.set("Authorization","Basic "+d)}var f=e.headers||{};return Object.keys(f).forEach(function(e){r.headers.append(e,f[e])}),n=r,i=-1!==(o="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"").indexOf("msie"),c=-1!==o.indexOf("trident"),u=-1!==o.indexOf("edge"),s=!("method"in n)||"GET"===n.method,(i||c||u)&&s&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||e3)(t,r)};function c(e,t){return R(e,w()(function(e){s().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})})).bind(n)}function u(e,t,r){var n={};return(t=t||{}).headers=t.headers||new e6,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),i(e,t).then(function(e){return n.ok=e.ok,n.status=e.status,e.json()}).then(function(e){if(n.data=e,!n.ok){n.data.status=n.status;var t=eu(n.data);if(r)return r(t);throw t}if(Array.isArray(n.data)&&(n.data=n.data.map(function(e){return e.error||e.missing?eu(e):e})),!r)return n;r(null,n.data)})}function s(){return e.skip_setup?Promise.resolve():(r||(r=u(o).catch(function(e){return e&&e.status&&404===e.status?(V(404,"PouchDB is just detecting if the remote exists."),u(o,{method:"PUT"})):Promise.reject(e)}).catch(function(e){return!!e&&!!e.status&&412===e.status||Promise.reject(e)})).catch(function(){r=null}),r)}function d(e){return e.split("/").map(encodeURIComponent).join("/")}l()(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=c("id",function(e){i(t$(a,"")).then(function(e){return e.json()}).catch(function(){return{}}).then(function(t){e(null,t&&t.uuid?t.uuid+a.db:tY(a,""))})}),n.compact=c("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=D(e),u(tY(a,"_compact"),{method:"POST"}).then(function(){!function r(){n.info(function(n,a){a&&!a.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)})}()})}),n.bulkGet=R("bulkGet",function(e,t){var r=this;function n(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),u(tY(a,"_bulk_get"+tK(r)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then(function(r){e.attachments&&e.binary&&r.data.results.forEach(function(e){e.docs.forEach(tW)}),t(null,r.data)}).catch(t)}function o(){for(var n=Math.ceil(e.docs.length/50),a=0,o=Array(n),i=0;i<n;i++){var c=N(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*i,Math.min(e.docs.length,(i+1)*50)),B(r,c,function(e){return function(r,i){o[e]=i.results,++a===n&&t(null,{results:el(o)})}}(i))}}var i=t$(a,""),c=tq[i];"boolean"!=typeof c?n(function(e,r){e?(tq[i]=!1,V(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(tq[i]=!0,t(null,r))}):c?n(t):o()}),n._info=function(e){s().then(function(){return i(tY(a,""))}).then(function(e){return e.json()}).then(function(t){t.host=tY(a,""),e(null,t)}).catch(e)},n.fetch=function(e,t){return s().then(function(){return i("/"===e.substring(0,1)?t$(a,e.substring(1)):tY(a,e),t)})},n.get=c("get",function(e,t,r){"function"==typeof t&&(r=t,t={});var n={};function o(e){var r,n=e._attachments,o=n&&Object.keys(n);if(n&&o.length)return r=o.map(function(r){return function(){var o,c;return c=n[o=r],i(tY(a,tQ(e._id)+"/"+d(o)+"?rev="+e._rev)).then(function(e){return"buffer"in e?e.buffer():e.blob()}).then(function(e){if(t.binary){var r=Object.getOwnPropertyDescriptor(e.__proto__,"type");return(!r||r.set)&&(e.type=c.content_type),e}return new Promise(function(t){eA(e,t)})}).then(function(e){delete c.stub,delete c.length,c.data=e})}}),new Promise(function(e,t){var n,a=0,o=0,i=0,c=r.length;function u(){++i===c?n?t(n):e():d()}function s(){a--,u()}function l(e){a--,n=n||e,u()}function d(){for(;a<5&&o<c;)a++,r[o++]().then(s,l)}d()})}(t=D(t)).revs&&(n.revs=!0),t.revs_info&&(n.revs_info=!0),t.latest&&(n.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),n.open_revs=t.open_revs),t.rev&&(n.rev=t.rev),t.conflicts&&(n.conflicts=t.conflicts),t.update_seq&&(n.update_seq=t.update_seq),u(tY(a,(e=tQ(e))+tK(n))).then(function(e){return Promise.resolve().then(function(){if(t.attachments){var r;return Array.isArray(r=e.data)?Promise.all(r.map(function(e){if(e.ok)return o(e.ok)})):o(r)}}).then(function(){r(null,e.data)})}).catch(function(t){t.docId=e,r(t)})}),n.remove=c("remove",function(e,t,r,n){"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(o=e,"function"==typeof t?(n=t,r={}):(n=r,r=t));var o,i=o._rev||r.rev;u(tY(a,tQ(o._id))+"?rev="+i,{method:"DELETE"},n).catch(n)}),n.getAttachment=c("getAttachment",function(e,t,r,n){"function"==typeof r&&(n=r,r={});var o,c=r.rev?"?rev="+r.rev:"";i(tY(a,tQ(e))+"/"+d(t)+c,{method:"GET"}).then(function(e){if(o=e.headers.get("content-type"),e.ok)if(void 0!==C&&!C.browser&&"function"==typeof e.buffer)return e.buffer();else return e.blob();throw e}).then(function(e){if(void 0!==C&&!C.browser){var t=Object.getOwnPropertyDescriptor(e.__proto__,"type");(!t||t.set)&&(e.type=o)}n(null,e)}).catch(function(e){n(e)})}),n.removeAttachment=c("removeAttachment",function(e,t,r,n){u(tY(a,tQ(e)+"/"+d(t))+"?rev="+r,{method:"DELETE"},n).catch(n)}),n.putAttachment=c("putAttachment",function(e,t,r,n,o,i){"function"==typeof o&&(i=o,o=n,n=r,r=null);var c,s=tY(a,tQ(e)+"/"+d(t));if(r&&(s+="?rev="+r),"string"==typeof n){try{c=ek(n)}catch(e){return i(ec(X,"Attachment is not a valid base64 string"))}n=c?eE(c,o):""}u(s,{headers:new e6({"Content-Type":o}),method:"PUT",body:n},i).catch(i)}),n._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,s().then(function(){return Promise.all(e.docs.map(tJ))}).then(function(){return u(tY(a,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},r)}).catch(r)},n._put=function(e,t,r){s().then(function(){return tJ(e)}).then(function(){return u(tY(a,tQ(e._id)),{method:"PUT",body:JSON.stringify(e)})}).then(function(e){r(null,e.data)}).catch(function(t){t.docId=e&&e._id,r(t)})},n.allDocs=c("allDocs",function(e,t){"function"==typeof e&&(t=e,e={});var r,n={},o="GET";(e=D(e)).conflicts&&(n.conflicts=!0),e.update_seq&&(n.update_seq=!0),e.descending&&(n.descending=!0),e.include_docs&&(n.include_docs=!0),e.attachments&&(n.attachments=!0),e.key&&(n.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(n.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(n.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(n.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.skip&&(n.skip=e.skip);var i=tK(n);void 0!==e.keys&&(o="POST",r={keys:e.keys}),u(tY(a,"_all_docs"+i),{method:o,body:JSON.stringify(r)}).then(function(r){e.include_docs&&e.attachments&&e.binary&&r.data.rows.forEach(tW),t(null,r.data)}).catch(t)}),n._changes=function(e){var t,r,n="batch_size"in e?e.batch_size:25;!(e=D(e)).continuous||"heartbeat"in e||(e.heartbeat=1e4);var o="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&o-e.timeout<5e3&&(o=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&o-e.heartbeat<5e3&&(o=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var c=void 0!==e.limit&&e.limit,d=c;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var f in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,f)&&(i[f]=e.query_params[f]);var p="GET";e.doc_ids?(i.filter="_doc_ids",p="POST",t={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",p="POST",t={selector:e.selector});var h=new e2,m=function(o,l){if(!e.aborted){i.since=o,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?c&&(i.limit=d):i.limit=!c||d>n?n:d;var f=tY(a,"_changes"+tK(i)),m={signal:h.signal,method:p,body:JSON.stringify(t)};r=o,e.aborted||s().then(function(){return u(f,m,l)}).catch(l)}},v={results:[]},y=function(t,a){if(!e.aborted){var o=0;if(a&&a.results){o=a.results.length,v.last_seq=a.last_seq;var i=null,u=null;"number"==typeof a.pending&&(i=a.pending),("string"==typeof v.last_seq||"number"==typeof v.last_seq)&&(u=v.last_seq),e.query_params,a.results=a.results.filter(function(t){d--;var r=es(e)(t);return r&&(e.include_docs&&e.attachments&&e.binary&&tW(t),e.return_docs&&v.results.push(t),e.onChange(t,i,u)),r})}else if(t){e.aborted=!0,e.complete(t);return}a&&a.last_seq&&(r=a.last_seq);var s=c&&d<=0||a&&o<n||e.descending;(!e.continuous||c&&d<=0)&&s?e.complete(null,v):l()(function(){m(r,y)})}};return m(e.since||0,y),{cancel:function(){e.aborted=!0,h.abort()}}},n.revsDiff=c("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),u(tY(a,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},r).catch(r)}),n._close=function(e){e()},n._destroy=function(e,t){u(tY(a,""),{method:"DELETE"}).then(function(e){t(null,e)}).catch(function(e){404===e.status?t(null,{ok:!0}):t(e)})}}function t0(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,t0)}catch(e){}}function t1(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,t1)}catch(e){}}function t2(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,t2)}catch(e){}}function t3(e,t){return t&&e.then(function(e){l()(function(){t(null,e)})},function(e){l()(function(){t(e)})}),e}function t6(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function t4(e){var t=new o(e),r=Array(t.size),n=-1;return t.forEach(function(e){r[++n]=e}),r}function t5(e){var t=Array(e.size),r=-1;return e.forEach(function(e,n){t[++r]=n}),t}function t8(e){return new t2("builtin "+e+" function requires map values to be numbers or number arrays")}function t7(e){for(var t=0,r=0,n=e.length;r<n;r++){var a=e[r];if("number"!=typeof a)if(Array.isArray(a)){t="number"==typeof t?[t]:t;for(var o=0,i=a.length;o<i;o++){var c=a[o];if("number"!=typeof c)throw t8("_sum");void 0===t[o]?t.push(c):t[o]+=c}}else throw t8("_sum");else"number"==typeof t?t+=a:t[0]+=a}return t}tX.valid=function(){return!0},O()(t0,Error),O()(t1,Error),O()(t2,Error);var t9=H.bind(null,"log"),re=Array.isArray,rt=JSON.parse;function rr(e,t){return e_("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:t7,log:t9,isArray:re,toJSON:rt})}function rn(){this.promise=new Promise(function(e){e()})}function ra(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function ro(e,t,r,n,a,o){var i,c=ra(r)+ra(n)+"undefined";if(!a&&(i=e._cachedViews=e._cachedViews||{})[c])return i[c];var u=e.info().then(function(u){var s=u.db_name+"-mrview-"+(a?"temp":b().hash(c));return ew(e,"_local/"+o,function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[s])return n[s]=!0,e}).then(function(){return e.registerDependentDatabase(s).then(function(t){var a=t.db;a.auto_compaction=!0;var o={name:s,db:a,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,i&&o.db.once("destroyed",function(){delete i[c]}),o})})})});return i&&(i[c]=u),u}rn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},rn.prototype.finish=function(){return this.promise};var ri={},rc=new rn;function ru(e){return -1===e.indexOf("/")?[e,e]:e.split("/")}function rs(e,t,r){try{e.emit("error",t)}catch(e){H("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),H("error",t,r)}}var rl=function(e,t){return t7(t)},rd=function(e,t){return t.length},rf=function(e,t){return{sum:t7(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,r=0,n=e.length;r<n;r++){var a=e[r];t+=a*a}return t}(t)}},rp=function(e,t,r,n){var a;function c(e,t){var r=tr(e.key,t.key);return 0!==r?r:tr(e.value,t.value)}function u(e,t,r){return(r=r||0,"number"==typeof t)?e.slice(r,t+r):r>0?e.slice(r):e}function s(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function d(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&t.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r,n,a=t[e];t[e].data=(r=a.data,n=a.content_type,eE(ek(r),n))})}),t}}function f(e,t,r,n){var a=t[e];void 0!==a&&(n&&(a=encodeURIComponent(JSON.stringify(a))),r.push(e+"="+a))}function p(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&tr(e[r],e[n])>0)throw new t0("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new t0("{include_docs:true} is invalid for reduce");else if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new t0("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=function(e){if(e){if("number"!=typeof e)return new t0('Invalid value for integer: "'+e+'"');if(e<0)return new t0('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r})}function m(e){return function(t){if(404===t.status)return e;throw t}}function v(e){var t="string"==typeof e?e:e.name,r=ri[t];return r||(r=ri[t]=new rn),r}function y(e,r){return t6(v(e),function(){return function(e,r){var n,a,u=t(e.mapFun,function(e,t){var r={id:a._id,key:tn(e)};null!=t&&(r.value=tn(t)),n.push(r)}),s=e.seq||0;let l=0,d={view:e.name,indexed_docs:l};e.sourceDB.emit("indexing",d);var f=new rn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:r.changes_batch_size}).then(h)}function h(t){var d,h=t.results;if(!h.length)return;var v=function(t){for(var r=new i,o=0,l=t.length;o<l;o++){var d=t[o];if("_"!==d.doc._id[0]){n=[],(a=d.doc)._deleted||function(e,t,r){try{t(r)}catch(n){rs(e,n,{fun:t,doc:r})}}(e.sourceDB,u,a),n.sort(c);var f=function(e){for(var t,r=new i,n=0,a=e.length;n<a;n++){var o=e[n],c=[o.key,o.id];n>0&&0===tr(o.key,t)&&c.push(n),r.set(ta(c),o),t=o.key}return r}(n);r.set(d.doc._id,[f,d.changes])}s=d.seq}return r}(h);f.add((d=s,function(){var t;return t="_local/lastSeq",e.db.get(t).catch(m({_id:t,seq:0})).then(function(t){return Promise.all(t5(v).map(function(t){var r,n,a,i,c;return n={_id:r="_local/doc_"+t,keys:[]},i=(a=v.get(t))[0],(1===(c=a[1]).length&&/^1-/.test(c[0].rev)?Promise.resolve(n):e.db.get(r).catch(m(n))).then(function(t){return(!t.keys.length?Promise.resolve({rows:[]}):e.db.allDocs({keys:t.keys,include_docs:!0})).then(function(e){return function(e,t){for(var r=[],n=new o,a=0,c=t.rows.length;a<c;a++){var u=t.rows[a].doc;if(u&&(r.push(u),n.add(u._id),u._deleted=!i.has(u._id),!u._deleted)){var s=i.get(u._id);"value"in s&&(u.value=s.value)}}var l=t5(i);return l.forEach(function(e){if(!n.has(e)){var t={_id:e},a=i.get(e);"value"in a&&(t.value=a.value),r.push(t)}}),e.keys=t4(l.concat(e.keys)),r.push(e),r}(t,e)})})})).then(function(r){var n=el(r);return t.seq=d,n.push(t),e.db.bulkDocs({docs:n})})})})),l+=h.length;let y={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:l};if(e.sourceDB.emit("indexing",y),!(h.length<r.changes_batch_size))return p()}return p().then(function(){return f.finish()}).then(function(){e.seq=s})}(e,r)})()}function b(e,t){return t6(v(e),function(){return function(e,t){var n=e.reduceFun&&!1!==t.reduce,a=t.skip||0;function o(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return l=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=function(e){for(var t=[],r=[],n=0;;){var a=e[n++];if("\0"===a)if(1===t.length)return t.pop();else{!function(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var a=n.element,o=n.index;Array.isArray(a)?a.push(r):o===e.length-2?a[e.pop()]=r:e.push(r)}}(t,r);continue}switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var o=function(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var a="0"===e[t];t++;var o="",i=parseInt(e.substring(t,t+3),10)+-324;for(a&&(i=-i),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}r=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),a&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:t-n}}(e,n);t.push(o.num),n+=o.length;break;case"4":for(var i="";;){var c=e[n];if("\0"===c)break;i+=c,n++}i=i.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(i);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var s={element:{},index:t.length};t.push(s.element),r.push(s);break;default:throw Error("bad collationIndex or unexpectedly reached end of input: "+a)}}}(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function c(o){if(c=n?function(e,t,n){0===n.group_level&&delete n.group_level;var a=n.group||n.group_level,o=r(e.reduceFun),i=[],c=isNaN(n.group_level)?1/0:n.group_level;t.forEach(function(e){var t=i[i.length-1],r=a?e.key:null;if(a&&Array.isArray(r)&&(r=r.slice(0,c)),t&&0===tr(t.groupKey,r)){t.keys.push([e.key,e.id]),t.values.push(e.value);return}i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var s=0,l=i.length;s<l;s++){var d=i[s],f=function(e,t,r,n,a){try{return{output:t(r,n,a)}}catch(o){return rs(e,o,{fun:t,keys:r,values:n,rereduce:a}),{error:o}}}(e.sourceDB,o,d.keys,d.values,!1);if(f.error&&f.error instanceof t2)throw f.error;t.push({value:f.error?null:f.output,key:d.groupKey})}return{rows:u(t,n.limit,n.skip)}}(e,o,t):void 0===t.keys?{total_rows:l,offset:a,rows:o}:{total_rows:l,offset:a,rows:u(o,t.limit,t.skip)},t.update_seq&&(c.update_seq=e.seq),!t.include_docs)return c;var c,d=t4(o.map(s));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new i;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),o.forEach(function(e){var r=s(e),n=t.get(r);n&&(e.doc=n)}),c})}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys)return Promise.all(t.keys.map(function(e){var r={startkey:ta([e]),endkey:ta([e,{}])};return t.update_seq&&(r.update_seq=!0),o(r)})).then(el).then(c);var l,d,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==d&&(p.startkey=t.descending?ta([d,{}]):ta([d])),void 0!==f){var h=!1!==t.inclusive_end;t.descending&&(h=!h),p.endkey=ta(h?[f,{}]:[f])}if(void 0!==t.key){var m=ta([t.key]),v=ta([t.key,{}]);p.descending?(p.endkey=m,p.startkey=v):(p.startkey=m,p.endkey=v)}return n||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=a),o(p).then(c)}(e,t)})()}return{query:function(t,r,a){var o,i=this;"function"==typeof r&&(a=r,r={}),r=r?((o=r).group_level=p(o.group_level),o.limit=p(o.limit),o.skip=p(o.skip),o):{},"function"==typeof t&&(t={map:t});var c=Promise.resolve().then(function(){return function(t,r,a){if("function"==typeof t._query)return new Promise(function(e,n){t._query(r,a,function(t,r){if(t)return n(t);e(r)})});if(ef(t))return function(e,t,r){var n,a,o,i=[],c="GET";if(f("reduce",r,i),f("include_docs",r,i),f("attachments",r,i),f("limit",r,i),f("descending",r,i),f("group",r,i),f("group_level",r,i),f("skip",r,i),f("stale",r,i),f("conflicts",r,i),f("startkey",r,i,!0),f("start_key",r,i,!0),f("endkey",r,i,!0),f("end_key",r,i,!0),f("inclusive_end",r,i),f("key",r,i,!0),f("update_seq",r,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==r.keys){var u="keys="+encodeURIComponent(JSON.stringify(r.keys));u.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+u:(c="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var s=ru(t);return e.fetch("_design/"+s[0]+"/_view/"+s[1]+i,{headers:new e6({"Content-Type":"application/json"}),method:c,body:JSON.stringify(n)}).then(function(e){return a=e.ok,o=e.status,e.json()}).then(function(e){if(!a)throw e.status=o,eu(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw Error(e.reason)}),e}).then(d(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.fetch("_temp_view"+i,{headers:new e6({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(n)}).then(function(e){return a=e.ok,o=e.status,e.json()}).then(function(e){if(!a)throw e.status=o,eu(e);return e}).then(d(r))}(t,r,a);var o={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof r)return h(a,r),rc.add(function(){return ro(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){var t,r;return t=y(e,o).then(function(){return b(e,a)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})})})}),rc.finish();var i=ru(r),c=i[0],u=i[1];return t.get("_design/"+c).then(function(i){var c=i.views&&i.views[u];if(!c)throw new t1("ddoc "+i._id+" has no view named "+u);return n(i,u),h(a,c),ro(t,r,c.map,c.reduce,!1,e).then(function(e){return"ok"===a.stale||"update_after"===a.stale?("update_after"===a.stale&&l()(function(){y(e,o)}),b(e,a)):y(e,o).then(function(){return b(e,a)})})})}(i,t,r)});return t3(c,a),c},viewCleanup:(a=function(){var t,r;return"function"==typeof this._viewCleanup?(t=this,new Promise(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})):ef(this)?this.fetch("_view_cleanup",{headers:new e6({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()}):(r=this,r.get("_local/"+e).then(function(e){var t=new i;Object.keys(e.views).forEach(function(e){var r=ru(e),n="_design/"+r[0],a=r[1],i=t.get(n);i||(i=new o,t.set(n,i)),i.add(a)});var n={keys:t5(t),include_docs:!0};return r.allDocs(n).then(function(n){var a={};return n.rows.forEach(function(r){var n=r.key.substring(8);t.get(r.key).forEach(function(t){var o=n+"/"+t;e.views[o]||(o=t);var i=Object.keys(e.views[o]),c=r.doc&&r.doc.views&&r.doc.views[t];i.forEach(function(e){a[e]=a[e]||c})})}),Promise.all(Object.keys(a).filter(function(e){return!a[e]}).map(function(e){return t6(v(e),function(){return new r.constructor(e,r.__opts).destroy()})()})).then(function(){return{ok:!0}})})},m({ok:!0})))},w()(function(e){var t=e.pop(),r=a.apply(this,e);return"function"==typeof t&&t3(r,t),r}))}}("mrviews",function(e,t){return"function"==typeof e&&2===e.length?function(r){return e(r,t)}:rr(e.toString(),t)},function(e){var t=e.toString(),r=function(e){if(/^_sum/.test(e))return rl;if(/^_count/.test(e))return rd;if(/^_stats/.test(e))return rf;if(/^_/.test(e))throw Error(e+" is not a supported reduce function.")}(t);return r||rr(t)},function(e,t){var r=e.views&&e.views[t];if("string"!=typeof r.map)throw new t1("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)});function rh(e,t){return Promise.all(Object.keys(t._attachments).map(function(r){return e.getAttachment(t._id,r,{rev:t._rev})}))}var rm="pouchdb";function rv(e,t,r,n,a){return e.get(t).catch(function(r){if(404===r.status)return("http"===e.adapter||"https"===e.adapter)&&V(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:rm,version:1};throw r}).then(function(o){if(!a.cancelled&&o.last_seq!==r)return o.history=(o.history||[]).filter(function(e){return e.session_id!==n}),o.history.unshift({last_seq:r,session_id:n}),o.history=o.history.slice(0,5),o.version=1,o.replicator=rm,o.session_id=n,o.last_seq=r,e.put(o).catch(function(o){if(409===o.status)return rv(e,t,r,n,a);throw o})})}function ry(e,t,r,n,a){this.src=e,this.target=t,this.id=r,this.returnValue=n,this.opts=a||{}}ry.prototype.writeCheckpoint=function(e,t){var r=this;return this.updateTarget(e,t).then(function(){return r.updateSource(e,t)})},ry.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?rv(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},ry.prototype.updateSource=function(e,t){if(!this.opts.writeSourceCheckpoint)return Promise.resolve(!0);var r=this;return rv(this.src,this.id,e,t,this.returnValue).catch(function(e){if(r_(e))return r.opts.writeSourceCheckpoint=!1,!0;throw e})};var rb={undefined:function(e,t){return 0===tr(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){var r,n;return(r=t,n=e,r.session_id===n.session_id?{last_seq:r.last_seq,history:r.history}:function e(t,r){var n=t[0],a=t.slice(1),o=r[0],i=r.slice(1);return n&&0!==r.length?rg(n.session_id,r)?{last_seq:n.last_seq,history:t}:rg(o.session_id,a)?{last_seq:o.last_seq,history:i}:e(a,i):{last_seq:0,history:[]}}(r.history,n.history)).last_seq}};function rg(e,t){var r=t[0],n=t.slice(1);return!!e&&0!==t.length&&(e===r.session_id||rg(e,n))}function r_(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function rw(){E().call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise(function(t,r){e.once("complete",t),e.once("error",r)});e.then=function(e,r){return t.then(e,r)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function rk(e,t){var r=t.PouchConstructor;return"string"==typeof e?new r(e,t):e}function rO(e,t,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw ec(er,"`doc_ids` filter parameter is not a list.");r.complete=n,(r=D(r)).continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var a=new rw(r);return!function e(t,r,n,a,o){var i,c,u=[],s={seq:0,changes:[],docs:[]},d=!1,f=!1,p=!1,h=0,m=n.continuous||n.live||!1,y=n.batch_size||100,b=n.batches_limit||10,g=n.style||"all_docs",_=!1,w=n.doc_ids,k=n.selector,O=[],x=v();o=o||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var E={};function C(){var e,o,i,u,s,l;return c?Promise.resolve():(e=n.doc_ids?n.doc_ids.sort(tr):"",o=n.filter?n.filter.toString():"",i="",u="",s="",n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify(Object.keys(l=n.query_params).sort(tr).reduce(function(e,t){return e[t]=l[t],e},{}))),n.filter&&"_view"===n.filter&&(u=n.view.toString()),Promise.all([t.id(),r.id()]).then(function(t){var r=t[0]+t[1]+o+u+i+e+s;return new Promise(function(e){eD(r,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})).then(function(e){c=new ry(t,r,e,a,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function S(){if(O=[],0!==i.docs.length){var e=i.docs,t={timeout:n.timeout};return r.bulkDocs({docs:e,new_edits:!1},t).then(function(t){if(a.cancelled)throw T(),Error("cancelled");var r=Object.create(null);t.forEach(function(e){e.error&&(r[e.id]=e)});var n=Object.keys(r).length;o.doc_write_failures+=n,o.docs_written+=e.length-n,e.forEach(function(e){var t=r[e._id];if(t){o.errors.push(t);var n=(t.name||"").toLowerCase();if("unauthorized"===n||"forbidden"===n)a.emit("denied",D(t));else throw t}else O.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function A(){if(i.error)throw Error("There was a problem getting docs.");o.last_seq=h=i.seq;var e=D(o);return O.length&&(e.docs=O,"number"==typeof i.pending&&(e.pending=i.pending,delete i.pending),a.emit("change",e)),d=!0,c.writeCheckpoint(i.seq,x).then(function(){if(a.emit("checkpoint",{checkpoint:i.seq}),d=!1,a.cancelled)throw T(),Error("cancelled");i=void 0,L()}).catch(function(e){throw B(e),e})}function P(){var e,n,c;return(e=i.diffs,e=D(e),n=[],c=!0,Promise.resolve().then(function(){var r=Object.keys(e).filter(function(t){var r,n=e[t].missing;return 1===n.length&&(r=n[0],/^1-/.test(r))});if(r.length>0)return t.allDocs({keys:r,include_docs:!0,conflicts:!0}).then(function(t){if(a.cancelled)throw Error("cancelled");t.rows.forEach(function(t){var r,a,o;t.deleted||!t.doc||(r=t.value.rev,!/^1-/.test(r))||(a=t.doc)._attachments&&Object.keys(a._attachments).length>0||(o=t.doc)._conflicts&&o._conflicts.length>0||(t.doc._conflicts&&delete t.doc._conflicts,n.push(t.doc),delete e[t.id])})})}).then(function(){var o,i,u=(i=[],Object.keys(o=e).forEach(function(e){o[e].missing.forEach(function(t){i.push({id:e,rev:t})})}),{docs:i,revs:!0,latest:!0});if(u.docs.length)return t.bulkGet(u).then(function(e){if(a.cancelled)throw Error("cancelled");return Promise.all(e.results.map(function(e){return Promise.all(e.docs.map(function(e){var n,a,o=e.ok;return(e.error&&(c=!1),o&&o._attachments)?(n=ef(t)&&!ef(r),a=Object.keys(o._attachments),!n?rh(t,o):r.get(o._id).then(function(e){return Promise.all(a.map(function(n){return e._attachments&&e._attachments[n]&&e._attachments[n].digest===o._attachments[n].digest?r.getAttachment(e._id,n):t.getAttachment(o._id,n)}))}).catch(function(e){if(404!==e.status)throw e;return rh(t,o)})).then(function(e){var t=Object.keys(o._attachments);return e.forEach(function(e,r){var n=o._attachments[t[r]];delete n.stub,delete n.length,n.data=e}),o}):o}))})).then(function(e){n=n.concat(el(e).filter(Boolean))})})}).then(function(){return{ok:c,docs:n}})).then(function(e){i.error=!e.ok,e.docs.forEach(function(e){delete i.diffs[e._id],o.docs_read++,i.docs.push(e)})})}function M(e){if(0===s.changes.length){0===u.length&&!i&&((m&&E.live||f)&&(a.state="pending",a.emit("paused")),f&&T());return}(e||f||s.changes.length>=y)&&(u.push(s),s={seq:0,changes:[],docs:[]},("pending"===a.state||"stopped"===a.state)&&(a.state="active",a.emit("active")),function e(){if(!a.cancelled&&!i){var t;if(0===u.length)return void M(!0);i=u.shift(),a.emit("checkpoint",{start_next_batch:i.seq}),(t={},i.changes.forEach(function(e){a.emit("checkpoint",{revs_diff:e}),"_user/"!==e.id&&(t[e.id]=e.changes.map(function(e){return e.rev}))}),r.revsDiff(t).then(function(e){if(a.cancelled)throw T(),Error("cancelled");i.diffs=e})).then(P).then(S).then(A).then(e).catch(function(e){j("batch processing terminated with error",e)})}}())}function j(e,t){p||(t.message||(t.message=e),o.ok=!1,o.status="aborting",u=[],s={seq:0,changes:[],docs:[]},T(t))}function T(i){if(!p&&(!a.cancelled||(o.status="cancelled",!d)))if(o.status=o.status||"complete",o.end_time=new Date().toISOString(),o.last_seq=h,p=!0,i){(i=ec(i)).result=o;var c=(i.name||"").toLowerCase();"unauthorized"===c||"forbidden"===c?(a.emit("error",i),a.removeAllListeners()):function(e,t,r,n){if(!1===e.retry){t.emit("error",r),t.removeAllListeners();return}if("function"!=typeof e.back_off_function&&(e.back_off_function=U),t.emit("requestError",r),"active"===t.state||"pending"===t.state){t.emit("paused",r),t.state="stopped";var a=function(){e.current_back_off=0};t.once("paused",function(){t.removeListener("active",a)}),t.once("active",a)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}(n,a,i,function(){e(t,r,n,a)})}else a.emit("complete",o),a.removeAllListeners()}function I(e,t,r){if(a.cancelled)return T();"number"==typeof t&&(s.pending=t),es(n)(e)&&(s.seq=e.seq||r,s.changes.push(e),a.emit("checkpoint",{pending_batch:s.seq}),l()(function(){M(0===u.length&&E.live)}))}function R(e){if(_=!1,a.cancelled)return T();if(e.results.length>0)E.since=e.results[e.results.length-1].seq,L(),M(!0);else{var t=function(){m?(E.live=!0,L()):f=!0,M(!0)};i||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,x).then(function(){d=!1,o.last_seq=h=e.last_seq,t()}).catch(B))}}function N(e){if(_=!1,a.cancelled)return T();j("changes rejected",e)}function L(){if(!_&&!f&&u.length<b){_=!0,a._changes&&(a.removeListener("cancel",a._abortChanges),a._changes.cancel()),a.once("cancel",r);var e=t.changes(E).on("change",I);e.then(o,o),e.then(R).catch(N),n.retry&&(a._changes=e,a._abortChanges=r)}function r(){e.cancel()}function o(){a.removeListener("cancel",r)}}function F(){C().then(function(){return a.cancelled?void T():c.getCheckpoint().then(function(e){E={since:h=e,limit:y,batch_size:y,style:g,doc_ids:w,selector:k,return_docs:!0},n.filter&&("string"!=typeof n.filter?E.include_docs=!0:E.filter=n.filter),"heartbeat"in n&&(E.heartbeat=n.heartbeat),"timeout"in n&&(E.timeout=n.timeout),n.query_params&&(E.query_params=n.query_params),n.view&&(E.view=n.view),L()})}).catch(function(e){j("getCheckpoint rejected with ",e)})}function B(e){d=!1,j("writeCheckpoint completed with error",e)}if(a.ready(t,r),a.cancelled)return void T();a._addedListeners||(a.once("cancel",T),"function"==typeof n.complete&&(a.once("error",n.complete),a.once("complete",function(e){n.complete(null,e)})),a._addedListeners=!0),void 0===n.since?F():C().then(function(){return d=!0,c.writeCheckpoint(n.since,x)}).then(function(){if(d=!1,a.cancelled)return void T();h=n.since,F()}).catch(B)}(rk(e,r),rk(t,r),r,a),a}function rx(e,t,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),(r=D(r)).PouchConstructor=r.PouchConstructor||this,new rE(e=rk(e,r),t=rk(t,r),r,n)}function rE(e,t,r,n){var a=this;this.canceled=!1;var o=r.push?Z({},r,r.push):r,i=r.pull?Z({},r,r.pull):r;function c(e){a.emit("change",{direction:"pull",change:e})}function u(e){a.emit("change",{direction:"push",change:e})}function s(e){a.emit("denied",{direction:"push",doc:e})}function l(e){a.emit("denied",{direction:"pull",doc:e})}function d(){a.pushPaused=!0,a.pullPaused&&a.emit("paused")}function f(){a.pullPaused=!0,a.pushPaused&&a.emit("paused")}function p(){a.pushPaused=!1,a.pullPaused&&a.emit("active",{direction:"push"})}function h(){a.pullPaused=!1,a.pushPaused&&a.emit("active",{direction:"pull"})}this.push=rO(e,t,o),this.pull=rO(t,e,i),this.pushPaused=!0,this.pullPaused=!0;var m={};function v(e){return function(t,r){var n="change"===t&&(r===c||r===u),o="denied"===t&&(r===l||r===s),i="paused"===t&&(r===f||r===d),v="active"===t&&(r===h||r===p);(n||o||i||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&a.removeAllListeners(t))}}function y(e,t,r){-1==e.listeners(t).indexOf(r)&&e.on(t,r)}r.live&&(this.push.on("complete",a.pull.cancel.bind(a.pull)),this.pull.on("complete",a.push.cancel.bind(a.push))),this.on("newListener",function(e){"change"===e?(y(a.pull,"change",c),y(a.push,"change",u)):"denied"===e?(y(a.pull,"denied",l),y(a.push,"denied",s)):"active"===e?(y(a.pull,"active",h),y(a.push,"active",p)):"paused"===e&&(y(a.pull,"paused",f),y(a.push,"paused",d))}),this.on("removeListener",function(e){"change"===e?(a.pull.removeListener("change",c),a.push.removeListener("change",u)):"denied"===e?(a.pull.removeListener("denied",l),a.push.removeListener("denied",s)):"active"===e?(a.pull.removeListener("active",h),a.push.removeListener("active",p)):"paused"===e&&(a.pull.removeListener("paused",f),a.push.removeListener("paused",d))}),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var b=Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return a.emit("complete",t),n&&n(null,t),a.removeAllListeners(),t},function(e){if(a.cancel(),n?n(e):a.emit("error",e),a.removeAllListeners(),n)throw e});this.then=function(e,t){return b.then(e,t)},this.catch=function(e){return b.catch(e)}}ry.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then(function(e){var r;return t.version!==e.version?0:(r=t.version?t.version.toString():"undefined")in rb?rb[r](t,e):0},function(r){if(404===r.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(r){return r_(r)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0});throw r})}).catch(function(e){if(404!==e.status)throw e;return 0})},O()(rw,E()),rw.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},rw.prototype.ready=function(e,t){var r=this;function n(){r.cancel()}function a(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}r._readyCalled||(r._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),r.once("complete",a),r.once("error",a))},O()(rE,E()),rE.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},e1.plugin(function(e){e.adapter("idb",tG,!0)}).plugin(function(e){e.adapter("http",tX,!1),e.adapter("https",tX,!1)}).plugin({query:function(e,t,r){return rp.query.call(this,e,t,r)},viewCleanup:function(e){return rp.viewCleanup.call(this,e)}}).plugin(function(e){e.replicate=rO,e.sync=rx,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,r,n){return e.constructor.replicate(t,e,r,n)},to:function(t,r,n){return e.constructor.replicate(e,t,r,n)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,r){return this.constructor.sync(this,e,t,r)}});let rC=e1},64437:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>eH});var n,a,o,i=r(56698),c=r.n(i);function u(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}c()(u,Error),u.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new u(401,"unauthorized","Name or password is incorrect."),new u(400,"bad_request","Missing JSON list of 'docs'"),new u(404,"not_found","missing"),new u(409,"conflict","Document update conflict"),new u(400,"bad_request","_id field must contain a string"),new u(412,"missing_id","_id is required for puts"),new u(400,"bad_request","Only reserved document ids may start with underscore."),new u(412,"precondition_failed","Database not open");var s=new u(500,"unknown_error","Database encountered an unknown error");function l(e){if("object"!=typeof e){var t=e;(e=s).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=Error().stack),e}new u(500,"badarg","Some query argument is invalid"),new u(400,"invalid_request","Request was invalid"),new u(400,"query_parse_error","Some query parameter is invalid"),new u(500,"doc_validation","Bad special document member"),new u(400,"bad_request","Something wrong with the request"),new u(400,"bad_request","Document must be a JSON object"),new u(404,"not_found","Database not found"),new u(500,"indexed_db_went_bad","unknown"),new u(500,"web_sql_went_bad","unknown"),new u(500,"levelDB_went_went_bad","unknown"),new u(403,"forbidden","Forbidden by design doc validate_doc_update function"),new u(400,"bad_request","Invalid rev format"),new u(412,"file_exists","The database could not be created, the file already exists."),new u(412,"missing_stub","A pre-existing attachment stub wasn't found"),new u(413,"invalid_url","Provided URL is invalid");var d=Headers;function f(e){return e.substring(1)}function p(){this._store={}}function h(e){if(this._store=new p,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}function m(e,t){if(e===t)return 0;e=v(e),t=v(t);var r,n,a=b(e),o=b(t);if(a-o!=0)return a-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(r=e)===(n=t)?0:r>n?1:-1}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var a=m(e[n],t[n]);if(0!==a)return a}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),a=Math.min(r.length,n.length),o=0;o<a;o++){var i=m(r[o],n[o]);if(0!==i||0!==(i=m(e[r[o]],t[n[o]])))return i}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function v(e){switch(typeof e){case"undefined":return null;case"number":if(e===1/0||e===-1/0||isNaN(e))return null;break;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=Array(r);for(var n=0;n<r;n++)e[n]=v(t[n])}else if(e instanceof Date)return e.toJSON();else if(null!==e){for(var a in e={},t)if(Object.prototype.hasOwnProperty.call(t,a)){var o=t[a];void 0!==o&&(e[a]=v(o))}}}return e}function y(e){return b(e=v(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return+!!e;case"number":return function(e){if(0===e)return"1";var t,r=e.toExponential().split(/e\+?/),n=parseInt(r[1],10),a=e<0,o=a?"0":"2";o+=""+(t=((a?-n:n)- -324).toString(),function(e,t,r){for(var n="",a=3-e.length;n.length<a;)n+="0";return n}(t,"0",3)+t);var i=Math.abs(parseFloat(r[0]));a&&(i=10-i);var c=i.toFixed(20);return o+(""+(c=c.replace(/\.?0+$/,"")))}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,a=r.length,o="";if(t)for(;++n<a;)o+=y(r[n]);else for(;++n<a;){var i=r[n];o+=y(i)+y(e[i])}return o}return""}(e)+"\0"}function b(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}p.prototype.get=function(e){return this._store["$"+e]},p.prototype.set=function(e,t){return this._store["$"+e]=t,!0},p.prototype.has=function(e){return"$"+e in this._store},p.prototype.keys=function(){return Object.keys(this._store).map(e=>f(e))},p.prototype.delete=function(e){var t="$"+e,r=t in this._store;return delete this._store[t],r},p.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var a=t[r];e(this._store[a],a=f(a))}},Object.defineProperty(p.prototype,"size",{get:function(){return Object.keys(this._store).length}}),h.prototype.add=function(e){return this._store.set(e,!0)},h.prototype.has=function(e){return this._store.has(e)},h.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(h.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(n=h,a=p):(n=Set,a=Map);var g=r(96737),_=r.n(g),w=r(2112),k=r.n(w),O=r(37007),x=r.n(O),E=r(5457),C=r.n(E);self.setImmediate||self.setTimeout;var S=Function.prototype.toString,A=S.call(Object);function P(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(r=0,t=[],n=e.length;r<n;r++)t[r]=P(e[r]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob)return function(e){if(e instanceof ArrayBuffer){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}var a=e.size,o=e.type;return"function"==typeof e.slice?e.slice(0,a,o):e.webkitSlice(0,a,o)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&S.call(r)==A}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var t,r,n,a=P(e[r]);void 0!==a&&(t[r]=a)}return t}function M(e){return _()(function(t){t=P(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),a=new Promise(function(n,a){var o;try{var i,c,u=(i=function(e,t){e?a(e):n(t)},c=!1,_()(function(e){if(c)throw Error("once called more than once");c=!0,i.apply(this,e)}));t.push(u),(o=e.apply(r,t))&&"function"==typeof o.then&&n(o)}catch(e){a(e)}});return n&&a.then(function(e){n(null,e)},n),a})}try{localStorage.setItem("_pouch_check_localstorage",1),o=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){o=!1}function j(){var e;x().call(this),this._listeners={},e=this,o&&addEventListener("storage",function(t){e.emit(t.key)})}function D(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}c()(j,x()),j.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var a=this,o=!1;this._listeners[t]=i,this.on(e,i)}function i(){if(a._listeners[t]){if(o){o="waiting";return}o=!0;var e=function(e,t){for(var r={},n=0,a=t.length;n<a;n++){var o=t[n];o in e&&(r[o]=e[o])}return r}(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===o&&k()(i),o=!1}).on("error",function(){o=!1})}}},j.prototype.removeListener=function(e,t){t in this._listeners&&(x().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},j.prototype.notifyLocalWindows=function(e){o&&(localStorage[e]="a"===localStorage[e]?"b":"a")},j.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var T="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};function I(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function R(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(D("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function N(e,t,r){return e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(n){var a,o,i,c=n._rev,u=r(n);return u?(u._id=t,u._rev=c,a=e,o=u,i=r,a.put(o).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return N(a,o._id,i)})):{updated:!1,rev:c}})}function L(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,L)}catch(e){}}function F(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,F)}catch(e){}}function B(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,B)}catch(e){}}function z(e,t){return t&&e.then(function(e){k()(function(){t(null,e)})},function(e){k()(function(){t(e)})}),e}function H(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function U(e){var t=new n(e),r=Array(t.size),a=-1;return t.forEach(function(e){r[++a]=e}),r}function V(e){var t=Array(e.size),r=-1;return e.forEach(function(e,n){t[++r]=n}),t}function Z(){this.promise=new Promise(function(e){e()})}function G(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function q(e,t,r,n,a,o){var i,c=G(r)+G(n)+"undefined";if(!a&&(i=e._cachedViews=e._cachedViews||{})[c])return i[c];var u=e.info().then(function(u){var s=u.db_name+"-mrview-"+(a?"temp":C().hash(c));return N(e,"_local/"+o,function(e){e.views=e.views||{};var r=t;-1===r.indexOf("/")&&(r=t+"/"+t);var n=e.views[r]=e.views[r]||{};if(!n[s])return n[s]=!0,e}).then(function(){return e.registerDependentDatabase(s).then(function(t){var a=t.db;a.auto_compaction=!0;var o={name:s,db:a,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,i&&o.db.once("destroyed",function(){delete i[c]}),o})})})});return i&&(i[c]=u),u}c()(L,Error),c()(F,Error),c()(B,Error),Z.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Z.prototype.finish=function(){return this.promise};var W={},Q=new Z;function J(e){return -1===e.indexOf("/")?[e,e]:e.split("/")}function Y(e,t,r){try{e.emit("error",t)}catch(e){D("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),D("error",t,r)}}function $(e,t){for(var r=e,n=0,a=t.length;n<a&&(r=r[t[n]]);n++);return r}function K(e){for(var t=[],r="",n=0,a=e.length;n<a;n++){var o=e[n];n>0&&"\\"===e[n-1]&&("$"===o||"."===o)?r=r.substring(0,r.length-1)+o:"."===o?(t.push(r),r=""):r+=o}return t.push(r),t}var X=["$or","$nor","$not"];function ee(e){return X.indexOf(e)>-1}function et(e){return Object.keys(e)[0]}function er(e){var t={},r={$or:!0,$nor:!0};return e.forEach(function(e){Object.keys(e).forEach(function(n){var a=e[n];if("object"!=typeof a&&(a={$eq:a}),ee(n))if(a instanceof Array){if(r[n]){r[n]=!1,t[n]=a;return}var o=[];t[n].forEach(function(e){Object.keys(a).forEach(function(t){var r=a[t],n=Math.max(Object.keys(e).length,Object.keys(r).length),i=er([e,r]);Object.keys(i).length<=n||o.push(i)})}),t[n]=o}else t[n]=er([a]);else{var i=t[n]=t[n]||{};Object.keys(a).forEach(function(e){var t,r,n,o,c,u,s,l,d,f,p,h,m=a[e];if("$gt"===e||"$gte"===e){return t=e,r=m,void(void 0===(n=i).$eq&&(void 0!==n.$gte?"$gte"===t?r>n.$gte&&(n.$gte=r):r>=n.$gte&&(delete n.$gte,n.$gt=r):void 0!==n.$gt?"$gte"===t?r>n.$gt&&(delete n.$gt,n.$gte=r):r>n.$gt&&(n.$gt=r):n[t]=r))}if("$lt"===e||"$lte"===e){return o=e,c=m,void(void 0===(u=i).$eq&&(void 0!==u.$lte?"$lte"===o?c<u.$lte&&(u.$lte=c):c<=u.$lte&&(delete u.$lte,u.$lt=c):void 0!==u.$lt?"$lte"===o?c<u.$lt&&(delete u.$lt,u.$lte=c):c<u.$lt&&(u.$lt=c):u[o]=c))}if("$ne"===e){return s=m,void("$ne"in(l=i)?l.$ne.push(s):l.$ne=[s])}if("$eq"===e){return d=m,f=i,void(delete f.$gt,delete f.$gte,delete f.$lt,delete f.$lte,delete f.$ne,f.$eq=d)}if("$regex"===e){return p=m,void("$regex"in(h=i)?h.$regex.push(p):h.$regex=[p])}i[e]=m})}})}),t}function en(e){var t=P(e),r=!1;(function e(t,r){for(var n in t){"$and"===n&&(r=!0);var a=t[n];"object"==typeof a&&(r=e(a,r))}return r})(t,!1)&&("$and"in(t=function e(t){for(var r in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=er(t[n].$and));var a=t[r];"object"==typeof a&&e(a)}return t}(t))&&(t=er(t.$and)),r=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r],a=e[n];("object"!=typeof a||null===a)&&(e[n]={$eq:a})}})}),"$not"in t&&(t.$not=er([t.$not]));for(var n=Object.keys(t),a=0;a<n.length;a++){var o=n[a],i=t[o];"object"!=typeof i||null===i?i={$eq:i}:!r&&("$ne"in i&&(i.$ne=[i.$ne]),"$regex"in i&&(i.$regex=[i.$regex])),t[o]=i}return t}function ea(e,t,r){if(e=e.filter(function(e){return eo(e.doc,t.selector,r)}),t.sort){var n,a=function(e){function t(t){return e.map(function(e){return $(t,K(et(e)))})}return function(e,r){var n,a,o=m(t(e.doc),t(r.doc));return 0!==o?o:(n=e.doc._id,n<(a=r.doc._id)?-1:+(n>a))}}(t.sort);e=e.sort(a),"string"!=typeof t.sort[0]&&"desc"===(n=t.sort[0])[et(n)]&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function eo(e,t,r){return r.every(function(r){var n,a,o,i=t[r],c=K(r),u=$(e,c);return ee(r)?(n=r,a=i,o=e,"$or"===n?a.some(function(e){return eo(o,e,Object.keys(e))}):"$not"===n?!eo(o,a,Object.keys(a)):!a.find(function(e){return eo(o,e,Object.keys(e))})):ei(i,e,c,u)})}function ei(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every(function(a){var o=e[a];if(0===a.indexOf("$"))return ec(a,t,o,r,n);var i=K(a);if(void 0===n&&"object"!=typeof o&&i.length>0)return!1;var c=$(n,i);return"object"==typeof o?ei(o,t,r,c):ec("$eq",t,o,i,c)}):e===n)}function ec(e,t,r,n,a){if(!ed[e])throw Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ed[e](t,r,n,a)}function eu(e){return null!=e}function es(e){return void 0!==e}function el(e,t){return t.some(function(t){return e instanceof Array?e.some(function(e){return 0===m(t,e)}):0===m(t,e)})}var ed={$elemMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.some(function(e){return eo(e,t,Object.keys(t))}):n.some(function(n){return ei(t,e,r,n)}))},$allMatch:function(e,t,r,n){return!!Array.isArray(n)&&0!==n.length&&("object"==typeof n[0]&&null!==n[0]?n.every(function(e){return eo(e,t,Object.keys(t))}):n.every(function(n){return ei(t,e,r,n)}))},$eq:function(e,t,r,n){return es(n)&&0===m(n,t)},$gte:function(e,t,r,n){return es(n)&&m(n,t)>=0},$gt:function(e,t,r,n){return es(n)&&m(n,t)>0},$lte:function(e,t,r,n){return es(n)&&0>=m(n,t)},$lt:function(e,t,r,n){return es(n)&&0>m(n,t)},$exists:function(e,t,r,n){return t?es(n):!es(n)},$mod:function(e,t,r,n){return eu(n)&&"number"==typeof n&&parseInt(n,10)===n&&n%t[0]===t[1]},$ne:function(e,t,r,n){return t.every(function(e){return 0!==m(n,e)})},$in:function(e,t,r,n){return eu(n)&&el(n,t)},$nin:function(e,t,r,n){return eu(n)&&!el(n,t)},$size:function(e,t,r,n){return eu(n)&&Array.isArray(n)&&n.length===t},$all:function(e,t,r,n){return Array.isArray(n)&&t.every(function(e){return n.some(function(t){return 0===m(e,t)})})},$regex:function(e,t,r,n){return eu(n)&&"string"==typeof n&&t.every(function(e){return new RegExp(e).test(n)})},$type:function(e,t,r,n){switch(t){case"null":return null===n;case"boolean":return"boolean"==typeof n;case"number":return"number"==typeof n;case"string":return"string"==typeof n;case"array":return n instanceof Array;case"object":return"[object Object]"===({}).toString.call(n)}}};function ef(e,t){if("object"!=typeof t)throw Error("Selector error: expected a JSON object");var r=ea([{doc:e}],{selector:t=en(t)},Object.keys(t));return r&&1===r.length}function ep(e){return(e=P(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}var eh=["$all","$allMatch","$and","$elemMatch","$exists","$in","$mod","$nin","$nor","$not","$or","$regex","$size","$type"],em=["$in","$nin","$mod","$all"],ev=["$eq","$gt","$gte","$lt","$lte"];function ey(e,t){if(Array.isArray(e))for(var r of e)"object"==typeof r&&null!==i&&ey(r,t);else for(var n=Object.keys(e),a=0;a<n.length;a++){var o=n[a],i=e[o];-1!==eh.indexOf(o)&&function(e,t,r){var n="",a=t,o=!0;if(-1===["$in","$nin","$or","$and","$mod","$nor","$all"].indexOf(e)||Array.isArray(t)||(n="Query operator "+e+" must be an array."),-1!==["$not","$elemMatch","$allMatch"].indexOf(e)&&(Array.isArray(t)||"object"!=typeof t||null===t)&&(n="Query operator "+e+" must be an object."),"$mod"===e&&Array.isArray(t))if(2!==t.length)n="Query operator $mod must be in the format [divisor, remainder], where divisor and remainder are both integers.";else{var i=t[0],c=t[1];0===i&&(n="Query operator $mod's divisor cannot be 0, cannot divide by zero.",o=!1),("number"!=typeof i||parseInt(i,10)!==i)&&(n="Query operator $mod's divisor is not an integer.",a=i),parseInt(c,10)!==c&&(n="Query operator $mod's remainder is not an integer.",a=c)}if("$exists"===e&&"boolean"!=typeof t&&(n="Query operator $exists must be a boolean."),"$type"===e){var u=["null","boolean","number","string","array","object"],s='"'+u.slice(0,u.length-1).join('", "')+'", or "'+u[u.length-1]+'"';"string"!=typeof t?n="Query operator $type must be a string. Supported values: "+s+".":-1==u.indexOf(t)&&(n="Query operator $type must be a string. Supported values: "+s+".")}if("$size"===e&&parseInt(t,10)!==t&&(n="Query operator $size must be a integer."),"$regex"===e&&"string"!=typeof t&&(console.log("here",r),r?n="Query operator $regex must be a string.":t instanceof RegExp||(n="Query operator $regex must be a string or an instance of a javascript regular expression.")),n)throw o&&(n+=" Received"+(null===a?" ":Array.isArray(a)?" array":" "+typeof a)+": "+("object"==typeof a&&null!==a?JSON.stringify(a,null,"	"):a)),Error(n)}(o,i,t),-1===ev.indexOf(o)&&-1===em.indexOf(o)&&"object"==typeof i&&null!==i&&ey(i,t)}}function eb(e,t,r,n){var a,o;r.headers=new d({"Content-type":"application/json"}),e.fetch(t,r).then(function(e){return a=e.status,o=e.ok,e.json()}).then(function(e){o?n(null,e):(e.status=a,n(l(e)))}).catch(n)}function eg(e){return function(){for(var t=arguments.length,r=Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function e_(e){return eg(function(t){var r,n,a=t.pop(),o=e.apply(this,t);return r=o,n=a,r.then(function(e){k()(function(){n(null,e)})},function(e){k()(function(){n(e)})}),o})}var ew=eg(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];Array.isArray(a)?t=t.concat(ew.apply(null,a)):t.push(a)}return t});function ek(e){for(var t={},r=0,n=e.length;r<n;r++)t=T(t,e[r]);return t}function eO(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function ex(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var eE=function(e,t,r,o){var i;function c(e,t){var r=m(e.key,t.key);return 0!==r?r:m(e.value,t.value)}function u(e,t,r){return(r=r||0,"number"==typeof t)?e.slice(r,t+r):r>0?e.slice(r):e}function s(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&t.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var r=t[e];t[e].data=function(e,t){var r;return r=atob(e),function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if("TypeError"!==a.name)throw a;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),a=0;a<t;a++)n[a]=e.charCodeAt(a);return r}(r)],{type:t})}(r.data,r.content_type)})}),t}}function p(e,t,r,n){var a=t[e];void 0!==a&&(n&&(a=encodeURIComponent(JSON.stringify(a))),r.push(e+"="+a))}function h(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function b(e,t){var r=e.descending?"endkey":"startkey",n=e.descending?"startkey":"endkey";if(void 0!==e[r]&&void 0!==e[n]&&m(e[r],e[n])>0)throw new L("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new L("{include_docs:true} is invalid for reduce");else if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new L("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var r=function(e){if(e){if("number"!=typeof e)return new L('Invalid value for integer: "'+e+'"');if(e<0)return new L('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(r)throw r})}function g(e){return function(t){if(404===t.status)return e;throw t}}function w(e){var t="string"==typeof e?e:e.name,r=W[t];return r||(r=W[t]=new Z),r}function O(e,r){return H(w(e),function(){return function(e,r){var o,i,u=t(e.mapFun,function(e,t){var r={id:i._id,key:v(e)};null!=t&&(r.value=v(t)),o.push(r)}),s=e.seq||0;let l=0,d={view:e.name,indexed_docs:l};e.sourceDB.emit("indexing",d);var f=new Z;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:r.changes_batch_size}).then(h)}function h(t){var d,h=t.results;if(!h.length)return;var v=function(t){for(var r=new a,n=0,l=t.length;n<l;n++){var d=t[n];if("_"!==d.doc._id[0]){o=[],(i=d.doc)._deleted||function(e,t,r){try{t(r)}catch(n){Y(e,n,{fun:t,doc:r})}}(e.sourceDB,u,i),o.sort(c);var f=function(e){for(var t,r=new a,n=0,o=e.length;n<o;n++){var i=e[n],c=[i.key,i.id];n>0&&0===m(i.key,t)&&c.push(n),r.set(y(c),i),t=i.key}return r}(o);r.set(d.doc._id,[f,d.changes])}s=d.seq}return r}(h);f.add((d=s,function(){var t;return t="_local/lastSeq",e.db.get(t).catch(g({_id:t,seq:0})).then(function(t){return Promise.all(V(v).map(function(t){var r,a,o,i,c;return a={_id:r="_local/doc_"+t,keys:[]},i=(o=v.get(t))[0],(1===(c=o[1]).length&&/^1-/.test(c[0].rev)?Promise.resolve(a):e.db.get(r).catch(g(a))).then(function(t){return(!t.keys.length?Promise.resolve({rows:[]}):e.db.allDocs({keys:t.keys,include_docs:!0})).then(function(e){return function(e,t){for(var r=[],a=new n,o=0,c=t.rows.length;o<c;o++){var u=t.rows[o].doc;if(u&&(r.push(u),a.add(u._id),u._deleted=!i.has(u._id),!u._deleted)){var s=i.get(u._id);"value"in s&&(u.value=s.value)}}var l=V(i);return l.forEach(function(e){if(!a.has(e)){var t={_id:e},n=i.get(e);"value"in n&&(t.value=n.value),r.push(t)}}),e.keys=U(l.concat(e.keys)),r.push(e),r}(t,e)})})})).then(function(r){var n=I(r);return t.seq=d,n.push(t),e.db.bulkDocs({docs:n})})})})),l+=h.length;let b={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:l};if(e.sourceDB.emit("indexing",b),!(h.length<r.changes_batch_size))return p()}return p().then(function(){return f.finish()}).then(function(){e.seq=s})}(e,r)})()}function x(e,t){return H(w(e),function(){return function(e,t){var n=e.reduceFun&&!1!==t.reduce,o=t.skip||0;function i(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return l=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),r=["id","key","value"];if(!(t<r||t>r))return e.doc.value}var n=function(e){for(var t=[],r=[],n=0;;){var a=e[n++];if("\0"===a)if(1===t.length)return t.pop();else{!function(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var a=n.element,o=n.index;Array.isArray(a)?a.push(r):o===e.length-2?a[e.pop()]=r:e.push(r)}}(t,r);continue}switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var o=function(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var a="0"===e[t];t++;var o="",i=parseInt(e.substring(t,t+3),10)+-324;for(a&&(i=-i),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}r=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),a&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:t-n}}(e,n);t.push(o.num),n+=o.length;break;case"4":for(var i="";;){var c=e[n];if("\0"===c)break;i+=c,n++}i=i.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(i);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var s={element:{},index:t.length};t.push(s.element),r.push(s);break;default:throw Error("bad collationIndex or unexpectedly reached end of input: "+a)}}}(e.doc._id);return{key:n[0],id:n[1],value:"value"in e.doc?e.doc.value:null}})})}function c(i){if(c=n?function(e,t,n){0===n.group_level&&delete n.group_level;var a=n.group||n.group_level,o=r(e.reduceFun),i=[],c=isNaN(n.group_level)?1/0:n.group_level;t.forEach(function(e){var t=i[i.length-1],r=a?e.key:null;if(a&&Array.isArray(r)&&(r=r.slice(0,c)),t&&0===m(t.groupKey,r)){t.keys.push([e.key,e.id]),t.values.push(e.value);return}i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:r})}),t=[];for(var s=0,l=i.length;s<l;s++){var d=i[s],f=function(e,t,r,n,a){try{return{output:t(r,n,a)}}catch(o){return Y(e,o,{fun:t,keys:r,values:n,rereduce:a}),{error:o}}}(e.sourceDB,o,d.keys,d.values,!1);if(f.error&&f.error instanceof B)throw f.error;t.push({value:f.error?null:f.output,key:d.groupKey})}return{rows:u(t,n.limit,n.skip)}}(e,i,t):void 0===t.keys?{total_rows:l,offset:o,rows:i}:{total_rows:l,offset:o,rows:u(i,t.limit,t.skip)},t.update_seq&&(c.update_seq=e.seq),!t.include_docs)return c;var c,d=U(i.map(s));return e.sourceDB.allDocs({keys:d,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new a;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),i.forEach(function(e){var r=s(e),n=t.get(r);n&&(e.doc=n)}),c})}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys)return Promise.all(t.keys.map(function(e){var r={startkey:y([e]),endkey:y([e,{}])};return t.update_seq&&(r.update_seq=!0),i(r)})).then(I).then(c);var l,d,f,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(f=t.end_key),"endkey"in t&&(f=t.endkey),void 0!==d&&(p.startkey=t.descending?y([d,{}]):y([d])),void 0!==f){var h=!1!==t.inclusive_end;t.descending&&(h=!h),p.endkey=y(h?[f,{}]:[f])}if(void 0!==t.key){var v=y([t.key]),b=y([t.key,{}]);p.descending?(p.endkey=v,p.startkey=b):(p.startkey=v,p.endkey=b)}return n||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=o),i(p).then(c)}(e,t)})()}return{query:function(t,r,n){var a,i=this;"function"==typeof r&&(n=r,r={}),r=r?((a=r).group_level=h(a.group_level),a.limit=h(a.limit),a.skip=h(a.skip),a):{},"function"==typeof t&&(t={map:t});var c=Promise.resolve().then(function(){return function(t,r,n){if("function"==typeof t._query)return new Promise(function(e,a){t._query(r,n,function(t,r){if(t)return a(t);e(r)})});if(R(t))return function(e,t,r){var n,a,o,i=[],c="GET";if(p("reduce",r,i),p("include_docs",r,i),p("attachments",r,i),p("limit",r,i),p("descending",r,i),p("group",r,i),p("group_level",r,i),p("skip",r,i),p("stale",r,i),p("conflicts",r,i),p("startkey",r,i,!0),p("start_key",r,i,!0),p("endkey",r,i,!0),p("end_key",r,i,!0),p("inclusive_end",r,i),p("key",r,i,!0),p("update_seq",r,i),i=""===(i=i.join("&"))?"":"?"+i,void 0!==r.keys){var u="keys="+encodeURIComponent(JSON.stringify(r.keys));u.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+u:(c="POST","string"==typeof t?n={keys:r.keys}:t.keys=r.keys)}if("string"==typeof t){var s=J(t);return e.fetch("_design/"+s[0]+"/_view/"+s[1]+i,{headers:new d({"Content-Type":"application/json"}),method:c,body:JSON.stringify(n)}).then(function(e){return a=e.ok,o=e.status,e.json()}).then(function(e){if(!a)throw e.status=o,l(e);return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw Error(e.reason)}),e}).then(f(r))}return n=n||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?n[e]=t[e]:n[e]=t[e].toString()}),e.fetch("_temp_view"+i,{headers:new d({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(n)}).then(function(e){return a=e.ok,o=e.status,e.json()}).then(function(e){if(!a)throw e.status=o,l(e);return e}).then(f(r))}(t,r,n);var a={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof r)return b(n,r),Q.add(function(){return q(t,"temp_view/temp_view",r.map,r.reduce,!0,e).then(function(e){var t,r;return t=O(e,a).then(function(){return x(e,n)}),r=function(){return e.db.destroy()},t.then(function(e){return r().then(function(){return e})},function(e){return r().then(function(){throw e})})})}),Q.finish();var i=J(r),c=i[0],u=i[1];return t.get("_design/"+c).then(function(i){var c=i.views&&i.views[u];if(!c)throw new F("ddoc "+i._id+" has no view named "+u);return o(i,u),b(n,c),q(t,r,c.map,c.reduce,!1,e).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&k()(function(){O(e,a)}),x(e,n)):O(e,a).then(function(){return x(e,n)})})})}(i,t,r)});return z(c,n),c},viewCleanup:(i=function(){var t,r;return"function"==typeof this._viewCleanup?(t=this,new Promise(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})):R(this)?this.fetch("_view_cleanup",{headers:new d({"Content-Type":"application/json"}),method:"POST"}).then(function(e){return e.json()}):(r=this,r.get("_local/"+e).then(function(e){var t=new a;Object.keys(e.views).forEach(function(e){var r=J(e),a="_design/"+r[0],o=r[1],i=t.get(a);i||(i=new n,t.set(a,i)),i.add(o)});var o={keys:V(t),include_docs:!0};return r.allDocs(o).then(function(n){var a={};return n.rows.forEach(function(r){var n=r.key.substring(8);t.get(r.key).forEach(function(t){var o=n+"/"+t;e.views[o]||(o=t);var i=Object.keys(e.views[o]),c=r.doc&&r.doc.views&&r.doc.views[t];i.forEach(function(e){a[e]=a[e]||c})})}),Promise.all(Object.keys(a).filter(function(e){return!a[e]}).map(function(e){return H(w(e),function(){return new r.constructor(e,r.__opts).destroy()})()})).then(function(){return{ok:!0}})})},g({ok:!0})))},_()(function(e){var t=e.pop(),r=i.apply(this,e);return"function"==typeof t&&z(r,t),r}))}}("indexes",function(e,t){return function(e,t,r){var n,a,o,i=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),c=1===e.length;if(i)if(c)return n=e[0],function(e){(!r||ef(e,r))&&t(e[n])};else return function(n){if(!r||ef(n,r)){for(var a=[],o=0,i=e.length;o<i;o++)a.push(n[e[o]]);t(a)}};return c?(a=e[0],o=K(a),function(e){if(!r||ef(e,r)){for(var n=e,a=0,i=o.length;a<i;a++)if(void 0===(n=n[o[a]]))return;t(n)}}):function(n){if(!r||ef(n,r)){for(var a=[],o=0,i=e.length;o<i;o++){for(var c=K(e[o]),u=n,s=0,l=c.length;s<l;s++)if(void 0===(u=u[c[s]]))return;a.push(u)}t(a)}}}(Object.keys(e.fields),t,e.partial_filter_selector)},function(){throw Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function eC(e){return e._customFindAbstractMapper||eE}function eS(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function eA(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=ew(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var r=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:eS(r.options.def)}})})),t.indexes.sort(function(e,t){var r,n;return r=e.name,r<(n=t.name)?-1:+(r>n)}),t.total_rows=t.indexes.length,t})}var eP={"￿":{}};let eM={queryOpts:{limit:0,startkey:eP,endkey:null},inMemoryFields:[]};function ej(e,t){var r=t.def.fields.map(et);return e.slice().sort(function(e,t){var n,a,o=r.indexOf(e),i=r.indexOf(t);return -1===o&&(o=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),(n=o)<(a=i)?-1:+(n>a)})}var eD=["$eq","$gt","$gte","$lt","$lte"];function eT(e){return -1===eD.indexOf(e)}function eI(e,t,r){var n,a;if(t.selector&&(ey(t.selector,!1),t.selector=en(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw Error("invalid sort json - should be an array");return e.map(function(e){if("string"!=typeof e)return e;var t={};return t[e]="asc",t})}(t.sort)),t.use_index&&(n=t.use_index,a=[],"string"==typeof n?a.push(n):a=n,t.use_index=a.map(function(e){return e.replace("_design/","")})),"object"!=typeof t.selector)throw Error("you must provide a selector when you find()");return eA(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var a,o,i,c=function(e,t){var r,n,a,o,i,c=e.selector,u=e.sort;if(Object.keys(c).map(function(e){return c[e]}).some(function(e){return"object"==typeof e&&0===Object.keys(e).length}))return T({},eM,{index:t[0]});var s=(n=Object.keys(c),a=u?u.map(et):[],(r=n.length>=a.length?n:a,0===a.length)?{fields:r}:{fields:r=r.sort(function(e,t){var r=a.indexOf(e);-1===r&&(r=Number.MAX_VALUE);var n=a.indexOf(t);return -1===n&&(n=Number.MAX_VALUE),r<n?-1:+(r>n)}),sortOrder:u.map(et)}),l=s.fields,d=function(e,t,r,n,a){var o=n.filter(function(n){var a,o=n.def.fields.map(et);return!!function(e,t,r){if(t){var n=!(t.length>e.length)&&eO(t,e),a=eO(r,e);return n&&a}var o=r;o=o.slice();for(var i=0,c=e.length;i<c;i++){var u=e[i];if(!o.length)break;var s=o.indexOf(u);if(-1===s)return!1;o.splice(s,1)}return!0}(o,r,t)&&(void 0===(a=e[o[0]])||1!==Object.keys(a).length||"$ne"!==et(a))});if(0===o.length){if(a)throw{error:"no_usable_index",message:"There is no index available for this selector."};var i=n[0];return i.defaultUsed=!0,i}if(1===o.length&&!a)return o[0];var c=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(a){var u="_design/"+a[0],s=2===a.length&&a[1],l=o.find(function(e){return!!s&&e.ddoc===u&&s===e.name||e.ddoc===u});if(!l)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return l}return function(e,t){for(var r=null,n=-1,a=0,o=e.length;a<o;a++){var i=e[a],c=t(i);c>n&&(n=c,r=i)}return r}(o,function(e){for(var t=e.def.fields.map(et),r=0,n=0,a=t.length;n<a;n++)c[t[n]]&&r++;return r})}(c,l,s.sortOrder,t,e.use_index),f=function(e,t){if(t.defaultUsed)return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]};if(1===t.def.fields.length){var r,n,a,o;return a=e[n=et(t.def.fields[0])]||{},o=[],Object.keys(a).forEach(function(e){eT(e)&&o.push(n);var t=a[e],i=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(e,t);r=r?ek([r,i]):i}),{queryOpts:r,inMemoryFields:o}}return function(e,t){var r,n,a=t.def.fields.map(et),o=[],i=[],c=[];function u(e){!1!==r&&i.push(null),!1!==n&&c.push(eP),o=a.slice(e)}for(var s=0,l=a.length;s<l;s++){var d=e[a[s]];if(d&&Object.keys(d).length){if(Object.keys(d).some(eT)){u(s);break}else if(s>0){var f="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,p=Object.keys(e[a[s-1]]),h=ex(p,["$eq"]),m=ex(p,Object.keys(d));if(f&&!h&&!m){u(s);break}}}else{u(s);break}for(var v=Object.keys(d),y=null,b=0;b<v.length;b++){var g=v[b],_=d[g],w=function(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(g,_);y=y?ek([y,w]):w}i.push("startkey"in y?y.startkey:null),c.push("endkey"in y?y.endkey:eP),"inclusive_start"in y&&(r=y.inclusive_start),"inclusive_end"in y&&(n=y.inclusive_end)}var k={startkey:i,endkey:c};return void 0!==r&&(k.inclusive_start=r),void 0!==n&&(k.inclusive_end=n),{queryOpts:k,inMemoryFields:o}}(e,t)}(c,d),p=f.queryOpts,h=(i=ew(f.inMemoryFields,function(e,t,r){r=ej(r,e);for(var n=!1,a=0,o=r.length;a<o;a++){var i=r[a];if(n||!function(e,t){for(var r=e.def.fields.map(et),n=0,a=r.length;n<a;n++)if(t===r[n])return!0;return!1}(e,i))return r.slice(a);a<o-1&&"$eq"!==et(t[i])&&(n=!0)}return[]}(d,c,l),(o=[],Object.keys(c).forEach(function(e){Object.keys(c[e]).forEach(function(t){"$ne"===t&&o.push(e)})}),o)),ej(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(i),d));return{queryOpts:p,index:d,inMemoryFields:h}}(t,n.indexes);e.constructor.emit("debug",["find","query plan",c]);var u=c.index,s=t,l=u;if(l.defaultUsed&&s.sort){var d=s.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(d.length>0)throw Error('Cannot sort on field(s) "'+d.join(",")+'" when using the default index')}l.defaultUsed;var f=T({include_docs:!0,reduce:!1,indexes_count:n.total_rows},c.queryOpts);return"startkey"in f&&"endkey"in f&&m(f.startkey,f.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===(a=t.sort[0])[et(a)]&&(f.descending=!0,i=P(o=f),delete i.startkey,delete i.endkey,delete i.inclusive_start,delete i.inclusive_end,"endkey"in o&&(i.startkey=o.endkey),"startkey"in o&&(i.endkey=o.startkey),"inclusive_start"in o&&(i.inclusive_end=o.inclusive_start),"inclusive_end"in o&&(i.inclusive_start=o.inclusive_end),f=i),(!c.inMemoryFields.length&&("limit"in t&&(f.limit=t.limit),"skip"in t&&(f.skip=t.skip)),r)?Promise.resolve(c,f):Promise.resolve().then(function(){if("_all_docs"===u.name){var t;return(t=P(f)).descending?("endkey"in t&&"string"!=typeof t.endkey&&(t.endkey=""),"startkey"in t&&"string"!=typeof t.startkey&&(t.limit=0)):("startkey"in t&&"string"!=typeof t.startkey&&(t.startkey=""),"endkey"in t&&"string"!=typeof t.endkey&&(t.limit=0)),"key"in t&&"string"!=typeof t.key&&(t.limit=0),t.limit>0&&t.indexes_count&&(t.original_limit=t.limit,t.limit+=t.indexes_count),e.allDocs(t).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),t.original_limit&&(t.limit=t.original_limit),e.rows=e.rows.slice(0,t.limit),e})}var r=u.ddoc.substring(8)+"/"+u.name;return eC(e).query.call(e,r,f)}).then(function(e){!1===f.inclusive_start&&(e.rows=function(e,t,r){for(var n=r.def.fields,a=0,o=e.length;a<o;a++){var i=function(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var a=et(t.def.fields[n]);r.push(e[a])}return r}(e[a].doc,r);if(1===n.length)i=i[0];else for(;i.length>t.length;)i.pop();if(Math.abs(m(i,t))>0)break}return a>0?e.slice(a):e}(e.rows,f.startkey,u)),c.inMemoryFields.length&&(e.rows=ea(e.rows,t,c.inMemoryFields));var r={docs:e.rows.map(function(e){var r=e.doc;return t.fields?function(e,t){for(var r={},n=0,a=t.length;n<a;n++){var o=K(t[n]),i=$(e,o);void 0!==i&&function(e,t,r){for(var n=0,a=t.length;n<a-1;n++){var o=t[n];e=e[o]=e[o]||{}}e[t[a-1]]=r}(r,o,i)}return r}(r,t.fields):r})};return u.defaultUsed&&(r.warning="No matching index found, create an index to optimize query time."),r}))})}var eR=e_(function(e,t){var r,n=P((t=ep(t)).index);t.index=eS(t.index);var a=t.index,o=a.fields.filter(function(e){return"asc"===e[et(e)]});if(0!==o.length&&o.length!==a.fields.length)throw Error("unsupported mixed sorting");function i(){var e;return r||(e=JSON.stringify(t),r=C().hash(e))}var c=t.name||"idx-"+i(),u=t.ddoc||"idx-"+i(),s="_design/"+u,l=!1,d=!1;return e.constructor.emit("debug",["find","creating index",s]),N(e,s,function(e){return e._rev&&"query"!==e.language&&(l=!0),e.language="query",e.views=e.views||{},!(d=!!e.views[c])&&(e.views[c]={map:{fields:ek(t.index.fields)},reduce:"_count",options:{def:n}},e)}).then(function(){if(l)throw Error('invalid language for ddoc with id "'+s+'" (should be "query")')}).then(function(){return eC(e).query.call(e,u+"/"+c,{limit:0,reduce:!1}).then(function(){return{id:s,name:c,result:d?"exists":"created"}})})}),eN=e_(eI),eL=e_(function(e,t){return eI(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),eF=e_(eA),eB=e_(function(e,t){if(!t.ddoc)throw Error("you must supply an index.ddoc when deleting");if(!t.name)throw Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return N(e,r,function(e){return 1===Object.keys(e.views).length&&e.views[n]?{_id:r,_deleted:!0}:(delete e.views[n],e)}).then(function(){return eC(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),ez={};ez.createIndex=M(function(e,t){if("object"!=typeof e)return t(Error("you must provide an index to create"));(R(this)?function(e,t,r){eb(e,"_index",{method:"POST",body:JSON.stringify(t=ep(t))},r)}:eR)(this,e,t)}),ez.find=M(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(Error("you must provide search parameters to find()"));(R(this)?function(e,t,r){ey(t.selector,!0),eb(e,"_find",{method:"POST",body:JSON.stringify(t)},r)}:eN)(this,e,t)}),ez.explain=M(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(Error("you must provide search parameters to explain()"));(R(this)?function(e,t,r){eb(e,"_explain",{method:"POST",body:JSON.stringify(t)},r)}:eL)(this,e,t)}),ez.getIndexes=M(function(e){(R(this)?function(e,t){eb(e,"_index",{method:"GET"},t)}:eF)(this,e)}),ez.deleteIndex=M(function(e,t){if("object"!=typeof e)return t(Error("you must provide an index to delete"));(R(this)?function(e,t,r){var n=t.ddoc,a=t.type||"json",o=t.name;return n?o?void eb(e,"_index/"+[n,a,o].map(encodeURIComponent).join("/"),{method:"DELETE"},r):r(Error("you must provide an index's name")):r(Error("you must provide an index's ddoc"))}:eB)(this,e,t)});let eH=ez},32610:function(e,t,r){"use strict";r.r(t),r.d(t,{useSelector:()=>en,useStore:()=>K,ReactReduxContext:()=>m,batch:()=>ea.unstable_batchedUpdates,createSelectorHook:()=>er,Provider:()=>_,createStoreHook:()=>$,connect:()=>J,shallowEqual:()=>L,createDispatchHook:()=>X,connectAdvanced:()=>R,useDispatch:()=>ee});var n,a,o,i,c,u,s,l,d,f,p,h=r(96540),m=h.createContext(null),v=function(e){e()},y={notify:function(){},get:function(){return[]}};function b(e,t){var r,n=y;function a(){i.onStateChange&&i.onStateChange()}function o(){if(!r){var o,i,c;r=t?t.addNestedSub(a):e.subscribe(a),o=v,i=null,c=null,n={clear:function(){i=null,c=null},notify:function(){o(function(){for(var e=i;e;)e.callback(),e=e.next})},get:function(){for(var e=[],t=i;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,r=c={callback:e,next:null,prev:c};return r.prev?r.prev.next=r:i=r,function(){t&&null!==i&&(t=!1,r.next?r.next.prev=r.prev:c=r.prev,r.prev?r.prev.next=r.next:i=r.next)}}}}}var i={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return!!r},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=y)},getListeners:function(){return n}};return i}var g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;let _=function(e){var t=e.store,r=e.context,n=e.children,a=(0,h.useMemo)(function(){var e=b(t);return{store:t,subscription:e}},[t]),o=(0,h.useMemo)(function(){return t.getState()},[t]);g(function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,o]);var i=r||m;return h.createElement(i.Provider,{value:a},n)};var w=r(40160),k=r(54707),O=r(4146),x=r.n(O),E=r(44363),C=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],S=["reactReduxForwardedRef"],A=[],P=[null,null];function M(e,t){var r=e[1];return[t.payload,r+1]}function j(e,t,r){g(function(){return e.apply(void 0,t)},r)}function D(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function T(e,t,r,n,a,o,i,c,u,s){if(e){var l=!1,d=null,f=function(){if(!l){var e,r,f=t.getState();try{e=n(f,a.current)}catch(e){r=e,d=e}r||(d=null),e===o.current?i.current||u():(o.current=e,c.current=e,i.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};return r.onStateChange=f,r.trySubscribe(),f(),function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var I=function(){return[null,0]};function R(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,a=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,o=r.methodName,i=void 0===o?"connectAdvanced":o,c=r.renderCountProp,u=void 0===c?void 0:c,s=r.shouldHandleStateChanges,l=void 0===s||s,d=r.storeKey,f=void 0===d?"store":d,p=(r.withRef,r.forwardRef),v=void 0!==p&&p,y=r.context,g=void 0===y?m:y,_=(0,k.A)(r,C);return function(t){var r=t.displayName||t.name||"Component",n=a(r),o=(0,w.A)({},_,{getDisplayName:a,methodName:i,renderCountProp:u,shouldHandleStateChanges:l,storeKey:f,displayName:n,wrappedComponentName:r,WrappedComponent:t}),c=_.pure,s=c?h.useMemo:function(e){return e()};function d(r){var n=(0,h.useMemo)(function(){var e=r.reactReduxForwardedRef,t=(0,k.A)(r,S);return[r.context,e,t]},[r]),a=n[0],i=n[1],c=n[2],u=(0,h.useMemo)(function(){return a&&a.Consumer&&(0,E.isContextConsumer)(h.createElement(a.Consumer,null))?a:g},[a,g]),d=(0,h.useContext)(u),f=!!r.store&&!!r.store.getState&&!!r.store.dispatch;d&&d.store;var p=f?r.store:d.store,m=(0,h.useMemo)(function(){return e(p.dispatch,o)},[p]),v=(0,h.useMemo)(function(){if(!l)return P;var e=b(p,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,f,d]),y=v[0],_=v[1],O=(0,h.useMemo)(function(){return f?d:(0,w.A)({},d,{subscription:y})},[f,d,y]),x=(0,h.useReducer)(M,A,I),C=x[0][0],R=x[1];if(C&&C.error)throw C.error;var N=(0,h.useRef)(),L=(0,h.useRef)(c),F=(0,h.useRef)(),B=(0,h.useRef)(!1),z=s(function(){return F.current&&c===L.current?F.current:m(p.getState(),c)},[p,C,c]);j(D,[L,N,B,c,z,F,_]),j(T,[l,p,y,m,L,N,B,F,_,R],[p,y,m]);var H=(0,h.useMemo)(function(){return h.createElement(t,(0,w.A)({},z,{ref:i}))},[i,t,z]);return(0,h.useMemo)(function(){return l?h.createElement(u.Provider,{value:O},H):H},[u,H,O])}var p=c?h.memo(d):d;if(p.WrappedComponent=t,p.displayName=d.displayName=n,v){var m=h.forwardRef(function(e,t){return h.createElement(p,(0,w.A)({},e,{reactReduxForwardedRef:t}))});return m.displayName=n,m.WrappedComponent=t,x()(m,t)}return x()(p,t)}}function N(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function L(e,t){if(N(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!N(e[r[a]],t[r[a]]))return!1;return!0}function F(e){return function(t,r){var n=e(t,r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function B(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function z(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=B(e);var a=n(t,r);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=B(a),a=n(t,r)),a},n}}let H=[function(e){return"function"==typeof e?z(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:F(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?F(function(t){var r={};for(var n in e)!function(n){var a=e[n];"function"==typeof a&&(r[n]=function(){return t(a.apply(void 0,arguments))})}(n);return r}):void 0}],U=[function(e){return"function"==typeof e?z(e,"mapStateToProps"):void 0},function(e){return e?void 0:F(function(){return{}})}];function V(e,t,r){return(0,w.A)({},r,e,t)}let Z=[function(e){return"function"==typeof e?function(t,r){r.displayName;var n,a=r.pure,o=r.areMergedPropsEqual,i=!1;return function(t,r,c){var u=e(t,r,c);return i?a&&o(u,n)||(n=u):(i=!0,n=u),n}}:void 0},function(e){return e?void 0:function(){return V}}];var G=["initMapStateToProps","initMapDispatchToProps","initMergeProps"],q=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function W(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Q(e,t){return e===t}let J=(o=void 0===(a=(n={}).connectHOC)?R:a,c=void 0===(i=n.mapStateToPropsFactories)?U:i,s=void 0===(u=n.mapDispatchToPropsFactories)?H:u,d=void 0===(l=n.mergePropsFactories)?Z:l,p=void 0===(f=n.selectorFactory)?function(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=(0,k.A)(t,G),i=r(e,o),c=n(e,o),u=a(e,o);return(o.pure?function(e,t,r,n,a){var o,i,c,u,s,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,h){var m,v,y,b,g,_;return p?(m=a,g=!d(v=h,i),_=!l(m,o,v,i),(o=m,i=v,g&&_)?(c=e(o,i),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):g?(e.dependsOnOwnProps&&(c=e(o,i)),t.dependsOnOwnProps&&(u=t(n,i)),s=r(c,u,i)):_?(b=!f(y=e(o,i),c),c=y,b&&(s=r(c,u,i)),s):s):(c=e(o=a,i=h),u=t(n,i),s=r(c,u,i),p=!0,s)}}:function(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}})(i,c,u,e,o)}:f,function(e,t,r,n){void 0===n&&(n={});var a=n,i=a.pure,u=a.areStatesEqual,l=a.areOwnPropsEqual,f=void 0===l?L:l,h=a.areStatePropsEqual,m=void 0===h?L:h,v=a.areMergedPropsEqual,y=void 0===v?L:v,b=(0,k.A)(a,q),g=W(e,c,"mapStateToProps"),_=W(t,s,"mapDispatchToProps"),O=W(r,d,"mergeProps");return o(p,(0,w.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:g,initMapDispatchToProps:_,initMergeProps:O,pure:void 0===i||i,areStatesEqual:void 0===u?Q:u,areOwnPropsEqual:f,areStatePropsEqual:m,areMergedPropsEqual:y},b))});function Y(){return(0,h.useContext)(m)}function $(e){void 0===e&&(e=m);var t=e===m?Y:function(){return(0,h.useContext)(e)};return function(){return t().store}}var K=$();function X(e){void 0===e&&(e=m);var t=e===m?K:$(e);return function(){return t().dispatch}}var ee=X(),et=function(e,t){return e===t};function er(e){void 0===e&&(e=m);var t=e===m?Y:function(){return(0,h.useContext)(e)};return function(e,r){void 0===r&&(r=et);var n=t(),a=function(e,t,r,n){var a,o=(0,h.useReducer)(function(e){return e+1},0)[1],i=(0,h.useMemo)(function(){return b(r,n)},[r,n]),c=(0,h.useRef)(),u=(0,h.useRef)(),s=(0,h.useRef)(),l=(0,h.useRef)(),d=r.getState();try{if(e!==u.current||d!==s.current||c.current){var f=e(d);a=void 0!==l.current&&t(f,l.current)?l.current:f}else a=l.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return g(function(){u.current=e,s.current=d,l.current=a,c.current=void 0}),g(function(){function e(){try{var e=r.getState();if(e===s.current)return;var n=u.current(e);if(t(n,l.current))return;l.current=n,s.current=e}catch(e){c.current=e}o()}return i.onStateChange=e,i.trySubscribe(),e(),function(){return i.tryUnsubscribe()}},[r,i]),a}(e,r,n.store,n.subscription);return(0,h.useDebugValue)(a),a}}var en=er(),ea=r(40961);v=ea.unstable_batchedUpdates},86463:function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}r.r(t),r.d(t,{default:()=>o});var a=n();a.withExtraArgument=n;let o=a},42638:function(e,t,r){"use strict";r.r(t),r.d(t,{__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>h,bindActionCreators:()=>f,combineReducers:()=>l,compose:()=>p,createStore:()=>u,legacy_createStore:()=>s});var n=r(69899);function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function u(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(a(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(a(1));return r(u)(e,t)}if("function"!=typeof e)throw Error(a(2));var n,i=e,s=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw Error(a(3));return s}function m(e){if("function"!=typeof e)throw Error(a(4));if(f)throw Error(a(5));var t=!0;return p(),d.push(e),function(){if(t){if(f)throw Error(a(6));t=!1,p();var r=d.indexOf(e);d.splice(r,1),l=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(a(7));if(void 0===e.type)throw Error(a(8));if(f)throw Error(a(9));try{f=!0,s=i(s,e)}finally{f=!1}for(var t=l=d,r=0;r<t.length;r++)(0,t[r])();return e}return v({type:c.INIT}),(n={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(a(10));i=e,v({type:c.REPLACE})}})[o]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(a(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:m(t)}}})[o]=function(){return this},e},n}var s=u;function l(e){for(var t,r=Object.keys(e),n={},o=0;o<r.length;o++){var i=r[o];"function"==typeof e[i]&&(n[i]=e[i])}var u=Object.keys(n);try{Object.keys(n).forEach(function(e){var t=n[e];if(void 0===t(void 0,{type:c.INIT}))throw Error(a(12));if(void 0===t(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw Error(a(13))})}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var o=!1,i={},c=0;c<u.length;c++){var s=u[c],l=n[s],d=e[s],f=l(d,r);if(void 0===f)throw r&&r.type,Error(a(14));i[s]=f,o=o||f!==d}return(o=o||u.length!==Object.keys(e).length)?i:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw Error(a(16));var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=d(o,t))}return r}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),o=function(){throw Error(a(15))},i={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=t.map(function(e){return e(i)});return o=p.apply(void 0,c)(r.dispatch),(0,n.A)((0,n.A)({},r),{},{dispatch:o})}}}},5457:function(e){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],a=e[2],o=e[3];r+=(n&a|~n&o)+t[0]-0x28955b88|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&a)+t[1]-0x173848aa|0,a+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[2]+0x242070db|0,n+=((a=(a<<17|a>>>15)+o|0)&o|~a&r)+t[3]-0x3e423112|0,r+=((n=(n<<22|n>>>10)+a|0)&a|~n&o)+t[4]-0xa83f051|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&a)+t[5]+0x4787c62a|0,a+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[6]-0x57cfb9ed|0,n+=((a=(a<<17|a>>>15)+o|0)&o|~a&r)+t[7]-0x2b96aff|0,r+=((n=(n<<22|n>>>10)+a|0)&a|~n&o)+t[8]+0x698098d8|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&a)+t[9]-0x74bb0851|0,a+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[10]-42063|0,n+=((a=(a<<17|a>>>15)+o|0)&o|~a&r)+t[11]-0x76a32842|0,r+=((n=(n<<22|n>>>10)+a|0)&a|~n&o)+t[12]+0x6b901122|0,o+=((r=(r<<7|r>>>25)+n|0)&n|~r&a)+t[13]-0x2678e6d|0,a+=((o=(o<<12|o>>>20)+r|0)&r|~o&n)+t[14]-0x5986bc72|0,n+=((a=(a<<17|a>>>15)+o|0)&o|~a&r)+t[15]+0x49b40821|0,r+=((n=(n<<22|n>>>10)+a|0)&o|a&~o)+t[1]-0x9e1da9e|0,o+=((r=(r<<5|r>>>27)+n|0)&a|n&~a)+t[6]-0x3fbf4cc0|0,a+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[11]+0x265e5a51|0,n+=((a=(a<<14|a>>>18)+o|0)&r|o&~r)+t[0]-0x16493856|0,r+=((n=(n<<20|n>>>12)+a|0)&o|a&~o)+t[5]-0x29d0efa3|0,o+=((r=(r<<5|r>>>27)+n|0)&a|n&~a)+t[10]+0x2441453|0,a+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[15]-0x275e197f|0,n+=((a=(a<<14|a>>>18)+o|0)&r|o&~r)+t[4]-0x182c0438|0,r+=((n=(n<<20|n>>>12)+a|0)&o|a&~o)+t[9]+0x21e1cde6|0,o+=((r=(r<<5|r>>>27)+n|0)&a|n&~a)+t[14]-0x3cc8f82a|0,a+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[3]-0xb2af279|0,n+=((a=(a<<14|a>>>18)+o|0)&r|o&~r)+t[8]+0x455a14ed|0,r+=((n=(n<<20|n>>>12)+a|0)&o|a&~o)+t[13]-0x561c16fb|0,o+=((r=(r<<5|r>>>27)+n|0)&a|n&~a)+t[2]-0x3105c08|0,a+=((o=(o<<9|o>>>23)+r|0)&n|r&~n)+t[7]+0x676f02d9|0,n+=((a=(a<<14|a>>>18)+o|0)&r|o&~r)+t[12]-0x72d5b376|0,r+=((n=(n<<20|n>>>12)+a|0)^a^o)+t[5]-378558|0,o+=((r=(r<<4|r>>>28)+n|0)^n^a)+t[8]-0x788e097f|0,a+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[11]+0x6d9d6122|0,n+=((a=(a<<16|a>>>16)+o|0)^o^r)+t[14]-0x21ac7f4|0,r+=((n=(n<<23|n>>>9)+a|0)^a^o)+t[1]-0x5b4115bc|0,o+=((r=(r<<4|r>>>28)+n|0)^n^a)+t[4]+0x4bdecfa9|0,a+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[7]-0x944b4a0|0,n+=((a=(a<<16|a>>>16)+o|0)^o^r)+t[10]-0x41404390|0,r+=((n=(n<<23|n>>>9)+a|0)^a^o)+t[13]+0x289b7ec6|0,o+=((r=(r<<4|r>>>28)+n|0)^n^a)+t[0]-0x155ed806|0,a+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[3]-0x2b10cf7b|0,n+=((a=(a<<16|a>>>16)+o|0)^o^r)+t[6]+0x4881d05|0,r+=((n=(n<<23|n>>>9)+a|0)^a^o)+t[9]-0x262b2fc7|0,o+=((r=(r<<4|r>>>28)+n|0)^n^a)+t[12]-0x1924661b|0,a+=((o=(o<<11|o>>>21)+r|0)^r^n)+t[15]+0x1fa27cf8|0,n+=((a=(a<<16|a>>>16)+o|0)^o^r)+t[2]-0x3b53a99b|0,n=(n<<23|n>>>9)+a|0,r+=(a^(n|~o))+t[0]-0xbd6ddbc|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[7]+0x432aff97|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[14]-0x546bdc59|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[5]-0x36c5fc7|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[12]+0x655b59c3|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[3]-0x70f3336e|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[10]-1051523|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[1]-0x7a7ba22f|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[8]+0x6fa87e4f|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[15]-0x1d31920|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[6]-0x5cfebcec|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[13]+0x4e0811a1|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~o))+t[4]-0x8ac817e|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~a))+t[11]-0x42c50dcb|0,o=(o<<10|o>>>22)+r|0,a+=(r^(o|~n))+t[2]+0x2ad7d2bb|0,a=(a<<15|a>>>17)+o|0,n+=(o^(a|~r))+t[9]-0x14792c6f|0,n=(n<<21|n>>>11)+a|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function a(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,a,o,i,c,u,s=e.length,l=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=s;t+=64)r(l,n(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return c=parseInt((i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/))[2],16),u=parseInt(i[1],16)||0,o[14]=c,o[15]=u,r(l,o),l}function i(e){var r;for(r=0;r<e.length;r+=1)e[r]=function(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}(e[r]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function s(){this.reset()}return i(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,r){var n,a,o,i,c=this.byteLength,u=e(t,c),s=c;return(void 0!==r&&(s=e(r,c)),u>s)?new ArrayBuffer(0):(o=new Uint8Array(a=new ArrayBuffer(n=s-u)),i=new Uint8Array(this,u,n),o.set(i),a)}}(),s.prototype.append=function(e){return this.appendBinary(c(e)),this},s.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},s.prototype.end=function(e){var t,r,n=this._buff,a=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,a),r=i(this._hash),e&&(r=u(r)),this.reset(),r},s.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},s.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},s.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},s.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},s.prototype._finish=function(e,t){var n,a,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(r(this._hash,e),i=0;i<16;i+=1)e[i]=0;a=parseInt((n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),o=parseInt(n[1],16)||0,e[14]=a,e[15]=o,r(this._hash,e)},s.hash=function(e,t){return s.hashBinary(c(e),t)},s.hashBinary=function(e,t){var r=i(o(e));return t?u(r):r},s.ArrayBuffer=function(){this.reset()},s.ArrayBuffer.prototype.append=function(e){var t,n,o,i=(t=this._buff.buffer,(n=new Uint8Array(t.byteLength+e.byteLength)).set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),n),c=i.length;for(this._length+=e.byteLength,o=64;o<=c;o+=64)r(this._hash,a(i.subarray(o-64,o)));return this._buff=new Uint8Array(o-64<c?i.buffer.slice(o-64):0),this},s.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,a=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,a),r=i(this._hash),e&&(r=u(r)),this.reset(),r},s.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},s.ArrayBuffer.prototype.getState=function(){var e,t=s.prototype.getState.call(this);return e=t.buff,t.buff=String.fromCharCode.apply(null,new Uint8Array(e)),t},s.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,n=e.length,a=new ArrayBuffer(n),o=new Uint8Array(a);for(r=0;r<n;r+=1)o[r]=e.charCodeAt(r);return t?o:a}(e.buff,!0),s.prototype.setState.call(this,e)},s.ArrayBuffer.prototype.destroy=s.prototype.destroy,s.ArrayBuffer.prototype._finish=s.prototype._finish,s.ArrayBuffer.hash=function(e,t){var n=i(function(e){var t,n,o,i,c,u,s=e.length,l=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=s;t+=64)r(l,a(e.subarray(t-64,t)));for(n=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return c=parseInt((i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/))[2],16),u=parseInt(i[1],16)||0,o[14]=c,o[15]=u,r(l,o),l}(new Uint8Array(e)));return t?u(n):n},s}()},44712:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(56173)),l=n(r(1424)),d=n(r(70128)),f=r(16311),p=n(r(37325)),h=r(33520);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(){var e,t,r,n,o;function s(e){var t=this;(0,c.default)(this,s),this.client=(0,h.getCozyClientFromOptions)(e),this.createWebSocket=e.createWebSocket||h.createWebSocket,this.logger=e.logger||p.default,this.subscriptions=new d.default({logger:e.logger}),this.retryManager=new l.default({raiseErrorAfterAttempts:f.raiseErrorAfterAttempts,timeBeforeSuccessful:f.timeBeforeSuccessful,baseWaitAfterFirstFailure:f.baseWaitAfterFirstFailure,maxWaitBetweenRetries:f.maxWaitBetweenRetries,logger:e.logger}),this.retryManager.on("error",function(e){return t.emit("error",e)}),this.bindEventHandlers()}return(0,u.default)(s,[{key:"start",value:function(){!this.isStarted&&(this.logger.info("started"),this.isStarted=!0,this.retryManager.reset(),this.subscribeGlobalEvents(),this.subscribeClientEvents(),this.emit("start"),(0,h.isOnline)()&&this.connect())}},{key:"createSocket",value:function(){this.websocket&&(this.logger.error("Unexpected replacement of an existing socket, this should not happen. A `revokeWebSocket()` should have been called first inside CozyRealtime"),this.revokeWebSocket()),this.logger.info("creating a new websocket…");var e=(0,h.getUrl)(this.client);try{return this.websocket=this.createWebSocket(e,h.protocol),this.websocket.authenticated=!1,this.websocket.onmessage=this.onWebSocketMessage,this.websocket.onerror=this.onWebSocketError,this.websocket.onopen=this.onWebSocketOpen,this.websocket.onclose=this.onWebSocketClose,this.websocket}catch(e){this.onWebSocketError(e)}}},{key:"connect",value:(e=(0,i.default)(a.default.mark(function e(){var t,r,n=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=void 0!==(t=(n.length>0&&void 0!==n[0]?n[0]:{}).immediate)&&t,this.logger.info("connecting…"),!this.waitingForConnect){e.next=7;break}this.logger.debug("Pending reconnection, skipping reconnect"),r&&this.retryManager.stopCurrentAttemptWaitingTime(),e.next=17;break;case 7:if(this.logger.debug("No pending reconnection, will reconnect"),e.prev=8,this.waitingForConnect=!0,r){e.next=13;break}return e.next=13,this.retryManager.waitBeforeNextAttempt();case 13:this.createSocket();case 14:return e.prev=14,this.waitingForConnect=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[8,,14,17]])})),function(){return e.apply(this,arguments)})},{key:"reconnect",value:(t=(0,i.default)(a.default.mark(function e(){var t,r,n=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0!==(t=(n.length>0&&void 0!==n[0]?n[0]:{}).immediate)&&t,this.hasWebSocket()&&this.revokeWebSocket(),this.connect({immediate:r});case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"revokeWebSocket",value:function(){var e=this;if(this.emit("disconnected"),this.hasWebSocket()){this.logger.info("trashing the previous websocket…"),this.websocket.onmessage=null,this.websocket.onerror=function(t){e.logger.error("Error while trying to close the websocket: ".concat(t.message))},this.websocket.onopen=null,this.websocket.onclose=null;try{this.websocket.close()}catch(e){}finally{this.websocket=null}}else this.logger.error("Trying to revoke a websocket that is not attached. This should not happen")}},{key:"stop",value:function(){this.isStarted&&(this.logger.info("stopped"),this.unsubscribeGlobalEvents(),this.unsubscribeClientEvents(),this.hasWebSocket()&&this.revokeWebSocket(),this.isStarted=!1,this.subscriptions.isEmpty()||this.unsubscribeAll(),this.emit("close"))}},{key:"authenticate",value:function(){if(this.isWebSocketOpen()){var e=(0,h.getToken)(this.client);this.logger.debug("authenticate with",e),this.sendWebSocketMessage("AUTH",e),this.websocket.authenticated=!0}else this.logger.error("Trying to authenticate to a non-opened websocket. This should not happen.",this.websocket,this.websocket&&this.websocket.readyState)}},{key:"sendWebSocketMessage",value:function(e,t){var r=JSON.stringify({method:e,payload:t});this.websocket.send(r)}},{key:"sendNotification",value:(r=(0,i.default)(a.default.mark(function e(t,r,n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.client.getStackClient().fetchJSON("POST","/realtime/".concat(t,"/").concat(r),{data:n}));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"send",value:function(){return this.sendDeprecationNoticeSent||(this.sendDeprecationNoticeSent=!0,this.logger.warn("Deprecation notice: CozyRealtime.send() is deprecated, please use CozyRealtime.sendNotification() from now on")),this.sendNotification.apply(this,arguments)}},{key:"waitForSocketReady",value:(n=(0,i.default)(a.default.mark(function e(){var t=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isWebSocketAuthenticated()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",new Promise(function(e,r){t.once("ready",e),t.once("close",r)}));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"hasWebSocket",value:function(){return!!this.websocket}},{key:"isWebSocketOpen",value:function(){return!!(this.hasWebSocket()&&this.websocket.readyState===WebSocket.OPEN)}},{key:"isWebSocketAuthenticated",value:function(){return!!(this.isWebSocketOpen()&&this.websocket.authenticated)}},{key:"subscribe",value:function(e,t,r,n){this.start();var a=this.normalizeSubscription(e,t,r,n),o=this.subscriptions.hasSameTypeAndId(a);this.subscriptions.add(a),!o&&this.isWebSocketAuthenticated()&&this.sendSubscription(a.type,a.id)}},{key:"unsubscribe",value:function(e,t,r,n){var a=this.normalizeSubscription(e,t,r,n);this.subscriptions.remove(a),!this.subscriptions.hasSameTypeAndId(a)&&this.isWebSocketAuthenticated()&&this.sendUnsubscription(a.type,a.id),this.subscriptions.isEmpty()&&this.stop()}},{key:"unsubscribeAll",value:function(){var e,t=y(this.subscriptions.getAll());try{for(t.s();!(e=t.n()).done;){var r=e.value,n=r.event,a=r.type,o=r.id,i=r.handler;this.unsubscribe(n,a,o,i)}}catch(e){t.e(e)}finally{t.f()}}},{key:"sendSubscriptions",value:function(){var e,t=y(this.subscriptions.getAllTypeAndIdPairs());try{for(t.s();!(e=t.n()).done;){var r=e.value,n=r.type,a=r.id;this.sendSubscription(n,a)}}catch(e){t.e(e)}finally{t.f()}}},{key:"sendSubscription",value:function(e,t){if(this.isWebSocketOpen()){var r=t?{type:e,id:t}:{type:e};this.logger.debug("send subscription to",r.type,r.id),this.sendWebSocketMessage("SUBSCRIBE",r)}else this.logger.error("Trying to subscribe on a non-ready socket. This should not happen. Type and id:",e,t)}},{key:"sendUnsubscription",value:function(e,t){if(this.isWebSocketOpen()){var r=t?{type:e,id:t}:{type:e};this.logger.debug("send unsubscription to",r.type,r.id),this.sendWebSocketMessage("UNSUBSCRIBE",r)}else this.logger.error("Trying to subscribe on a non-ready socket. This should not happen. Type and id:",e,t)}},{key:"normalizeSubscription",value:function(e,t,r,n){return{event:e?e.toUpperCase():e,type:t,id:n?r:null,handler:n||r}}},{key:"bindEventHandlers",value:(o=(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.onWebSocketMessage=this.onWebSocketMessage.bind(this),this.onWebSocketError=this.onWebSocketError.bind(this),this.onWebSocketOpen=this.onWebSocketOpen.bind(this),this.onWebSocketClose=this.onWebSocketClose.bind(this),this.onClientLogin=this.onClientLogin.bind(this),this.onClientTokenRefreshed=this.onClientTokenRefreshed.bind(this),this.onClientLogout=this.onClientLogout.bind(this),this.onOnline=this.onOnline.bind(this),this.onOffline=this.onOffline.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this);case 10:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"onWebSocketMessage",value:function(e){var t=JSON.parse(e.data),r=t.event,n=t.payload;this.logger.info("receive message from server",{event:r,payload:n});var a,o=y(this.subscriptions.getAllHandlersForEvent(r,n.type,n.id));try{for(o.s();!(a=o.n()).done;){var i=a.value;try{i(v(v({},n.doc),{},{_type:n.type}))}catch(e){this.logger.error("handler did throw for ".concat(r,", ").concat(n.type,", ").concat(n.id))}}}catch(e){o.e(e)}finally{o.f()}"error"===r&&this.logger.warn("Stack returned an error",n)}},{key:"onWebSocketError",value:function(e){this.logger.info("An error was raised on the websocket",e),this.retryManager.onFailure(e),this.reconnect()}},{key:"onWebSocketOpen",value:function(){this.retryManager.onSuccess(),this.authenticate(),this.sendSubscriptions(),this.emit("ready")}},{key:"onWebSocketClose",value:function(e){this.logger.info("The current websocket was closed by a third party",e),this.retryManager.onFailure(e),this.reconnect()}},{key:"subscribeClientEvents",value:function(){this.client.on("login",this.onClientLogin),this.client.on("tokenRefreshed",this.onClientTokenRefreshed),this.client.on("logout",this.onClientLogout)}},{key:"unsubscribeClientEvents",value:function(){this.client.removeListener("login",this.onClientLogin),this.client.removeListener("tokenRefreshed",this.onClientTokenRefreshed),this.client.removeListener("logout",this.onClientLogout)}},{key:"onClientLogin",value:function(){this.logger.info("Received login from cozy-client"),this.isWebSocketOpen()&&(this.authenticate(),this.sendSubscriptions())}},{key:"onClientTokenRefreshed",value:function(){this.hasWebSocket()&&this.reconnect()}},{key:"onClientLogout",value:function(){this.hasWebSocket()&&this.revokeWebSocket()}},{key:"subscribeGlobalEvents",value:function(){h.hasBrowserContext&&window.addEventListener&&(window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline),window.addEventListener("visibilitychange",this.onVisibilityChange))}},{key:"unsubscribeGlobalEvents",value:function(){h.hasBrowserContext&&window.removeEventListener&&(window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline),window.removeEventListener("visibilitychange",this.onVisibilityChange))}},{key:"onOnline",value:function(){this.logger.info("reconnect because receiving an online event"),this.reconnect({immediate:!0})}},{key:"onOffline",value:function(){this.hasWebSocket()&&this.revokeWebSocket()}},{key:"onVisibilityChange",value:function(){document.visibilityState&&"visible"===document.visibilityState&&this.retryManager.stopCurrentAttemptWaitingTime()}}]),s}();s.default.mixin(g),t.default=g},56283:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(44712)),c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,e),this.client=t,this.createWebSocket=r.createWebSocket,this.logger=r.logger,this.realtime=null,this.handleLogin=this.handleLogin.bind(this),this.handleLogout=this.handleLogout.bind(this),this.client.on("login",this.handleLogin),this.client.on("logout",this.handleLogout),t.isLogged&&this.handleLogin()}return(0,o.default)(e,[{key:"handleLogin",value:function(){this.realtime=new i.default({client:this.client,createWebSocket:this.createWebSocket,logger:this.logger}),this.client.emit("plugin:realtime:login")}},{key:"handleLogout",value:function(){this.unsubscribeAll(),this.realtime=null,this.client.emit("plugin:realtime:logout")}},{key:"checkRealtimeInstance",value:function(){if(!this.realtime)throw Error("Unable to use realtime while cozy-client is not logged in")}},{key:"subscribe",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).subscribe.apply(e,arguments)}},{key:"unsubscribe",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).unsubscribe.apply(e,arguments)}},{key:"unsubscribeAll",value:function(){this.checkRealtimeInstance(),this.realtime.unsubscribeAll()}},{key:"sendNotification",value:function(){var e;this.checkRealtimeInstance(),(e=this.realtime).sendNotification.apply(e,arguments)}}]),e}();c.pluginName="realtime",t.default=c},1424:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(56173)),s=r(16311),l=n(r(37325)),d=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.maxWaitBetweenRetries,n=void 0===r?s.maxWaitBetweenRetries:r,a=e.baseWaitAfterFirstFailure,o=void 0===a?s.baseWaitAfterFirstFailure:a,c=e.timeBeforeSuccessful,u=void 0===c?s.timeBeforeSuccessful:c,d=e.raiseErrorAfterAttempts,f=void 0===d?s.raiseErrorAfterAttempts:d,p=e.logger,h=void 0===p?l.default:p;(0,i.default)(this,t),this.logger=h,this.reset(),this.onSuccess=this.onSuccess.bind(this),this.onFailure=this.onFailure.bind(this),this.onSuccessAcknowledged=this.onSuccessAcknowledged.bind(this),this.raiseErrorAfterAttempts=f,this.timeBeforeSuccessful=u,this.baseWaitAfterFirstFailure=o,this.maxWaitBetweenRetries=n}return(0,c.default)(t,[{key:"onSuccess",value:function(){this.timeBeforeSuccessful>0?this.startSuccessTimer(this.onSuccessAcknowledged,this.timeBeforeSuccessful):this.onSuccessAcknowledged()}},{key:"onSuccessAcknowledged",value:function(){this.emit("success"),this.reset()}},{key:"clearSuccessTimer",value:function(){this.successTimer&&(r.g.clearTimeout(this.successTimer),this.successTimer=null)}},{key:"startSuccessTimer",value:function(e,t){var n=this;this.successTimer||(this.successTimer=r.g.setTimeout(function(){n.successTimer=null,e()},t))}},{key:"onFailure",value:function(e){this.logger.debug("failure, increase the failure counter of the retry manager"),this.clearSuccessTimer(),this.increaseFailureCounter(),this.emit("failure",e),this.shouldEmitError()&&this.emit("error",e)}},{key:"shouldEmitError",value:function(){return this.retries>0&&this.retries%this.raiseErrorAfterAttempts==0}},{key:"reset",value:function(){this.logger.debug("reset the retry manager"),this.clearSuccessTimer(),this.retries=0,this.wait=0}},{key:"increaseFailureCounter",value:function(){0===this.retries?this.wait=0:0===this.wait?this.wait=this.baseWaitAfterFirstFailure:this.wait=Math.min(2*this.wait,this.maxWaitBetweenRetries),this.retries=this.retries+1}},{key:"waitBeforeNextAttempt",value:(e=(0,o.default)(a.default.mark(function e(){var t,n,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("waitBeforeNextAttempt",this.wait),!this.wait){e.next=5;break}return this.waiting||((n=new Promise(function(e){t=function(){o.waiting===n&&(o.waiting=null),e()},r.g.setTimeout(t,o.wait)})).stop=t,this.waiting=n),e.next=5,this.waiting;case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stopCurrentAttemptWaitingTime",value:function(){this.waiting&&this.waiting.stop()}}]),t}();u.default.mixin(d),t.default=d},70128:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783)),i=n(r(2404)),c=n(r(44383)),u=n(r(72568)),s=n(r(14174)),l=n(r(9063)),d=r(16311),f=n(r(37325));t.default=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.subscriptions=[],this.logger=t.logger||f.default}return(0,o.default)(e,[{key:"add",value:function(e){var t=this.normalize(e);(!this.subscriptions.find(function(e){return(0,i.default)(e,t)})||(d.onDoubleSubscriptions&&(0,d.onDoubleSubscriptions)(t,{logger:this.logger}),d.allowDoubleSubscriptions))&&this.subscriptions.push(t)}},{key:"remove",value:function(e){var t=this.normalize(e);if(d.requireDoubleUnsubscriptions){var r=this.subscriptions.findIndex(function(e){return(0,i.default)(e,t)});if(r>=0)return void(0,u.default)(this.subscriptions,r)}else{var n=(0,s.default)(this.subscriptions,function(e){return(0,i.default)(e,t)});if(n&&n.length>0)return}this.logger.warn("Trying to unsubscribe to an unknown subscription",t)}},{key:"getAll",value:function(){return this.subscriptions.slice()}},{key:"getAllTypeAndIdPairs",value:function(){return(0,l.default)(this.subscriptions.map(function(e){return(0,c.default)(e,["type","id"])}),i.default)}},{key:"hasSameTypeAndId",value:function(e){var t=e.type,r=e.id,n=t||null,a=r||null;return!!this.subscriptions.find(function(e){return e.type===n&&e.id===a})}},{key:"getAllHandlersForEvent",value:function(e,t,r){var n=this;return this.subscriptions.filter(function(a){return n.isMatchingEvent(a,e,t,r)}).map(function(e){return e.handler})}},{key:"isMatchingEvent",value:function(e,t,r,n){return(!e.event||e.event===t)&&(!e.id||e.id===(n||null))&&(!e.type||e.type===(r||null))}},{key:"isEmpty",value:function(){return 0===this.subscriptions.length}},{key:"normalize",value:function(e){function t(e){throw this.logger.error(e),Error(e)}return e.event&&!d.eventNames.includes(e.event)&&t("Trying to subscribe to a unknown event name ".concat(e.event)),"function"!=typeof e.handler&&t("Trying to subscribe with a non-function handler ".concat(e.event)),"error"!==e.event&&"string"!=typeof e.type&&t("Trying to subscribe with to non-string type ".concat(e.type)),e.id&&"string"!=typeof e.id&&t("Trying to subscribe with to non-string id ".concat(e.id)),{event:e.event||null,type:e.type||null,id:e.id||null,handler:e.handler||null}}}]),e}()},16311:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.timeBeforeSuccessful=t.requireDoubleUnsubscriptions=t.raiseErrorAfterAttempts=t.onDoubleSubscriptions=t.maxWaitBetweenRetries=t.eventNames=t.baseWaitAfterFirstFailure=t.allowDoubleSubscriptions=void 0;var a=n(r(37325));t.maxWaitBetweenRetries=3e5,t.baseWaitAfterFirstFailure=128,t.timeBeforeSuccessful=1200,t.raiseErrorAfterAttempts=8;var o=t.allowDoubleSubscriptions=!0,i=t.requireDoubleUnsubscriptions=!0;t.onDoubleSubscriptions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.logger,n=void 0===r?a.default:r;n.warn("Double subscription for ",e),o?(n.info("The handler may be called twice for the same event!"),n.info("Remember to call one `unsubscribe` for each `subscribe`")):(n.info("The handler will only be called once"),i?n.info("Remember to call one `unsubscribe` for each `subscribe`"):n.info("`unsubscribe` will remove all similar subscriptions"))},t.eventNames=["CREATED","UPDATED","DELETED","NOTIFIED","error"]},4595:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RealtimePlugin",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,Object.defineProperty(t,"useRealtime",{enumerable:!0,get:function(){return o.default}});var a=n(r(44712)),o=n(r(19143)),i=n(r(56283));t.default=a.default},37325:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o="undefined"!=typeof window&&window.minilog||a.default,i=o("cozy-realtime");i.minilog=a.default,o.enable(),o.suggest.deny("cozy-realtime","warn"),o.suggest.allow("cozy-realtime","warn"),t.default=i},19143:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(13135)),c=r(96540);t.default=function(e,t,r){(0,c.useEffect)(function(){return e.plugins&&e.plugins.realtime?(Object.entries(t).forEach(function(t){var r,n=(0,i.default)(t,2),c=n[0];Object.entries(n[1]).forEach((r=(0,o.default)(a.default.mark(function t(r){var n,o,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(n=(0,i.default)(r,2))[0],u=n[1],t.prev=1,t.next=4,e.plugins.realtime.subscribe(o,c,u);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to subscribe to ".concat(o," event on ").concat(c,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return r.apply(this,arguments)}))}),function(){Object.entries(t).forEach(function(t){var r,n=(0,i.default)(t,2),c=n[0];Object.entries(n[1]).forEach((r=(0,o.default)(a.default.mark(function t(r){var n,o,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(n=(0,i.default)(r,2))[0],u=n[1],t.prev=1,t.next=4,e.plugins.realtime.unsubscribe(o,c,u);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to unsubscribe from ".concat(o," event on ").concat(c,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return r.apply(this,arguments)}))})}):void console.error("[useRealtime] The provided CozyClient instance does not have a RealtimePlugin registered, useRealtime will not work")},r)}},33520:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.createWebSocket=function(e,t){return new WebSocket(e,t)},t.getCozyClientFromOptions=function(e){var t=e.cozyClient,r=e.client,n=e.logger,a=void 0===n?o.default:n;return t?a.warn("Passing a `cozyClient` parameter is deprecated, please use `client` instead"):r||a.warn("Realtime must be initialized with a client. Ex: `new Realtime({ client })`"),r||t},t.getToken=function(e){return e.getStackClient().getAccessToken()},t.getUrl=function(e){var t=e.getStackClient().uri,r=t.toString().match("^(https:/{2})")?"wss:":"ws:",n=new URL(t).host;return"".concat(r,"//").concat(n,"/realtime/")},t.hasBrowserContext=void 0,t.isOnline=function(){return!(0,a.default)(r.g,"navigator.onLine")||r.g.navigator.onLine},t.protocol=void 0;var a=n(r(61448)),o=n(r(37325));t.hasBrowserContext="undefined"!=typeof window,t.protocol="io.cozy.websocket"},56191:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5556)),o=n(r(96540)),i=n(r(56207)),c=n(r(734)),u=n(r(49077)),s=n(r(98707)),l=r(80006),d=function(e){var t=e.componentsProps;return(0,i.default)(l.locales),o.default.createElement("div",{className:"u-mh-auto u-w-100 u-maw-100"},o.default.createElement(c.default,null,o.default.createElement(s.default,null,o.default.createElement(u.default,{componentsProps:t}))))};d.propTypes={componentsProps:a.default.shape({SearchBarDesktop:a.default.shape({elevation:a.default.number,size:a.default.string,hasHalfBorderRadius:a.default.bool,className:a.default.string,disabledHover:a.default.bool})})},t.default=d},67864:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.TwakeAssistantIcon=void 0;var a=n(r(82710)),o=n(r(96540));t.TwakeAssistantIcon=function(e){return o.default.createElement("svg",(0,a.default)({viewBox:"0 0 22 22",fill:"none"},e),o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.094.305a1.5 1.5 0 012.351.79l.005.02 1.581 6.135a1 1 0 00.718.719l6.136 1.58.016.005a1.5 1.5 0 010 2.892l-.016.004-6.135 1.581a1 1 0 00-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 01-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 00-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 010-2.886l.023-.006L7.25 7.968a1 1 0 00.719-.718L9.55 1.115l.005-.02a1.5 1.5 0 01.538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 002.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 00-2.155 2.155L11 18.497 9.905 14.25a3 3 0 00-2.155-2.156L3.504 11 7.75 9.904A3 3 0 009.905 7.75L11 3.503zM19 1a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0V5h-1a1 1 0 110-2h1V2a1 1 0 011-1zM3 15a1 1 0 011 1 1 1 0 110 2 1 1 0 11-2 0 1 1 0 110-2 1 1 0 011-1z"}))}},61565:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AssistantMobile=void 0;var a=n(r(11732)),o=n(r(96540)),i=r(84976),c=n(r(90774)),u=n(r(13691)),s=n(r(5379)),l=r(33616),d=n(r(56207)),f=r(80006),p=r(70322),h=function(){var e=(0,l.useI18n)().t,t=(0,i.useNavigate)();return(0,d.default)(f.locales),o.default.createElement(s.default,{size:"medium",icon:o.default.createElement(c.default,{className:(0,a.default)("u-ml-1 u-mr-half","styles__search-bar-icon___1affF"),icon:u.default,size:16}),type:"button",label:(0,p.isAssistantEnabled)()?e("assistant.search.placeholder"):void 0,onClick:function(){return t("connected/search")}})};t.AssistantMobile=h,t.default=h},734:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useAssistant=t.default=t.AssistantContext=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(76729)),c=n(r(13135)),u=n(r(63560)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),l=r(84976),d=r(42895),f=n(r(19143)),p=r(70322),h=r(82495);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=s.default.createContext();t.AssistantContext=b,t.useAssistant=function(){var e=(0,s.useContext)(b);if(!e)throw Error("useAssistant must be used within a AssistantProvider");return e},t.default=s.default.memo(function(e){var t,r=e.children,n=(0,l.useParams)().conversationId,m=(0,d.useClient)(),v=(0,s.useState)({message:{},status:"pending",messagesId:[]}),g=(0,c.default)(v,2),_=g[0],w=g[1];(0,f.default)(m,(0,i.default)({},h.CHAT_CONVERSATIONS_DOCTYPE,{created:function(e){(0,p.pushMessagesIdInState)(n,e,w)},updated:function(e){(0,p.pushMessagesIdInState)(n,e,w)}}),[]),(0,f.default)(m,(0,i.default)({},h.CHAT_EVENTS_DOCTYPE,{created:function(e){w(function(t){if(!(0,p.isMessageForThisConversation)(e,t.messagesId))return t;if("done"===e.object&&"idle"!==t.status)return y(y({},t),{},{status:"idle"});if("delta"===e.object){var r=(0,u.default)(t.message,e.position,e.content);return y(y({},t),{},{message:r,status:"writing"})}return t})}}),[]);var k=(0,s.useCallback)(function(){return w({message:{},status:"pending",messagesId:[]})},[]),O=(0,s.useCallback)((t=(0,o.default)(a.default.mark(function e(t,r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.value,o=t.conversationId,n){e.next=3;break}return e.abrupt("return");case 3:return null==r||r(),k(),e.next=7,m.stackClient.fetchJSON("POST","/ai/chat/conversations/".concat(o),{q:n});case 7:w(function(e){return y(y({},e),{},{status:"pending"})});case 8:case"end":return e.stop()}},e)})),function(e,r){return t.apply(this,arguments)}),[m,k]),x=(0,s.useMemo)(function(){return{assistantState:_,setAssistantState:w,clearAssistant:k,onAssistantExecute:O}},[_,k,O]);return s.default.createElement(b.Provider,{value:x},r)})},85009:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(82710)),o=n(r(80539)),i=n(r(96540)),c=n(r(90774)),u=r(33616),s=n(r(69935)),l=n(r(22591)),d=r(67864),f=["label","className","id","sources"];t.default=function(e){var t=e.label,r=e.className,n=e.id,p=e.sources,h=(0,o.default)(e,f),m=(0,u.useI18n)().t;return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,(0,a.default)({},h,{label:t,className:r,icon:i.default.createElement(c.default,{icon:d.TwakeAssistantIcon,size:24,className:"u-mh-half",color:"var(--primaryColor)"}),name:m("assistant.name")})),(null==p?void 0:p.length)>0&&i.default.createElement(l.default,{messageId:n,sources:p}))}},25687:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(80539)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(42895),c=n(r(85009)),u=n(r(24907)),s=n(r(76912)),l=r(734),d=r(70322),f=r(82495),p=["data"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=function(e){var t,r,n,a,i,f=e.conversation,p=e.myself,h=(0,l.useAssistant)().assistantState,m=(0,o.useRef)(),v=Object.keys(h.message).length,y="idle"!==h.status||(null==f||null==(t=f.messages)||null==(r=t[(null==f||null==(n=f.messages)?void 0:n.length)-1])?void 0:r.role)==="user";return(0,o.useEffect)(function(){var e,t;null==(e=m.current)||null==(t=e.lastElementChild)||t.scrollIntoView(!1)},[null==f||null==(a=f.messages)?void 0:a.length,h.status,v]),o.default.createElement("div",{ref:m},null==f||null==(i=f.messages)?void 0:i.map(function(e,t){return"user"===e.role?o.default.createElement(s.default,{key:f._id+"--"+t,className:"u-mt-1-half",myself:p,label:e.content}):t!==(null==f?void 0:f.messages.length)-1?o.default.createElement(c.default,{key:f._id+"--"+t,className:"u-mt-1-half",id:e.id,label:e.content,sources:e.sources}):y?null:o.default.createElement(c.default,{key:f._id+"--"+t,className:"u-mt-1-half",id:e.id,label:e.content,sources:e.sources})}),y&&o.default.createElement(u.default,{isLoading:"pending"===h.status,label:(0,d.getInstantMessage)(h)}))};t.default=function(e){var t=e.id,r=e.myself,n=(0,f.buildChatConversationQueryById)(t),c=(0,i.useQuery)(n.definition,n.options),u=c.data,s=(0,a.default)(c,p);return(0,i.isQueryLoading)(s)?null:o.default.createElement(m,{conversation:u,myself:r})}},69935:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(89004)),i=n(r(39274)),c=n(r(3577));t.default=function(e){var t=e.className,r=e.icon,n=e.name,u=e.label;return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.default,{className:t,display:"flex",alignItems:"center",gridGap:12},r,a.default.createElement(i.default,{variant:"h6",display:"inline"},n)),a.default.createElement(o.default,{pl:"44px"},a.default.createElement(c.default,{label:u})))}},3577:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(41666));t.default=a.default.memo(function(e){var t=e.label;return"string"==typeof t?a.default.createElement(o.default,{content:t}):t})},24907:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(55540)),i=n(r(85009));t.default=function(e){var t=e.isLoading,r=e.label;return a.default.createElement(i.default,{className:"u-mt-1-half",label:t?a.default.createElement("span",null,a.default.createElement(o.default,{width:"100%"}),a.default.createElement(o.default,{width:"60%"})):r})}},76912:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(82710)),o=n(r(80539)),i=n(r(96540)),c=r(62878),u=n(r(27998)),s=n(r(69935)),l=["className","label","myself"];t.default=function(e){var t=e.className,r=e.label,n=e.myself,d=(0,o.default)(e,l);return i.default.createElement(s.default,(0,a.default)({},d,{className:t,icon:i.default.createElement(u.default,{text:(0,c.getInitials)(n),size:24}),name:(0,c.getDisplayName)(n),label:r}))}},92141:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(80539)),o=n(r(96540)),i=r(42895),c=n(r(25687)),u=r(82495),s=["data"];t.default=function(e){var t=e.id,r=(0,u.buildMyselfQuery)(),n=(0,i.useQuery)(r.definition,r.options),l=n.data,d=(0,a.default)(n,s);return(0,i.isQueryLoading)(d)?null:o.default.createElement("div",{className:"u-maw-7 u-mh-auto"},o.default.createElement(c.default,{id:t,myself:l[0]}))}},48344:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(84976),c=n(r(36040)),u=n(r(90774)),s=n(r(54215)),l=n(r(81539)),d=n(r(5379)),f=n(r(73112)),p=r(24242),h=r(33616),m=r(734);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}t.default=function(e){var t=e.assistantStatus,r=(0,h.useI18n)().t,n=(0,p.useBreakpoints)().isMobile,v=(0,m.useAssistant)().onAssistantExecute,y=(0,o.useState)(""),b=(0,a.default)(y,2),g=b[0],_=b[1],w=(0,o.useRef)(),k=(0,i.useParams)().conversationId;(0,f.default)(w.current,"input",function(){w.current.style.height="auto",w.current.style.height="".concat(w.current.scrollHeight,"px")});var O=function(){_("")},x=function(){return v({value:g,conversationId:k},function(){O(),w.current.style.height="auto"})};return o.default.createElement("div",{className:"u-w-100 u-maw-7 u-mh-auto"},o.default.createElement(d.default,{className:"styles__conversationBar___2J-Us",icon:null,size:"auto",placeholder:r("assistant.search.placeholder"),value:g,disabledClear:!0,componentsProps:{inputBase:{inputRef:w,className:"u-pv-0",rows:1,multiline:!0,inputProps:{className:"styles__conversationBar-input___2DfdZ"},autoFocus:!n,endAdornment:"idle"!==t?o.default.createElement(c.default,{component:"div",className:"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1",classes:{label:"u-flex u-w-auto"},label:o.default.createElement(u.default,{icon:l.default,size:12}),onClick:function(){}}):o.default.createElement(c.default,{component:"div",className:"u-miw-auto u-mih-auto u-w-2 u-h-2 u-bdrs-circle u-p-1 u-mr-1",classes:{label:"u-flex u-w-auto"},label:o.default.createElement(u.default,{icon:s.default,size:12}),disabled:!g,onClick:x}),onKeyDown:function(e){if(!n){if(e.shiftKey&&"Enter"===e.key)return e;if("Enter"===e.key)return e.preventDefault(),x()}}}},onChange:function(e){_(e.target.value)}}))}},22591:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(80539)),o=n(r(13135)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),c=r(42895),u=n(r(89004)),s=n(r(90978)),l=n(r(94208)),d=n(r(90774)),f=n(r(12939)),p=n(r(83393)),h=r(33616),m=n(r(40932)),v=r(82495),y=["data"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var g=function(e){var t=e.messageId,r=e.files,n=(0,i.useState)(!1),a=(0,o.default)(n,2),c=a[0],v=a[1],y=(0,h.useI18n)().t,b=(0,i.useRef)(),g=function(){v(function(e){return!e})};return(0,i.useEffect)(function(){var e;null==(e=b.current)||e.scrollIntoView(!1)},[]),(0,i.useEffect)(function(){c&&b.current.getBoundingClientRect().bottom>document.getElementsByClassName("cozyDialogContent")[0].getBoundingClientRect().bottom&&b.current.scrollIntoView(!1)},[c]),i.default.createElement(u.default,{ref:b,className:"u-mt-1-half",pl:"44px"},i.default.createElement(s.default,{className:"u-mb-1",icon:i.default.createElement(d.default,{icon:f.default,className:"u-ml-half"}),label:y("assistant.sources",r.length),deleteIcon:i.default.createElement(d.default,{className:"u-h-1",icon:p.default,rotate:90*!!c}),clickable:!0,onClick:g,onDelete:g}),i.default.createElement(l.default,{in:c,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0},i.default.createElement("div",null,r.map(function(e){return i.default.createElement(m.default,{key:"".concat(t,"-").concat(e._id),file:e})}))))};t.default=function(e){var t=e.messageId,r=e.sources.map(function(e){return e.id}),n=(0,v.buildFilesByIds)(r),o=(0,c.useQuery)(n.definition,n.options),u=o.data,s=(0,a.default)(o,y);return(0,c.isQueryLoading)(s)||0===u.length?null:i.default.createElement(g,{messageId:t,files:u})}},40932:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(42895),i=r(39046),c=n(r(90774)),u=n(r(27282)),s=n(r(72637)),l=n(r(38143)),d=r(27875);t.default=function(e){var t=e.file,r=(0,o.useClient)(),n=(0,o.generateWebLink)({slug:(0,i.isNote)(t)?"notes":"drive",cozyUrl:null==r?void 0:r.getStackClient().uri,subDomainType:null==r?void 0:r.getInstanceOptions().subdomain,hash:(0,i.isNote)(t)?"/n/".concat(t._id):"/folder/".concat(t.dir_id,"/file/").concat(t._id)});return a.default.createElement(u.default,{className:"styles__sourcesItem___204Zw",component:"a",href:n,target:"_blank",button:!0},a.default.createElement(s.default,null,a.default.createElement(c.default,{icon:(0,d.getDriveMimeTypeIcon)(!1,t.name,t.mime),size:32})),a.default.createElement(l.default,{primary:t.name,secondary:t.path.replace(t.name,"")}))}},69445:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(27282)),i=n(r(38143)),c=r(33616);t.default=function(){var e=(0,c.useI18n)().t;return a.default.createElement(o.default,{size:"small"},a.default.createElement(i.default,{primary:e("assistant.search.noItem")}))}},56900:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(27282)),i=n(r(38143)),c=r(33616);t.default=function(){var e=(0,c.useI18n)().t;return a.default.createElement(o.default,{size:"small"},a.default.createElement(i.default,{primary:e("assistant.search.notEnough")}))}},73006:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(32859)),i=n(r(51757)),c=n(r(84645));t.default=function(e){var t=e.anchorRef,r=e.listRef,n=e.onClick;return a.default.createElement(i.default,{style:{width:t.current.offsetWidth,zIndex:"var(--zIndex-popover)"},anchorEl:t.current,open:!!t.current,placement:"bottom-start"},a.default.createElement(o.default,{className:"styles__resultMenu___o76q-",square:!0},a.default.createElement("div",{className:"styles__resultMenu-inner___2Lf0d"},a.default.createElement(c.default,{ref:r,onClick:n}))))}},84645:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),o=r(61122),i=n(r(70879)),c=n(r(79293)),u=n(r(69445)),s=n(r(56900)),l=n(r(90161)),d=r(98707),f=r(70322);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var h=function(){var e=(0,d.useSearch)(),t=e.isLoading,r=e.results,n=e.selectedIndex,o=e.searchValue;if(t&&!(null!=r&&r.length))return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{hasSecondary:!0}),a.default.createElement(c.default,{hasSecondary:!0}),a.default.createElement(c.default,{hasSecondary:!0}));if(!t&&!(null!=r&&r.length))if(o.length>=3)return a.default.createElement(u.default,null);else return a.default.createElement(s.default,null);return r.map(function(e,t){return a.default.createElement(l.default,{key:e.id||t,icon:e.icon,slug:e.slug,primaryText:e.primary,secondaryText:e.secondary,secondaryUrl:e.secondaryUrl,query:o,highlightQuery:"true",selected:(0,f.isAssistantEnabled)()?n===t+1:n===t,onClick:e.onClick})})},m=(0,a.forwardRef)(function(e,t){var r=(0,o.useDataProxy)().dataProxyServicesAvailable;return a.default.createElement(i.default,{ref:t},r&&a.default.createElement(h,null))});m.displayName="ResultMenuContent",t.default=m},90161:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(54697)),i=n(r(90774)),c=n(r(27282)),u=n(r(72637)),s=n(r(38143)),l=n(r(88807)),d=n(r(56268));t.default=function(e){var t=e.icon,r=e.primaryText,n=e.secondaryText,f=e.secondaryUrl,p=e.slug,h=e.selected,m=e.onClick,v=e.query,y=e.highlightQuery,b=void 0!==y&&y,g="component"===t.type?a.default.createElement(i.default,{icon:t.component,size:32}):"app"===t.type?a.default.createElement(o.default,{app:t.app}):t,_=b?a.default.createElement(l.default,{text:r,query:v}):r,w=b?a.default.createElement(d.default,{text:n,query:v,slug:p,url:f}):n;return a.default.createElement(c.default,{button:!0,size:"small",selected:h,onClick:m},a.default.createElement(u.default,null,g),a.default.createElement(s.default,{primary:_,secondary:w}))}},88807:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(76729)),o=n(r(96540));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(e){return e.toString().toLowerCase().replace(/\//g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ")},s=function(e,t){var r=u(t),n=u(e),a=[],i=0;n.forEach(function(e){r.forEach(function(t){var r=e.indexOf(t);r>=0&&a.push({from:i+r,to:i+r+t.length})}),i+=e.length+1});for(var c=a.sort(function(e,t){return e.from>t.from}).reduce(function(e,t){return 0===e.length||e[e.length-1].to<t.from?e.push(t):e[e.length-1].to<t.to&&(e[e.length-1].to=t.to),e},[]),s=c.length>0?[o.default.createElement("span",{key:"0"},e.slice(0,c[0].from))]:e,l=0,d=c.length;l<d;++l)s.push(o.default.createElement("span",{className:"u-primaryColor"},e.slice(c[l].from,c[l].to))),l+1<d&&s.push(o.default.createElement("span",null,e.slice(c[l].to,c[l+1].from)));return c.length>0&&s.push(o.default.createElement("span",null,e.slice(c[c.length-1].to,e.length))),s};t.default=function(e){var t=e.text,r=e.query;if(!t)return null;var n=s(t,r);return Array.isArray(n)?n.map(function(e,t){return c(c({},e),{},{key:t})}):n}},56268:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=n(r(36885)),i=n(r(29411)),c=n(r(24242)),u=n(r(88807));t.default=function(e){var t=e.text,r=e.query,n=e.url,s=e.slug;return(0,c.default)().isMobile||!n?a.default.createElement(u.default,{text:t,query:r}):a.default.createElement(o.default,{app:{slug:s},href:n},function(e){var n=e.href,o=e.onClick;return a.default.createElement(i.default,{color:"textSecondary",underline:"hover",href:n,onClick:function(e){e.stopPropagation(),"function"==typeof o&&o(e)}},a.default.createElement(u.default,{text:t,query:r,slug:s}))})}},4616:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantButton=void 0;var a=n(r(96540)),o=n(r(90774)),i=n(r(74710)),c=n(r(2589)),u=r(67864);t.AssistantButton=function(e){var t=e.onClick,r=e.size;return a.default.createElement(c.default,{position:"end",className:"u-mr-half"},a.default.createElement(i.default,{onClick:t,size:"small",color:"primary"},a.default.createElement(o.default,{icon:u.TwakeAssistantIcon,size:"medium"===r?24:16})))}},32452:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(84976),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(734)),c=r(70322);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var s=function(e){var t=e.children,r=(0,i.useAssistant)().onAssistantExecute,n=(0,o.useNavigate)();return a.default.createElement(i.default,null,t({openAssistant:function(){if((0,c.isAssistantEnabled)()){var e=(0,c.makeConversationId)();r({value:"",conversationId:e}),n("assistant/".concat(e))}}}))};t.default=function(e){var t=e.children;return a.default.createElement(i.default,null,a.default.createElement(s,null,t))}},28645:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(82710)),o=n(r(96540));t.default=function(e){return o.default.createElement("svg",(0,a.default)({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.default.createElement("path",{opacity:"0.34",fillRule:"evenodd",clipRule:"evenodd",d:"M12.9657 1C13.5206 1 14.2876 1.3125 14.6803 1.6995L16 3H30.0059C31.1072 3 32 3.89498 32 4.997V27.003C32 28.1059 31.1107 29 29.9983 29H2.00174C0.896211 29 0 28.1001 0 27.0088V1.99653C0 1.44616 0.448999 1 1.00472 1H12.9657Z",fill:"#297EF2"}),o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 1C0.447715 1 0 1.44772 0 2V6C0 6.55228 0.447716 7 1 7H13.5858C13.851 7 14.1054 6.89464 14.2929 6.70711L15.7071 5.29289C15.8946 5.10536 16.149 5 16.4142 5H32C32 3.89543 31.1046 3 30 3H16.4142C16.149 3 15.8946 2.89464 15.7071 2.70711L14.2929 1.29289C14.1054 1.10536 13.851 1 13.5858 1H1ZM10 15.9954V24.0046C10 24.5543 10.4558 25 11.0025 25H20.9975C21.5512 25 22 24.5443 22 24.0046V15.9954C22 15.4457 21.5561 15 21 15H20V13C20 10.794 18.2053 9 16 9C13.794 9 12 10.794 12 13V15H11C10.4477 15 10 15.4557 10 15.9954ZM16 11C14.8968 11 14 12.1215 14 13.5V15H18V13.5C18 12.1215 17.1028 11 16 11ZM17.5 19C17.5 18.172 16.8265 17.5 16 17.5C15.172 17.5 14.5 18.172 14.5 19C14.5 19.552 14.803 20.032 15.25 20.29V22.75C15.25 23.1625 15.586 23.5 16 23.5C16.4125 23.5 16.75 23.1625 16.75 22.75V20.29C17.1955 20.032 17.5 19.552 17.5 19Z",fill:"#297EF2"}))}},49077:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(82710)),o=n(r(13135)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),c=r(24242),u=n(r(67853)),s=n(r(38571)),l=r(98707);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.default=function(e){var t=e.componentsProps,r=(0,c.useBreakpoints)().isMobile,n=(0,i.useState)(""),d=(0,o.default)(n,2),f=d[0],p=d[1],h=(0,l.useSearch)(),m=h.clearSearch,v=h.setSelectedIndex,y=h.delayedSetSearchValue,b=function(){p(""),m()},g=function(e){v(0),y(e.target.value),p(e.target.value)};return r?i.default.createElement(s.default,{value:f,onClear:b,onChange:g}):i.default.createElement(u.default,(0,a.default)({},null==t?void 0:t.SearchBarDesktop,{value:f,onClear:b,onChange:g}))}},67853:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11732)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(84976),c=n(r(24615)),u=n(r(90774)),s=n(r(13691)),l=n(r(5379)),d=r(4616),f=r(98707),p=r(734),h=n(r(73006)),m=r(70322);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}var y="styles__search-bar-icon___1affF",b=function(e){var t=e.value,r=e.onClear,n=e.onChange,v=e.elevation,b=e.size,g=e.hasHalfBorderRadius,_=e.className,w=e.disabledHover,k=(0,f.useSearch)(),O=k.searchValue,x=k.results,E=k.selectedIndex,C=k.setSelectedIndex,S=(0,p.useAssistant)().onAssistantExecute,A=(0,i.useNavigate)(),P=(0,o.useRef)(),M=(0,o.useRef)(),j=function(){if((0,m.isAssistantEnabled)()){var e=(0,m.makeConversationId)();S({value:t,conversationId:e}),A("assistant/".concat(e)),setTimeout(function(){r()},100)}};return o.default.createElement(c.default,{onClickAway:r},o.default.createElement("span",null,o.default.createElement(l.default,{elevation:v,className:(0,a.default)(_,O&&g?"styles__searchBarDesktop--result___2bQQy":""),ref:P,size:b,icon:"large"===b?o.default.createElement(u.default,{className:(0,a.default)("u-mh-1",y),icon:s.default,size:24}):o.default.createElement(u.default,{className:(0,a.default)("u-ml-1 u-mr-half",y),icon:s.default,size:16}),value:t,componentsProps:{inputBase:{onKeyDown:function(e){var n,a,o=null==(n=M.current)?void 0:n.childElementCount;"ArrowDown"===e.key&&(e.preventDefault(),E===o-1?C(0):C(function(e){return e+1})),"ArrowUp"===e.key&&(e.preventDefault(),0===E?C(o-1):C(function(e){return e-1})),"Escape"===e.key&&(e.preventDefault(),r()),"Enter"===e.key&&((e.preventDefault(),E)?((null==x||null==(a=x[E-1])?void 0:a.onClick)||j)():""!==t&&j())},endAdornment:(0,m.isAssistantEnabled)()?o.default.createElement(d.AssistantButton,{onClick:j,size:b}):void 0}},disabledClear:!0,disabledFocus:""!==t,disabledHover:w,onChange:n}),O&&o.default.createElement(h.default,{listRef:M,anchorRef:P,onClick:j})))};b.defaultProps={size:"large",elevation:0},t.default=b},38571:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),o=n(r(5379)),i=n(r(73112)),c=n(r(53568)),u=r(70322);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.default=function(e){var t=e.value,r=e.onClear,n=e.onChange,s=(0,a.useRef)();return(0,i.default)(s.current,"input",function(){s.current.style.height="auto",s.current.style.height="".concat(s.current.scrollHeight,"px")}),a.default.createElement(o.default,{className:"styles__conversationBar___2J-Us",size:"auto",icon:null,placeholder:(0,u.isAssistantEnabled)()?" ":void 0,value:t,componentsProps:{inputBase:{inputProps:{className:"styles__conversationBar-input___2DfdZ"},inputRef:s,autoFocus:!0,rows:1,multiline:!0,startAdornment:(0,u.isAssistantEnabled)()&&!t&&a.default.createElement(c.default,null)}},onChange:n,onClear:function(){r(),s.current.style.height="auto"}})}},98707:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useSearch=t.default=t.SearchContext=void 0;var a=n(r(13135)),o=n(r(38221)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),c=r(93178);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var s=i.default.createContext();t.SearchContext=s,t.useSearch=function(){var e=(0,i.useContext)(s);if(!e)throw Error("useSearch must be used within a SearchProvider");return e},t.default=i.default.memo(function(e){var t=e.children,r=(0,i.useState)(""),n=(0,a.default)(r,2),u=n[0],l=n[1],d=(0,i.useState)(),f=(0,a.default)(d,2),p=f[0],h=f[1],m=(0,c.useFetchResult)(u),v=m.isLoading,y=m.results,b=(0,i.useMemo)(function(){return(0,o.default)(l,250)},[l]),g=(0,i.useCallback)(function(){l(""),h()},[]),_=(0,i.useMemo)(function(){return{searchValue:u,setSearchValue:l,delayedSetSearchValue:b,isLoading:v,clearSearch:g,selectedIndex:p,setSelectedIndex:h,results:y}},[u,b,v,g,p,y]);return i.default.createElement(s.Provider,{value:_},t)})},20305:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(7127),i=n(r(99083)),c=n(r(90774)),u=n(r(54215)),s=r(33616),l=(0,r(52245).makeStyles)({root:{right:"1rem",bottom:"1rem",position:"fixed",marginBottom:function(e){return e.immersive?"var(--flagship-bottom-height)":0}}});t.default=function(e){var t=e.searchValue,r=e.onClick,n=(0,s.useI18n)().t,d=l({immersive:(0,o.getFlagshipMetadata)().immersive});return a.default.createElement(i.default,{"aria-label":n("assistant.search.send"),color:"primary",size:"medium",classes:d,disabled:!t,onClick:r},a.default.createElement(c.default,{icon:u.default}))}},53568:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(13135)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(96540)),i=r(9519),c=r(86769),u=n(r(39274)),s=r(33616);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}t.default=function(){var e=(0,s.useI18n)().t,t=(0,o.useState)(!1),r=(0,a.default)(t,2),n=r[0],l=r[1];return(0,c.useTimeoutWhen)(function(){return l(!0)},2500),o.default.createElement("div",{className:"styles__suggestionsPlaceholder___y-vsv"},o.default.createElement(u.default,null,n?o.default.createElement(i.TypeAnimation,{cursor:!1,sequence:[e("assistant.suggestions.find_file"),2500,e("assistant.suggestions.reimbursements"),2500,e("assistant.suggestions.reorganise_files"),2500],speed:40,repeat:1/0,omitDeletionAnimation:!0}):e("assistant.search.placeholder")))}},99470:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getFileMimetype=void 0;var a=n(r(13135)),o=n(r(86049)),i={word:"text",text:"text",zip:"zip",pdf:"pdf",spreadsheet:"sheet",excel:"sheet",sheet:"sheet",presentation:"slide",powerpoint:"slide"};t.getFileMimetype=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=("application/octet-stream"===r?(t=n.toLowerCase(),o.default.lookup(t)||"application/octet-stream"):r).split("/"),u=(0,a.default)(c,2),s=u[0],l=u[1];if(e[s])return s;if("application"===s){var d=l.match(Object.keys(i).join("|"));return d?i[d[0]]:void 0}}}},27875:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconForSearchResult=t.getDriveMimeTypeIcon=void 0;var a=n(r(58156)),o=n(r(14970)),i=n(r(57611)),c=n(r(14196)),u=n(r(13612)),s=n(r(88382)),l=n(r(6397)),d=n(r(36572)),f=n(r(24577)),p=n(r(4799)),h=n(r(82150)),m=n(r(21452)),v=n(r(82706)),y=n(r(946)),b=n(r(29650)),g=n(r(28645)),_=r(99470);t.getIconForSearchResult=function(e){return"io.cozy.apps"===e.doc._type?{type:"app",app:e.doc}:"notes"===e.slug?{type:"component",component:f.default}:"drive"===e.slug?{type:"component",component:w("directory"===e.doc.type,e.doc.name,e.doc.mime)}:"contacts"===e.slug?{type:"component",component:o.default}:{type:"component",component:s.default}};var w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.isEncrypted;if(void 0!==o&&o)return g.default;if(e)return l.default;if(/\.cozy-note$/.test(t))return f.default;var w={audio:i.default,bin:c.default,code:u.default,image:d.default,pdf:p.default,slide:m.default,sheet:h.default,text:v.default,video:y.default,zip:b.default},k=(0,_.getFileMimetype)(w)(r,t);return(0,a.default)(w,k,s.default)};t.getDriveMimeTypeIcon=w},93178:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.useFetchResult=void 0;var o=a(r(30592)),i=a(r(13135)),c=a(r(93889)),u=r(96540),s=r(61122),l=a(r(13572)),d=r(27875),f=(0,l.default)("\uD83D\uDD0D [useFetchResult]"),p=(n=(0,c.default)(o.default.mark(function e(t,r){var n,a,i,c,u,s,l,d,p=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0===(a=(n=p.length>2&&void 0!==p[2]?p[2]:{}).maxRetries)?5:a,s=u=void 0===(c=n.delay)?500:c,l=0;case 3:if(!(l<i)){e.next=16;break}return e.next=6,t.search(r);case 6:if(!(d=e.sent)){e.next=9;break}return e.abrupt("return",d);case 9:return f.info("Search attempt ".concat(l+1," failed, retrying in ").concat(s," ms...")),e.next=12,new Promise(function(e){return setTimeout(e,s)});case 12:s*=2;case 13:l++,e.next=3;break;case 16:return f.error("Search failed after ".concat(i," attempts")),e.abrupt("return",[]);case 18:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});t.useFetchResult=function(e){var t=(0,u.useState)({isLoading:!0,results:null,searchValue:null}),r=(0,i.default)(t,2),n=r[0],a=r[1],l=(0,s.useDataProxy)();return(0,u.useEffect)(function(){var t,r=(t=(0,c.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.dataProxyServicesAvailable){e.next=3;break}return f.log("DataProxy services are not available. Skipping search..."),e.abrupt("return");case 3:return a({isLoading:!0,results:null,searchValue:t}),e.next=6,p(l,t);case 6:a({isLoading:!1,results:e.sent.map(function(e){e.slug=e.slug||e.type,e.subTitle=e.subTitle||e.name;var t=(0,d.getIconForSearchResult)(e);return{id:e.doc._id,icon:t,slug:e.slug,secondaryUrl:e.secondaryUrl,primary:e.title,secondary:e.subTitle,onClick:function(){window.open(e.url)}}}),searchValue:t});case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});e?e!==n.searchValue&&r(e):a({isLoading:!0,results:null,searchValue:null})},[l,e,n.searchValue,a]),{isLoading:n.isLoading,results:n.results}}},37166:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(84976),i=r(38675),c=r(24242),u=n(r(95926)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(734)),l=n(r(92141)),d=n(r(48344));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=function(){var e=(0,s.useAssistant)().assistantState,t=(0,c.useBreakpoints)().isMobile,r=(0,o.useNavigate)(),n=(0,o.useParams)().conversationId;return a.default.createElement(i.FixedDialog,{open:!0,fullScreen:!0,size:"full",componentsProps:{dialogTitle:{className:t?"u-ph-0":""},dialogActions:{className:t?"u-mh-half":"u-mb-2"},divider:{className:"u-dn"}},title:t?"\xa0":" ",content:a.default.createElement(l.default,{id:n}),actions:a.default.createElement(d.default,{assistantStatus:e.status}),onClose:function(){r("..")}})};t.default=function(){return a.default.createElement(u.default,{variant:"normal"},a.default.createElement(s.default,null,a.default.createElement(p,null)))}},85844:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96540)),o=r(84976),i=r(38675),c=n(r(95926)),u=n(r(56207)),s=r(80006),l=y(r(734)),d=n(r(84645)),f=n(r(49077)),p=y(r(98707)),h=n(r(20305)),m=r(70322);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var b=function(){(0,u.default)(s.locales);var e=(0,l.useAssistant)().onAssistantExecute,t=(0,o.useNavigate)(),r=(0,p.useSearch)().searchValue,n=function(){var n=(0,m.makeConversationId)();e({value:r,conversationId:n}),t("../assistant/".concat(n),{replace:!0})};return a.default.createElement(i.FixedDialog,{open:!0,fullScreen:!0,size:"full",disableGutters:!0,componentsProps:{dialogTitle:{className:"u-ph-half u-pb-0 u-mt-2-half u-ov-visible"},divider:{className:"u-dn"}},title:a.default.createElement(f.default,null),content:a.default.createElement(a.default.Fragment,null,r&&a.default.createElement(d.default,{onClick:n}),(0,m.isAssistantEnabled)()&&a.default.createElement(h.default,{searchValue:r,onClick:n})),onClose:function(){t("..")}})};t.default=function(){return a.default.createElement(c.default,{variant:"normal"},a.default.createElement(l.default,null,a.default.createElement(p.default,null,a.default.createElement(b,null))))}},70322:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.pushMessagesIdInState=t.makeConversationId=t.isMessageForThisConversation=t.isAssistantEnabled=t.getInstantMessage=void 0;var a=n(r(76729)),o=n(r(94619));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.getInstantMessage=function(e){return Object.keys(e.message).sort(function(e,t){return e-t}).map(function(t){return e.message[t]}).join("")},t.makeConversationId=function(){return"".concat(Date.now(),"-").concat(Math.floor(9e4*Math.random())+1e4)},t.pushMessagesIdInState=function(e,t,r){if(e===t._id){var n=t.messages.map(function(e){return e.id});r(function(e){return c(c({},e),{},{messagesId:n})})}},t.isMessageForThisConversation=function(e,t){return t.includes(e._id)},t.isAssistantEnabled=function(){return(0,o.default)("cozy.assistant.enabled")}},82495:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildMyselfQuery=t.buildFilesByIds=t.buildChatConversationQueryById=t.FILES_DOCTYPE=t.CHAT_EVENTS_DOCTYPE=t.CHAT_CONVERSATIONS_DOCTYPE=void 0;var n=r(42895),a="io.cozy.contacts",o="io.cozy.ai.chat.conversations";t.CHAT_CONVERSATIONS_DOCTYPE=o,t.CHAT_EVENTS_DOCTYPE="io.cozy.ai.chat.events";var i="io.cozy.files";t.FILES_DOCTYPE=i;var c=n.fetchPolicies.olderThan(86400);t.buildFilesByIds=function(e){return{definition:(0,n.Q)(i).getByIds(e),options:{as:"".concat(i,"/").concat(e.join("")),fetchPolicy:c}}},t.buildChatConversationQueryById=function(e){return{definition:(0,n.Q)(o).getById(e),options:{as:"".concat(o,"/").concat(e),fetchPolicy:c,singleDocData:!0}}},t.buildMyselfQuery=function(){return{definition:(0,n.Q)(a).where({me:!0}),options:{as:"".concat(a,"/myself"),fetchPolicy:c}}}},38594:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AssistantDesktop",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"AssistantDialog",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"AssistantLink",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"AssistantMobile",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SearchDialog",{enumerable:!0,get:function(){return u.default}});var a=n(r(32452)),o=n(r(56191)),i=n(r(61565)),c=n(r(37166)),u=n(r(85844))},80006:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=void 0,t.locales={en:{assistant:{search:{placeholder:"Any question?",send:"Send",noItem:"No results",notEnough:"Your query must contain at least 3 characters"},dialog:{close:"Close"},name:"Twake Assistant",sources:"%{smart_count} source |||| %{smart_count} sources",suggestions:{find_file:"Search a file",reimbursements:"Check my repayments",reorganise_files:"Reorganise my files"}}},fr:{assistant:{search:{placeholder:"Une question\xa0?",send:"Envoyer",noItem:"Aucun r\xe9sultat",notEnough:"Votre recherche doit contenir au moins 3 caract\xe8res"},dialog:{close:"Fermer"},name:"Assistant Twake",sources:"%{smart_count} source |||| %{smart_count} sources",suggestions:{find_file:"Rechercher un fichier",reimbursements:"V\xe9rifier mes remboursements",reorganise_files:"R\xe9organiser mes fichiers"}}}}},91685:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e);var r=t;"string"==typeof r&&(r=JSON.parse(r)),this.tokenType=r.token_type||r.tokenType,this.accessToken=r.access_token||r.accessToken,this.refreshToken=r.refresh_token||r.refreshToken,this.scope=r.scope}return(0,o.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:".concat(this.accessToken,"@")}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAccessToken",value:function(){return this.accessToken}}]),e}()},52997:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeApp=t.APPS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812)),d=n(r(76729)),f=n(r(58156)),p=r(41520),h=n(r(20796)),m=n(r(81189)),v=r(90597);r(21987);var y=n(r(1084));function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.apps";t.APPS_DOCTYPE=w;var k=function(e,t){return _(_({},(0,v.normalizeDoctypeJsonApi)(t)(e)),{},{id:e.id})};t.normalizeApp=k;var O=function(e){(0,u.default)(_,e);var t,r,n,d,m,v,g=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(_);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function _(e){var t;return(0,i.default)(this,_),(t=g.call(this,w,e)).endpoint="/apps/",t}return(0,c.default)(_,[{key:"get",value:(r=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u,s,l,d,m=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.indexOf("/")>-1?n=t.split("/")[1]:(y.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query apps/konnectors only with id, please use the form ".concat(this.doctype,"/").concat(t,"\n\n- Q('io.cozy.apps').getById('banks')\n+ Q('io.cozy.apps').getById('io.cozy.apps/banks')")),n=t),!(r&&r.sources&&(!Array.isArray(r.sources)||0===r.sources.length))){e.next=3;break}throw Error('Invalid "sources" attribute passed in query, please use an array with at least one element.');case 3:o=(0,f.default)(r,"sources",["stack"]),i={stack:function(){return h.default.get(m.stackClient,"".concat(m.endpoint).concat(encodeURIComponent(n)),{normalize:function(e){return k(e,m.doctype)}})},registry:function(){return m.stackClient.fetchJSON("GET",p.registryEndpoint+n)}},c=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(o),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=27;break}return s=u.value,e.prev=10,e.next=13,i[s]();case 13:if(l=e.sent,"registry"===s){e.next=16;break}return e.abrupt("return",l);case 16:return y.default.warn("The use of source registry is deprecated since it can polute the io.cozy.apps slice. For exemple, if we request data from the registry, than the app will be present in the io.cozy.apps slice and then the isInstalled() will return true.\n\n            Use Q('io.cozy.apps_registry) instead"),d=(0,p.transformRegistryFormatToStackFormat)(l),e.abrupt("return",{data:k(d,this.doctype)});case 21:if(e.prev=21,e.t0=e.catch(10),s!==o[o.length-1]){e.next=25;break}throw e.t0;case 25:e.next=8;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),c.e(e.t1);case 32:return e.prev=32,c.f(),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[6,29,32,35],[10,21]])})),function(e,t){return r.apply(this,arguments)})},{key:"all",value:(n=(0,o.default)(a.default.mark(function e(){var t,r=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.endpoint);case 2:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return k(e,r.doctype)}),meta:{count:t.meta.count},skip:0,next:!1});case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"create",value:(d=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"update",value:(m=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("update() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)})},{key:"destroy",value:(v=(0,o.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for applications");case 1:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})}]),_}(m.default);O.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=O},43972:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(92115)),o=n(r(47783));t.default=function(){function e(t){(0,a.default)(this,e),this.token=t||""}return(0,o.default)(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:".concat(this.token,"@")}},{key:"getAccessToken",value:function(){return this.token}}]),e}()},85063:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeAppFromRegistry=t.APPS_REGISTRY_DOCTYPE=void 0;var o=a(r(92115)),i=a(r(47783)),c=a(r(91083)),u=a(r(7184)),s=a(r(62812)),l=a(r(30592)),d=a(r(93889)),f=a(r(76729)),p=a(r(81189)),h=r(90597);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y="io.cozy.apps_registry";t.APPS_REGISTRY_DOCTYPE=y;var b=function(e,t){var r,n="".concat("webapp"===e.type?"io.cozy.apps":"io.cozy.konnectors","/").concat(e.slug),a=v(v({},e.attributes),null==(r=e.latest_version)?void 0:r.manifest);return v({},(0,h.normalizeDoc)(v(v({},e),{},{attributes:a,id:n,_id:n}),t))};t.normalizeAppFromRegistry=b;var g=(n=(0,d.default)(l.default.mark(function e(t,r,n){var a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchJSON("GET","/registry?versionsChannel=".concat(t,"&filter[type]=konnector&limit=500"));case 2:return a=e.sent,e.abrupt("return",{data:a.data.map(function(e){return b(e,r)})});case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)});t.default=function(e){(0,c.default)(p,e);var t,r,n,a,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.default)(p);return e=t?Reflect.construct(r,arguments,(0,s.default)(this).constructor):r.apply(this,arguments),(0,u.default)(this,e)});function p(e){var t;return(0,o.default)(this,p),(t=f.call(this,y,e)).endpoint="/registry/",t}return(0,i.default)(p,[{key:"get",value:(r=(0,d.default)(l.default.mark(function e(t){var r,n,a=this;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("konnectors/")){e.next=3;break}return r=t.split("/")[1],e.abrupt("return",g(r,this.doctype,this.stackClient));case 3:return e.next=5,this.stackClient.fetchJSON("GET","".concat(this.endpoint).concat(t));case 5:if(n=e.sent,"maintenance"!==t){e.next=8;break}return e.abrupt("return",{data:n.map(function(e){return b(e,a.doctype)})});case 8:return e.abrupt("return",{data:b(n,this.doctype)});case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"create",value:(n=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,d.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for AppsRegistryCollection");case 1:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})}]),p}(p.default)},20796:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Collection=t.isDocumentUpdateConflict=t.isTimeoutError=t.isNoUsableIndexError=t.isIndexNotUsedWarning=t.isIndexConflictError=t.isIndexNotFoundError=t.dontThrowNotFoundError=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));r(42867);var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.message.match(/not_found/))return Array.isArray(t)?{data:t,meta:{count:0},skip:0,next:!1}:{data:t};throw e};t.dontThrowNotFoundError=u,t.isIndexNotFoundError=function(e){return e.message.match(/no_index/)},t.isIndexConflictError=function(e){return e.message.match(/error_saving_ddoc/)},t.isIndexNotUsedWarning=function(e){return e.match(/was not used because it does not contain a valid index for this query/)},t.isNoUsableIndexError=function(e){return e.message.match(/no_usable_index/)},t.isTimeoutError=function(e){return e.message.match(/context deadline exceeded/)},t.isDocumentUpdateConflict=function(e){return e.message.match(/Document update conflict/)};var s=function(){var e;function t(){(0,i.default)(this,t)}return(0,c.default)(t,null,[{key:"get",value:(e=(0,o.default)(a.default.mark(function e(t,r,n){var o,i,c,s,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(o=n.normalize)?function(e,t){return e}:o,s=void 0===(c=n.method)?"GET":c,e.prev=1,e.next=4,t.fetchJSON(s,r);case 4:return l=e.sent,e.abrupt("return",{data:i(l.data,l)});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",u(e.t0,null));case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(t,r,n){return e.apply(this,arguments)})}]),t}();t.Collection=s,t.default=s},28465:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CONTACTS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(2695)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(81189)),h=r(90597);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r(98854);var y="io.cozy.contacts";t.CONTACTS_DOCTYPE=y;var b=(0,h.normalizeDoctypeJsonApi)(y),g=function(e){var t;return v(v({},b(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})};t.default=function(e){(0,s.default)(h,e);var t,r,n,f,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(h);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function h(){return(0,i.default)(this,h),p.apply(this,arguments)}return(0,c.default)(h,[{key:"find",value:(r=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||1!==Object.values(t).length||!0!=t.me){e.next=4;break}return e.abrupt("return",this.findMyself());case 4:return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"find",this).call(this,t,r));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"findMyself",value:(n=(0,o.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/contacts/myself");case 2:return t={data:[g(e.sent.data)],next:!1,meta:null,bookmark:!1},e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(f=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys((null==t||null==(r=t.cozyMetadata)?void 0:r.sync)||{}).length>0)){e.next=6;break}return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"update",this).call(this,v(v({},t),{},{trashed:!0})));case 6:return e.abrupt("return",(0,u.default)((0,d.default)(h.prototype),"destroy",this).call(this,t));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}]),h}(p.default)},45308:function(e,t,r){"use strict";var n,a=r(78965),o=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(r(80539)),c=o(r(76729)),u=o(r(92115)),s=o(r(47783)),l=o(r(30592)),d=o(r(93889)),f=o(r(88055)),p=a(r(52997)),h=o(r(43972));o(r(91685));var m=o(r(81189)),v=o(r(79374)),y=a(r(6281)),b=a(r(64565)),g=o(r(6926)),_=o(r(771)),w=a(r(96446)),k=a(r(95741)),O=a(r(88255)),x=a(r(77493)),E=a(r(88213)),C=a(r(28465)),S=a(r(85063)),A=o(r(79934)),P=o(r(3961)),M=r(78866),j=o(r(56173)),D=a(r(21987)),T=o(r(1084)),I=o(r(22428)),R=r(55125);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var F=function(e){var t=e;if(null===t)return null;for(;"/"===t[t.length-1];)t=t.slice(0,-1);return t},B=(n=(0,d.default)(l.default.mark(function e(t){var r,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=t.headers.get("content-type"))&&/\bapplication\/(vnd\.api\+)?json\b/.test(r),e.abrupt("return",n?t.json():t.text());case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),z=function(){var e,t,r,n;function a(e){(0,u.default)(this,a);var t=L({},e),r=t.token,n=t.uri;this.options=t,this.setUri(void 0===n?"":n),this.setToken(r),this.konnectors=new b.default(this),this.jobs=new y.default(this),this._promiseCache=new I.default}return(0,s.default)(a,[{key:"isRevocationError",value:function(e){return!!(null==e?void 0:e.message)&&(!!(D.default.CLIENT_NOT_FOUND.test(e.message)||D.default.UNREGISTERED_CLIENT.test(e.message))||void 0)}},{key:"collection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("CozyStackClient.collection() called without a doctype");switch(e){case p.APPS_DOCTYPE:return new p.default(this,t);case b.KONNECTORS_DOCTYPE:return new b.default(this,t);case"io.cozy.files":return new v.default(e,this,t);case"io.cozy.sharings":return new g.default(e,this,t);case"io.cozy.permissions":return new _.default(e,this,t);case C.CONTACTS_DOCTYPE:return new C.default(e,this,t);case w.TRIGGERS_DOCTYPE:return new w.default(this,t);case y.JOBS_DOCTYPE:return new y.default(this,t);case k.SETTINGS_DOCTYPE:return new k.default(this,t);case O.NOTES_DOCTYPE:return new O.default(this,t);case x.OAUTH_CLIENTS_DOCTYPE:return new x.default(this,t);case E.SHORTCUTS_DOCTYPE:return new E.default(this,t);case S.APPS_REGISTRY_DOCTYPE:return new S.default(this,t);case R.NEXTCLOUD_FILES_DOCTYPE:return new R.NextcloudFilesCollection(this,t);default:return new m.default(e,this,t)}}},{key:"fetch",value:function(e){function t(t,r,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e=(0,d.default)(l.default.mark(function e(t,r,n){var a,o,c,u,s,d,f,p,h,m,v,y=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=void 0===(c=(o=L({},a=y.length>3&&void 0!==y[3]?y[3]:{})).throwFetchErrors)?this.options.throwFetchErrors:c,(s=(0,i.default)(o,["throwFetchErrors"])).method=t,d=s.headers=L({},a.headers),"GET"!==t&&"HEAD"!==t&&void 0!==n&&d["Content-Type"]&&(s.body=n),d.Authorization||(d.Authorization=this.getAuthorizationHeader()),s.credentials=s.credentials||"include",f=this.fullpath(r),p=(0,M.shouldXMLHTTPRequestBeUsed)(t,r,s)?M.fetchWithXMLHttpRequest:fetch,e.prev=9,e.next=12,p(f,s);case 12:if((h=e.sent).ok){e.next=21;break}return e.next=16,B(h);case 16:if(m=e.sent,v=new D.FetchError(h,m),this.emit("error",v),!u){e.next=21;break}throw v;case 21:return e.abrupt("return",h);case 24:throw e.prev=24,e.t0=e.catch(9),this.isRevocationError(e.t0)&&this.onRevocationChange(!0),e.t0;case 28:case"end":return e.stop()}},e,this,[[9,24]])})),function(t,r,n){return e.apply(this,arguments)}))},{key:"onTokenRefresh",value:function(e){this.options&&this.options.onTokenRefresh&&this.options.onTokenRefresh(e)}},{key:"onRevocationChange",value:function(e){this.options&&this.options.onRevocationChange&&this.options.onRevocationChange(e)}},{key:"refreshToken",value:(t=(0,d.default)(l.default.mark(function e(){var t,r,n,a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token){e.next=2;break}throw Error("Cannot refresh an empty token");case 2:return t={method:"GET",credentials:"include"},e.next=5,fetch("/?refreshToken",t);case 5:if((r=e.sent).ok){e.next=8;break}throw Error("Couldn't fetch a new token - response "+r.statusCode);case 8:return e.next=10,r.text();case 10:if(!(!(n=e.sent.match(/data-cozy="([^"]+)"/))||n.length<2)){e.next=14;break}throw Error("Couldn't fetch a new token - no data-cozy element found in HTML");case 14:if(a=JSON.parse(n[1].replace(/&#34;/g,'"')).token){e.next=19;break}throw Error("Couldn't fetch a new token - missing in data-cozy attribute");case 19:return o=new h.default(a),this.setToken(o),this.onTokenRefresh(o),T.default.info("Token successfully refreshed"),e.abrupt("return",o);case 24:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"fetchJSON",value:(r=(0,d.default)(l.default.mark(function e(t,r,n){var a,o=this,i=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:{},e.prev=1,e.next=4,this.fetchJSONWithCurrentToken(t,r,n,a);case 4:case 20:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(D.default.EXPIRED_TOKEN.test(e.t0.message)||D.default.INVALID_TOKEN.test(e.t0.message)||D.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=23;break}return e.prev=10,e.next=13,this._promiseCache.exec(function(){return o.refreshToken()},function(){return"refreshToken"});case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(10),e.t0;case 18:return e.next=20,this.fetchJSONWithCurrentToken(t,r,n,a);case 23:throw e.t0;case 24:case"end":return e.stop()}},e,this,[[1,7],[10,15]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"fetchJSONWithCurrentToken",value:(n=(0,d.default)(l.default.mark(function e(t,r,n){var a,o,i,c,u,s=arguments;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:{},(i=(o=(0,f.default)(a)).headers=o.headers||{}).Accept="application/json",c=n,"GET"===t||"HEAD"===t||void 0===c||i["Content-Type"]||(i["Content-Type"]="application/json",c=JSON.stringify(c)),o.throwFetchErrors=!0,e.next=9,this.fetch(t,r,c,o);case 9:return u=e.sent,e.abrupt("return",B(u));case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"fullpath",value:function(e){return e.startsWith("http")?e:this.uri+e}},{key:"getAuthorizationHeader",value:function(){return this.token?this.token.toAuthHeader():null}},{key:"setCredentials",value:function(e){return(0,P.default)("CozyStackClient::setCredentials is deprecated, use CozyStackClient::setToken"),this.setToken(e)}},{key:"getCredentials",value:function(){return(0,P.default)("CozyStackClient::getCredentials is deprecated, use CozyStackClient::getAuthorizationHeader"),this.getAuthorizationHeader()}},{key:"setToken",value:function(e){if(e){if(e.toAuthHeader)this.token=e;else if("string"==typeof e)this.token=new h.default(e);else throw T.default.warn("Cozy-Client: Unknown token format",e),Error("Cozy-Client: Unknown token format");this.onRevocationChange(!1)}else this.token=null}},{key:"getAccessToken",value:function(){return this.token&&this.token.getAccessToken()}},{key:"setUri",value:function(e){this.uri=F(e)}},{key:"getIconURL",value:function(e){return(0,A.default)(this,e)}}]),a}();j.default.mixin(z),t.default=z},81189:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(80539)),i=a(r(10464)),c=a(r(76729)),u=a(r(30592)),s=a(r(46370)),l=a(r(93889)),d=a(r(92115)),f=a(r(47783)),p=a(r(94619)),h=r(42447),m=a(r(63375)),v=a(r(90179)),y=a(r(912)),b=a(r(55364)),g=a(r(22331)),_=a(r(55373)),w=r(18366),k=r(90597),O=n(r(20796)),x=n(r(95327));r(21987);var E=a(r(1084));function C(){var e=(0,s.default)(["/data/","/_design/","/copy?rev=",""]);return C=function(){return e},e}function S(){var e=(0,s.default)(["/data/","/_design/","?rev=",""]);return S=function(){return e},e}function A(){var e=(0,s.default)(["/data/","/_design_docs?include_docs=true"]);return A=function(){return e},e}function P(){var e=(0,s.default)(["/data/","/_index"]);return P=function(){return e},e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(){var e=(0,s.default)(["/data/","/","?rev=",""]);return j=function(){return e},e}function D(){var e=(0,s.default)(["/data/","/",""]);return D=function(){return e},e}function T(){var e=(0,s.default)(["/data/","/",""]);return T=function(){return e},e}function I(){var e=(0,s.default)(["/data/","/_all_docs?include_docs=true"]);return I=function(){return e},e}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(){var e=(0,s.default)(["/data/","/_find"]);return L=function(){return e},e}function F(){var e=(0,s.default)(["/data/","/",""]);return F=function(){return e},e}var B=function(e){return Object.assign({},(0,v.default)(e,"_type"),{_deleted:!0})};t.default=function(){var e,t,r,n,a,s,R,z,H,U,V,Z,G,q,W,Q,J,Y,$,K,X,ee;function et(e,t,r){(0,d.default)(this,et),this.doctype=e,this.stackClient=t,this.indexes={},this.endpoint="/data/".concat(this.doctype,"/")}return(0,f.default)(et,[{key:"all",value:(e=(0,l.default)(u.default.mark(function e(){var t,r,n,a,o,i,c,s,l,d,f,p,m,v,y,b=this,_=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=_.length>0&&void 0!==_[0]?_[0]:{}).limit)?100:r,o=void 0===(a=t.skip)?0:a,i=t.bookmark,l=(s=!!(c=t.keys)||null===n)?"_all_docs":"_normal_docs",d=(0,h.uri)(F(),this.doctype,l),f={include_docs:!0,limit:n,skip:o,keys:c,bookmark:i},p=x.buildURL(d,f),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",p);case 9:m=e.sent,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 15:return v=s?m.rows.filter(function(e){return e&&null!==e.doc&&!e.error&&!(0,g.default)(e.id,"_design")}).map(function(e){return(0,k.normalizeDoc)(e.doc,b.doctype)}):m.rows.map(function(e){return(0,k.normalizeDoc)(e,b.doctype)}),y=i?m.rows.length>=n:o+m.rows.length<m.total_rows,e.abrupt("return",{data:v,meta:{count:s?v.length:m.total_rows},skip:o,bookmark:m.bookmark,next:y});case 18:case"end":return e.stop()}},e,this,[[6,12]])})),function(){return e.apply(this,arguments)})},{key:"fetchDocumentsWithMango",value:(t=(0,l.default)(u.default.mark(function e(t,r){var n,a=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",this.stackClient.fetchJSON("POST",t,this.toMangoOptions(r,n)));case 2:case"end":return e.stop()}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"migrateIndex",value:(r=(0,l.default)(u.default.mark(function e(t,r){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.copyIndex(t,r);case 3:return e.next=5,this.destroyIndex(t);case 5:e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(0),(0,O.isDocumentUpdateConflict)(e.t0)){e.next=11;break}throw e.t0;case 11:return(0,h.sleep)(1e3),e.next=14,this.copyIndex(t,r);case 14:return e.next=16,this.destroyIndex(t);case 16:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return r.apply(this,arguments)})},{key:"handleMissingIndex",value:(n=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.indexedFields,a=r.partialFilter,n||(n=(0,w.getIndexFields)({sort:r.sort,selector:t})),o=(0,w.getIndexNameFromFields)(n,a),e.next=5,this.findExistingIndex(t,r);case 5:if(i=e.sent){e.next=11;break}return e.next=9,this.createIndex(n,{partialFilter:a,indexName:o});case 9:case 14:e.next=17;break;case 11:if(i._id==="_design/".concat(o)){e.next=16;break}return e.next=14,this.migrateIndex(i,o);case 16:throw Error("Index unusable for query, index used: ".concat(o));case 17:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"findWithMango",value:(a=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,e.next=4,this.fetchDocumentsWithMango(t,r,n);case 4:if(!((i=(a=e.sent).warning||(null==(o=a.meta)?void 0:o.warning))&&n.partialFilter&&(0,O.isIndexNotUsedWarning)(i))){e.next=8;break}throw Error("no_index");case 8:e.next=21;break;case 10:if(e.prev=10,e.t0=e.catch(1),!((0,O.isIndexNotFoundError)(e.t0)||(0,O.isNoUsableIndexError)(e.t0)||(0,O.isTimeoutError)(e.t0))){e.next=20;break}return e.next=15,this.handleMissingIndex(r,n);case 15:return e.next=17,this.fetchDocumentsWithMango(t,r,n);case 17:a=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}},e,this,[[1,10]])})),function(e,t){return a.apply(this,arguments)})},{key:"find",value:(s=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c=this,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=s.length>1&&void 0!==s[1]?s[1]:{}).skip)?0:n,e.prev=2,i=(0,h.uri)(L(),this.doctype),e.next=6,this.findWithMango(i,t,r);case 6:o=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 12:return e.abrupt("return",{data:o.docs.map(function(e){return(0,k.normalizeDoc)(e,c.doctype)}),next:o.next,skip:a,bookmark:o.bookmark,execution_stats:o.execution_stats});case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return s.apply(this,arguments)})},{key:"findAll",value:(R=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,c,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:{},n=!0,a=[],o=r.bookmark||void 0;case 4:if(!n){e.next=13;break}return e.next=7,this.find(t,N(N({},r),{},{bookmark:o}));case 7:c=e.sent,a.push.apply(a,(0,i.default)(c.data)),o=c.bookmark,n=c.next,e.next=4;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"get",value:(z=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.default.get(this.stackClient,"".concat(this.endpoint).concat(encodeURIComponent(t)),{normalize:this.constructor.normalizeDoctype(this.doctype)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return z.apply(this,arguments)})},{key:"getAll",value:(H=(0,l.default)(u.default.mark(function e(t){var r,n,a=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",(0,h.uri)(I(),this.doctype),{keys:t});case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,O.dontThrowNotFoundError)(e.t0));case 9:return n=r.rows.filter(function(e){return e.doc}),e.abrupt("return",{data:n.map(function(e){return(0,k.normalizeDoc)(e.doc,a.doctype)}),meta:{count:n.length}});case 11:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return H.apply(this,arguments)})},{key:"create",value:(U=(0,l.default)(u.default.mark(function e(t){var r,n,a,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,t._type,n=(0,o.default)(t,["_id","_type"]),i=(a=!!r)?"PUT":"POST",c=(0,h.uri)(T(),this.doctype,a?r:""),e.next=6,this.stackClient.fetchJSON(i,c,n);case 6:return s=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(s.data,this.doctype)});case 8:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"update",value:(V=(0,l.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("PUT",(0,h.uri)(D(),this.doctype,t._id),t);case 2:return r=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(r.data,this.doctype)});case 4:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"destroy",value:(Z=(0,l.default)(u.default.mark(function e(t){var r,n,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,n=t._rev,a=(0,o.default)(t,["_id","_rev"]),e.next=3,this.stackClient.fetchJSON("DELETE",(0,h.uri)(j(),this.doctype,r,n));case 3:return i=e.sent,e.abrupt("return",{data:(0,k.normalizeDoc)(N(N({},a),{},{_id:r,_rev:i.rev,_deleted:!0}),this.doctype)});case 5:case"end":return e.stop()}},e,this)})),function(e){return Z.apply(this,arguments)})},{key:"updateAll",value:(G=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.stackClient,!(!(n=t?t.map(function(e){return(0,v.default)(e,"_type")}):t)||!n.length)){e.next=4;break}return e.abrupt("return",Promise.resolve([]));case 4:return e.prev=4,e.next=7,r.fetchJSON("POST","/data/".concat(this.doctype,"/_bulk_docs"),{docs:n});case 7:return a=e.sent,e.abrupt("return",a);case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.reason&&e.t0.reason.reason&&"Database does not exist."===e.t0.reason.reason)){e.next=24;break}return e.next=16,this.create(n[0]);case 16:return o=e.sent,e.next=19,this.updateAll(n.slice(1));case 19:return(i=e.sent).unshift({ok:!0,id:o._id,rev:o._rev}),e.abrupt("return",i);case 24:throw e.t0;case 25:case"end":return e.stop()}},e,this,[[4,11]])})),function(e){return G.apply(this,arguments)})},{key:"destroyAll",value:function(e){return this.updateAll(e.map(B))}},{key:"toMangoOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sort,n=t.indexedFields,a=t.partialFilter,o=t.fields,u=t.skip,s=t.limit,l=t.bookmark;r=(0,w.transformSort)(r),!n&&e&&E.default.warn("Selector fields should be manually indexed to prevent unexpected behaviour"),n=n||(0,w.getIndexFields)({sort:r,selector:e});var d=t.indexId||"_design/".concat((0,w.getIndexNameFromFields)(n,a));if(r){var f=(0,m.default)(r.map(function(e){return(0,y.default)(Object.values(e))}));if(f.length>1)throw Error("Mango sort can only use a single order (asc or desc).");var h,v=f.length>0?(0,y.default)(f):"asc",g=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return M(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(n);try{for(g.s();!(h=g.n()).done;)!function(){var e=h.value;r.find(function(t){return(0,y.default)(Object.keys(t))===e})||r.push((0,c.default)({},e,v))}()}catch(e){g.e(e)}finally{g.f()}}return{selector:a?(0,b.default)(N({},e),a):e,use_index:d,fields:o?[].concat((0,i.default)(o),["_id","_rev"]):void 0,limit:s,skip:void 0===u?0:u,bookmark:t.bookmark||l,sort:r,execution_stats:!!(0,p.default)("debug")||void 0}}},{key:"checkUniquenessOf",value:(q=(0,l.default)(u.default.mark(function e(t,r){var n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUniqueIndexId(t);case 2:return n=e.sent,e.next=5,this.find((0,c.default)({},t,r),{indexId:n,fields:["_id"]});case 5:return a=e.sent,e.abrupt("return",0===a.data.length);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return q.apply(this,arguments)})},{key:"getUniqueIndexId",value:function(e){return this.getIndexId([e],{indexName:"".concat(this.doctype,"/").concat(e)})}},{key:"getIndexId",value:(W=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(n=r.partialFilter)?"":n,i=void 0===(o=r.indexName)?(0,w.getIndexNameFromFields)(t):o,this.indexes[i]){e.next=20;break}return e.prev=2,e.next=5,this.createIndex(t,{partialFilter:a});case 5:c=e.sent,e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(2),(0,O.isIndexConflictError)(e.t0)){e.next=14;break}throw e.t0;case 14:return e.next=16,(0,h.sleep)(1e3);case 16:return e.next=18,this.createIndex(t,{partialFilter:a});case 18:c=e.sent;case 19:this.indexes[i]=c;case 20:return e.abrupt("return",this.indexes[i].id);case 21:case"end":return e.stop()}},e,this,[[2,8]])})),function(e,t){return W.apply(this,arguments)})},{key:"createIndex",value:(Q=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c,s,l,d=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=d.length>1&&void 0!==d[1]?d[1]:{}).partialFilter,a=r.indexName,o={index:{fields:t}},a&&(o.ddoc=a),n&&(o.index.partial_filter_selector=n),e.prev=4,e.next=7,this.stackClient.fetchJSON("POST",(0,h.uri)(P(),this.doctype),o);case 7:i=e.sent,e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(4),(0,O.isIndexConflictError)(e.t0)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return");case 17:if(c={id:i.id,fields:t},"exists"!==i.result){e.next=20;break}return e.abrupt("return",c);case 20:return s={},t.forEach(function(e){return s[e]={$gt:null}}),l={indexId:c.id,limit:1,partialFilterFields:n?(0,w.getIndexFields)({partialFilter:n}):null},e.next=25,(0,h.attempt)(this.find(s,l));case 25:if(!e.sent){e.next=27;break}return e.abrupt("return",c);case 27:return e.next=29,(0,h.sleep)(1e3);case 29:return e.next=31,(0,h.attempt)(this.find(s,l));case 31:if(!e.sent){e.next=33;break}return e.abrupt("return",c);case 33:return e.next=35,(0,h.sleep)(500);case 35:return e.abrupt("return",c);case 36:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return Q.apply(this,arguments)})},{key:"fetchAllMangoIndexes",value:(J=(0,l.default)(u.default.mark(function e(){var t,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.uri)(A(),this.doctype),e.next=3,this.stackClient.fetchJSON("GET",t);case 3:return r=e.sent,e.abrupt("return",r.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(0,w.normalizeDesignDoc)(e)}));case 5:case"end":return e.stop()}},e,this)})),function(){return J.apply(this,arguments)})},{key:"destroyIndex",value:(Y=(0,l.default)(u.default.mark(function e(t){var r,n,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id.split("/")[1],n=t._rev,a=(0,h.uri)(S(),this.doctype,r,n),e.abrupt("return",this.stackClient.fetchJSON("DELETE",a));case 4:case"end":return e.stop()}},e,this)})),function(e){return Y.apply(this,arguments)})},{key:"copyIndex",value:($=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id.split("/")[1],a=t._rev,o=(0,h.uri)(C(),this.doctype,n,a),i={headers:{Destination:"_design/".concat(r)}},e.abrupt("return",this.stackClient.fetchJSON("POST",o,null,i));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return $.apply(this,arguments)})},{key:"findExistingIndex",value:(K=(0,l.default)(u.default.mark(function e(t,r){var n,a,o,i,c,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.sort,a=r.indexedFields,o=r.partialFilter,e.next=3,this.fetchAllMangoIndexes();case 3:if(!((i=e.sent).length<1)){e.next=6;break}return e.abrupt("return",null);case 6:return n=(0,w.transformSort)(n),c=a||(0,w.getIndexFields)({sort:n,selector:t}),s=i.find(function(e){return(0,w.isMatchingIndex)(e,c,o)}),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"fetchChangesRaw",value:(X=(0,l.default)(u.default.mark(function e(t){var r,n,a,o,i,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.doc_ids&&t.doc_ids.length>0,n="?".concat([_.default.stringify(N(N({},(0,v.default)(t,["doc_ids","includeDocs"])),{},{include_docs:t.includeDocs})),r&&void 0===t.filter?"filter=_doc_ids":void 0].filter(Boolean).join("&")),a=r?"POST":"GET",o="/data/".concat(this.doctype,"/_changes").concat(n),i=r?{doc_ids:t.doc_ids}:void 0,e.next=7,this.stackClient.fetchJSON(a,o,i);case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)})),function(e){return X.apply(this,arguments)})},{key:"fetchChanges",value:(ee=(0,l.default)(u.default.mark(function e(){var t,r,n,a,o,i,c=this,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},r=s.length>1&&void 0!==s[1]?s[1]:{},n={includeDocs:!0},"object"!=typeof t?(n.since=t,E.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(n,t),e.next=6,this.fetchChangesRaw(n);case 6:return o=(a=e.sent).last_seq,i=a.results.map(function(e){return e.doc}).filter(Boolean),r.includeDesign||(i=i.filter(function(e){return 0!==e._id.indexOf("_design")})),r.includeDeleted||(i=i.filter(function(e){return!e._deleted})),e.abrupt("return",{newLastSeq:o,documents:i.map(function(e){return(0,k.normalizeDoc)(e,c.doctype)})});case 12:case"end":return e.stop()}},e,this)})),function(){return ee.apply(this,arguments)})}],[{key:"normalizeDoctype",value:function(e){return(0,k.normalizeDoctypeRawApi)(e)}}]),et}()},79374:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isDirectory=t.isFile=void 0;var o=a(r(80539)),i=a(r(30592)),c=a(r(46370)),u=a(r(93889)),s=a(r(92115)),l=a(r(47783)),d=a(r(61023)),f=a(r(91083)),p=a(r(7184)),h=a(r(62812)),m=a(r(76729)),v=a(r(71133)),y=a(r(61448)),b=a(r(58156)),g=a(r(90179)),_=a(r(44383));r(18366);var w=a(r(81189)),k=r(90597),O=r(42447);r(21987);var x=r(20796),E=r(36951),C=n(r(95327)),S=a(r(1084));function A(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return A=function(){return e},e}function P(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return P=function(){return e},e}function M(){var e=(0,c.default)(["/data/","/","/relationships/not_synchronizing"]);return M=function(){return e},e}function j(){var e=(0,c.default)(["/","/versions"]);return j=function(){return e},e}function D(){var e=(0,c.default)(["/upload/metadata"]);return D=function(){return e},e}function T(){var e=(0,c.default)(["/",""]);return T=function(){return e},e}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(){var e=(0,c.default)(["/","?Name=","&Type=directory&MetadataID=",""]);return R=function(){return e},e}function N(){var e=(0,c.default)(["/metadata?Path=",""]);return N=function(){return e},e}function L(){var e=(0,c.default)(["/",""]);return L=function(){return e},e}function F(){var e=(0,c.default)(["/download/",""]);return F=function(){return e},e}function B(){var e=(0,c.default)(["/downloads?Path=",""]);return B=function(){return e},e}function z(){var e=(0,c.default)(["/downloads?VersionId=","&Filename=",""]);return z=function(){return e},e}function H(){var e=(0,c.default)(["/downloads?Id=","&Filename=",""]);return H=function(){return e},e}function U(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=",""]);return U=function(){return e},e}function V(){var e=(0,c.default)(["/","?Name=","&Type=file&Executable=","&Encrypted=","&MetadataID=","&Size=","&SourceAccount=","&SourceAccountIdentifier=",""]);return V=function(){return e},e}function Z(){var e=(0,c.default)(["/",""]);return Z=function(){return e},e}function G(){var e=(0,c.default)(["/","/copy"]);return G=function(){return e},e}function q(){var e=(0,c.default)(["/trash/",""]);return q=function(){return e},e}function W(){var e=(0,c.default)(["/",""]);return W=function(){return e},e}function Q(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return Q=function(){return e},e}function J(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return J=function(){return e},e}function Y(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return Y=function(){return e},e}function $(){var e=(0,c.default)(["/","/relationships/referenced_by"]);return $=function(){return e},e}function K(){var e=(0,c.default)(["/data/","/","/relationships/references"]);return K=function(){return e},e}function X(){var e=(0,c.default)(["/_all_docs?include_docs=true"]);return X=function(){return e},e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){(0,m.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var er="io.cozy.files.root-dir",en=(0,k.normalizeDoctypeJsonApi)("io.cozy.files"),ea=function(e){var t;return et(et({},en(e)),{},{_rev:null==e||null==(t=e.meta)?void 0:t.rev})},eo=function(e){return e?e.map(function(e){return{_type:e.type,_id:e.id}}):[]},ei=function(e){return e&&e.trim()},ec=function(e){var t=ei(e);if("string"!=typeof t||""===t)throw Error("Missing name argument");if("."===e||".."===e)throw Error("Invalid filename: ".concat(e));var r=(0,E.getIllegalCharacters)(t);if(r.length)throw Error("Invalid filename containing illegal character(s): ".concat(r));return t};t.isFile=function(e){var t=e._type,r=e.type;return"io.cozy.files"===t||"directory"===r||"file"===r},t.isDirectory=function(e){return"directory"===e.type};var eu=function(e,t){return new Promise(function(r){e.forEach(function(e){return e.then(function(e){t(e)&&r(!0)})}),Promise.all(e).then(function(){return r(!1)})})},es=function(e){var t=e.lastIndexOf("/");return e.substring(0,t)};t.default=function(e){(0,f.default)(ez,e);var t,r,n,a,c,w,k,E,ee,en,el,ed,ef,ep,eh,em,ev,ey,eb,eg,e_,ew,ek,eO,ex,eE,eC,eS,eA,eP,eM,ej,eD,eT,eI,eR,eN,eL,eF,eB=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,h.default)(ez);return e=t?Reflect.construct(r,arguments,(0,h.default)(this).constructor):r.apply(this,arguments),(0,p.default)(this,e)});function ez(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.default)(this,ez),r=eB.call(this,e,t,n),(0,m.default)((0,d.default)(r),"extractResponseLinkRelated",function(e){var t=e.links&&e.links.related;if(!t)throw Error("No related link in server response");return r.stackClient.fullpath(t)}),(0,m.default)((0,d.default)(r),"forceFileDownload",function(e,t){(0,O.forceDownload)(e,t)}),r.specialDirectories={},r.prefix=n.driveId?(0,O.sharedDriveApiPrefix)(n.driveId):"/files",r}return(0,l.default)(ez,[{key:"get",value:function(e){return this.statById(e)}},{key:"getAll",value:(r=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(X()),{keys:t});case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",(0,x.dontThrowNotFoundError)(e.t0));case 9:return e.abrupt("return",{data:r.data.map(function(e){return ea(e)}),meta:{count:r.data.length},execution_stats:r.execution_stats});case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return r.apply(this,arguments)})},{key:"fetchFindFiles",value:(n=(0,u.default)(i.default.mark(function e(t,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST",this.prefix+"/_find",this.toMangoOptions(t,r)));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"find",value:(a=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:n,e.prev=2,c=this.prefix+"/_find",e.next=6,this.findWithMango(c,t,r);case 6:o=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",(0,x.dontThrowNotFoundError)(e.t0));case 12:return u=(0,b.default)(o,"links.next",""),s=new URL("".concat(this.stackClient.uri).concat(u)).searchParams.get("page[cursor]"),e.abrupt("return",{data:o.data.map(function(e){return ea(e)}),meta:o.meta,next:o.meta.count>a+o.data.length,skip:a,bookmark:s||void 0,execution_stats:o.meta.execution_stats});case 16:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return a.apply(this,arguments)})},{key:"findReferencedBy",value:(c=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).skip)?0:n,o={include:"files","page[limit]":r.limit,"page[cursor]":r.cursor,sort:"datetime"},c=(0,O.uri)(K(),t._type,t._id),u=C.buildURL(c,o),e.next=6,this.stackClient.fetchJSON("GET",u);case 6:return s=e.sent,e.abrupt("return",{data:eo(s.data),included:s.included?s.included.map(function(e){return ea(e)}):[],next:(0,y.default)(s,"links.next"),meta:s.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"addReferencedBy",value:(w=(0,u.default)(i.default.mark(function e(t,r){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:e._type}}),e.next=3,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)($(),t._id),{data:n});case 3:return a=e.sent,e.abrupt("return",{data:eo(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"removeReferencedBy",value:(k=(0,u.default)(i.default.mark(function e(t,r){var n,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id||e.id,type:e._type||e.type}}),e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(Y(),t._id||t.id),{data:n});case 3:return a=e.sent,e.abrupt("return",{data:eo(a.data),meta:a.meta});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"addReferencesTo",value:(E=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("POST",(0,O.uri)(J(),t._type,t._id),{data:n}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"removeReferencesTo",value:(ee=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(e){return{id:e._id,type:"io.cozy.files"}}),e.abrupt("return",this.stackClient.fetchJSON("DELETE",(0,O.uri)(Q(),t._type,t._id),{data:n}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return ee.apply(this,arguments)})},{key:"destroy",value:(en=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(l.length>1&&void 0!==l[1]?l[1]:{}).ifMatch)?"":r,a=t._id,o=t.relationships,c=t.referenced_by,e.next=4,this.stackClient.fetchJSON("DELETE",this.prefix+(0,O.uri)(W(),a),void 0,{headers:{"If-Match":n}});case 4:if(u=e.sent,!Array.isArray(s=(0,b.default)(o,"referenced_by.data",c))){e.next=9;break}return e.next=9,this.removeReferencedBy(t,s);case 9:return e.abrupt("return",{data:ea(u.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return en.apply(this,arguments)})},{key:"emptyTrash",value:(el=(0,u.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("DELETE",this.prefix+"/trash");case 2:return t=e.sent,e.abrupt("return",{data:ea(t.data)});case 4:case"end":return e.stop()}},e,this)})),function(){return el.apply(this,arguments)})},{key:"restore",value:(ed=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(q(),t));case 2:return r=e.sent,e.abrupt("return",{data:ea(r.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return ed.apply(this,arguments)})},{key:"copy",value:(ef=(0,u.default)(i.default.mark(function e(t,r,n){var a,o,c,u,s,l,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(a=(f.length>3&&void 0!==f[3]?f[3]:{}).sanitizeName)||a,null!=(c=r)&&o&&(c=ec(c)),u={name:c,DirID:n},s=this.prefix+(0,O.uri)(G(),t),l=C.buildURL(s,u),e.next=8,this.stackClient.fetchJSON("POST",l);case 8:return d=e.sent,e.abrupt("return",{data:ea(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return ef.apply(this,arguments)})},{key:"deleteFilePermanently",value:(ep=(0,u.default)(i.default.mark(function e(t){var r,n,a,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(o.length>1&&void 0!==o[1]?o[1]:{}).ifMatch)?"":r,e.next=3,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(Z(),t),{data:{type:"io.cozy.files",id:t,attributes:{permanent_delete:!0}}},{headers:{"If-Match":n}});case 3:return a=e.sent,e.abrupt("return",{data:ea(a.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return ep.apply(this,arguments)})},{key:"upload",value:(eh=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(c.length>2&&void 0!==c[2]?c[2]:{}).sanitizeName)||n,e.next=3,this.ensureDirectoryExists(r,{sanitizeName:a});case 3:return o=e.sent,e.abrupt("return",this.createFile(t,{dirId:o},{sanitizeName:a}));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return eh.apply(this,arguments)})},{key:"create",value:(em=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(r=(u.length>1&&void 0!==u[1]?u[1]:{}).sanitizeName)||r,"directory"!==t.type){e.next=5;break}return e.abrupt("return",this.createDirectory(t,{sanitizeName:n}));case 5:return a=t.data,c=(0,o.default)(t,["data"]),e.abrupt("return",this.createFile(a,c,{sanitizeName:n}));case 7:case"end":return e.stop()}},e,this)})),function(e){return em.apply(this,arguments)})},{key:"update",value:(ev=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(n=(r=f.length>1&&void 0!==f[1]?f[1]:{}).ifMatch)?"":n,u=void 0===(c=r.sanitizeName)||c,s=t.data,l=(0,o.default)(t,["data"]),d=t.id||t._id,!s){e.next=8;break}if("directory"!==t.type){e.next=6;break}throw Error("You cannot pass a data object for a directory");case 6:return l.fileId=d,e.abrupt("return",this.updateFile(s,l,{ifMatch:a,sanitizeName:u}));case 8:return e.abrupt("return",this.updateAttributes(d,t,{ifMatch:a,sanitizeName:u}));case 9:case"end":return e.stop()}},e,this)})),function(e){return ev.apply(this,arguments)})},{key:"createFile",value:(ey=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,x,E=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E.length>1&&void 0!==E[1]?E[1]:{},a=void 0===(n=(E.length>2&&void 0!==E[2]?E[2]:{}).sanitizeName)||n,c=r.name,s=void 0===(u=r.dirId)?"":u,d=void 0!==(l=r.executable)&&l,p=void 0!==(f=r.encrypted)&&f,h=r.metadata,v=void 0===(m=r.sourceAccount)?"":m,b=void 0===(y=r.sourceAccountIdentifier)?"":y,g=(0,o.default)(r,["name","dirId","executable","encrypted","metadata","sourceAccount","sourceAccountIdentifier"]),(_=c)||"string"!=typeof t.name||(_=t.name),a&&(_=ec(_)),w="",!h){e.next=12;break}return e.next=10,this.createFileMetadata(h);case 10:w=e.sent.data.id;case 12:return k="",g.contentLength&&(k=String(g.contentLength)),x=this.prefix+(0,O.uri)(V(),s,_,d,p,w,k,v,b),e.abrupt("return",this.doUpload(t,x,g));case 16:case"end":return e.stop()}},e,this)})),function(e){return ey.apply(this,arguments)})},{key:"updateFile",value:(eb=(0,u.default)(i.default.mark(function e(t){var r,n,a,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,x,E=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E.length>1&&void 0!==E[1]?E[1]:{},c=void 0===(a=(n=E.length>2&&void 0!==E[2]?E[2]:{}).ifMatch)?"":a,s=void 0===(u=n.sanitizeName)||u,d=void 0!==(l=r.executable)&&l,p=void 0!==(f=r.encrypted)&&f,h=r.fileId,v=void 0===(m=r.name)?"":m,y=r.metadata,b=(0,o.default)(r,["executable","encrypted","fileId","name","metadata"]),!(!h||"string"!=typeof h)){e.next=5;break}throw Error("missing fileId argument");case 5:if(!(!(g=v||t.name)||"string"!=typeof g)){e.next=8;break}throw Error("missing name in data argument");case 8:if(_=s?ec(g):g,k=this.prefix+(0,O.uri)(U(),h,_,d,p),!y){e.next=16;break}return e.next=13,this.createFileMetadata(y);case 13:w=e.sent.data.id,k+="&MetadataID=".concat(w);case 16:return x="",b.contentLength&&(x=String(b.contentLength),k+="&Size=".concat(x)),""!==c&&(b.ifMatch=c),e.abrupt("return",this.doUpload(t,k,b,"PUT"));case 20:case"end":return e.stop()}},e,this)})),function(e){return eb.apply(this,arguments)})},{key:"getDownloadLinkById",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(H(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByRevision",value:function(e,t){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(z(),e,encodeURIComponent(t))).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByPath",value:function(e){return this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(B(),e)).then(this.extractResponseLinkRelated)}},{key:"download",value:(eg=(0,u.default)(i.default.mark(function e(t){var r,n,a,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,a=(o.length>2&&void 0!==o[2]?o[2]:void 0)||t.name,r){e.next=9;break}return e.next=6,this.getDownloadLinkById(t._id,a);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,this.getDownloadLinkByRevision(r,a);case 11:n=e.sent;case 12:this.forceFileDownload("".concat(n,"?Dl=1"),a);case 13:case"end":return e.stop()}},e,this)})),function(e){return eg.apply(this,arguments)})},{key:"fetchFileContent",value:(e_=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("FileCollection.fetchFileContent() is deprecated. Use FileCollection.fetchFileContentById() instead"),e.abrupt("return",this.fetchFileContentById(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return e_.apply(this,arguments)})},{key:"fetchFileContentById",value:(ew=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetch("GET",this.prefix+(0,O.uri)(F(),t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return ew.apply(this,arguments)})},{key:"getBeautifulSize",value:function(e,t){return(0,O.formatBytes)(parseInt(e.size),t)}},{key:"downloadArchive",value:(ek=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(u.length>2&&void 0!==u[2]?u[2]:{}).pages,a=r?(0,O.slugify)(r):"files",e.next=4,this.createArchiveLinkByIds({ids:t,name:a,pages:n});case 4:o=e.sent,c=this.stackClient.fullpath(o),this.forceFileDownload(c,a+".zip");case 7:case"end":return e.stop()}},e,this)})),function(e,t){return ek.apply(this,arguments)})},{key:"getArchiveLinkByIds",value:(eO=(0,u.default)(i.default.mark(function e(t){var r,n,a=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"files",S.default.warn("CozyClient FileCollection getArchiveLinkByIds method is deprecated. Use createArchiveLinkByIds instead"),e.next=4,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:{name:r,ids:t}}});case 4:return n=e.sent,e.abrupt("return",n.links.related);case 6:case"end":return e.stop()}},e,this)})),function(e){return eO.apply(this,arguments)})},{key:"createArchiveLinkByIds",value:(ex=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ids,a=void 0===(n=t.name)?"files":n,o=t.pages,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/archive",{data:{type:"io.cozy.archives",attributes:et({name:a,ids:r},o&&{pages:o})}});case 3:return c=e.sent,e.abrupt("return",c.links.related);case 5:case"end":return e.stop()}},e,this)})),function(e){return ex.apply(this,arguments)})},{key:"isChildOf",value:(eE=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s,l,d,f,p=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n="object"==typeof t?t:{_id:t})._id,o=n.dirID,c=n.path,u=("object"==typeof r?r:{_id:r})._id,a!==u&&o!==u){e.next=4;break}return e.abrupt("return",!0);case 4:if(c){e.next=10;break}return e.next=7,this.statById(a);case 7:c=(s=e.sent).data.path,o=s.data.dirID;case 10:for(l=c,d=[c];""!=l;)""!=(f=es(l))&&d.push(f),l=f;return d.reverse(),e.abrupt("return",eu(d.map(function(e){return p.statByPath(e)}),function(e){return e.data._id==u}));case 15:case"end":return e.stop()}},e,this)})),function(e,t){return eE.apply(this,arguments)})},{key:"statById",value:(eC=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=(0,_.default)(r,["page[limit]","page[skip]","page[cursor]"]),a=this.prefix+(0,O.uri)(L(),t),o=C.buildURL(a,n),e.next=6,this.stackClient.fetchJSON("GET",o);case 6:return c=e.sent,e.abrupt("return",{data:ea(c.data),included:c.included&&c.included.map(function(e){return ea(e)}),links:c.links});case 8:case"end":return e.stop()}},e,this)})),function(e){return eC.apply(this,arguments)})},{key:"statByPath",value:(eS=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",this.prefix+(0,O.uri)(N(),t));case 2:return r=e.sent,e.abrupt("return",{data:ea(r.data),included:r.included&&r.included.map(function(e){return ea(e)})});case 4:case"end":return e.stop()}},e,this)})),function(e){return eS.apply(this,arguments)})},{key:"createDirectory",value:(eA=(0,u.default)(i.default.mark(function e(){var t,r,n,a,o,c,u,s,l,d,f,p=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:{},n=void 0===(r=(p.length>1&&void 0!==p[1]?p[1]:{}).sanitizeName)||r,a=t.name,o=t.dirId,c=t.lastModifiedDate,u=t.metadata,s="",!u){e.next=9;break}return e.next=7,this.createFileMetadata(u);case 7:s=e.sent.data.id;case 9:return l=n?ec(a):a,d=c&&("string"==typeof c?new Date(c):c),e.next=13,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(R(),o,l,s),void 0,{headers:{Date:d?d.toGMTString():""}});case 13:return f=e.sent,e.abrupt("return",{data:ea(f.data)});case 15:case"end":return e.stop()}},e,this)})),function(){return eA.apply(this,arguments)})},{key:"ensureDirectoryExists",value:(eP=(0,u.default)(i.default.mark(function e(t){var r,n,a,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0===(r=(o.length>1&&void 0!==o[1]?o[1]:{}).sanitizeName)||r,this.specialDirectories[t]){e.next=6;break}return e.next=4,this.createDirectoryByPath(t,{sanitizeName:n});case 4:a=e.sent,this.specialDirectories[t]=a.data._id;case 6:return e.abrupt("return",this.specialDirectories[t]);case 7:case"end":return e.stop()}},e,this)})),function(e){return eP.apply(this,arguments)})},{key:"getDirectoryOrCreate",value:(eM=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s,l=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0===(n=(l.length>2&&void 0!==l[2]?l[2]:{}).sanitizeName)||n,!(r&&!r.attributes)){e.next=3;break}throw Error("Malformed parent directory");case 3:return o=a?ei(t):t,c="".concat(r._id===er?"":r.attributes.path,"/").concat(o),e.prev=5,e.next=8,this.statByPath(c||"/");case 8:return u=e.sent,e.abrupt("return",u);case 12:if(e.prev=12,e.t0=e.catch(5),!((s=JSON.parse(e.t0.message).errors)&&s.length&&"404"===s[0].status)){e.next=18;break}return e.abrupt("return",this.createDirectory({name:o,dirId:r&&r._id},{sanitizeName:a}));case 18:throw s;case 19:case"end":return e.stop()}},e,this,[[5,12]])})),function(e,t){return eM.apply(this,arguments)})},{key:"createDirectoryByPath",value:(ej=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l,d=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(d.length>1&&void 0!==d[1]?d[1]:{}).sanitizeName)||r,a=t.split("/").filter(function(e){return""!==e}),e.next=4,this.statById(er);case 4:if(o=e.sent,a.length){e.next=7;break}return e.abrupt("return",o);case 7:c=o,u=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(a),e.prev=9,u.s();case 11:if((s=u.n()).done){e.next=18;break}return l=s.value,e.next=15,this.getDirectoryOrCreate(l,c.data,{sanitizeName:n});case 15:c=e.sent;case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}},e,this,[[9,20,23,26]])})),function(e){return ej.apply(this,arguments)})},{key:"updateAttributes",value:(eD=(0,u.default)(i.default.mark(function e(t,r){var n,a,o,c,u,s,l,d=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(a=(n=d.length>2&&void 0!==d[2]?d[2]:{}).ifMatch)?"":a,u=void 0===(c=n.sanitizeName)||c,s=et({},r),r.name&&u&&(s.name=ec(r.name)),e.next=5,this.stackClient.fetchJSON("PATCH",this.prefix+(0,O.uri)(T(),t),{data:{type:"io.cozy.files",id:t,attributes:s}},{headers:{"If-Match":o}});case 5:return l=e.sent,e.abrupt("return",{data:ea(l.data)});case 7:case"end":return e.stop()}},e,this)})),function(e,t){return eD.apply(this,arguments)})},{key:"updateFileMetadata",value:(eT=(0,u.default)(i.default.mark(function e(t,r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.default.warn("CozyClient FileCollection updateFileMetadata method is deprecated. Use updateAttributes instead"),e.abrupt("return",this.updateAttributes(t,r));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return eT.apply(this,arguments)})},{key:"createFileMetadata",value:(eI=(0,u.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(D()),{data:{type:"io.cozy.files.metadata",attributes:t}});case 2:return r=e.sent,e.abrupt("return",{data:r.data});case 4:case"end":return e.stop()}},e,this)})),function(e){return eI.apply(this,arguments)})},{key:"updateMetadataAttribute",value:(eR=(0,u.default)(i.default.mark(function e(t,r){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST",this.prefix+(0,O.uri)(j(),t),{data:{type:"io.cozy.files.metadata",attributes:r}});case 2:return n=e.sent,e.abrupt("return",{data:n.data});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return eR.apply(this,arguments)})},{key:"getFileTypeFromName",value:function(e){return v.default.getType(e)||"application/octet-stream"}},{key:"doUpload",value:(eN=(0,u.default)(i.default.mark(function e(t,r,n){var a,o,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,O,x=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x.length>3&&void 0!==x[3]?x[3]:"POST",o=r,void 0!==(c=t)){e.next=5;break}throw Error("missing data argument");case 5:if(c.buffer&&c.buffer instanceof ArrayBuffer&&(c=c.buffer),u="undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer,s="undefined"!=typeof File&&c instanceof File,l="undefined"!=typeof Blob&&c instanceof Blob,d=!0===c.readable&&"function"==typeof c.pipe,f="string"==typeof c,!(!u&&!s&&!l&&!d&&!f)){e.next=13;break}throw Error("invalid data type");case 13:return h=(p=n||{}).contentType,m=p.contentLength,v=p.checksum,y=p.lastModifiedDate,b=p.ifMatch,h||("string"==typeof c?h="text/plain":c.type?h=c.type:(_=new URLSearchParams((g=o.split("?")).length>1?g[1]:"").get("Name"),h=this.getFileTypeFromName(_.toLowerCase()))),(y=y||c.lastModified)&&(y=new Date(y)),w={"Content-Type":h},m&&(w["Content-Length"]=String(m)),v&&(w["Content-MD5"]=v),y&&(k=y.toISOString(),o="".concat(o,"&UpdatedAt=").concat(k,"&CreatedAt=").concat(k)),b&&(w["If-Match"]=b),e.next=24,this.stackClient.fetchJSON(a,o,c,{headers:w,onUploadProgress:n.onUploadProgress});case 24:return O=e.sent,e.abrupt("return",{data:ea(O.data)});case 26:case"end":return e.stop()}},e,this)})),function(e,t,r){return eN.apply(this,arguments)})},{key:"findNotSynchronizedDirectories",value:(eL=(0,u.default)(i.default.mark(function e(t){var r,n,a,o,c,u,s,l,d,f,p=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(r=p.length>1&&void 0!==p[1]?p[1]:{}).skip)?0:n,o=r.limit,c=r.cursor,s={include:void 0!==(u=r.includeFiles)&&u?"files":void 0,"page[limit]":o,"page[cursor]":c,sort:"id"},l=(0,O.uri)(M(),t._type,t._id),d=C.buildURL(l,s),e.next=6,this.stackClient.fetchJSON("GET",d);case 6:return f=e.sent,e.abrupt("return",{data:f.data.map(function(e){return ea(e)}),included:f.included?f.included.map(function(e){return ea(e)}):[],next:(0,y.default)(f,"links.next"),meta:f.meta,skip:a});case 8:case"end":return e.stop()}},e,this)})),function(e){return eL.apply(this,arguments)})},{key:"addNotSynchronizedDirectories",value:function(e,t){var r=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("POST",(0,O.uri)(P(),e._type,e._id),{data:r})}},{key:"removeNotSynchronizedDirectories",value:function(e,t){var r=t.map(function(e){return{id:e._id,type:e._type}});return this.stackClient.fetchJSON("DELETE",(0,O.uri)(A(),e._type,e._id),{data:r})}},{key:"fetchChanges",value:(eF=(0,u.default)(i.default.mark(function e(){var t,r,n,a,o,c,u,s,l,d,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=f.length>1&&void 0!==f[1]?f[1]:{},n={},"object"!=typeof t?(n.since=t,S.default.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({since: "'.concat(t,'"}).'))):Object.keys(t).length>0&&Object.assign(n,t),Object.keys(r).length>0&&(Object.assign(n,r),(r.skipTrashed||r.includeFilePath)&&(n.includeDocs=!0)),a=et(et({},(0,g.default)(n,["fields","includeDocs","includeFilePath","skipDeleted","skipTrashed"])),{},{fields:n.fields?n.fields.join(","):null,include_docs:n.includeDocs,include_file_path:n.includeFilePath,skip_deleted:n.skipDeleted,skip_trashed:n.skipTrashed}),o=this.prefix+"/_changes",c=C.buildURL(o,a),e.next=10,this.stackClient.fetchJSON("GET",c);case 10:return s=(u=e.sent).last_seq,l=u.pending,d=u.results,e.abrupt("return",{newLastSeq:s,pending:l,results:d});case 15:case"end":return e.stop()}},e,this)})),function(){return eF.apply(this,arguments)})},{key:"getOrCreateSharedDrivesDirectory",value:function(){return this.stackClient.fetchJSON("POST",this.prefix+"/shared-drives")}}]),ez}(w.default)},6281:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hasJobFinished=t.normalizeJob=t.JOBS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(46370)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(20796)),p=n(r(81189)),h=r(42447),m=r(90597);function v(){var e=(0,o.default)(["/jobs/",""]);return v=function(){return e},e}var y="io.cozy.jobs";t.JOBS_DOCTYPE=y;var b=function(e){return new Promise(function(t){return setTimeout(t,e)})},g=(0,m.normalizeDoctypeJsonApi)(y);t.normalizeJob=g;var _=function(e){return"done"===e.state||"errored"===e.state};t.hasJobFinished=_,t.default=function(e){(0,s.default)(m,e);var t,r,n,o,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(m);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function m(e){return(0,c.default)(this,m),p.call(this,y,e)}return(0,u.default)(m,[{key:"queued",value:function(e){return this.stackClient.fetchJSON("GET","/jobs/queue/".concat(e))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.stackClient.fetchJSON("POST","/jobs/queue/".concat(e),{data:{type:y,attributes:{arguments:t,options:r,manual:n}}})}},{key:"get",value:(r=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.default.get(this.stackClient,(0,h.uri)(v(),t),{normalize:g}));case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"update",value:(n=(0,i.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("client"===t.worker){e.next=2;break}throw Error("JobCollection.update only works for client workers. ".concat(t.worker," given"));case 2:return e.next=4,this.stackClient.fetchJSON("PATCH","/jobs/".concat(t._id),{data:{type:y,id:t._id,attributes:{state:t.attributes.state,error:t.attributes.error}}});case 4:return r=e.sent,e.abrupt("return",g(r.data));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"waitFor",value:(o=(0,i.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s,l,d,f,p,h,m=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===(n=(r=m.length>1&&void 0!==m[1]?m[1]:{}).onUpdate)?null:n,c=void 0===(i=r.until)?_:i,s=void 0===(u=r.delay)?5e3:u,d=void 0===(l=r.timeout)?3e5:l,f=Date.now(),e.next=4,this.get(t);case 4:p=e.sent.data.attributes;case 5:if(!(!p||!c(p))){e.next=17;break}return e.next=8,b(s);case 8:return e.next=10,this.get(t);case 10:if(p=e.sent.data.attributes,o&&o(p),h=Date.now(),!(f-h>d)){e.next=15;break}throw Error("Timeout for JobCollection::waitFor");case 15:e.next=5;break;case 17:return e.abrupt("return",p);case 18:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}]),m}(p.default)},64565:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.KONNECTORS_DOCTYPE=void 0;var o=a(r(30592)),i=a(r(93889)),c=a(r(92115)),u=a(r(47783)),s=a(r(91083)),l=a(r(7184)),d=a(r(62812)),f=a(r(44383)),p=a(r(52997)),h=n(r(96446)),m=r(90597),v="io.cozy.konnectors";t.KONNECTORS_DOCTYPE=v,t.default=function(e){(0,s.default)(g,e);var t,r,n,a,p,y,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(g);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function g(e){var t;return(0,c.default)(this,g),(t=b.call(this,e)).doctype=v,t.endpoint="/konnectors/",t}return(0,u.default)(g,[{key:"create",value:(r=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("create() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"destroy",value:(n=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("destroy() method is not available for konnectors");case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"findTriggersBySlug",value:(a=(0,i.default)(o.default.mark(function e(t){var r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new h.default(this.stackClient),e.next=3,r.all({limit:null});case 3:return n=e.sent.data,e.abrupt("return",n.map(function(e){return e.attributes}).filter(function(e){return(0,h.isForKonnector)(e,t)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"launch",value:(p=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=new h.default(this.stackClient),e.next=4,this.findTriggersBySlug(t);case 4:if(a=e.sent,1!==(i=r.accountId?a.filter(function(e){return(0,h.isForAccount)(e,r.accountId)}):a).length){e.next=10;break}return e.abrupt("return",n.launch(a[0]));case 10:if(c=JSON.stringify((0,f.default)({slug:t,accountId:r.accountId})),0!==i.length){e.next=15;break}throw Error("No trigger found for ".concat(c));case 15:if(!(i.length>1)){e.next=17;break}throw Error("More than 1 trigger found for ".concat(c));case 17:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"update",value:(y=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},t){e.next=3;break}throw Error("Cannot call update with no slug");case 3:return n=r.source||null,a=r.sync?{headers:{Accept:"text/event-stream"}}:{},e.next=8,this.stackClient.fetchJSON("PUT","/konnectors/".concat(t)+(n?"?Source=".concat(n):""),a);case 8:return i=e.sent,e.abrupt("return",(0,m.normalizeDoc)(i));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}]),g}(p.default)},55125:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.NEXTCLOUD_FILES_DOCTYPE=t.NextcloudFilesCollection=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783)),u=n(r(91083)),s=n(r(7184)),l=n(r(62812)),d=n(r(76729)),f=n(r(81189)),p=r(42447),h=r(21987),m=r(90597);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,d.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g="io.cozy.remote.nextcloud.files";t.NEXTCLOUD_FILES_DOCTYPE=g;var _=(0,m.normalizeDoctypeJsonApi)(g),w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fromTrash,a=void 0!==n&&n;return function(r){var n=_(r);return b(b({},n),{},{parentPath:t,path:a?n.path:(0,p.joinPath)(t,n.name),cozyMetadata:b(b({},n.cozyMetadata),{},{sourceAccount:e})})}};t.NextcloudFilesCollection=function(e){(0,u.default)(C,e);var t,r,n,d,f,m,y,b,_,k,O,x,E=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,l.default)(C);return e=t?Reflect.construct(r,arguments,(0,l.default)(this).constructor):r.apply(this,arguments),(0,s.default)(this,e)});function C(e){return(0,i.default)(this,C),E.call(this,g,e)}return(0,c.default)(C,[{key:"find",value:(r=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t["cozyMetadata.sourceAccount"]&&t.parentPath)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/remote/nextcloud/".concat(t["cozyMetadata.sourceAccount"]).concat((0,p.encodePath)(t.parentPath)));case 3:return r=e.sent,e.abrupt("return",{data:r.data.map(w(t["cozyMetadata.sourceAccount"],t.parentPath,{fromTrash:t.trashed}))});case 5:throw Error("Not implemented");case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"destroy",value:(n=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroyAll",value:(d=(0,o.default)(a.default.mark(function e(t){var r,n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}return o=n.value,e.next=7,this.destroy(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(e){return d.apply(this,arguments)})},{key:"download",value:(f=(0,o.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("GET","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path),"?Dl=1"));case 2:return r=e.sent,e.next=5,r.blob();case 5:n=e.sent,o=URL.createObjectURL(n),i=t.path.split("/").pop(),(0,p.forceDownload)(o,i);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"move",value:(m=(0,o.default)(a.default.mark(function e(t,r){var n,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.joinPath)(r.path,t.name),e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/move").concat((0,p.encodePath)(t.path),"?To=").concat((0,p.encodePath)(n)));case 3:if(204!==(o=e.sent).status){e.next=6;break}return e.abrupt("return",o);case 6:throw new h.FetchError(o,o.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"moveToCozy",value:(y=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0!==(n=(c.length>2&&void 0!==c[2]?c[2]:{}).copy)&&n,e.next=3,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/downstream").concat((0,p.encodePath)(t.path),"?To=").concat(r._id).concat(o?"&Copy=true":""));case 3:if(201!==(i=e.sent).status){e.next=6;break}return e.abrupt("return",i);case 6:throw new h.FetchError(i,i.json());case 7:case"end":return e.stop()}},e,this)})),function(e,t){return y.apply(this,arguments)})},{key:"moveFromCozy",value:(b=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c,u=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0!==(n=(u.length>2&&void 0!==u[2]?u[2]:{}).copy)&&n,i=(0,p.joinPath)(t.path,r.name),e.next=4,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/upstream").concat((0,p.encodePath)(i),"?From=").concat(r._id).concat(o?"&Copy=true":""));case 4:if(204!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c);case 7:throw new h.FetchError(c,c.json());case 8:case"end":return e.stop()}},e,this)})),function(e,t){return b.apply(this,arguments)})},{key:"restore",value:(_=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/restore").concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"emptyTrash",value:(k=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t,"/trash"));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"deletePermanently",value:(O=(0,o.default)(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetch("DELETE","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount).concat((0,p.encodePath)(t.path)));case 2:if(204!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r);case 5:throw new h.FetchError(r,r.json());case 6:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"copy",value:(x=(0,o.default)(a.default.mark(function e(t,r){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("POST","/remote/nextcloud/".concat(t.cozyMetadata.sourceAccount,"/copy/").concat(t.path).concat(r?"?Path=".concat(r.path,"/").concat(t.name):""));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})}]),C}(f.default)},88255:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NOTES_URL_DOCTYPE=t.NOTES_DOCTYPE=void 0;var a=n(r(46370)),o=n(r(76729)),i=n(r(30592)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(81189)),h=r(90597),m=r(42447),v=r(55436);function y(){var e=(0,a.default)(["/notes/","/open"]);return y=function(){return e},e}function b(){var e=(0,a.default)(["/files/",""]);return b=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.notes";t.NOTES_DOCTYPE=w;var k="io.cozy.notes.url";t.NOTES_URL_DOCTYPE=k;var O=(0,h.normalizeDoctypeJsonApi)(w),x=(0,h.normalizeDoctypeJsonApi)(k),E=function(e){(0,l.default)(g,e);var t,r,n,a,o,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(g);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function g(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.default)(this,g),(t=h.call(this,w,e,r)).prefix=r.driveId?(0,m.sharedDriveApiPrefix)(r.driveId):"",t}return(0,s.default)(g,[{key:"get",value:(r=(0,c.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes/".concat(t));case 2:return r=e.sent,e.abrupt("return",{data:O(r.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"all",value:(n=(0,c.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/notes");case 2:return t=e.sent,e.abrupt("return",_(_({},t),{},{data:t.data.map(O)}));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",this.prefix+(0,m.uri)(b(),r));case 3:return n=e.sent,e.abrupt("return",{data:_(_({},O(n.data)),{},{_deleted:!0})});case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"create",value:(o=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dir_id,e.next=3,this.stackClient.fetchJSON("POST",this.prefix+"/notes",{data:{type:"io.cozy.notes.documents",attributes:{title:"",schema:(0,v.getDefaultSchema)(),dir_id:r}}});case 3:return n=e.sent,e.abrupt("return",_(_({},n),{},{data:O(n.data)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"fetchURL",value:(p=(0,c.default)(i.default.mark(function e(t){var r,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("GET",this.prefix+(0,m.uri)(y(),r));case 3:return n=e.sent,e.abrupt("return",{data:x(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDefaultSchema",value:function(){return(0,v.getDefaultSchema)()}}]),g}(p.default);E.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=E},55436:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSchema=t.marks=t.nodes=void 0;var r=[["doc",{content:"(block)+",marks:"link"}],["paragraph",{content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline",parseDOM:[{tag:"p"}]}],["text",{group:"inline"}],["bulletList",{group:"block",content:"listItem+",parseDOM:[{tag:"ul"}]}],["orderedList",{group:"block",content:"listItem+",parseDOM:[{tag:"ol"}]}],["listItem",{content:"(paragraph ) (paragraph | bulletList | orderedList )*",defining:!0,parseDOM:[{tag:"li"}]}],["heading",{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}]}],["blockquote",{content:"paragraph+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}]}],["rule",{group:"block",parseDOM:[{tag:"hr"}]}],["panel",{group:"block",content:"(paragraph | heading | bulletList | orderedList)+",attrs:{panelType:{default:"info"}},parseDOM:[{tag:"div[data-panel-type]"}]}],["confluenceUnsupportedBlock",{group:"block",attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedBlock"]'}]}],["confluenceUnsupportedInline",{group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},parseDOM:[{tag:'div[data-node-type="confluenceUnsupportedInline"]'}]}],["unsupportedBlock",{inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]'}]}],["unsupportedInline",{inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]'}]}],["hardBreak",{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}]}],["table",{content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1}},tableRole:"table",isolating:!0,selectable:!1,group:"block",parseDOM:[{tag:"table"}]}],["tableHeader",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading )+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"header_cell",isolating:!0,marks:"",parseDOM:[{tag:"th"}]}],["tableRow",{content:"(tableCell | tableHeader)+",tableRole:"row",parseDOM:[{tag:"tr"}]}],["tableCell",{content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | unsupportedBlock)+",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},tableRole:"cell",marks:"",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td"}]}]];t.nodes=r;var n=[["link",{excludes:"color",group:"link",attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]"}]}],["em",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}]}],["strong",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strong"},{tag:"b"},{style:"font-weight"}]}],["textColor",{attrs:{color:{}},inclusive:!0,group:"color",parseDOM:[{style:"color"}]}],["strike",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration"}]}],["subsup",{inclusive:!0,group:"fontStyle",attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}}]}],["underline",{inclusive:!0,group:"fontStyle",parseDOM:[{tag:"u"},{style:"text-decoration"}]}],["code",{excludes:"fontStyle link searchQuery color",inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0}]}],["typeAheadQuery",{excludes:"searchQuery",inclusive:!0,group:"searchQuery",parseDOM:[{tag:"span[data-type-ahead-query]"}],attrs:{trigger:{default:""}}}]];t.marks=n,t.getDefaultSchema=function(){return{nodes:r,marks:n}}},11126:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(77497)),o=n(r(30592)),i=n(r(93889)),c=n(r(76729)),u=n(r(80539)),s=n(r(92115)),l=n(r(47783)),d=n(r(91083)),f=n(r(7184)),p=n(r(62812)),h=n(r(45308)),m=n(r(91685)),v=n(r(3961)),y=n(r(21987)),b=n(r(1084));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,c.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);return r=t?Reflect.construct(n,arguments,(0,p.default)(this).constructor):n.apply(this,arguments),(0,f.default)(this,r)}}var k={clientID:"",clientName:"",clientKind:"",clientSecret:"",clientURI:"",registrationAccessToken:"",redirectURI:"",softwareID:"",softwareVersion:"",logoURI:"",policyURI:"",notificationPlatform:"",notificationDeviceToken:""},O=function(e){(0,d.default)(S,e);var t,r,n,a,c,f,p,h,g,O,E,C=w(S);function S(e){var t,r=e.oauth,n=e.scope,a=e.onTokenRefresh,o=(0,u.default)(e,["oauth","scope","onTokenRefresh"]);return(0,s.default)(this,S),(t=C.call(this,o)).setOAuthOptions(_(_({},k),r)),r.token&&t.setToken(r.token),t.scope=void 0===n?[]:n,t.onTokenRefresh=a,t}return(0,l.default)(S,[{key:"isRegistered",value:function(){return""!==this.oauthOptions.clientID}},{key:"snakeCaseOAuthData",value:function(e){var t={softwareID:"software_id",softwareVersion:"software_version",clientID:"client_id",clientName:"client_name",clientKind:"client_kind",clientURI:"client_uri",logoURI:"logo_uri",policyURI:"policy_uri",notificationPlatform:"notification_platform",notificationDeviceToken:"notification_device_token",redirectURI:"redirect_uris"},r={};return Object.keys(e).forEach(function(n){var a=t[n]||n,o=e[n];r[a]=o}),r.redirect_uris&&r.redirect_uris instanceof Array==!1&&(r.redirect_uris=[r.redirect_uris]),r}},{key:"camelCaseOAuthData",value:function(e){var t={client_id:"clientID",client_name:"clientName",client_secret:"clientSecret",registration_access_token:"registrationAccessToken",software_id:"softwareID",redirect_uris:"redirectURI"},r={};return Object.keys(e).forEach(function(n){var a=t[n]||n,o=e[n];r[a]=o}),r}},{key:"doRegistration",value:function(){return this.fetchJSON("POST","/auth/register",this.snakeCaseOAuthData({redirectURI:this.oauthOptions.redirectURI,clientName:this.oauthOptions.clientName,softwareID:this.oauthOptions.softwareID,clientKind:this.oauthOptions.clientKind,clientURI:this.oauthOptions.clientURI,logoURI:this.oauthOptions.logoURI,policyURI:this.oauthOptions.policyURI,softwareVersion:this.oauthOptions.softwareVersion,notificationPlatform:this.oauthOptions.notificationPlatform,notificationDeviceToken:this.oauthOptions.notificationDeviceToken}))}},{key:"register",value:(t=(0,i.default)(o.default.mark(function e(){var t,r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRegistered()){e.next=2;break}throw Error("Client already registered");case 2:if(t=["redirectURI"],r=Object.keys(this.oauthOptions),!((n=t.filter(function(e){return r[e]})).length>0)){e.next=7;break}throw Error("Can't register client : missing ".concat(n," fields"));case 7:return e.next=9,this.doRegistration();case 9:return a=e.sent,this.setOAuthOptions(_(_({},this.oauthOptions),{},{client_id:a.client_id,client_name:a.client_name,client_secret:a.client_secret,registration_access_token:a.registration_access_token,software_id:a.software_id})),e.abrupt("return",this.oauthOptions);case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"unregister",value:(r=(0,i.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:return t=this.oauthOptions.clientID,this.oauthOptions.clientID="",e.abrupt("return",this.fetchJSON("DELETE","/auth/register/".concat(t),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"fetchInformation",value:(n=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:return e.abrupt("return",this.fetchJSON("GET","/auth/register/".concat(this.oauthOptions.clientID),null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updateInformation",value:(a=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]&&c[1],this.isRegistered()){e.next=3;break}throw new x;case 3:return n={clientID:this.oauthOptions.clientID,clientName:this.oauthOptions.clientName,redirectURI:this.oauthOptions.redirectURI,softwareID:this.oauthOptions.softwareID},a=this.snakeCaseOAuthData(_(_({},n),t)),r&&(a.client_secret=this.oauthOptions.clientSecret),e.next=8,this.fetchJSON("PUT","/auth/register/".concat(this.oauthOptions.clientID),a,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}});case 8:return i=e.sent,this.setOAuthOptions(_(_({},a),i)),e.abrupt("return",this.oauthOptions);case 11:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"generateStateCode",value:function(){var e;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(16),window.crypto.getRandomValues(e);else{e=Array(16);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}},{key:"getAuthCodeURL",value:function(e){var t=e.stateCode,r=e.scopes,n=void 0===r?this.scope:r,a=e.sessionCode,o=void 0===a?void 0:a,i=e.codeChallenge,c=void 0===i?void 0:i;if(!this.isRegistered())throw new x;var u={client_id:this.oauthOptions.clientID,redirect_uri:this.oauthOptions.redirectURI,state:t,response_type:"code",scope:n.join(" ")};return this.oauthOptions.registerToken&&(u=_(_({},u),{},{registerToken:this.oauthOptions.registerToken})),o&&(u=_(_({},u),{},{session_code:o})),c&&(u=_(_({},u),{},{code_challenge:c,code_challenge_method:"S256"})),"".concat(this.uri,"/auth/authorize?").concat(this.dataToQueryString(u))}},{key:"dataToQueryString",value:function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}).join("&")}},{key:"getAccessCodeFromURL",value:function(e,t){if(!t)throw Error("Missing state code");var r=new URL(e).searchParams,n=r.get("state"),a=r.get("access_code");if(t!==n)throw Error("Given state does not match url query state");return a}},{key:"fetchAccessToken",value:(c=(0,i.default)(o.default.mark(function e(t,r,n,a){var i,c,u;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.isRegistered()&&!r)){e.next=2;break}throw new x;case 2:return c={grant_type:"authorization_code",code:t,client_id:(i=r||this.oauthOptions).clientID,client_secret:i.clientSecret},a&&(c=_(_({},c),{},{code_verifier:a})),e.next=7,this.fetchJSON("POST",(n||"")+"/auth/access_token",this.dataToQueryString(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return u=e.sent,e.abrupt("return",new m.default(u));case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return c.apply(this,arguments)})},{key:"fetchKonnectorToken",value:(f=(0,i.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchJSON("POST","/auth/tokens/konnectors/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),Error('oAuthClient.fetchKonnectorToken(): Could not create a token for the konnector with slug "'.concat(t,'". \n\n').concat(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(e){return f.apply(this,arguments)})},{key:"fetchSessionCode",value:(p=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchJSON("POST","/auth/session_code"));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchSessionCodeWithPassword",value:(h=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.passwordHash,a=void 0===(n=t.twoFactorToken)?void 0:n,c=void 0===(i=t.twoFactorPasscode)?void 0:i,e.abrupt("return",this.fetchJSON("POST","/auth/session_code",{passphrase:r,two_factor_token:a,two_factor_passcode:c}));case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"loginFlagship",value:(g=(0,i.default)(o.default.mark(function e(t){var r,n,a,i,c,u,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.emailVerifiedCode)?void 0:r,a=t.passwordHash,c=void 0===(i=t.twoFactorToken)?void 0:i,s=void 0===(u=t.twoFactorPasscode)?void 0:u,e.abrupt("return",this.fetchJSON("POST","/auth/login/flagship",{client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret,email_verified_code:n,passphrase:a,two_factor_token:c,two_factor_passcode:s}));case 2:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"refreshToken",value:(O=(0,i.default)(o.default.mark(function e(){var t,r,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRegistered()){e.next=2;break}throw new x;case 2:if(this.token){e.next=4;break}throw Error("No token to refresh");case 4:return t={grant_type:"refresh_token",refresh_token:this.token.refreshToken,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},e.prev=5,e.next=8,this.fetchJSONWithCurrentToken("POST","/auth/access_token",this.dataToQueryString(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 8:return r=e.sent,n=new m.default(_({refresh_token:this.token.refreshToken},r)),this.setToken(n),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(n),e.abrupt("return",n);case 15:if(e.prev=15,e.t0=e.catch(5),!this.isRevocationError(e.t0)){e.next=21;break}throw this.onRevocationChange(!0),b.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 21:if(!(y.default.EXPIRED_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN.test(e.t0.message)||y.default.INVALID_TOKEN_ALT.test(e.t0.message))){e.next=28;break}return e.next=24,this.checkForRevocation();case 24:if(!e.sent){e.next=28;break}throw b.default.warn("Client has been revoked. Please authenticate again."),e.t0;case 28:throw e.t0;case 29:case"end":return e.stop()}},e,this,[[5,15]])})),function(){return O.apply(this,arguments)})},{key:"exchangeOAuthSecret",value:function(e,t){return this.fetchJSON("POST",e+"/auth/secret_exchange",{secret:t})}},{key:"setToken",value:function(e){e?this.token=e instanceof m.default?e:new m.default(e):this.token=null}},{key:"setCredentials",value:function(e){return(0,v.default)("setCredentials is deprecated, please replace by setToken"),this.setToken(e)}},{key:"setOAuthOptions",value:function(e){this.oauthOptions=this.camelCaseOAuthData(e)}},{key:"resetClientId",value:function(){this.oauthOptions.clientID=""}},{key:"resetClient",value:function(){this.resetClientId(),this.setUri(null),this.setToken(null)}},{key:"registrationAccessTokenToAuthHeader",value:function(){if(!this.oauthOptions.registrationAccessToken)throw Error("No registration access token");return"Bearer "+this.oauthOptions.registrationAccessToken}},{key:"setPassphraseFlagship",value:function(e){var t=e.registerToken,r=e.passwordHash,n=e.hint,a=e.key,o=e.publicKey,i=e.privateKey,c=e.iterations;return this.fetchJSON("POST","/settings/passphrase/flagship",{register_token:t,passphrase:r,hint:n,key:a,public_key:o,private_key:i,iterations:c,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}})}},{key:"checkForRevocation",value:(E=(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchInformation();case 3:case 11:return e.abrupt("return",!1);case 6:if(e.prev=6,e.t0=e.catch(0),!this.isRevocationError(e.t0)){e.next=11;break}return this.onRevocationChange(!0),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return E.apply(this,arguments)})}]),S}(h.default),x=function(e){(0,d.default)(r,e);var t=w(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Client not registered or missing OAuth information";return(0,s.default)(this,r),(e=t.call(this,n)).message=n,e.name="NotRegisteredException",e}return r}((0,a.default)(Error));t.default=O},77493:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OAUTH_CLIENTS_DOCTYPE=void 0;var o=a(r(30592)),i=a(r(76729)),c=a(r(46370)),u=a(r(93889)),s=a(r(92115)),l=a(r(47783)),d=a(r(91083)),f=a(r(7184)),p=a(r(62812)),h=a(r(58156)),m=a(r(81189)),v=r(90597),y=r(42447),b=n(r(95327)),g=r(20796),_=r(21987);function w(){var e=(0,c.default)(["/settings/clients/",""]);return w=function(){return e},e}function k(){var e=(0,c.default)(["/settings/clients/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,c.default)(["/settings/clients"]);return E=function(){return e},e}var C="io.cozy.oauth.clients";t.OAUTH_CLIENTS_DOCTYPE=C;var S=(0,v.normalizeDoctypeJsonApi)(C),A=function(e){(0,d.default)(c,e);var t,r,n,a,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,p.default)(c);return e=t?Reflect.construct(r,arguments,(0,p.default)(this).constructor):r.apply(this,arguments),(0,f.default)(this,e)});function c(e){return(0,s.default)(this,c),i.call(this,C,e)}return(0,l.default)(c,[{key:"all",value:(r=(0,u.default)(o.default.mark(function e(){var t,r,n,a,i,c,u,s,l,d,f,p,m,v,_=arguments;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(t=_.length>0&&void 0!==_[0]?_[0]:{}).limit)?100:r,a=t.bookmark,i=t.keys,c={"page[limit]":n,"page[cursor]":a},u=(0,y.uri)(E()),s=b.buildURL(u,c),e.prev=5,e.next=8,this.stackClient.fetchJSON("GET",s);case 8:l=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",(0,g.dontThrowNotFoundError)(e.t0));case 14:if(d=(0,h.default)(l,"links.next",""),p=void 0!==(f=new URL("".concat(this.stackClient.uri).concat(d)).searchParams.get("page[cursor]")||void 0),!i){e.next=24;break}return m=l.data.filter(function(e){return i.includes(e.id)}).map(function(e){return S(e)}),v=x(x({},l.meta),{},{count:m.length}),e.abrupt("return",{data:m,meta:v,next:i.length>m.length&&p,bookmark:f});case 24:return e.abrupt("return",{data:l.data.map(function(e){return S(e)}),meta:l.meta,next:p,bookmark:f});case 25:case"end":return e.stop()}},e,this,[[5,11]])})),function(){return r.apply(this,arguments)})},{key:"get",value:(n=(0,u.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all({keys:[t]});case 2:r=e.sent;case 3:if(!r.next){e.next=9;break}return e.next=6,this.all({keys:[t],bookmark:r.bookmark});case 6:r=e.sent,e.next=3;break;case 9:if(!r.data.length){e.next=13;break}return e.abrupt("return",{data:S(r.data[0])});case 13:throw r.url=(0,y.uri)(k(),t),r.status="404",new _.FetchError(r,"Not Found");case 16:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,u.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,this.stackClient.fetchJSON("DELETE",(0,y.uri)(w(),r));case 3:return e.abrupt("return",{data:x(x({},S(t)),{},{_deleted:!0})});case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})}]),c}(m.default);A.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=A},771:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getPermissionsFor=void 0;var a=n(r(10464)),o=n(r(76729)),i=n(r(80539)),c=n(r(30592)),u=n(r(46370)),s=n(r(93889)),l=n(r(92115)),d=n(r(47783)),f=n(r(91083)),p=n(r(7184)),h=n(r(62812)),m=n(r(81189)),v=r(90597),y=r(79374),b=r(42447),g=n(r(1084));function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){var e=(0,u.default)(["/permissions/doctype/","/shared-by-link"]);return w=function(){return e},e}function k(){var e=(0,u.default)(["/permissions/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,u.default)(["/permissions/",""]);return E=function(){return e},e}var C=function(e){return(0,v.normalizeDoc)(e,"io.cozy.permissions")},S=function(e){(0,f.default)(T,e);var t,r,n,o,u,m,v,y,O,S,M,j,D=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,h.default)(T);return e=t?Reflect.construct(r,arguments,(0,h.default)(this).constructor):r.apply(this,arguments),(0,p.default)(this,e)});function T(){return(0,l.default)(this,T),D.apply(this,arguments)}return(0,d.default)(T,[{key:"get",value:(r=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,b.uri)(E(),t));case 2:return r=e.sent,e.abrupt("return",{data:C(r.data)});case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"create",value:(n=(0,s.default)(c.default.mark(function e(t){var r,n,a,o,u,s,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._id,t._type,n=void 0===(r=t.codes)?"code":r,a=t.ttl,o=t.tiny,u=(0,i.default)(t,["_id","_type","codes","ttl","tiny"]),(s=new URLSearchParams).append("codes",n),a&&s.append("ttl",a),o&&s.append("tiny",!0),e.next=7,this.stackClient.fetchJSON("POST","/permissions?".concat(s),{data:{type:"io.cozy.permissions",attributes:u}});case 7:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"add",value:(o=(0,s.default)(c.default.mark(function e(t,r){var n,a,o,i,u,s,l,d=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=d.length>2&&void 0!==d[2]?d[2]:{},e.t0=t._type,e.next="io.cozy.apps"===e.t0?4:"io.cozy.konnectors"===e.t0?6:"io.cozy.permissions"===e.t0?8:10;break;case 4:return a="/permissions/apps/".concat(t.slug),e.abrupt("break",11);case 6:return a="/permissions/konnectors/".concat(t.slug),e.abrupt("break",11);case 8:return a="/permissions/".concat(t._id),e.abrupt("break",11);case 10:throw Error("Permissions can only be added on existing permissions, apps and konnectors.");case 11:return o=n.expiresAt,u=(i=n.password)||""===i,s=o||""===o,e.next=16,this.stackClient.fetchJSON("PATCH",a,{data:{type:"io.cozy.permissions",attributes:x(x({permissions:r},u&&{password:i}),s&&{expires_at:o})}});case 16:return l=e.sent,e.abrupt("return",{data:C(l.data)});case 18:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"destroy",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,b.uri)(k(),e.id))}},{key:"findLinksByDoctype",value:(u=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET",(0,b.uri)(w(),t));case 2:return r=e.sent,e.abrupt("return",x(x({},r),{},{data:r.data.map(C)}));case 4:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"findApps",value:(m=(0,s.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.default.warn("PermissionCollection.findApps will be removed in next version of cozy-client. \n\n      You can use AppCollection.all() instead \n\n      or even better client.query(Q('io.cozy.apps'), {as: 'io.cozy.apps'})"),e.next=3,this.stackClient.fetchJSON("GET","/apps/");case 3:return t=e.sent,e.abrupt("return",x(x({},t),{},{data:t.data.map(function(e){return x({_id:e.id},e)})}));case 5:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"createSharingLink",value:(v=(0,s.default)(c.default.mark(function e(t){var r,n,a,o,i,u,s,l,d,f=arguments;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=f.length>1&&void 0!==f[1]?f[1]:{}).ttl,a=r.password,o=r.verbs,i=r.tiny,s=void 0===(u=r.codes)?"code":u,(l=new URLSearchParams).append("codes",s),n&&l.append("ttl",n),i&&l.append("tiny",!0),e.next=8,this.stackClient.fetchJSON("POST","/permissions?".concat(l),{data:{type:"io.cozy.permissions",attributes:x({permissions:A(t,!0,o?{verbs:o}:{})},a&&{password:a})}});case 8:return d=e.sent,e.abrupt("return",{data:C(d.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchPermissionsByLink",value:(y=(0,s.default)(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.links&&t.links.next)){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET",t.links.next);case 3:return r=e.sent,e.abrupt("return",x(x({},r),{},{data:r.data.map(C)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchAllLinks",value:(O=(0,s.default)(c.default.mark(function e(t){var r,n,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findLinksByDoctype(t._type);case 2:n=r=e.sent;case 4:if(!(n.links&&n.links.next)){e.next=11;break}return e.next=7,this.fetchPermissionsByLink(n);case 7:n=e.sent,(o=r.data).push.apply(o,(0,a.default)(n.data)),e.next=4;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"revokeSharingLink",value:(S=(0,s.default)(c.default.mark(function e(t){var r,n,a;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLinks(t);case 2:r=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(e.sent.data.filter(function(e){return P(e,t)})),e.prev=5,r.s();case 7:if((n=r.n()).done){e.next=13;break}return a=n.value,e.next=11,this.destroy(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[5,15,18,21]])})),function(e){return S.apply(this,arguments)})},{key:"getOwnPermissions",value:(M=(0,s.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.default.warn("getOwnPermissions is deprecated, please use fetchOwnPermissions instead"),e.abrupt("return",this.fetchOwnPermissions());case 2:case"end":return e.stop()}},e,this)})),function(){return M.apply(this,arguments)})},{key:"fetchOwnPermissions",value:(j=(0,s.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/permissions/self");case 2:return t=e.sent,e.abrupt("return",{data:C(t.data),included:t.included?t.included.map(C):[]});case 4:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})}]),T}(m.default),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e._id,a=e._type,o=r.verbs?r.verbs:t?["GET"]:["ALL"];return(0,y.isFile)(e)?{files:{type:"io.cozy.files",verbs:o,values:[n]}}:{collection:{type:a,verbs:o,values:[n]},files:{type:"io.cozy.files",verbs:o,values:["".concat(a,"/").concat(n)],selector:"referenced_by"}}};t.getPermissionsFor=A;var P=function(e,t){var r=t._id;return(0,y.isFile)(t)?-1!==e.attributes.permissions.files.values.indexOf(r):-1!==e.attributes.permissions.collection.values.indexOf(r)};t.default=S},95741:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.normalizeSettings=t.SETTINGS_DOCTYPE=void 0;var a=n(r(46370)),o=n(r(30592)),i=n(r(76729)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(81189)),h=n(r(1084)),m=r(42447),v=r(90597);function y(){var e=(0,a.default)(["/data/","/",""]);return y=function(){return e},e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var g="io.cozy.settings";t.SETTINGS_DOCTYPE=g;var _=(0,v.normalizeDoctypeJsonApi)(g);t.normalizeSettings=_;var w=function(e){(0,l.default)(v,e);var t,r,n,a,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(v);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function v(e){return(0,u.default)(this,v),p.call(this,g,e)}return(0,s.default)(v,[{key:"get",value:(r=(0,c.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.bitwarden"!==t){e.next=5;break}return e.next=3,this.stackClient.fetchJSON("GET","/data/io.cozy.settings/io.cozy.settings.bitwarden");case 3:return r=e.sent,e.abrupt("return",{data:_(r)});case 5:return t.startsWith("io.cozy.settings.")?n=t.substring(17):(h.default.warn("Deprecated: in next versions of cozy-client, it will not be possible to query settings with an incomplete id\n\n- Q('io.cozy.settings').getById('instance')\n+ Q('io.cozy.settings').getById('io.cozy.settings.instance')"),n=t),e.next=8,this.stackClient.fetchJSON("GET","/settings/".concat(n));case 8:return a=e.sent,e.abrupt("return",{data:_(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:"/settings/".concat(n)},a.data))});case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"update",value:(n=(0,c.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("io.cozy.settings.instance"!==t._id){e.next=6;break}return e.next=3,this.stackClient.fetchJSON("PUT","/settings/instance",{data:t});case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,this.stackClient.fetchJSON("PUT",(0,m.uri)(y(),this.doctype,t._id),t);case 8:r=e.sent;case 9:return e.abrupt("return",{data:_(r.data)});case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"updateLastSynced",value:(a=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.stackClient.fetchJSON("POST","/settings/synchronized"));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),v}(p.default);w.normalizeDoctype=v.normalizeDoctypeJsonApi,t.default=w},6926:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getSharingRules=t.BITWARDEN_CIPHERS_DOCTYPE=t.BITWARDEN_ORGANIZATIONS_DOCTYPE=t.SHARING_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(76729)),i=n(r(46370)),c=n(r(93889)),u=n(r(92115)),s=n(r(47783)),l=n(r(91083)),d=n(r(7184)),f=n(r(62812)),p=n(r(81189)),h=r(90597),m=r(79374),v=r(42447);function y(){var e=(0,i.default)(["/sharings/","/recipients"]);return y=function(){return e},e}function b(){var e=(0,i.default)(["/sharings/","/recipients/self"]);return b=function(){return e},e}function g(){var e=(0,i.default)(["/sharings/","/groups/",""]);return g=function(){return e},e}function _(){var e=(0,i.default)(["/sharings/","/recipients/",""]);return _=function(){return e},e}function w(){var e=(0,i.default)(["/sharings/","/recipients"]);return w=function(){return e},e}function k(){var e=(0,i.default)(["/sharings/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,i.default)(["/sharings/doctype/","?shared_docs=",""]);return E=function(){return e},e}var C="io.cozy.sharings";t.SHARING_DOCTYPE=C;var S="com.bitwarden.organizations";t.BITWARDEN_ORGANIZATIONS_DOCTYPE=S;var A="com.bitwarden.ciphers";t.BITWARDEN_CIPHERS_DOCTYPE=A;var P=(0,h.normalizeDoctypeJsonApi)(C),M=function(e){(0,l.default)(m,e);var t,r,n,o,i,p,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,f.default)(m);return e=t?Reflect.construct(r,arguments,(0,f.default)(this).constructor):r.apply(this,arguments),(0,d.default)(this,e)});function m(){return(0,u.default)(this,m),h.apply(this,arguments)}return(0,s.default)(m,[{key:"findByDoctype",value:(r=(0,c.default)(a.default.mark(function e(t){var r,n,o,i=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=(i.length>1&&void 0!==i[1]?i[1]:{}).withSharedDocs)||r,e.next=3,this.stackClient.fetchJSON("GET",(0,v.uri)(E(),t,n));case 3:return o=e.sent,e.abrupt("return",x(x({},o),{},{data:o.data.map(P)}));case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"get",value:(n=(0,c.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,v.uri)(k(),t),e.next=3,this.stackClient.fetchJSON("GET",r);case 3:return n=e.sent,e.abrupt("return",{data:P(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"fetchSharedDrives",value:(o=(0,c.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stackClient.fetchJSON("GET","/sharings/drives");case 2:return t=e.sent.data,e.abrupt("return",{data:t.map(P)});case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"create",value:(i=(0,c.default)(a.default.mark(function e(t){var r,n,o,i,c,u,s,l,d,f,p,h,m,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,n=t.description,o=t.previewPath,i=t.rules,u=void 0===(c=t.recipients)?[]:c,l=void 0===(s=t.readOnlyRecipients)?[]:s,d=t.openSharing,f=t.appSlug,p=t.sharedDrive,h={description:n,preview_path:o,open_sharing:d,rules:i||j(r,{sharedDrive:p})},m={},f&&(m.app_slug=f),p&&(m.drive=p),e.next=7,this.stackClient.fetchJSON("POST","/sharings/",{data:{type:"io.cozy.sharings",attributes:x(x({},h),m),relationships:x(x({},u.length>0&&{recipients:{data:u.map(B)}}),l.length>0&&{read_only_recipients:{data:l.map(B)}})}});case 7:return v=e.sent,e.abrupt("return",{data:P(v.data)});case 9:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getDiscoveryLink",value:function(e,t,r){var n=(r||{}).shortcut,a=new URLSearchParams;return a.append("sharecode",t),n&&a.append("shortcut",!0),this.stackClient.fullpath("/sharings/".concat(e,"/discovery?").concat(a))}},{key:"addRecipients",value:(p=(0,c.default)(a.default.mark(function e(t){var r,n,o,i,c,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,o=void 0===(n=t.recipients)?[]:n,c=void 0===(i=t.readOnlyRecipients)?[]:i,e.next=3,this.stackClient.fetchJSON("POST",(0,v.uri)(w(),r._id),{data:{type:"io.cozy.sharings",id:r._id,relationships:x(x({},o.length>0&&{recipients:{data:o.map(B)}}),c.length>0&&{read_only_recipients:{data:c.map(B)}})}});case 3:return u=e.sent,e.abrupt("return",{data:P(u.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"revokeRecipient",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(_(),e._id,t))}},{key:"revokeGroup",value:function(e,t){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(g(),e._id,t))}},{key:"revokeSelf",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(b(),e._id))}},{key:"revokeAllRecipients",value:function(e){return this.stackClient.fetchJSON("DELETE",(0,v.uri)(y(),e._id))}}]),m}(p.default);M.normalizeDoctype=h.normalizeDoctypeJsonApi;var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.sharedDrive?N(e):(0,m.isFile)(e)?R(e):e._type===S?F(e):D(e)};t.getSharingRules=j;var D=function(e){var t=e._id,r=e._type;return[x({title:"collection",doctype:r,values:[t]},I()),x({title:"items",doctype:"io.cozy.files",values:["".concat(r,"/").concat(t)],selector:"referenced_by"},T())]},T=function(){return{add:"sync",update:"sync",remove:"sync"}},I=function(){return{update:"sync",remove:"revoke"}},R=function(e){var t=e._id;return[x({title:e.name,doctype:"io.cozy.files",values:[t]},L(e))]},N=function(e){var t=e._id;return[{title:e.name,doctype:"io.cozy.files",values:[t],add:"none",update:"none",remove:"none"}]},L=function(e){return(0,m.isDirectory)(e)?{add:"sync",update:"sync",remove:"sync"}:{update:"sync",remove:"revoke"}},F=function(e){var t=e._id;return[{title:e.name,doctype:S,values:[t],add:"sync",update:"sync",remove:"revoke"},{title:"Ciphers",doctype:A,values:[t],add:"sync",update:"sync",remove:"sync",selector:"organization_id"}]},B=function(e){return{id:e._id,type:e._type}};t.default=M},88213:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHORTCUTS_DOCTYPE=void 0;var a=n(r(30592)),o=n(r(46370)),i=n(r(93889)),c=n(r(92115)),u=n(r(47783)),s=n(r(91083)),l=n(r(7184)),d=n(r(62812)),f=n(r(76729)),p=n(r(81189)),h=r(90597),m=r(42447),v=r(36951);function y(){var e=(0,o.default)(["/shortcuts/",""]);return y=function(){return e},e}function b(){var e=(0,o.default)(["/shortcuts"]);return b=function(){return e},e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,f.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="io.cozy.files.shortcuts";t.SHORTCUTS_DOCTYPE=w;var k=(0,h.normalizeDoctypeJsonApi)(w),O=function(e){return _(_({},k(e)),{},{_id:e._id})},x=function(e){(0,s.default)(f,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(f);return e=t?Reflect.construct(r,arguments,(0,d.default)(this).constructor):r.apply(this,arguments),(0,l.default)(this,e)});function f(e){return(0,c.default)(this,f),o.call(this,w,e)}return(0,u.default)(f,[{key:"create",value:(r=(0,i.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type||(t.type=w),!(!t.name||!t.name.trim()||!t.url||!t.dir_id)){e.next=3;break}throw Error("you need at least a name, an url and a dir_id attributes to create a shortcut");case 3:if("."!==(r=t.name.trim())&&".."!==r){e.next=6;break}throw Error("Invalid filename: ".concat(r));case 6:if(!(n=(0,v.getIllegalCharacters)(r)).length){e.next=9;break}throw Error("Invalid filename containing illegal character(s): ".concat(n));case 9:return o=(0,m.uri)(b()),e.next=12,this.stackClient.fetchJSON("POST",o,{data:{attributes:t,type:"io.cozy.files.shortcuts"}});case 12:return i=e.sent,e.abrupt("return",{data:O(i.data)});case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"get",value:(n=(0,i.default)(a.default.mark(function e(t){var r,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,m.uri)(y(),t),e.next=3,this.stackClient.fetchJSON("GET",r);case 3:return n=e.sent,e.abrupt("return",{data:O(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),f}(p.default);x.normalizeDoctype=h.normalizeDoctypeJsonApi,t.default=x},96446:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isForAccount=t.isForKonnector=t.normalizeTrigger=t.TRIGGERS_DOCTYPE=t.JOBS_DOCTYPE=void 0;var o=a(r(80539)),i=a(r(76729)),c=a(r(46370)),u=a(r(30592)),s=a(r(93889)),l=a(r(92115)),d=a(r(47783)),f=a(r(2695)),p=a(r(91083)),h=a(r(7184)),m=a(r(62812)),v=n(r(20796)),y=r(90597),b=r(6281),g=r(42447),_=a(r(81189));function w(){var e=(0,c.default)(["/jobs/triggers/","/launch"]);return w=function(){return e},e}function k(){var e=(0,c.default)(["/jobs/triggers/",""]);return k=function(){return e},e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){var e=(0,c.default)(["/jobs/triggers/",""]);return E=function(){return e},e}function C(){var e=(0,c.default)(["/jobs/triggers"]);return C=function(){return e},e}r(21987),t.JOBS_DOCTYPE="io.cozy.jobs";var S="io.cozy.triggers";t.TRIGGERS_DOCTYPE=S;var A=(0,y.normalizeDoctypeJsonApi)(S);t.normalizeTrigger=A,t.isForKonnector=function(e,t){return"konnector"===e.worker&&e.message.konnector==t},t.isForAccount=function(e,t){return e.message.account==t};var P=function(e,t){var r=new URLSearchParams;return e&&(Array.isArray(e.$in)?r.set("Worker",e.$in.join(",")):r.set("Worker",e)),t&&(Array.isArray(t.$in)?r.set("Type",t.$in.join(",")):r.set("Type",t)),r.toString()},M=function(e){(0,p.default)(M,e);var t,r,n,a,i,c,y,_,O=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,m.default)(M);return e=t?Reflect.construct(r,arguments,(0,m.default)(this).constructor):r.apply(this,arguments),(0,h.default)(this,e)});function M(e){return(0,l.default)(this,M),O.call(this,S,e)}return(0,d.default)(M,[{key:"all",value:(r=(0,s.default)(u.default.mark(function e(){var t,r=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]&&r[0],e.prev=1,e.next=4,this.stackClient.fetchJSON("GET","/jobs/triggers");case 4:return t=e.sent,e.abrupt("return",{data:t.data.map(function(e){return A(e)}),meta:{count:t.data.length},next:!1,skip:0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return r.apply(this,arguments)})},{key:"create",value:(n=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.uri)(C()),e.next=3,this.stackClient.fetchJSON("POST",r,{data:{attributes:t}});case 3:return n=e.sent,e.abrupt("return",{data:A(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"destroy",value:(a=(0,s.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._id){e.next=3;break}throw Error("TriggerCollection.destroy needs a document with an _id");case 3:return e.next=5,this.stackClient.fetchJSON("DELETE",(0,g.uri)(E(),r));case 5:return e.abrupt("return",{data:A(x(x({},t),{},{_deleted:!0}))});case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"find",value:(i=(0,s.default)(u.default.mark(function e(){var t,r,n,a,i,c,s=arguments;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=s.length>1&&void 0!==s[1]?s[1]:{},n=t.worker,a=t.type,!(0===Object.keys((0,o.default)(t,["worker","type"])).length&&!r.partialFilter)){e.next=18;break}return i="/jobs/triggers?".concat(P(n,a)),e.prev=6,e.next=9,this.stackClient.fetchJSON("GET",i);case 9:return c=e.sent,e.abrupt("return",{data:c.data.map(function(e){return A(e)}),meta:{count:c.data.length},next:!1,skip:0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",(0,v.dontThrowNotFoundError)(e.t0));case 16:e.next=19;break;case 18:return e.abrupt("return",(0,f.default)((0,m.default)(M.prototype),"find",this).call(this,t,r));case 19:case"end":return e.stop()}},e,this,[[6,13]])})),function(){return i.apply(this,arguments)})},{key:"get",value:(c=(0,s.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.default.get(this.stackClient,(0,g.uri)(k(),t),{normalize:A}));case 1:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"launch",value:(y=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.uri)(w(),t._id),e.next=3,this.stackClient.fetchJSON("POST",r);case 3:return n=e.sent,e.abrupt("return",{data:(0,b.normalizeJob)(n.data)});case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"update",value:(_=(0,s.default)(u.default.mark(function e(t){var r,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=u.default.keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}if(["_id","_rev","_type","arguments","message","cozyMetadata"].includes(e.t1.value)){e.next=5;break}throw Error("TriggerCollection.update only works for 'arguments', and 'message' attributes.");case 5:e.next=1;break;case 7:return r=x(x({},t.arguments?{arguments:t.arguments}:{}),t.message?{message:t.message}:{}),e.next=10,this.stackClient.fetchJSON("PATCH","/jobs/triggers/".concat(t._id),{data:{attributes:r}});case 10:return n=e.sent,e.abrupt("return",{data:A(n.data)});case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})}]),M}(_.default);M.normalizeDoctype=y.normalizeDoctypeJsonApi,t.default=M},21987:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.default=void 0;var a=n(r(92115)),o=n(r(61023)),i=n(r(91083)),c=n(r(7184)),u=n(r(62812)),s=n(r(77497)),l=/the client must be registered/;t.default={EXPIRED_TOKEN:/Expired token/,CLIENT_NOT_FOUND:/Client not found/,INVALID_TOKEN:/Invalid JWT token/,INVALID_TOKEN_ALT:/Invalid token/,UNREGISTERED_CLIENT:l};var d=/invalid_token/,f=/access_token_expired/,p=function(e){var t,r=null==(t=e.headers)?void 0:t.get("www-authenticate");if(r){if(f.test(r))return"Expired token";if(d.test(r))return"Invalid token"}};t.FetchError=function(e){(0,i.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(n);return e=t?Reflect.construct(r,arguments,(0,u.default)(this).constructor):r.apply(this,arguments),(0,c.default)(this,e)});function n(e,t){if((0,a.default)(this,n),c=r.call(this),null==(i=Error.captureStackTrace)||i.call(Error,(0,o.default)(c),c.constructor),c.name="FetchError",c.response=e,c.url=e.url,c.status=e.status,c.reason=t,null===t)throw Error("FetchError received a ".concat(e.status," error without a Response Body when calling ").concat(e.url));var i,c,u=p(e);return Object.defineProperty((0,o.default)(c),"message",{value:("string"==typeof t.error&&l.test(t.error)?t.error:void 0)||t.message||u||("string"==typeof t?t:JSON.stringify(t))}),c}return n}((0,s.default)(Error))},79934:function(e,t,r){"use strict";var n,a,o=r(78965),i=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.getIconURL=t.default=t._getIconURL=void 0;var c=i(r(30592)),u=i(r(93889));r(42867);var s=o(r(9234));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e,t,r,n){if(!r)throw Error("Cannot fetch icon: missing domain");var a=f(e,t,r,n);if(!a)throw Error("Cannot get icon source for app ".concat(e.name));return a},f=function(e,t,r,n){var a=e&&e.links&&e.links.icon||p(e,t);return a?"".concat(n,"//").concat(r).concat(a):null},p=function(e,t){return t?"/registry/".concat(t,"/icon"):e&&e.latest_version&&e.latest_version.version&&"/registry/".concat(e.slug,"/").concat(e.latest_version.version,"/icon")},h={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},m=function(e){if(!e.icon)throw Error("".concat(e.name,": Cannot detect icon mime type since app has no icon"));var t=e.icon.split(".").pop();if(!t)throw Error("".concat(e.name,": Unable to detect icon mime type from extension (").concat(e.icon,")"));return t},v=(n=(0,u.default)(c.default.mark(function e(t,r){var n,a,o,i,u;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e))){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw o}}}}(t),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=18;break}return i=o.value,e.prev=5,e.next=8,i();case 8:return u=e.sent,r&&r(u),e.abrupt("return",u);case 13:e.prev=13,e.t0=e.catch(5),n=e.t0;case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),a.e(e.t1);case 23:return e.prev=23,a.f(),e.finish(23);case 26:throw n;case 27:case"end":return e.stop()}},e,null,[[1,20,23,26],[5,13]])})),function(e,t){return n.apply(this,arguments)}),y=(a=(0,u.default)(c.default.mark(function e(t,r){var n,a,o,i,u,s,l,f,p,y,b,g,_,w;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.type,a=r.slug,o=r.appData,u=void 0===(i=r.priority)?"stack":i,!t.oauthOptions){e.next=29;break}return s=[function(){return t.fetch("GET","/".concat(n,"s/").concat(a,"/icon"))},function(){return t.fetch("GET","/registry/".concat(a,"/icon"))}],"registry"===u&&s.reverse(),e.next=6,v(s,function(e){if(!e.ok)throw Error("Error while fetching icon ".concat(e.statusText))});case 6:return l=e.sent,e.next=9,l.blob();case 9:if((f=e.sent).type){e.next=26;break}if(y=[function(){var e,r;return e=n,r=a,t.fetchJSON("GET","/".concat(e,"s/").concat(r)).then(function(e){return e.data.attributes})},function(){var e;return e=a,t.fetchJSON("GET","/registry/".concat(e)).then(function(e){return e.latest_version.manifest})}],"registry"===u&&y.reverse(),e.t1=o,e.t1){e.next=18;break}return e.next=17,v(y);case 17:e.t1=e.sent;case 18:if(e.t0=e.t1,e.t0){e.next=21;break}e.t0={};case 21:if(h[b=m(p=e.t0)]){e.next=25;break}throw Error('Unknown image extension "'.concat(b,'" for app ').concat(p.name));case 25:f=new Blob([f],{type:h[b]});case 26:return e.abrupt("return",URL.createObjectURL(f));case 29:return e.prev=29,_=(g=new URL(t.uri)).host,w=g.protocol,e.abrupt("return",d(o,a,_,w));case 34:throw e.prev=34,e.t2=e.catch(29),Error("Cannot fetch icon: invalid stackClient.uri: ".concat(e.t2.message));case 37:case"end":return e.stop()}},e,null,[[29,34]])})),function(e,t){return a.apply(this,arguments)});t._getIconURL=y;var b=function(){return y.apply(this,arguments).catch(function(){return new s.ErrorReturned})};t.getIconURL=b,t.default=(0,s.default)(b,{maxDuration:3e5,key:function(e,t){var r=t.type,n=t.slug,a=t.priority;return e.uri+NaN+r+":"+n+":"+a}})},36951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIllegalCharacters=void 0,t.getIllegalCharacters=function(e){var t=e.match(/\/|\x00|\n|\r/g);return t?t.join(" "):""}},46846:function(e,t,r){"use strict";var n=r(78965),a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"OAuthClient",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return c.FetchError}}),Object.defineProperty(t,"normalizeDoc",{enumerable:!0,get:function(){return u.normalizeDoc}});var o=a(r(45308)),i=a(r(11126)),c=n(r(21987)),u=r(90597)},3961:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1084));t.default=function(){a.default.warn.apply(a.default,arguments)}},1084:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(47285)),o=(0,a.default)("cozy-stack-client");a.default.suggest.deny("cozy-stack-client","info"),t.default=o},18366:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.makeOperatorsExplicit=t.isMatchingIndex=t.getIndexFields=t.transformSort=t.getIndexNameFromFields=t.makeKeyFromPartialFilter=t.normalizeDesignDoc=void 0;var a=n(r(10464)),o=n(r(13135)),i=n(r(76729)),c=n(r(912)),u=n(r(58156)),s=n(r(2404)),l=n(r(23805));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.normalizeDesignDoc=function(e){var t=e._id||e.id;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:t,_id:t},e.doc)};var f=function e(t){return"object"!=typeof t||null===t?String(t):Object.entries(t).map(function(t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return Array.isArray(a)&&a.every(function(e){return"string"==typeof e})?"".concat(n,"_(").concat(a.join("_"),")"):Array.isArray(a)?"(".concat(a.map(function(t){return"".concat(e(t))}).join(")_".concat(n,"_(")),")"):"object"==typeof a?"".concat(n,"_").concat(e(a)):"".concat(n,"_").concat(a)}).join(")_and_(")};t.makeKeyFromPartialFilter=f,t.getIndexNameFromFields=function(e,t){var r="by_".concat(e.join("_and_"));return t?"".concat(r,"_filter_(").concat(f(t),")"):r},t.transformSort=function(e){if(!e||Array.isArray(e))return e;throw Error('Passing an object to the "sort" is not supported')},t.getIndexFields=function(e){var t=e.selector,r=e.partialFilter,n=e.sort;return Array.from(new Set([].concat((0,a.default)((void 0===n?[]:n).map(function(e){return(0,c.default)(Object.keys(e))})),(0,a.default)(t?Object.keys(t):[]),(0,a.default)(r?Object.keys(r):[]))))},t.isMatchingIndex=function(e,t,r){var n=Object.keys((0,u.default)(e,"views"))[0],a=Object.keys((0,u.default)(e,"views.".concat(n,".map.fields")));if((0,s.default)(a,t)){var o=(0,u.default)(e,"views.".concat(n,".map.partial_filter_selector"));if(!r&&!o)return!0;var i=p(null!=r?r:{});if((0,s.default)(i,o))return!0}return!1};var p=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.entries(t).reduce(function(t,n){var a,c=(0,o.default)(n,2),u=c[0],s=c[1];return"$nor"===u?t.$and=s.map(function(e){return Object.entries(e).reduce(function(e,t){var r=(0,o.default)(t,2),n=r[0],a=r[1];return"string"==typeof a?e[n]={$ne:a}:e[n]=p(a,!0),e},{})}).sort(h):null!=(a=s.$or)&&a.every(function(e){return"string"==typeof e})?t.$or=s.$or.map(function(t){return e((0,i.default)({},u,t),r)}).sort(h):Array.isArray(s)&&s.every(l.default)?t[u]=s.map(function(t){return e(t,r)}).sort(h):(0,l.default)(s)&&!Array.isArray(s)?t[u]=e(s,r):r&&"$eq"===u?t.$ne=s:u.startsWith("$")?t[u]=s:t[u]={$eq:s},t},{}),a=Object.keys(n).sort();return 1===a.length?n:{$and:a.map(function(e){return(0,i.default)({},e,n[e])})}};t.makeOperatorsExplicit=p;var h=function(e,t){var r=Object.keys(e)[0],n=Object.keys(t)[0];return r.localeCompare(n)}},9234:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReturned=t.default=void 0;var a=n(r(92115)),o=n(r(91083)),i=n(r(7184)),c=n(r(62812)),u=function(e){(0,o.default)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,c.default)(n);return e=t?Reflect.construct(r,arguments,(0,c.default)(this).constructor):r.apply(this,arguments),(0,i.default)(this,e)});function n(){return(0,a.default)(this,n),r.apply(this,arguments)}return n}((0,n(r(77497)).default)(String));t.ErrorReturned=u;var s=function(e,t){for(var r=Date.now(),n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];r-e[o].date>t&&delete e[o]}};t.default=function(e,t){var r={};return function(){var n=t.key.apply(null,arguments);s(r,t.maxDuration);var a=r[n];if(a)return a.result;var o=e.apply(this,arguments);return r[n]={result:o,date:Date.now()},"object"==typeof o&&"function"==typeof o.then&&o.then(function(e){e instanceof u&&delete r[n]}).catch(function(e){delete r[n]}),o}}},90597:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDoc=c,t.normalizeDoctypeJsonApi=function(e){return function(t,r){var n=c(t,e);return i(i({},n),n.attributes||{})}},t.normalizeDoctypeRawApi=function(e){return function(t,r){var n=c(r,e);return i(i({},n),n.attributes||{})}};var a=n(r(76729));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e._id||e.id;return i({id:r,_id:r,_type:t},e)}},22428:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(30592)),o=n(r(93889)),i=n(r(92115)),c=n(r(47783));t.default=function(){var e;function t(){(0,i.default)(this,t),this.pending={}}return(0,c.default)(t,[{key:"exec",value:(e=(0,o.default)(a.default.mark(function e(t,r){var n,o,i,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),(o=this.pending[n])?i=o:(i=t(),this.pending[n]=i),e.prev=3,e.next=6,i;case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,this.pending[n]=null,e.finish(8);case 11:case"end":return e.stop()}},e,this,[[3,,8,11]])})),function(t,r){return e.apply(this,arguments)})},{key:"get",value:function(e){var t=e(),r=this.pending[t];return r||null}}]),t}()},95327:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.buildURL=t.encode=void 0;var a=n(r(13135)),o=n(r(71086)),i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)?"["+t.map(function(t){return e(t,!0)}).join(",")+"]":r?encodeURIComponent('"'.concat(t,'"')):encodeURIComponent(t)},c=function(e){return Object.entries(e).map(function(e){var t=(0,a.default)(e,2),r=t[0],n=i(t[1]);return"".concat(r,"=").concat(n)}).join("&")};t.encode=c,t.buildURL=function(e,t){var r=c((0,o.default)(t));return r?"".concat(e,"?").concat(r):e}},42867:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},42447:function(e,t,r){"use strict";var n=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.joinPath=function(e,t){return"".concat(e).concat(e.endsWith("/")?"":"/").concat(t)},t.sharedDriveApiPrefix=t.encodePath=t.forceDownload=t.formatBytes=t.slugify=t.sleep=t.attempt=t.uri=void 0;var a=n(r(46370));function o(){var e=(0,a.default)(["/sharings/drives/",""]);return o=function(){return e},e}var i=function(e){for(var t=[e[0]],r=0;r<(arguments.length<=1?0:arguments.length-1);r++)t.push(encodeURIComponent(r+1<1||arguments.length<=r+1?void 0:arguments[r+1])+e[r+1]);return t.join("")};t.uri=i,t.attempt=function(e){return e.then(function(){return!0}).catch(function(){return!1})},t.sleep=function(e,t){return new Promise(function(r){setTimeout(r,e,t)})},t.slugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t.formatBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},t.forceDownload=function(e,t){var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},t.encodePath=function(e){return e.split("/").map(function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}).join("/")},t.sharedDriveApiPrefix=function(e){return i(o(),e)}},78866:function(e,t,r){"use strict";var n,a=r(36126);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldXMLHTTPRequestBeUsed=t.fetchWithXMLHttpRequest=void 0;var o=a(r(30592)),i=a(r(13135)),c=a(r(93889)),u=a(r(50104));n=(0,c.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,n){var a=new XMLHttpRequest;r.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",r.onUploadProgress,!1),a.onload=function(){4==this.readyState?e(this):n(this)},a.onerror=function(e){n(e)},a.open(r.method,t,!0),a.withCredentials=!0;for(var o=0,c=Object.entries(r.headers);o<c.length;o++){var u=(0,i.default)(c[o],2),s=u[0],l=u[1];a.setRequestHeader(s,l)}a.send(r.body)});case 2:return n=e.sent,e.abrupt("return",{headers:new Headers(n.getAllResponseHeaders().split("\r\n").map(function(e){return e.split(":",2)}).filter(function(e){return 2==e.length})),ok:n.status>=200&&n.status<300,text:function(){var e=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.responseText);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),json:function(){var e=(0,c.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(n.responseText));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),status:n.status,statusText:n.statusText});case 4:case"end":return e.stop()}},e)})),t.fetchWithXMLHttpRequest=function(e,t){return n.apply(this,arguments)};var s=(0,u.default)(function(){var e=new XMLHttpRequest;return"onload"in e&&"onprogress"in e});t.shouldXMLHTTPRequestBeUsed=function(e,t,r){return!!r.onUploadProgress&&s()}},3144:function(e){!function(){"use strict";var t=function(){function e(){}e.prototype=Object.create(null);var t={}.hasOwnProperty,r=/\s+/;return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=new e;!function e(n,a){for(var o=a.length,i=0;i<o;++i)!function(n,a){if(a){var o=typeof a;if("string"===o)for(var i=a.split(r),c=i.length,u=0;u<c;++u)n[i[u]]=!0;else Array.isArray(a)?e(n,a):"object"===o?!function(e,r){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e[r.toString()]=!0;return}for(var n in r)t.call(r,n)&&(e[n]=!!r[n])}(n,a):"number"===o&&(n[a]=!0)}}(n,a[i])}(i,a);var c=[];for(var u in i)i[u]&&c.push(u);return c.join(" ")}}();e.exports?(t.default=t,e.exports=t):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()},4103:function(e){!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)){if(a.length){var i=r.apply(null,a);i&&e.push(i)}}else if("object"===o){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return r}):window.classNames=r}()},41127:function(e,t,r){"use strict";r.d(t,{A:()=>I});var n=r(95590),a=r(5556),o=r.n(a),i=r(96540),c=r(36040),u=r(90774),s=r(39274),l=r(24242),d=r(82096),f=(0,d.A)({root:{border:"none !important","&:hover":{border:"none"}}}),p=(0,d.A)({root:{display:"block",height:"100%",flex:"1 1 0",padding:0,border:"none !important","&:hover":{border:"none"}},label:{textTransform:"none"},startIcon:{marginRight:0,marginBottom:2}}),h=(0,i.forwardRef)(function(e,t){var r=e.action,n=e.disabled,a=e.onClick,o=(0,l.default)().isMobile,d=(o?p:f)();return i.createElement(c.default,{ref:t,classes:d,variant:"secondary",startIcon:i.createElement(u.default,{icon:r.icon}),label:o?i.createElement(s.default,{variant:"caption",color:n?"inherit":"textPrimary"},r.label):r.label,disabled:n,onClick:a})});h.displayName="ResponsiveAction";let m=(0,r(28485).A)({en:{selected:"%{smart_count} item selected |||| %{smart_count} items selected",selected_light:"%{smart_count} item |||| %{smart_count} items"},fr:{selected:"%{smart_count} \xe9l\xe9ment s\xe9lectionn\xe9 |||| %{smart_count} \xe9l\xe9ments s\xe9lectionn\xe9s",selected_light:"%{smart_count} \xe9l\xe9ment |||| %{smart_count} \xe9l\xe9ments"}});var v=r(9193),y=r(92372),b=r(6628),g=r(93583),_=function(){return{name:"others",label:(0,(0,b.q1)().t)("others"),icon:g.A}},w=r(42016);let k=r(61434).A;var O=r(89004),x=r(74710),E=r(63583),C=r(53811),S=r(22095);let A=r(35376).A;var P=r(95926),M=r(33616),j=(0,d.A)({appBar:function(e){var t=e.isMobile;return{width:t?"100%":"calc(100% - 44px)",right:t?"0":"22px",height:t?"4rem":"3rem",top:t?"auto":0,bottom:t?0:void 0,zIndex:"var(--zIndex-selection)",borderRadius:t?"16px 16px 0 0":"0 0 16px 16px",boxShadow:t?"var(--shadow8)":"var(--shadow1)"}},toolbar:{height:"inherit"},selectedCount:function(e){return{display:"flex",flexShrink:0,position:"relative",height:"inherit",minWidth:"2rem",alignItems:"center",justifyContent:"center",marginRight:"0.5rem",gap:e.isMobile?void 0:"1rem","&:after":{content:'""',display:"block",position:"absolute",right:"-0.5rem",borderTop:"0.5rem solid transparent",borderBottom:"0.5rem solid transparent",borderLeft:"0.5rem solid var(--primaryColor)"}}},desktopCloseButton:{position:"absolute",right:0},actionsContainer:function(e){var t=e.isMobile;return{display:"flex",height:"100%",flexGrow:1,paddingRight:48*!t,alignItems:"center",justifyContent:t?"center":"end"}}}),D=function(e){var t=e.docs,r=e.onClose,n=(0,l.default)().isMobile,a=(0,M.useI18n)().t;return n?i.createElement(O.default,{className:"u-flex u-flex-items-center u-h-100 u-pr-1",borderRadius:"15px 0 0 0",bgcolor:"primary.main",color:"primary.contrastText"},i.createElement(x.default,{color:"inherit",onClick:r},i.createElement(u.default,{icon:S.A})),t.length):i.createElement("div",{className:"u-flex u-flex-items-center u-h-100 u-ph-1"},i.createElement(u.default,{className:"u-mr-1",icon:E.A,color:"var(--iconTextColor)"}),i.createElement(s.default,{variant:"body1",component:"span"},a("selected_light",t.length)))},T=function(e){var t=e.actions,r=e.docs,a=e.autoClose,o=e.maxDesktopActions,c=e.onClose,s=(0,l.default)().isMobile,d=(0,i.useRef)(),f=(0,i.useState)(!1),p=(0,n.A)(f,2),m=p[0],b=p[1],O=j({isMobile:s}),E=!!c&&!s,S=s?4:o,M=(0,i.useMemo)(function(){return(0,y.Bn)(t,r)},[t,r]),T=Math.max(1,M.length>S?S-1:S),I=M.slice(0,T),R=M.slice(T),N=(0,y.gW)([_]),L=function(){a&&(null==c||c())};return i.createElement(P.default,{variant:"inverted"},i.createElement(k,{className:O.appBar,position:"fixed",color:"inherit"},i.createElement(A,{className:O.toolbar,variant:s?"regular":"dense",disableGutters:!0},E&&i.createElement(x.default,{className:O.desktopCloseButton,onClick:c},i.createElement(u.default,{icon:C.A})),i.createElement(D,{docs:r,onClose:c}),i.createElement("div",{className:O.actionsContainer},i.createElement(w.A,{docs:r,component:h,actions:I,onClick:L}),R.length>0&&i.createElement(i.Fragment,null,s?i.createElement(w.A,{docs:r,component:h,actions:N,onClick:function(){return b(!0)}}):i.createElement(x.default,{ref:d,onClick:function(){return b(!0)}},i.createElement(u.default,{icon:g.A})),i.createElement(v.A,{ref:d,open:m,docs:r,actions:R,anchorOrigin:{vertical:"bottom",horizontal:"left"},componentsProps:{actionsItems:{onClick:L}},onClose:function(){return b(!1)}}))))))};T.propTypes={maxDesktopActions:o().number,autoClose:o().bool},T.defaultProps={maxDesktopActions:5,autoClose:!0};let I=m(T)},41302:function(e,t,r){"use strict";r.d(t,{_:()=>_});var n=r(68523),a=r(33259),o=r(40160),i=r(30592),c=r.n(i),u=r(96540),s=r(39046),l=r(6628),d=r(90774),f=r(37149),p=r(72637),h=r(38143),m=r(15278);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e,t){var r=(0,u.forwardRef)(function(r,n){return u.createElement(m.A,(0,o.A)({},r,{ref:n}),u.createElement(p.default,null,u.createElement(d.default,{icon:t})),u.createElement(h.default,{primary:e}))});return r.displayName="addToFavorites",r},_=function(e){var t,r=e.showAlert,n=(0,l.q1)().t,o=f.A,i=n("favorites.add.label");return{name:"addToFavorites",icon:o,label:i,displayCondition:function(e){return e.length>0&&e.every(function(e){var t;return!(null!=(t=e.cozyMetadata)&&t.favorite)})},Component:g(i,o),action:(t=(0,a.A)(c().mark(function e(t,a){var o,i,u,l;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=a.client,e.prev=1,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(t),e.prev=3,i.s();case 5:if((u=i.n()).done){e.next=11;break}return l=u.value,e.next=9,o.save(y(y({},l),{},{cozyMetadata:y(y({},l.cozyMetadata),{},{favorite:!0})}));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:r({message:n("favorites.add.success",{filename:(0,s.splitFilename)(t[0]).filename,smart_count:t.length}),severity:"success"}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(1),r({message:n("favorites.error"),severity:"error"});case 26:case"end":return e.stop()}},e,null,[[1,23],[3,13,16,19]])})),function(e,r){return t.apply(this,arguments)})}}},92372:function(e,t,r){"use strict";r.d(t,{Bn:()=>i,gW:()=>a,u5:()=>o});var n=r(68523);r(30592),r(78575);var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter(Boolean).map(function(e){var r=e(t),a=r.name||e.name;return(0,n.A)({},a,r)})},o=function(e){return Object.keys(e)[0]},i=function(e,t){var r="";return e.filter(function(e){var r=Object.values(e)[0];return!r.displayCondition||r.displayCondition(t)}).map(function(e){var t=o(e);return r===t?(r=t,null):(r=t,e)}).filter(Boolean).filter(function(e,t,r){return"hr"!==o(e)&&"divider"!==o(e)||t!==r.length-1})}},6628:function(e,t,r){"use strict";r.d(t,{q1:()=>i});var n=r(39149),a=r(28485),o={en:{menu:"Menu",viewInContacts:"View in Cozy Contacts",viewInDrive:"Open",modify:"Modify",emailTo:"Send an email",smsTo:"Send a message",print:"Print",download:"Download",favorites:{add:{label:"Add to favorites",success:"%{filename} has been added to favorites |||| These items have been added to favorites"},remove:{label:"Remove from favorites",success:"%{filename} has been removed from favorites |||| These items have been removed from favorites"},error:"An error occurred, please try again."},others:"Others",editAttribute:"Edit attribute",copyToClipboard:{copy:"Copy",success:"Copied to clipboard",error:"Cannot copy to clipboard"},call:"Call"},fr:{menu:"Menu",viewInContacts:"Voir dans Cozy Contacts",viewInDrive:"Ouvrir",modify:"Modifier",emailTo:"Envoyer un e-mail",smsTo:"Envoyer un message",print:"Imprimer",download:"T\xe9l\xe9charger",favorites:{add:{label:"Ajouter aux favoris",success:"%{filename} a \xe9t\xe9 ajout\xe9 aux favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 ajout\xe9s aux favoris"},remove:{label:"Retirer des favoris",success:"%{filename} a \xe9t\xe9 retir\xe9 des favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 retir\xe9s des favoris"},error:"Une erreur est survenue, merci de r\xe9essayer."},others:"Autres",editAttribute:"Editer l'attribut",copyToClipboard:{copy:"Copier",success:"Copi\xe9 dans le presse-papier",error:"Impossible de copier dans le presse-papier"},call:"Appeler"}},i=function(){return(0,n.T)(void 0,function(e){return o[e]})};(0,a.A)(o)},20933:function(e,t,r){"use strict";r.d(t,{d:()=>l});var n=r(40160),a=r(96540),o=r(90774),i=r(72637),c=r(38143),u=r(15278),s=function(e){var t=e.label,r=e.icon,s=e.name,l=(0,a.forwardRef)(function(e,s){return a.createElement(u.A,(0,n.A)({},e,{ref:s}),a.createElement(i.default,null,a.createElement(o.default,{icon:r})),a.createElement(c.default,{primary:t}))});return l.displayName=s,l},l=function(e){var t=e.name,r=e.label,n=e.icon;return{name:t,icon:n,label:r,disabled:e.disabled,displayCondition:e.displayCondition,action:e.action,Component:s({label:r,icon:n,name:t})}}},11372:function(e,t,r){"use strict";r.d(t,{w:()=>_});var n=r(68523),a=r(33259),o=r(40160),i=r(30592),c=r.n(i),u=r(96540),s=r(39046),l=r(6628),d=r(90774),f=r(34507),p=r(72637),h=r(38143),m=r(15278);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e,t){var r=(0,u.forwardRef)(function(r,n){return u.createElement(m.A,(0,o.A)({},r,{ref:n}),u.createElement(p.default,null,u.createElement(d.default,{icon:t})),u.createElement(h.default,{primary:e}))});return r.displayName="removeFromFavorites",r},_=function(e){var t,r=e.showAlert,n=(0,l.q1)().t,o=f.A,i=n("favorites.remove.label");return{name:"removeFromFavorites",icon:o,label:i,displayCondition:function(e){return e.length>0&&e.every(function(e){var t;return null==(t=e.cozyMetadata)?void 0:t.favorite})},Component:g(i,o),action:(t=(0,a.A)(c().mark(function e(t,a){var o,i,u,l;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=a.client,e.prev=1,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e))){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}(t),e.prev=3,i.s();case 5:if((u=i.n()).done){e.next=11;break}return l=u.value,e.next=9,o.save(y(y({},l),{},{cozyMetadata:y(y({},l.cozyMetadata),{},{favorite:!1})}));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:r({message:n("favorites.success.remove",{filename:(0,s.splitFilename)(t[0]).filename,smart_count:t.length}),severity:"success"}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(1),r({message:n("favorites.error"),severity:"error"});case 26:case"end":return e.stop()}},e,null,[[1,23],[3,13,16,19]])})),function(e,r){return t.apply(this,arguments)})}}},42016:function(e,t,r){"use strict";r.d(t,{A:()=>y});var n=r(40160),a=r(68523),o=r(38917),i=r(5556),c=r.n(i),u=r(96540),s=r(42895),l=r(84660),d=r(92372),f=r(33616),p=["docs","actions","actionOptions","component","onClick"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=(0,u.forwardRef)(function(e,t){var r=e.docs,a=e.actions,i=e.actionOptions,c=e.component,h=e.onClick,v=(0,o.A)(e,p),y=(0,s.useClient)(),b=(0,l.useWebviewIntent)(),g=(0,f.useI18n)().t;return(0,u.useMemo)(function(){return(0,d.Bn)(a,r)},[a,r]).map(function(e,a){var o=(0,d.u5)(e),s=Object.values(e)[0],l=s.Component,f=s.action,p=s.disabled;return u.createElement(null!=c?c:l,(0,n.A)({},v,{ref:t,key:o+a,action:s,docs:r,autoFocus:0===a,disabled:null==p?void 0:p(r),onClick:function(e){null==f||f(r,m(m({client:y,t:g,webviewIntent:b},i),e)),null==h||h()}}))})});v.propTypes={docs:c().array,component:c().object,actions:c().array,actionOptions:c().object,onClick:c().func},c().array,c().object,c().bool,c().bool,c().func;let y=v},15278:function(e,t,r){"use strict";r.d(t,{A:()=>v});var n=r(40160),a=r(38917),o=r(4103),i=r.n(o),c=r(90179),u=r.n(c),s=r(5556),l=r.n(s),d=r(96540),f=r(27282),p=r(31639),h=["isListItem","className"],m=(0,d.forwardRef)(function(e,t){var r=e.isListItem,o=e.className,c=(0,a.A)(e,h),s=r?f.default:p.A,l=u()(c,["docs","action","t","f","lang"]);return d.createElement(s,(0,n.A)({},l,{className:i()(o,"cozyActionsItem"),ref:t,button:!0,ellipsis:!1}))});m.displayName="ActionsMenuItem",m.propTypes={className:l().string,isListItem:l().bool};let v=m},68946:function(e,t,r){"use strict";r.d(t,{A:()=>y});var n=r(40160),a=r(38917),o=r(5556),i=r.n(o),c=r(96540),u=r(38325),s=r(26988),l=r(32859),d=r(24203),f=r(56100),p=r(24242),h=["children","autoClose","open","onClose"],m=function(e){var t=e.children;return(0,d.D)(),t},v=function(e){var t=e.children,r=e.autoClose,o=e.open,i=e.onClose,d=(0,a.A)(e,h),v=(0,p.default)().isMobile,y=function(e){return function(t){var n;null==(n=e.onClick)||n.call(e,t),r&&(null==i||i())}};return v&&o?c.createElement(m,null,c.createElement(u.A,{skipAnimation:(0,f.A)(),backdrop:!0,onClose:i},c.createElement(l.default,{square:!0},c.Children.map(t,function(e){return c.isValidElement(e)?c.cloneElement(e,{isListItem:!0,size:"small",onClick:y(e.props)}):null})))):c.createElement(s.default,(0,n.A)({},d,{open:o,onClose:i}),c.Children.map(t,function(e,r){var n,a,o=c.Children.toArray(t)[0],i=(null==o||null==(n=o.type)?void 0:n.name)||(null==o||null==(a=o.type)?void 0:a.displayName);return c.isValidElement(e)?c.cloneElement(e,{autoFocus:"ActionsMenuMobileHeader"===i&&1===r||void 0,onClick:y(e.props)}):null}))};v.propTypes={autoClose:i().bool,onClose:i().func};let y=v},9193:function(e,t,r){"use strict";r.d(t,{A:()=>p});var n=r(40160),a=r(38917),o=r(5556),i=r.n(o),c=r(96540),u=r(42016),s=r(68946),l=["docs","actions","anchorOrigin","children","componentsProps","onClose","autoCloseOnContextMenu"],d=function(e){var t=e.vertical;return{vertical:"bottom"===t?"top":"top"===t?"bottom":t,horizontal:e.horizontal}},f=(0,c.forwardRef)(function(e,t){var r=e.docs,o=e.actions,i=e.anchorOrigin,f=e.children,p=e.componentsProps,h=e.onClose,m=e.autoCloseOnContextMenu,v=(0,a.A)(e,l),y=d(i);return c.createElement(s.A,(0,n.A)({},v,{anchorEl:null==t?void 0:t.current,getContentAnchorEl:null,anchorOrigin:i,transformOrigin:y,keepMounted:!0},m&&{onContextMenu:function(e){e.preventDefault(),h()}},{onClose:h}),f,c.createElement(u.A,(0,n.A)({},p.actionsItems,{docs:r,actions:o})))});f.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"left"},autoClose:!0,autoCloseOnContextMenu:!0,componentsProps:{}},f.propTypes={open:i().bool,docs:i().array,actions:i().array,anchorOrigin:i().shape({vertical:i().oneOf(["bottom","center","top"]),horizontal:i().oneOf(["left","center","right"])}),autoClose:i().bool,autoCloseOnContextMenu:i().bool,componentsProps:i().shape({actionsItems:i().shape({actionOptions:i().object,onClick:i().func})}),onClose:i().func};let p=f},54697:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>z,AppIcon:()=>B});var n=r(33259),a=r(25533),o=r(48061),i=r(40321),c=r(20469),u=r(56654),s=r(77946),l=r(68523),d=r(30592),f=r.n(d),p=r(4103),h=r.n(p),m=r(5556),v=r.n(m),y=r(96540),b=r(42895);r(58156);var g=function(e){return!!e&&"file"===e.type&&"shortcut"===e.class},_=r(90774),w=r(40160),k=r(38917),O=["iconRef"];let x=function(e){var t=e.iconRef,r=(0,k.A)(e,O);return y.createElement("svg",(0,w.A)({viewBox:"0 0 15 16"},r,{ref:t}),y.createElement("path",{d:"M14.4 4L7.2 0 0 4v8l7.2 4 7.2-4V4zM7.2 1.832l4.728 2.624L9.52 5.792a3.213 3.213 0 00-4.64 0L2.472 4.456 7.2 1.832zm-.8 11.896l-4.8-2.664V5.808L4.104 7.2A3.193 3.193 0 006.4 11.096v2.632zM5.6 8c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6-.88 0-1.6-.72-1.6-1.6zM8 13.728v-2.624a3.193 3.193 0 002.4-3.096c0-.28-.032-.552-.104-.808L12.8 5.808v5.256L8 13.728z"}))};var E=r(89253),C=r(39274),S=["children","className","tag","isSecondary"],A=function(e){var t=e.children,r=e.className,n=e.tag,a=e.isSecondary,o=(0,k.A)(e,S);return y.createElement(n,(0,w.A)({className:h()("styles__Tile___2SqRi",(0,l.A)({},"styles__Tile-secondary___2zYdn",a),r)},o),t)},P=function(e){var t=e.children,r=e.className,n=e.isMultiline;return y.createElement(C.default,{variant:"h6",className:h()("styles__Tile-title___3gbq-",(0,l.A)({},"styles__Tile-title-multiline___17HPx",n),r)},t)},M=function(e){var t=e.children,r=e.className,n=e.isAccent;return y.createElement(C.default,{variant:"caption",className:h()("styles__Tile-status___33VkE",(0,l.A)({},"styles__Tile-status-accent___an9au",n),r)},t)},j=function(e){var t=e.children;return y.createElement("div",{className:"styles__Tile-icon-wrapper___24AzZ"},t)};P.propTypes={className:v().string,isMultiline:v().bool},P.defaultProps={isMultiline:!1},M.propTypes={className:v().string,isAccent:v().bool},M.defaultProps={isAccent:!1},A.propTypes={className:v().string,isSecondary:v().bool,tag:v().string},A.defaultProps={isSecondary:!1,tag:"div"};var D=(0,r(82096).A)({letter:{color:"white",margin:"auto"},letterWrapper:{backgroundColor:function(e){var t=e.name;return(0,E.Y)(t)}}}),T=function(e){var t,r,n,a,o=e.file,i=D({name:o.name}),c=null==(t=o.attributes)||null==(r=t.metadata)?void 0:r.icon,u=null==(n=o.attributes)||null==(a=n.metadata)?void 0:a.iconMimeType;return c?y.createElement(j,null,y.createElement("img",{className:"styles__AppTile-icon___1f0c0",src:u?"data:".concat(u,";base64,").concat(c):"data:image/svg+xml;base64,".concat(window.btoa(c)),width:48,height:48,alt:o.name})):y.createElement(j,null,y.createElement("div",{className:i.letterWrapper},y.createElement(C.default,{className:i.letter,variant:"h2",align:"center"},o.name[0].toUpperCase())))},I=v().shape({name:v().string,slug:v().string,developer:v().object,links:v().shape({icon:v().string}),latest_version:v().shape({version:v().string})});v().shape({_id:v().string,class:v().string,mime:v().string,name:v().string});var R="styles__c-app-icon___2_O40",N="done",L="errored",F="fetching",B=function(e){(0,c.A)(p,e);var t,r,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,s.A)(p);return e=t?Reflect.construct(r,arguments,(0,s.A)(this).constructor):r.apply(this,arguments),(0,u.A)(this,e)});function p(e,t){var r;return(0,a.A)(this,p),r=d.call(this,e,t),(0,l.A)((0,i.A)(r),"state",{error:null,icon:null,status:r.props.client?F:L}),r.isUnmounting=!1,r.handleError=r.handleError.bind((0,i.A)(r)),r.fetchIcon=r.fetchIcon.bind((0,i.A)(r)),r}return(0,o.A)(p,[{key:"componentWillUnmount",value:function(){this.isUnmounting=!0}},{key:"componentDidMount",value:function(){this.isUnmounting=!1,this.load()}},{key:"componentDidUpdate",value:function(e){this.props.fetchIcon!==e.fetchIcon&&this.load()}},{key:"fetchIcon",value:function(){var e=this.props,t=e.app,r=e.type,n=e.priority,a=e.client;if(!g(t))return a.getStackClient().getIconURL({type:r,slug:t.slug||t,appData:t,priority:n})}},{key:"handleError",value:function(){this.setState({status:L})}},{key:"load",value:(r=(0,n.A)(f().mark(function e(){var t,r,n,a,o,i,c,u,s,l,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=this.props).app,n=t.fetchIcon,a=t.onReady,o=t.client,i=n||this.fetchIcon,e.prev=2,o&&(s=(d=new URL(o.getStackClient().uri)).host,l="https:"===d.protocol),e.next=6,i(r,s,l);case 6:c=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),u=e.t0;case 12:this.isUnmounting||(this.setState({error:u,icon:c,status:u?L:N}),"function"==typeof a&&a());case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.className,n=e.fallbackIcon,a=this.state,o=a.icon,i=a.status;if(g(this.props.app))return y.createElement(T,{file:this.props.app});switch(i){case F:return y.createElement("div",{role:"progressbar",className:h()("styles__c-loading-placeholder___3L6Gz",R,r)});case N:return y.createElement("img",{alt:t,className:h()(R,r),onError:this.handleError,ref:this.props.iconRef,src:o});default:return y.createElement(_.default,{className:h()(R,"styles__c-app-icon-default___3CEmt",r),height:"100%",icon:n||x,width:"100%",color:"var(--coolGrey)",iconRef:this.props.iconRef})}}}]),p}(y.Component);B.propTypes={alt:v().string,app:v().oneOfType([I,v().string]),fallbackIcon:_.iconPropType,fetchIcon:v().func,client:v().object.isRequired,className:v().string,onReady:v().func,type:v().oneOf(["app","konnector"]),priority:v().oneOf(["stack","registry"])},B.defaultProps={type:"app",priority:"stack"};let z=(0,b.withClient)(B)},36885:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>C,generateWebLink:()=>k,generateUniversalLink:()=>O,getUniversalLinkDomain:()=>w,AppLinker:()=>E});var n=r(25533),a=r(48061),o=r(40321),i=r(20469),c=r(56654),u=r(77946),s=r(68523),l=r(5556),d=r.n(l),f=r(96540),p=r(42895),h=r(7127),m=r(84660),v=r(40918),y=r.n(v),b=r(38917),g=["nativePath"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var w=function(){return"https://links.mycozy.cloud"},k=function(e){var t=e.nativePath,r=(0,b.A)(e,g);return console.warn("Deprecated: you should use generateWebLink from cozy-client instead"),(0,p.generateWebLink)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({pathname:"/",hash:t},r))},O=function(e){var t=e.slug,r=e.cozyUrl,n=e.subDomainType,a=e.fallbackUrl,o=e.nativePath;if(o=(0,p.ensureFirstSlash)(o),!r&&!a)throw Error("Must have either cozyUrl or fallbackUrl to generate universal link.");r&&!a&&(a=(0,p.generateWebLink)({cozyUrl:r,pathname:"/",hash:o,slug:t,subDomainType:n}));var i=new URL(w(r)+"/"+t+o);return i.searchParams.append("fallback",a),i.toString()};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var E=function(e){(0,i.A)(l,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,u.A)(l);return e=t?Reflect.construct(r,arguments,(0,u.A)(this).constructor):r.apply(this,arguments),(0,c.A)(this,e)});function l(e){var t;return(0,n.A)(this,l),t=r.call(this,e),(0,s.A)((0,o.A)(t),"state",{imgRef:null}),(0,s.A)((0,o.A)(t),"setImgRef",function(e){t.imgRef=e,t.setState({imgRef:t.imgRef})}),t}return(0,a.A)(l,[{key:"render",value:function(){var e=this.props.children,t=l.getOnClickHref(this.props,this.context,this.state.imgRef),r=t.href,n=t.onClick;return e({iconRef:this.setImgRef,onClick:n,href:r})}}],[{key:"getSlug",value:function(e){return e.app.slug}},{key:"getOnClickHref",value:function(e,t,r){var n=e.app,a=e.client,o=e.onAppSwitch,i=e.href;if((0,h.isFlagshipApp)()){var c=(a?a.getInstanceOptions():void 0).app;if(void 0===c||n.slug!==c.slug){var u=r&&JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r.getBoundingClientRect().toJSON()));return{onClick:function(e){e.preventDefault(),null==o||o(),t?t.call("openApp",i,n,u):y().error('Failed to "openApp('.concat(n,')". WebviewService has the following falsy value "').concat(t,"\" in AppLinker's context."))},href:"#"}}}return{href:i,onClick:null}}}]),l}(f.Component);(0,s.A)(E,"contextType",m.WebviewContext),E.propTypes={href:d().string,onAppSwitch:d().func,app:d().shape({slug:d().string.isRequired}).isRequired};let C=(0,p.withClient)(E)},23098:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(40160),a=r(38917),o=r(4103),i=r.n(o),c=r(5556),u=r.n(c),s=r(96540),l=r(90774),d=r(14970);let f=function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 86 23",fill:"none"},e),s.createElement("path",{d:"M6.495 5.381H.635V1.69h15.822v3.692h-5.86V22.2H6.495V5.38z"}),s.createElement("path",{d:"M13.606 6.963h4.63l1.963 8.644c.215.88.37 1.65.469 2.315.136-.84.302-1.621.498-2.344l2.227-8.615h4.541l2.374 8.615c.195.723.36 1.504.498 2.344.097-.664.254-1.436.468-2.315l2.11-8.644h4.307L32.945 22.2h-4.278l-2.49-8.673a13.054 13.054 0 01-.528-2.286c-.137.899-.293 1.66-.47 2.286L22.896 22.2h-4.542L13.606 6.963zm31.16 15.617a7.12 7.12 0 01-3.78-1.054 8.014 8.014 0 01-2.754-2.9c-.664-1.212-.997-2.54-.997-3.986 0-1.445.333-2.774.997-3.985.683-1.23 1.601-2.207 2.754-2.93a6.977 6.977 0 013.78-1.084c1.25 0 2.256.234 3.018.703.781.47 1.387 1.143 1.816 2.022V6.963h3.927V22.2h-3.839v-2.49c-.449.917-1.064 1.63-1.846 2.138-.761.489-1.787.733-3.076.733zm-3.575-7.97c0 .782.176 1.515.527 2.198.372.665.87 1.202 1.495 1.612.644.39 1.377.586 2.197.586.84 0 1.583-.195 2.227-.586a3.955 3.955 0 001.524-1.582 4.623 4.623 0 00.527-2.198c0-.8-.176-1.533-.527-2.197a3.907 3.907 0 00-1.524-1.612c-.644-.41-1.387-.615-2.227-.615-.82 0-1.553.205-2.197.615a4.014 4.014 0 00-1.495 1.582 4.624 4.624 0 00-.527 2.198zm18.642.353V22.2h-3.956V.81h3.956v12.306l5.713-6.153h5.626l-7.179 7.091 7.208 8.146h-5.245l-6.123-7.237z"}),s.createElement("path",{d:"M77.594 22.58c-1.543 0-2.91-.35-4.102-1.054a7.632 7.632 0 01-2.783-2.9c-.665-1.212-.997-2.55-.997-4.015a8.13 8.13 0 011.026-4.014 7.792 7.792 0 012.813-2.93c1.21-.723 2.559-1.085 4.043-1.085 1.485 0 2.813.362 3.985 1.085a7.362 7.362 0 012.755 2.93c.664 1.21.996 2.549.996 4.014 0 .488-.04.957-.117 1.406H73.815c.234.918.673 1.66 1.318 2.227.664.547 1.485.82 2.461.82.82 0 1.553-.185 2.198-.556a4.465 4.465 0 001.523-1.494l3.077 2.314c-.625.977-1.543 1.768-2.754 2.374-1.211.586-2.56.879-4.044.879zm3.75-9.522a4.28 4.28 0 00-1.376-2.198c-.684-.586-1.495-.879-2.432-.879-.918 0-1.72.284-2.403.85-.664.567-1.104 1.309-1.319 2.227h7.53z"}))};var p=r(77395),h=r(39274),m=r(95926),v=["slug","tag","className","children"],y={chat:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 33 33",fill:"none"},e),s.createElement("g",{clipPath:"url(#chat_svg__clip0_11347_30938)"},s.createElement("rect",{x:.704,y:.704,width:32.017,height:32.017,rx:10.574,fill:"url(#chat_svg__paint0_linear_11347_30938)"}),s.createElement("g",{filter:"url(#chat_svg__filter0_d_11347_30938)"},s.createElement("path",{d:"M16.704 7.398c5.861 0 10.613 4.104 10.613 9.165 0 5.062-4.752 9.165-10.613 9.165a12.12 12.12 0 01-3.433-.49c-1.204.936-3.07 1.722-5.6 2.356a.484.484 0 01-.54-.706l.18-.329c.84-1.545 1.364-2.813 1.572-3.802-1.733-1.63-2.791-3.806-2.791-6.194 0-5.061 4.751-9.165 10.612-9.165z",fill:"#fff"}))),s.createElement("defs",null,s.createElement("linearGradient",{id:"chat_svg__paint0_linear_11347_30938",x1:5.031,y1:30.092,x2:30.745,y2:.704,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#8135FE"}),s.createElement("stop",{offset:1,stopColor:"#E8A6FF"})),s.createElement("clipPath",{id:"chat_svg__clip0_11347_30938"},s.createElement("path",{fill:"#fff",transform:"translate(.704 .704)",d:"M0 0h32v32H0z"})),s.createElement("filter",{id:"chat_svg__filter0_d_11347_30938",x:4.459,y:6.092,width:24.49,height:23.476,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.327}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30938"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30938",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 374 130",fill:"none"},e),s.createElement("path",{d:"M63.625 129.516c-11.853 0-22.66-2.789-32.423-8.367-9.645-5.694-17.257-13.364-22.835-23.01C2.79 88.495 0 77.92 0 66.415c0-11.62 2.673-22.254 8.018-31.9 5.462-9.761 13.016-17.431 22.662-23.01 9.645-5.693 20.627-8.54 32.945-8.54 9.878 0 18.361 1.568 25.45 4.706 7.205 3.021 13.597 7.844 19.175 14.468l-17.257 14.99c-7.322-7.67-16.444-11.505-27.368-11.505-7.67 0-14.41 1.86-20.22 5.578-5.811 3.603-10.285 8.542-13.423 14.817-3.137 6.16-4.706 12.958-4.706 20.395 0 7.438 1.569 14.236 4.706 20.395 3.254 6.16 7.786 11.04 13.597 14.642 5.926 3.603 12.783 5.404 20.569 5.404 11.389 0 20.685-3.951 27.89-11.853l17.781 15.165c-4.881 5.927-11.273 10.633-19.175 14.12-7.786 3.486-16.792 5.229-27.019 5.229z",fill:"url(#chat-text_svg__paint0_linear_59620_161)"}),s.createElement("path",{d:"M118.031 0h23.532v49.157c4.881-9.762 14.003-14.643 27.368-14.643 6.507 0 12.376 1.57 17.605 4.707 5.23 3.021 9.355 7.38 12.377 13.074 3.021 5.578 4.532 12.085 4.532 19.523v55.432h-23.533V77.57c0-7.553-1.743-13.19-5.229-16.908-3.486-3.719-8.251-5.578-14.294-5.578-5.346 0-9.82 1.917-13.422 5.752-3.603 3.719-5.404 9.297-5.404 16.734v49.68h-23.532V0z",fill:"url(#chat-text_svg__paint1_linear_59620_161)"}),s.createElement("path",{d:"M257.906 129.516c-8.134 0-15.63-2.092-22.486-6.275-6.857-4.3-12.319-10.052-16.386-17.257-3.951-7.205-5.927-15.108-5.927-23.707 0-8.6 1.976-16.502 5.927-23.707 4.067-7.321 9.529-13.132 16.386-17.432 6.856-4.3 14.352-6.45 22.486-6.45 7.438 0 13.423 1.395 17.955 4.184 4.648 2.79 8.251 6.799 10.807 12.028V36.606h23.359v90.644h-22.836v-14.817c-2.673 5.462-6.333 9.704-10.982 12.725-4.532 2.906-10.633 4.358-18.303 4.358zM236.64 82.103c0 4.648 1.046 9.006 3.137 13.073 2.208 3.951 5.172 7.147 8.891 9.587 3.834 2.325 8.192 3.487 13.073 3.487 4.997 0 9.413-1.162 13.248-3.487 3.951-2.324 6.973-5.461 9.065-9.413 2.091-3.95 3.137-8.309 3.137-13.073 0-4.765-1.046-9.123-3.137-13.074-2.092-4.067-5.114-7.263-9.065-9.587-3.835-2.44-8.251-3.66-13.248-3.66-4.881 0-9.239 1.22-13.073 3.66-3.835 2.324-6.799 5.462-8.891 9.413-2.091 3.951-3.137 8.309-3.137 13.074z",fill:"url(#chat-text_svg__paint2_linear_59620_161)"}),s.createElement("path",{d:"M358.349 127.25c-9.181 0-16.095-2.266-20.744-6.798-4.648-4.532-6.973-11.621-6.973-21.267V56.653h-12.725V36.606h12.725V18.303l23.533-2.44v20.743h19.175v20.047h-19.175v41.312c0 5.578 2.44 8.367 7.321 8.367h9.762v20.918h-12.899z",fill:"url(#chat-text_svg__paint3_linear_59620_161)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"chat-text_svg__paint0_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#B666FA"}),s.createElement("stop",{offset:1,stopColor:"#A347EC"})),s.createElement("linearGradient",{id:"chat-text_svg__paint1_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#B666FA"}),s.createElement("stop",{offset:1,stopColor:"#A347EC"})),s.createElement("linearGradient",{id:"chat-text_svg__paint2_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#B666FA"}),s.createElement("stop",{offset:1,stopColor:"#A347EC"})),s.createElement("linearGradient",{id:"chat-text_svg__paint3_linear_59620_161",x1:187.057,y1:-44.095,x2:187.057,y2:166.905,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#B666FA"}),s.createElement("stop",{offset:1,stopColor:"#A347EC"}))))}},contacts:{icon:d.default,text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 680 125",fill:"none"},e),s.createElement("path",{d:"M62.68 124.674c-11.677 0-22.324-2.748-31.94-8.243-9.503-5.61-17.002-13.166-22.497-22.668C2.748 84.261 0 73.843 0 62.509 0 51.06 2.633 40.585 7.9 31.083c5.38-9.617 12.822-17.173 22.324-22.668C39.726 2.805 50.545 0 62.68 0c9.732 0 18.089 1.546 25.073 4.637 7.098 2.976 13.394 7.727 18.89 14.253L89.642 33.658c-7.213-7.556-16.2-11.334-26.962-11.334-7.556 0-14.196 1.832-19.92 5.496-5.724 3.549-10.132 8.414-13.223 14.597-3.091 6.067-4.637 12.765-4.637 20.092 0 7.327 1.546 14.024 4.637 20.092 3.206 6.067 7.67 10.876 13.395 14.425 5.838 3.549 12.593 5.323 20.264 5.323 11.22 0 20.378-3.892 27.476-11.677l17.516 14.94c-4.808 5.839-11.105 10.476-18.89 13.91-7.67 3.435-16.543 5.152-26.618 5.152z",fill:"url(#contacts-text_svg__paint0_linear_59711_213)"}),s.createElement("path",{d:"M155.381 124.674c-9.044 0-17.173-2.061-24.385-6.182-7.213-4.236-12.88-9.903-17.001-17.001-4.122-7.213-6.183-15.055-6.183-23.527 0-8.472 2.061-16.314 6.183-23.526 4.121-7.213 9.788-12.88 17.001-17.002 7.212-4.235 15.341-6.353 24.385-6.353 9.044 0 17.173 2.118 24.385 6.354 7.213 4.121 12.88 9.788 17.001 17 4.122 7.213 6.182 15.055 6.182 23.527 0 8.472-2.06 16.314-6.182 23.527-4.121 7.098-9.788 12.765-17.001 17.001-7.212 4.121-15.341 6.182-24.385 6.182zm-24.385-46.71c0 4.694.973 8.987 2.919 12.88 2.061 3.892 4.923 6.983 8.586 9.273 3.778 2.29 8.072 3.434 12.88 3.434 4.808 0 9.044-1.144 12.708-3.434 3.778-2.29 6.64-5.38 8.586-9.273 2.061-3.893 3.091-8.186 3.091-12.88 0-4.694-1.03-8.987-3.091-12.88-2.061-3.892-4.923-6.983-8.586-9.273-3.664-2.404-7.9-3.606-12.708-3.606s-9.044 1.202-12.708 3.606c-3.663 2.29-6.526 5.381-8.586 9.274-2.061 3.892-3.091 8.185-3.091 12.88z",fill:"url(#contacts-text_svg__paint1_linear_59711_213)"}),s.createElement("path",{d:"M213.21 33.143h22.84v13.052c4.694-10.075 13.795-15.112 27.304-15.112 6.411 0 12.193 1.545 17.345 4.636 5.152 2.977 9.216 7.27 12.192 12.88 2.977 5.495 4.465 11.906 4.465 19.233v54.609h-23.183V73.499c0-7.441-1.717-12.994-5.152-16.657-3.434-3.664-8.128-5.496-14.081-5.496-5.267 0-9.674 1.89-13.223 5.667-3.549 3.664-5.324 9.16-5.324 16.486v48.942H213.21V33.143z",fill:"url(#contacts-text_svg__paint2_linear_59711_213)"}),s.createElement("path",{d:"M342.631 122.441c-9.045 0-15.857-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891H302.79V33.143h12.536V15.112l23.183-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.213 8.242h9.616v20.607h-12.707z",fill:"url(#contacts-text_svg__paint3_linear_59711_213)"}),s.createElement("path",{d:"M403.5 124.674c-8.014 0-15.398-2.061-22.153-6.182-6.755-4.236-12.135-9.903-16.142-17.001-3.893-7.098-5.839-14.883-5.839-23.355 0-8.472 1.946-16.257 5.839-23.355 4.007-7.213 9.387-12.937 16.142-17.173 6.755-4.236 14.139-6.354 22.153-6.354 7.327 0 13.223 1.374 17.688 4.122 4.579 2.747 8.128 6.697 10.647 11.849V33.143h23.011v89.298H432.35v-14.596c-2.633 5.38-6.239 9.559-10.819 12.536-4.465 2.862-10.475 4.293-18.031 4.293zm-20.951-46.71c0 4.58 1.03 8.873 3.091 12.88 2.175 3.892 5.095 7.04 8.758 9.445 3.778 2.289 8.071 3.434 12.88 3.434 4.923 0 9.273-1.145 13.051-3.434 3.893-2.29 6.869-5.381 8.93-9.274 2.061-3.892 3.091-8.185 3.091-12.88 0-4.693-1.03-8.986-3.091-12.879-2.061-4.007-5.037-7.155-8.93-9.445-3.778-2.404-8.128-3.606-13.051-3.606-4.809 0-9.102 1.202-12.88 3.606-3.778 2.29-6.697 5.381-8.758 9.274-2.061 3.892-3.091 8.185-3.091 12.88z",fill:"url(#contacts-text_svg__paint4_linear_59711_213)"}),s.createElement("path",{d:"M511.209 124.674c-8.357 0-16.085-2.061-23.183-6.182-6.984-4.236-12.536-9.96-16.658-17.173-4.121-7.213-6.182-15.055-6.182-23.527 0-8.586 2.061-16.428 6.182-23.526 4.122-7.213 9.846-12.88 17.173-17.001 7.327-4.236 15.513-6.354 24.557-6.354 7.899 0 14.997 1.488 21.294 4.465 6.297 2.862 11.334 6.926 15.112 12.192l-17.86 14.597c-2.06-3.09-4.751-5.552-8.071-7.384-3.32-1.832-6.926-2.748-10.819-2.748-4.808 0-9.044 1.202-12.707 3.607-3.664 2.29-6.526 5.38-8.587 9.273-2.06 3.892-3.091 8.186-3.091 12.88 0 4.579 1.031 8.872 3.091 12.879 2.176 3.892 5.152 7.04 8.93 9.445 3.778 2.29 8.071 3.434 12.88 3.434 4.236 0 7.899-.915 10.99-2.747 3.091-1.832 5.896-4.465 8.415-7.9l16.829 14.597c-8.93 11.449-21.695 17.173-38.295 17.173z",fill:"url(#contacts-text_svg__paint5_linear_59711_213)"}),s.createElement("path",{d:"M592.507 122.441c-9.044 0-15.856-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891h-12.536V33.143h12.536V15.112l23.184-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.212 8.242h9.617v20.607h-12.708z",fill:"url(#contacts-text_svg__paint6_linear_59711_213)"}),s.createElement("path",{d:"M644.754 124.674c-14.998 0-27.362-5.209-37.093-15.627l15.627-14.254c6.525 7.327 13.509 10.991 20.95 10.991 3.893 0 6.927-.859 9.102-2.576 2.175-1.717 3.263-3.95 3.263-6.697 0-2.519-1.088-4.465-3.263-5.839-2.061-1.488-6.411-3.034-13.051-4.637-10.876-2.633-18.203-6.24-21.981-10.819-3.664-4.579-5.496-10.246-5.496-17 0-8.014 2.977-14.54 8.93-19.577 5.953-5.152 14.082-7.728 24.385-7.728 7.442 0 13.681 1.145 18.719 3.434 5.152 2.29 9.96 6.297 14.425 12.021l-16.829 12.88c-4.007-6.411-9.274-9.617-15.799-9.617-3.32 0-6.011.687-8.072 2.06-2.06 1.26-3.091 3.206-3.091 5.84 0 1.831.745 3.434 2.233 4.808 1.603 1.26 4.865 2.519 9.788 3.778 12.25 3.206 20.608 7.155 25.072 11.85 4.58 4.693 6.87 10.646 6.87 17.859 0 5.381-1.546 10.303-4.637 14.768-2.977 4.351-7.098 7.785-12.364 10.304-5.267 2.519-11.163 3.778-17.688 3.778z",fill:"url(#contacts-text_svg__paint7_linear_59711_213)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"contacts-text_svg__paint0_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint1_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint2_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint3_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint4_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint5_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint6_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"})),s.createElement("linearGradient",{id:"contacts-text_svg__paint7_linear_59711_213",x1:352.109,y1:-47.059,x2:352.109,y2:140.441,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF8EB7"}),s.createElement("stop",{offset:1,stopColor:"#FB2D9D"}))))}},drive:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 33 33",fill:"none"},e),s.createElement("rect",{x:.618,y:.718,width:32,height:32,rx:10.568,fill:"url(#drive_svg__paint0_linear_11347_30928)"}),s.createElement("g",{filter:"url(#drive_svg__filter0_d_11347_30928)",fill:"#fff"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.61 18.913a5.25 5.25 0 00-.228-1.54 5.455 5.455 0 00-.398-.96 5.25 5.25 0 00-.927-1.25 5.318 5.318 0 00-2.972-1.496 5.484 5.484 0 00-.779-.058 5.25 5.25 0 00-1.54.229 5.358 5.358 0 00-1.406.665 5.288 5.288 0 00-1.953 2.38 5.276 5.276 0 00-.398 2.29 5.306 5.306 0 005.037 5.037c.087.004.174.006.26.006h8.486v-5.303H16.61z"}),s.createElement("path",{d:"M19.791 24.216a7.425 7.425 0 100-14.85 7.425 7.425 0 000 14.85z"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"drive_svg__paint0_linear_11347_30928",x1:4.126,y1:29.682,x2:39.046,y2:-5.32,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.248,stopColor:"#FF4759"}),s.createElement("stop",{offset:1,stopColor:"#FFD600"})),s.createElement("filter",{id:"drive_svg__filter0_d_11347_30928",x:4.371,y:8.061,width:24.477,height:18.113,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.326}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30928"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30928",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 374 123",fill:"none"},e),s.createElement("path",{d:"M0 3.66h41.593c13.088 0 24.068 2.496 32.941 7.487 8.984 4.991 15.695 11.868 20.131 20.63 4.437 8.762 6.655 18.855 6.655 30.28 0 11.313-2.218 21.35-6.655 30.113-4.436 8.762-11.147 15.639-20.13 20.63-8.874 4.88-19.854 7.32-32.942 7.32H0V3.66zm38.764 95.497c13.088 0 22.738-3.327 28.95-9.982 6.321-6.766 9.482-15.805 9.482-27.118 0-11.314-3.16-20.353-9.483-27.119-6.211-6.877-15.86-10.315-28.948-10.315H23.291v74.534h15.472z",fill:"url(#drive-text_svg__paint0_linear_59620_158)"}),s.createElement("path",{d:"M112.067 33.607h21.794v16.47c1.553-6.321 4.548-11.09 8.984-14.307 4.548-3.217 10.482-4.603 17.802-4.16v21.13h-3.161c-6.655 0-12.145 2.107-16.471 6.322-4.325 4.104-6.488 9.705-6.488 16.803v44.255h-22.46V33.607z",fill:"url(#drive-text_svg__paint1_linear_59620_158)"}),s.createElement("path",{d:"M168.119 33.607h22.46v86.513h-22.46V33.607zm-2.329-20.464c0-3.66 1.276-6.765 3.827-9.316C172.279 1.276 175.495 0 179.266 0c3.882 0 7.099 1.276 9.65 3.827 2.551 2.55 3.826 5.656 3.826 9.316 0 3.771-1.275 6.933-3.826 9.483-2.551 2.551-5.768 3.827-9.65 3.827-3.771 0-6.987-1.276-9.649-3.826-2.551-2.662-3.827-5.823-3.827-9.484z",fill:"url(#drive-text_svg__paint2_linear_59620_158)"}),s.createElement("path",{d:"M194.713 33.607h26.619l17.303 49.412c1.553 4.215 2.773 8.818 3.66 13.809.887-4.991 2.107-9.594 3.66-13.809l17.303-49.412h26.12l-35.936 86.513h-22.627l-36.102-86.513z",fill:"url(#drive-text_svg__paint3_linear_59620_158)"}),s.createElement("path",{d:"M329.45 122.283c-8.762 0-16.526-1.997-23.292-5.99-6.766-4.103-12.034-9.594-15.805-16.47-3.771-6.877-5.657-14.475-5.657-22.793 0-8.208 1.941-15.805 5.823-22.793 3.882-6.988 9.206-12.533 15.972-16.637 6.877-4.104 14.53-6.156 22.959-6.156 8.43 0 15.972 2.052 22.627 6.156 6.765 4.104 11.978 9.65 15.638 16.637 3.772 6.877 5.657 14.474 5.657 22.793 0 2.773-.222 5.435-.665 7.986h-64.719c1.331 5.213 3.827 9.427 7.487 12.644 3.771 3.105 8.429 4.658 13.975 4.658 4.658 0 8.818-1.053 12.478-3.16 3.66-2.219 6.544-5.047 8.651-8.486l17.469 13.144c-3.549 5.545-8.762 10.037-15.639 13.476-6.876 3.327-14.529 4.991-22.959 4.991zm21.296-54.07c-1.331-4.992-3.938-9.151-7.82-12.479-3.882-3.327-8.485-4.99-13.809-4.99-5.213 0-9.76 1.608-13.642 4.824-3.771 3.217-6.267 7.431-7.487 12.644h42.758z",fill:"url(#drive-text_svg__paint4_linear_59620_158)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"drive-text_svg__paint0_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF6372"}),s.createElement("stop",{offset:1,stopColor:"#FF3347"})),s.createElement("linearGradient",{id:"drive-text_svg__paint1_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF6372"}),s.createElement("stop",{offset:1,stopColor:"#FF3347"})),s.createElement("linearGradient",{id:"drive-text_svg__paint2_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF6372"}),s.createElement("stop",{offset:1,stopColor:"#FF3347"})),s.createElement("linearGradient",{id:"drive-text_svg__paint3_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF6372"}),s.createElement("stop",{offset:1,stopColor:"#FF3347"})),s.createElement("linearGradient",{id:"drive-text_svg__paint4_linear_59620_158",x1:172.182,y1:-31,x2:172.182,y2:137.5,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FF6372"}),s.createElement("stop",{offset:1,stopColor:"#FF3347"}))))}},mail:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 32 32",fill:"none"},e),s.createElement("rect",{width:32,height:32,rx:10,fill:"url(#mail_svg__paint0_linear_3096_880)"}),s.createElement("g",{filter:"url(#mail_svg__filter0_d_3096_880)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.585 11.774a3.048 3.048 0 00-1.2 2.423v8.7a3.658 3.658 0 003.658 3.658H22.94a3.658 3.658 0 003.658-3.658v-8.7c0-.95-.444-1.847-1.2-2.423L17.84 6.009a3.048 3.048 0 00-3.697 0l-7.558 5.764zm1.157 2.07v9.18c0 .674.546 1.22 1.22 1.22h14.06a1.22 1.22 0 001.219-1.22v-9.18l-6.85 4.798a2.439 2.439 0 01-2.798 0l-6.851-4.798z",fill:"#fff"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"mail_svg__paint0_linear_3096_880",x1:4.487,y1:28.638,x2:31.249,y2:1.55,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#1E91FF"}),s.createElement("stop",{offset:.997,stopColor:"#2ED9FF"})),s.createElement("filter",{id:"mail_svg__filter0_d_3096_880",x:3.753,y:4.079,width:24.477,height:24.434,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.326}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_880"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_880",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 311 125",fill:"none"},e),s.createElement("path",{d:"M0 5.046h29.266l24.389 51.973c6.84 14.465 11.213 24.949 13.12 31.453 1.569-6.055 5.886-16.54 12.95-31.453l24.557-51.973h28.257v117.738h-23.043v-47.6c0-7.737.112-14.016.337-18.838.224-4.822.672-9.924 1.345-15.306l-39.19 81.744H60.551L21.36 41.04c.673 5.382 1.121 10.484 1.346 15.306.224 4.822.336 11.1.336 18.838v47.6H0V5.046z",fill:"url(#mail-text_svg__paint0_linear_59620_156)"}),s.createElement("path",{d:"M187.488 124.97c-7.849 0-15.081-2.018-21.697-6.055-6.616-4.149-11.886-9.699-15.811-16.651-3.812-6.952-5.718-14.577-5.718-22.875s1.906-15.923 5.718-22.875c3.925-7.064 9.195-12.67 15.811-16.82 6.616-4.148 13.848-6.223 21.697-6.223 7.177 0 12.951 1.346 17.325 4.037 4.485 2.691 7.961 6.56 10.428 11.605V35.322h22.538v87.463h-22.034v-14.297c-2.579 5.27-6.111 9.363-10.596 12.278-4.373 2.804-10.26 4.205-17.661 4.205zm-20.52-45.75c0 4.486 1.009 8.69 3.028 12.615 2.13 3.813 4.99 6.897 8.578 9.251 3.7 2.243 7.905 3.364 12.615 3.364 4.821 0 9.082-1.121 12.783-3.364 3.812-2.242 6.727-5.27 8.746-9.082 2.018-3.813 3.027-8.018 3.027-12.615 0-4.597-1.009-8.802-3.027-12.615-2.019-3.924-4.934-7.008-8.746-9.25-3.701-2.355-7.962-3.533-12.783-3.533-4.71 0-8.915 1.178-12.615 3.532-3.7 2.243-6.56 5.27-8.578 9.083-2.019 3.812-3.028 8.017-3.028 12.615z",fill:"url(#mail-text_svg__paint1_linear_59620_156)"}),s.createElement("path",{d:"M251.27 35.321h22.707v87.463H251.27V35.321zm-2.354-20.688c0-3.7 1.289-6.84 3.868-9.419 2.691-2.579 5.943-3.868 9.756-3.868 3.924 0 7.176 1.29 9.755 3.868 2.579 2.58 3.869 5.719 3.869 9.42 0 3.812-1.29 7.007-3.869 9.586-2.579 2.58-5.831 3.869-9.755 3.869-3.813 0-7.065-1.29-9.756-3.869-2.579-2.69-3.868-5.886-3.868-9.587z",fill:"url(#mail-text_svg__paint2_linear_59620_156)"}),s.createElement("path",{d:"M287.406 0h22.707v122.784h-22.707V0z",fill:"url(#mail-text_svg__paint3_linear_59620_156)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"mail-text_svg__paint0_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#57B9FF"}),s.createElement("stop",{offset:1,stopColor:"#0B84FF"})),s.createElement("linearGradient",{id:"mail-text_svg__paint1_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#57B9FF"}),s.createElement("stop",{offset:1,stopColor:"#0B84FF"})),s.createElement("linearGradient",{id:"mail-text_svg__paint2_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#57B9FF"}),s.createElement("stop",{offset:1,stopColor:"#0B84FF"})),s.createElement("linearGradient",{id:"mail-text_svg__paint3_linear_59620_156",x1:35.555,y1:-30.948,x2:35.555,y2:124.826,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#57B9FF"}),s.createElement("stop",{offset:1,stopColor:"#0B84FF"}))))}},notes:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 33 33",fill:"none"},e),s.createElement("rect",{x:.718,y:.718,width:32,height:32,rx:10.568,fill:"url(#notes_svg__paint0_linear_11347_30909)"}),s.createElement("g",{filter:"url(#notes_svg__filter0_d_11347_30909)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.71 6.43c-1.434 0-2.628.913-2.886 2.12h-1.847a4.569 4.569 0 00-4.569 4.57v9.464a4.569 4.569 0 004.57 4.569h9.464a4.569 4.569 0 004.569-4.57V13.12a4.569 4.569 0 00-4.57-4.57h-1.846c-.258-1.207-1.451-2.12-2.885-2.12zm2.266 6.823c.51-.51 1.337-.51 1.846 0l.347.346c.51.51.51 1.337 0 1.846l-.577.577-2.193-2.192.577-.577zm-1.269 1.27l2.192 2.192-6.135 6.135a.326.326 0 01-.23.095h-1.731a.326.326 0 01-.327-.326v-1.73c0-.087.035-.17.096-.231l6.135-6.136z",fill:"#fff"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"notes_svg__paint0_linear_11347_30909",x1:6.266,y1:29.845,x2:30.906,y2:2.676,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#FFB81E"}),s.createElement("stop",{offset:1,stopColor:"#FFE098"})),s.createElement("filter",{id:"notes_svg__filter0_d_11347_30909",x:5.777,y:5.124,width:21.866,height:23.987,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.326}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11347_30909"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11347_30909",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 479 136",fill:"none"},e),s.createElement("path",{d:"M0 132.881V0h20.122l64.732 76.881c3.037 3.417 6.075 7.024 8.732 11.01-.759-5.695-.949-13.857-.949-21.64V0h24.298v132.881H99.661l-67.2-79.918c-3.037-3.417-6.075-7.024-8.732-11.01.76 5.694.949 13.857.949 21.64v69.288H0z",fill:"url(#notes-text_svg__paint0_linear_59620_144)"}),s.createElement("path",{d:"M182.772 135.349c-30.562 0-52.583-23.159-52.583-51.634 0-28.474 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.475-22.02 51.634-52.583 51.634zm-26.956-51.634c0 15.376 10.631 28.285 26.956 28.285 16.326 0 26.956-12.909 26.956-28.285s-10.63-28.474-26.956-28.474c-16.325 0-26.956 13.098-26.956 28.474z",fill:"url(#notes-text_svg__paint1_linear_59620_144)"}),s.createElement("path",{d:"M278.718 132.881c-19.552 0-30.183-9.112-30.183-30.563V56h-13.857V34.17h13.857V14.236l25.627-2.657v22.59h20.882V56h-20.882v44.99c0 6.264 3.038 9.112 7.973 9.112h10.631v22.779h-14.048z",fill:"url(#notes-text_svg__paint2_linear_59620_144)"}),s.createElement("path",{d:"M348.282 135.349c-30.563 0-51.064-23.159-51.064-51.634 0-28.474 21.451-52.013 51.064-52.013 29.614 0 50.115 23.539 50.115 52.013 0 2.848-.19 5.885-.759 9.112h-73.844c2.847 11.58 11.58 19.742 24.488 19.742 11.01 0 19.553-5.695 24.108-13.288l19.933 14.997c-7.973 12.339-24.488 21.071-44.041 21.071zm-24.488-61.695h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.163-24.108 19.932z",fill:"url(#notes-text_svg__paint3_linear_59620_144)"}),s.createElement("path",{d:"M440.657 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.746-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892z",fill:"url(#notes-text_svg__paint4_linear_59620_144)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"notes-text_svg__paint0_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FFC953"}),s.createElement("stop",{offset:1,stopColor:"#FFB81E"})),s.createElement("linearGradient",{id:"notes-text_svg__paint1_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FFC953"}),s.createElement("stop",{offset:1,stopColor:"#FFB81E"})),s.createElement("linearGradient",{id:"notes-text_svg__paint2_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FFC953"}),s.createElement("stop",{offset:1,stopColor:"#FFB81E"})),s.createElement("linearGradient",{id:"notes-text_svg__paint3_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FFC953"}),s.createElement("stop",{offset:1,stopColor:"#FFB81E"})),s.createElement("linearGradient",{id:"notes-text_svg__paint4_linear_59620_144",x1:236.012,y1:7.974,x2:236.012,y2:132.881,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{stopColor:"#FFC953"}),s.createElement("stop",{offset:1,stopColor:"#FFB81E"}))))}},passwords:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 32 32",fill:"none"},e),s.createElement("path",{d:"M0 10.568C0 4.731 4.73 0 10.568 0h10.864C27.268 0 32 4.731 32 10.568v10.864C32 27.269 27.268 32 21.432 32H10.568C4.73 32 0 27.268 0 21.432V10.568z",fill:"url(#pass_svg__paint0_linear_11350_7889)"}),s.createElement("g",{filter:"url(#pass_svg__filter0_d_11350_7889)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.328 23.872a.622.622 0 01-.618-.63l.023-1.823 5.177-5.176c-.455-.951-.607-1.976-.458-3.077.15-1.1.644-2.07 1.48-2.906 1.034-1.033 2.274-1.55 3.72-1.55 1.447 0 2.687.517 3.72 1.55 1.034 1.033 1.55 2.273 1.55 3.72 0 1.446-.516 2.686-1.55 3.72a5.14 5.14 0 01-2.836 1.472 5.094 5.094 0 01-3.146-.45l-.218.217v1.858a.622.622 0 01-.622.622h-1.235a.622.622 0 00-.622.623v1.231a.622.622 0 01-.626.622l-3.739-.023zm10.256-9.294a1.555 1.555 0 100-3.11 1.555 1.555 0 000 3.11z",fill:"#fff"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"pass_svg__paint0_linear_11350_7889",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#B6C4DF"}),s.createElement("stop",{offset:1,stopColor:"#D3DDF5"})),s.createElement("filter",{id:"pass_svg__filter0_d_11350_7889",x:5.99,y:6.534,width:20.652,height:20.625,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.544}),s.createElement("feGaussianBlur",{stdDeviation:1.36}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11350_7889"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11350_7889",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 370 136",fill:"none"},e),s.createElement("path",{d:"M0 132.881V0h44.8c29.803 0 48.027 14.047 48.027 41.953 0 28.094-18.224 42.711-48.027 42.711H26.576v48.217H0zm26.576-72.135h16.705c14.427 0 22.59-5.885 22.59-18.604 0-12.529-8.163-18.413-22.59-18.413H26.576v37.017zm116.25 74.603c-27.145 0-48.786-22.97-48.786-51.444 0-28.475 21.641-51.824 48.786-51.824 17.085 0 26.007 7.024 31.322 17.654V34.17h25.438v98.712h-24.868v-16.135c-5.315 11.2-14.237 18.603-31.892 18.603zm-23.159-51.634c0 14.997 11.01 28.475 27.336 28.475 16.895 0 27.715-12.909 27.715-28.285s-10.82-28.664-27.715-28.664c-16.326 0-27.336 13.098-27.336 28.474zm128.935 51.634c-16.705 0-30.183-5.695-41.003-17.275l17.274-15.756c7.214 8.163 14.807 12.15 23.159 12.15 8.733 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.372-18.224-30.372-30.752 0-17.275 13.667-30.183 36.827-30.183 15.945 0 26.576 3.986 36.637 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.665 7.403 35.309 18.034 35.309 32.84 0 18.224-16.516 31.892-38.346 31.892zm82.124 0c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892z",fill:"#A4A5B8"}))}},store:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 16 16",fill:"none"},e),s.createElement("rect",{width:16,height:16,rx:5.284,fill:"url(#store_svg__paint0_linear_11291_1430)"}),s.createElement("g",{filter:"url(#store_svg__filter0_d_11291_1430)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.796 5.66a1.387 1.387 0 01-.578 1.64v3.633a2.284 2.284 0 01-2.285 2.284H5.14a2.284 2.284 0 01-2.284-2.284V7.296a1.387 1.387 0 01-.573-1.636l.658-1.877c.195-.556.72-.928 1.309-.928h7.579c.59 0 1.114.372 1.309.928l.658 1.877zm-3.871.959c-.134.177-.331.266-.59.266a.635.635 0 01-.49-.223.758.758 0 01-.201-.525v-2.13h1.123l.316 2.015a.786.786 0 01-.158.597zm-2.641.043a.706.706 0 01-.54.223c-.22 0-.4-.086-.54-.259a.73.73 0 01-.15-.604l.316-2.015h1.123v2.13c0 .201-.07.376-.209.525zm-2.648.036a.633.633 0 01-.453.187c-.279 0-.478-.11-.598-.33-.12-.221-.15-.428-.093-.62l.576-1.928H5.19l-.317 2.216a.804.804 0 01-.237.475zm7.923-.144c-.125.22-.327.331-.605.331a.633.633 0 01-.453-.187.804.804 0 01-.238-.475l-.316-2.216h1.093l.605 1.928c.067.192.038.399-.086.62z",fill:"#fff"})),s.createElement("defs",null,s.createElement("linearGradient",{id:"store_svg__paint0_linear_11291_1430",x1:2.774,y1:14.564,x2:15.094,y2:.979,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"})),s.createElement("filter",{id:"store_svg__filter0_d_11291_1430",x:1.387,y:2.203,width:13.304,height:11.993,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.163}),s.createElement("feGaussianBlur",{stdDeviation:.408}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_11291_1430"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_11291_1430",result:"shape"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 440 138",fill:"none"},e),s.createElement("path",{d:"M51.78 137.863c-21.07 0-39.294-8.352-50.874-28.664l22.97-14.617c6.834 13.668 17.844 19.553 29.423 19.553 12.34 0 19.933-6.075 19.933-15.187 0-13.288-14.048-17.464-30.373-21.64-20.502-5.316-33.6-17.275-33.6-37.397C9.259 15.992 28.052.237 56.147.237c20.691 0 33.98 9.111 43.85 24.678L77.219 38.962c-6.454-10.25-12.529-14.997-22.4-14.997-10.63 0-18.413 5.695-18.413 14.617 0 9.871 9.491 13.099 21.07 16.705 15.567 4.936 42.902 11.77 42.902 42.143 0 24.108-18.413 40.433-48.596 40.433z",fill:"url(#store-text_svg__paint0_linear_59617_306)"}),s.createElement("path",{d:"M147.626 135.396c-19.553 0-30.183-9.112-30.183-30.563V58.514h-13.858v-21.83h13.858V16.752l25.627-2.658v22.59h20.881v21.83H143.07v44.99c0 6.265 3.037 9.112 7.973 9.112h10.63v22.78h-14.047z",fill:"url(#store-text_svg__paint1_linear_59617_306)"}),s.createElement("path",{d:"M218.708 137.863c-30.562 0-52.583-23.159-52.583-51.633 0-28.475 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.474-22.02 51.633-52.583 51.633zM191.752 86.23c0 15.376 10.631 28.284 26.956 28.284 16.326 0 26.956-12.908 26.956-28.284 0-15.377-10.63-28.475-26.956-28.475-16.325 0-26.956 13.098-26.956 28.475z",fill:"url(#store-text_svg__paint2_linear_59617_306)"}),s.createElement("path",{d:"M282.634 135.396V36.684h24.867v18.793c3.417-14.237 13.478-22.02 30.563-21.071v24.108h-3.607c-14.807 0-26.196 9.872-26.196 26.387v50.495h-25.627z",fill:"url(#store-text_svg__paint3_linear_59617_306)"}),s.createElement("path",{d:"M389.038 137.863c-30.563 0-51.064-23.159-51.064-51.633 0-28.475 21.45-52.014 51.064-52.014 29.613 0 50.115 23.54 50.115 52.014 0 2.847-.19 5.884-.759 9.111H364.55c2.847 11.58 11.579 19.743 24.488 19.743 11.01 0 19.552-5.695 24.108-13.288l19.932 14.996c-7.972 12.339-24.488 21.071-44.04 21.071zM364.55 76.169h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.162-24.108 19.932z",fill:"url(#store-text_svg__paint4_linear_59617_306)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"store-text_svg__paint0_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"})),s.createElement("linearGradient",{id:"store-text_svg__paint1_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"})),s.createElement("linearGradient",{id:"store-text_svg__paint2_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"})),s.createElement("linearGradient",{id:"store-text_svg__paint3_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"})),s.createElement("linearGradient",{id:"store-text_svg__paint4_linear_59617_306",x1:417.866,y1:296.396,x2:48.603,y2:-221.128,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.45,stopColor:"#3D74FE"}),s.createElement("stop",{offset:1,stopColor:"#91CFFF"}))))}},photos:{icon:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 32 32",fill:"none"},e),s.createElement("rect",{width:32,height:32,rx:10,fill:"url(#photos_svg__paint0_linear_4180_38328)"}),s.createElement("g",{filter:"url(#photos_svg__filter0_d_4180_38328)",fill:"#fff"},s.createElement("mask",{id:"photos_svg__a"},s.createElement("path",{d:"M18.955 5.711c2.579 0 3.868 0 4.853.502a4.605 4.605 0 012.013 2.013c.502.985.502 2.274.502 4.853v5.988c0 2.579 0 3.868-.502 4.853a4.605 4.605 0 01-2.013 2.013c-.985.502-2.274.502-4.853.502h-5.988c-2.579 0-3.868 0-4.853-.502A4.606 4.606 0 016.1 23.92c-.502-.985-.502-2.274-.502-4.853v-5.988c0-2.579 0-3.868.502-4.853a4.605 4.605 0 012.013-2.013c.985-.502 2.274-.502 4.853-.502h5.988z"})),s.createElement("path",{d:"M18.955 5.711V3.223 5.71zm4.853.502l-1.13 2.217 1.13-2.217zm2.013 2.013l-2.218 1.13 2.218-1.13zm.502 4.853h2.488-2.488zm0 5.988h2.488-2.488zm-.502 4.853l-2.218-1.13 2.218 1.13zm-2.013 2.013l-1.13-2.218 1.13 2.218zm-4.853.502v2.488-2.488zm-5.988 0v2.488-2.488zm-4.853-.502l1.13-2.217-1.13 2.217zM6.1 23.92l2.217-1.13L6.1 23.92zm-.5-4.853H3.111h2.488zm0-5.988H3.111h2.488zm.502-4.853l2.217 1.13-2.217-1.13zm2.013-2.013l1.13 2.217-1.13-2.217zm4.853-.502V3.223 5.71zM18.955 8.2c1.33 0 2.178.002 2.821.054.614.05.82.134.902.176l2.26-4.434c-.902-.46-1.834-.627-2.756-.702-.893-.073-1.979-.071-3.227-.071V8.2zm3.723.23c.399.203.723.527.925.926l4.435-2.26a7.093 7.093 0 00-3.1-3.1l-2.26 4.434zm.925.926c.043.083.127.288.177.902.052.643.054 1.49.054 2.821h4.977c0-1.248.002-2.334-.07-3.227-.076-.922-.243-1.854-.703-2.756l-4.434 2.26zm.231 3.723v5.988h4.977v-5.988h-4.977zm0 5.988c0 1.33-.002 2.178-.054 2.821-.05.614-.134.82-.177.902l4.435 2.26c.46-.902.627-1.834.702-2.756.073-.893.071-1.979.071-3.227h-4.977zm-.23 3.724a2.117 2.117 0 01-.926.924l2.26 4.435a7.093 7.093 0 003.1-3.1l-4.434-2.26zm-.926.925c-.083.042-.288.126-.902.176-.643.052-1.49.054-2.821.054v4.977c1.248 0 2.334.002 3.227-.07.922-.076 1.854-.243 2.756-.703l-2.26-4.434zm-3.723.23h-5.988v4.977h5.988v-4.977zm-5.988 0c-1.33 0-2.178-.002-2.822-.054-.614-.05-.818-.134-.901-.176l-2.26 4.434c.902.46 1.834.627 2.756.702.893.073 1.979.071 3.227.071v-4.977zm-3.724-.23a2.117 2.117 0 01-.925-.925L3.884 25.05a7.094 7.094 0 003.1 3.1l2.26-4.434zm-.925-.926c-.042-.083-.126-.288-.176-.902-.052-.643-.054-1.49-.054-2.821H3.11c0 1.248-.002 2.334.07 3.227.076.922.243 1.854.703 2.756l4.434-2.26zm-.23-3.723v-5.988H3.11v5.988h4.977zm0-5.988c0-1.33.002-2.178.054-2.821.05-.614.134-.82.176-.902l-4.434-2.26c-.46.902-.627 1.834-.702 2.756-.073.893-.071 1.979-.071 3.227h4.977zm.23-3.723c.203-.399.527-.723.925-.926L6.984 3.996a7.094 7.094 0 00-3.1 3.1l4.434 2.26zm.926-.926c.083-.042.287-.126.902-.176.643-.052 1.49-.054 2.821-.054V3.223c-1.248 0-2.334-.002-3.227.07-.922.076-1.854.243-2.756.703l2.26 4.434zm3.723-.23h5.988V3.223h-5.988V8.2z",mask:"url(#photos_svg__a)"})),s.createElement("g",{filter:"url(#photos_svg__filter1_d_4180_38328)"},s.createElement("circle",{cx:13.5,cy:13.5,r:2.5,fill:"#fff"})),s.createElement("path",{d:"M7.538 23.26a.467.467 0 00.377.74h17.162a.467.467 0 00.376-.743l-5.205-7.071a1 1 0 00-1.654.063l-2.955 4.728a1 1 0 01-1.641.08l-1.682-2.194a1 1 0 00-1.603.021L7.538 23.26z",fill:"#fff"}),s.createElement("defs",null,s.createElement("filter",{id:"photos_svg__filter0_d_4180_38328",x:3.967,y:4.406,width:23.987,height:23.987,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.326}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4180_38328"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4180_38328",result:"shape"})),s.createElement("filter",{id:"photos_svg__filter1_d_4180_38328",x:9.368,y:9.695,width:8.264,height:8.264,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dy:.326}),s.createElement("feGaussianBlur",{stdDeviation:.816}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),s.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4180_38328"}),s.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4180_38328",result:"shape"})),s.createElement("linearGradient",{id:"photos_svg__paint0_linear_4180_38328",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"}))))},text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 554 140",fill:"none"},e),s.createElement("path",{d:"M.91 137.248V6.039h44.237c29.428 0 47.422 13.87 47.422 41.424 0 27.742-17.994 42.175-47.422 42.175H27.152v47.61H.911zM27.153 66.02h16.495c14.246 0 22.306-5.81 22.306-18.37 0-12.37-8.06-18.18-22.306-18.18H27.152v36.55z",fill:"url(#photos-text_svg__paint0_linear_12748_109)"}),s.createElement("path",{d:"M101.909 137.248V.416h25.304v52.858c5.249-10.497 14.808-15.745 29.429-15.745 20.993 0 37.113 15.558 37.113 40.112v59.607H168.45V83.827c0-16.87-8.434-24.18-20.993-24.18-10.684 0-20.244 7.31-20.244 24.18v53.421h-25.304z",fill:"url(#photos-text_svg__paint1_linear_12748_109)"}),s.createElement("path",{d:"M256.066 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984zM229.449 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116z",fill:"url(#photos-text_svg__paint2_linear_12748_109)"}),s.createElement("path",{d:"M350.804 137.248c-19.306 0-29.803-8.998-29.803-30.178V61.334h-13.683V39.778h13.683v-19.68l25.304-2.625v22.305h20.619v21.556h-20.619v44.423c0 6.186 2.999 8.998 7.873 8.998h10.497v22.493h-13.871z",fill:"url(#photos-text_svg__paint3_linear_12748_109)"}),s.createElement("path",{d:"M420.992 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984zM394.375 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116z",fill:"url(#photos-text_svg__paint4_linear_12748_109)"}),s.createElement("path",{d:"M515.463 139.684c-16.494 0-29.803-5.623-40.487-17.057l17.057-15.557c7.123 8.06 14.621 11.996 22.868 11.996 8.622 0 13.496-4.311 13.496-10.122 0-5.061-2.437-7.873-17.807-11.434-26.054-6.186-29.991-17.994-29.991-30.365 0-17.057 13.496-29.803 36.364-29.803 15.745 0 26.242 3.936 36.176 16.87L534.77 68.268c-4.686-7.497-10.684-10.496-17.245-10.496-6.935 0-12.183 2.624-12.183 8.622 0 3.374 1.499 6.373 13.12 9.372 28.304 7.31 34.864 17.807 34.864 32.427 0 17.995-16.307 31.49-37.863 31.49z",fill:"url(#photos-text_svg__paint5_linear_12748_109)"}),s.createElement("defs",null,s.createElement("linearGradient",{id:"photos-text_svg__paint0_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"})),s.createElement("linearGradient",{id:"photos-text_svg__paint1_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"})),s.createElement("linearGradient",{id:"photos-text_svg__paint2_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"})),s.createElement("linearGradient",{id:"photos-text_svg__paint3_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"})),s.createElement("linearGradient",{id:"photos-text_svg__paint4_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"})),s.createElement("linearGradient",{id:"photos-text_svg__paint5_linear_12748_109",x1:88.264,y1:215.251,x2:88.264,y2:-34.707,gradientUnits:"userSpaceOnUse"},s.createElement("stop",{offset:.23,stopColor:"#50BBC7"}),s.createElement("stop",{offset:1,stopColor:"#73DEEA"}))))}},home:{icon:p.default,text:function(e){return s.createElement("svg",(0,n.A)({viewBox:"0 0 114 22",fill:"none"},e),s.createElement("path",{d:"M95.23 17.435c-1.728 0-3.166-.574-4.313-1.72-1.132-1.148-1.698-2.562-1.698-4.245 0-1.682.566-3.096 1.698-4.243 1.147-1.147 2.585-1.721 4.313-1.721 1.162 0 2.202.275 3.12.826.933.55 1.659 1.3 2.179 2.248l-1.72.963a3.964 3.964 0 00-1.446-1.605c-.612-.398-1.323-.597-2.133-.597-1.178 0-2.141.398-2.89 1.193-.75.795-1.125 1.774-1.125 2.936 0 1.163.375 2.141 1.124 2.937.75.795 1.713 1.193 2.89 1.193.811 0 1.522-.2 2.134-.597a3.963 3.963 0 001.445-1.606l1.721.964a5.808 5.808 0 01-2.18 2.248c-.917.55-1.957.826-3.12.826zm-14.622 0c-.887 0-1.644-.16-2.271-.482a3.51 3.51 0 01-1.4-1.354 3.962 3.962 0 01-.481-1.95c0-1.208.351-2.08 1.055-2.615.719-.535 1.743-.803 3.074-.803h3.946v-.825c0-1.04-.238-1.76-.712-2.157-.458-.397-1.154-.596-2.087-.596-.872 0-1.507.168-1.904.504-.398.322-.62.689-.665 1.102h-2.02a3.1 3.1 0 01.666-1.744c.398-.52.94-.933 1.629-1.239.688-.305 1.491-.458 2.409-.458.963 0 1.797.153 2.5.458a3.315 3.315 0 011.629 1.4c.382.627.573 1.46.573 2.5v6.63c.016.474.054.94.115 1.4h-1.766a12.303 12.303 0 01-.092-.987c-.015-.321-.023-.68-.023-1.078-.321.642-.841 1.185-1.56 1.628-.719.444-1.59.666-2.615.666zm.436-1.836c.642 0 1.223-.114 1.743-.344a2.86 2.86 0 001.262-1.009c.321-.444.482-.987.482-1.629v-.826h-3.602c-.75 0-1.338.153-1.766.46-.429.29-.643.756-.643 1.399 0 .565.2 1.032.597 1.399.413.367 1.055.55 1.927.55zm-9.426 1.606V0h1.973v17.205h-1.973zM59.102 22h-1.973V5.735h1.973v1.767c.397-.581.956-1.055 1.674-1.422a5.04 5.04 0 012.363-.574c1.59 0 2.921.581 3.992 1.743 1.085 1.163 1.629 2.57 1.629 4.221 0 1.652-.544 3.06-1.63 4.221-1.07 1.163-2.4 1.744-3.99 1.744a5.211 5.211 0 01-2.364-.55c-.719-.383-1.277-.865-1.674-1.446V22zm.94-7.57c.734.795 1.667 1.193 2.799 1.193s2.065-.398 2.799-1.193c.734-.796 1.1-1.782 1.1-2.96 0-1.177-.366-2.164-1.1-2.959-.734-.795-1.667-1.193-2.8-1.193-1.13 0-2.064.398-2.798 1.193s-1.1 1.782-1.1 2.96c0 1.177.366 2.163 1.1 2.959zm-7.055 2.775l-6.216-5.735v5.735h-1.973V0h1.973v10.208l5-4.473h2.616l-5.644 5.07 6.905 6.4h-2.66zm-16.821 0V5.735h1.973V7.96a3.135 3.135 0 011.238-1.698c.627-.428 1.285-.642 1.973-.642.337 0 .635.03.895.092v2.041c-.275-.122-.635-.183-1.078-.183-.796 0-1.499.344-2.11 1.032-.613.688-.918 1.66-.918 2.914v5.689h-1.973zm-8.78.23c-1.728 0-3.165-.574-4.312-1.72-1.132-1.163-1.698-2.578-1.698-4.245 0-1.667.566-3.074 1.698-4.22 1.147-1.163 2.584-1.744 4.312-1.744 1.713 0 3.136.581 4.267 1.743 1.147 1.147 1.72 2.554 1.72 4.221 0 1.667-.573 3.082-1.72 4.244-1.131 1.147-2.554 1.72-4.267 1.72zm-2.89-3.028c.75.795 1.713 1.193 2.89 1.193 1.178 0 2.134-.398 2.868-1.193.734-.796 1.101-1.774 1.101-2.937 0-1.162-.367-2.14-1.101-2.936-.734-.795-1.69-1.193-2.868-1.193-1.177 0-2.14.398-2.89 1.193-.734.795-1.101 1.774-1.101 2.936 0 1.163.367 2.141 1.1 2.937zm-10.181 2.798L10.323 6.148 6.354 17.205H4.45L0 .917h2.225l3.395 12.71L10.323.641l4.703 12.984L18.444.917h2.225l-4.45 16.288h-1.904zm93.794.23c-1.759 0-3.189-.566-4.29-1.698-1.101-1.131-1.652-2.554-1.652-4.267 0-1.697.559-3.112 1.675-4.243 1.116-1.147 2.546-1.721 4.29-1.721 1.544 0 2.837.52 3.877 1.56 1.055 1.025 1.583 2.424 1.583 4.198 0 .23-.008.428-.023.596h-9.406c.031 1.071.413 1.966 1.147 2.684.75.72 1.69 1.079 2.822 1.079 1.606 0 2.798-.666 3.578-1.996l1.56 1.078c-1.116 1.82-2.837 2.73-5.161 2.73zm-3.808-7.18h7.272c-.153-.918-.558-1.644-1.216-2.18-.642-.55-1.407-.826-2.294-.826-.902 0-1.713.276-2.432.826-.703.536-1.147 1.262-1.33 2.18z",fill:"#97A3B7"}))}}},b=function(e){var t=e.slug,r=e.tag,o=e.className,c=e.children,u=(0,a.A)(e,v),d=(0,m.useCozyTheme)().isLight,p=y[t];return p?s.createElement("div",{className:"u-flex u-flex-items-center"},s.createElement(l.default,{icon:p.icon,size:"32",className:"styles__c-apptitle-app-icon___oQp8q"}),s.createElement(l.default,{icon:f,width:"auto",height:"22",className:i()("u-mr-half","u-w-auto",d?"styles__c-apptitle-light___49VIZ":"styles__c-apptitle-dark___13RM5")}),s.createElement(l.default,{icon:p.text,width:"auto",height:"22",className:i()("u-w-auto","home"===t?"styles__c-apptitle-home-icon___1xJsd":void 0)})):s.createElement(h.default,(0,n.A)({component:r,variant:"h4",className:i()("styles__c-apptitle___eqV9l",o)},u),c)};b.propTypes={slug:u().string,tag:u().string,className:u().string},b.defaultProps={tag:"h1"};let g=b},98175:function(e,t,r){"use strict";r.d(t,{O3:()=>a,Yc:()=>i,lk:()=>n});var n=["sunrise","downy","sugarCoral","pinkBonnet","blueMana","nightBlue","snowPea","pluviophile","cornflower","paleGreen","moonBlue"],a={sunrise:"linear-gradient(136deg, #F8D280 14.84%, #F2AC69 96.03%)",downy:"linear-gradient(136deg, #81EAD4 14.84%, #62C6B7 96.03%)",sugarCoral:"linear-gradient(136deg, #F19E86 14.84%, #F95967 96.03%)",pinkBonnet:"linear-gradient(136deg, #E4ABF0 14.84%, #D96EED 96.03%)",blueMana:"linear-gradient(136deg, #85D9FD 14.84%, #2A9EFC 96.03%)",nightBlue:"linear-gradient(136deg, #80AEFF 39.32%, #883DFE 96.03%)",snowPea:"linear-gradient(136deg, #BDF4A1 14.84%, #52CE64 96.03%)",pluviophile:"linear-gradient(136deg, #A1D6F4 14.84%, #52CEC2 96.03%)",cornflower:"linear-gradient(135deg, #86D9D3 0%, #1CCFB4 100%)",paleGreen:"linear-gradient(135deg, #E2FA17 0%, #75D8CB 100%)",moonBlue:"linear-gradient(136deg, #6DCFFF 14.84%, #3D88F8 96.03%)"},o=Object.values(n).filter(Boolean),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Array.from(e.toUpperCase()).map(function(e){return e.charCodeAt(0)}).reduce(function(e,t){return e+t},0)%o.length;return o[t]}},27998:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(64454),a=r(40160),o=r(68523),i=r(38917),c=r(71423),u=r(4103),s=r.n(u),l=r(5556),d=r.n(l),f=r(96540),p=r(98175),h=r(82096),m=r(67515),v=["className","color","size","border","innerBorder","disabled","display"],y=(0,h.A)(function(e){return{colorDefault:{color:function(t){return t.color?e.palette.primary.contrastText:""},background:function(e){var t=e.color;return p.O3[t]}}}}),b=function(e){var t,r=e.className,n=e.color,u=e.size,l=e.border,d=e.innerBorder,h=e.disabled,b=e.display,g=(0,i.A)(e,v),_="string"==typeof g.children?(0,p.Yc)(g.children):void 0,w=y({color:"none"===n?void 0:p.lk.includes(n)?n:_});return f.createElement(c.A,(0,a.A)({classes:w,className:s()(r,"size-".concat(u),(t={disabled:!!h,border:!!l},(0,o.A)(t,"display".concat((0,m.A)(b)),"initial"!==b),(0,o.A)(t,"innerBorder",!!d),t))},g))};b.propTypes={className:d().string,size:d().oneOfType([d().oneOf(["xs","s","m","l","xl"]),d().number]),color:d().oneOf([].concat((0,n.A)(p.lk),["none"])),display:d().oneOf(["initial","inline"]),disabled:d().bool},b.defaultProps={display:"initial",size:"m"};let g=b},38325:function(e,t,r){"use strict";r.d(t,{A:()=>W});var n=r(40160),a=r(38917),o=r(64454),i=r(95590),c=r(68523),u=r(95834),s=r(71846),l=r(99373),d=r(5556),f=r.n(d),p=r(96540),h=r(27035),m=r(98687),v=r(53058),y=r(4103),b=r.n(y),g=r(82096),_=["isOver"],w=(0,g.A)({isOver:{zIndex:"calc(var(--zIndex-modal-toolbar) + 1)"}}),k=function(e){var t=e.isOver,r=(0,a.A)(e,_),o=w();return p.createElement(v.A,(0,n.A)({},r,{className:b()((0,c.A)({},o.isOver,t),r.className)}))};k.propTypes={isOver:f().bool};let O=function(e){var t=e.showBackdrop,r=e.onClick,n=e.children,a=t?k:p.Fragment;return p.createElement(a,t?{open:t,onClick:r}:void 0,n)};var x=function(e){return parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-".concat(e)))},E=r(18340),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ref,r=e.height,n=1;return r?n=r:t&&t.current&&(n=t.current.offsetHeight),n+((0,E.Yu)().statusBarHeight||0)+x("top")},S=function(e){var t=C(e);return window.innerHeight-t},A=function(e){var t=e.backdrop,r=e.maxHeight,n=e.mediumHeight,a=e.mediumHeightRatio,o=e.innerContentHeight,i=e.bottomSpacerHeight,c=e.offset,u=n||Math.round(r*a);return t?u<o?u<r?u:r:o>r?r:o+i:o<u?o+c:u>r?r:u},P=function(e){var t=e.isClosable,r=e.isOpenMin,n=e.headerRef,a=e.offset,o=e.actionButtonsHeight,i=e.actionButtonsBottomMargin;return t&&!r?0:n.current.offsetHeight+(void 0===a?0:a)+o+i+((0,E.Yu)().navbarHeight||0)+x("bottom")},M=function(e){var t=e.snapIndex,r=e.peekHeights,n=e.isTopPosition,a=e.setIsTopPosition,o=r.length-1;t>o&&a(!0),t!==o||n||a(!0),t<o&&n&&a(!1)},j=function(e){var t=e.snapIndex,r=e.isBottomPosition,n=e.setIsBottomPosition;0!==t||r||n(!0),0!==t&&r&&n(!1)},D=function(e){var t=e.backdrop,r=e.setCurrentIndex,n=e.setIsTopPosition,a=e.setIsBottomPosition,o=e.handleClose;t&&(r(0),n(!1),a(!0),setTimeout(o,250))},T=function(e){var t=e.backdrop,r=e.maxHeight,n=e.innerContentHeight,a=e.toolbarProps,o=e.offset;return r-n<=0?o+C(a):t?o:r-n},I=function(e,t){return e?parseFloat(getComputedStyle(e).getPropertyValue(t)):0},R=r(32859),N=r(95037),L=r(47670),F=r(95926),B=["portalProps"];function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){(0,c.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U=function(e){var t=e.showBackdrop,r=e.children;return t?p.createElement("div",{style:{position:"fixed",zIndex:"var(--zIndex-modal)",inset:0}},r):r},V=function(e){var t=e.isTopPosition,r=e.hasToolbarProps,n=e.offset,a=e.renderSaferHeight,o=e.isBottomPosition;return{root:H({borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",transition:"border-radius 0.5s",boxShadow:"0 -0.5px 0px 0 rgba(0, 0, 0, 0.10), 0 -2px 2px 0 rgba(0, 0, 0, 0.02), 0 -4px 4px 0 rgba(0, 0, 0, 0.02), 0 -8px 8px 0 rgba(0, 0, 0, 0.02), 0 -16px 16px 0 rgba(0, 0, 0, 0.02)",backgroundColor:"var(--paperBackgroundColor)",zIndex:"var(--zIndex-modal)"},t&&{borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:r?"0 0 1px 0 rgba(0, 0, 0, 0.5)":"0 -1px 0 0 rgba(255, 255, 255, 1)"}),indicator:{width:"4rem",height:"0.25rem",borderRadius:"99px",backgroundColor:"var(--secondaryTextColor)"},stack:{backgroundColor:"var(--defaultBackgroundColor)"},bounceSafer:{height:50,width:"100%",position:"fixed",bottom:0,left:0,backgroundColor:"var(--paperBackgroundColor)"},flagshipImmersive:{backgroundColor:"var(--paperBackgroundColor)",bottom:0,content:"",height:"var(--flagship-bottom-height)",position:"fixed",width:"100%",zIndex:"var(--zIndex-modal)"},offsetSafer:{opacity:+!o,height:"".concat(n,"px"),width:"100%",position:"fixed",bottom:0,left:0,backgroundColor:"var(--paperBackgroundColor)",zIndex:"calc(var(--zIndex-modal) + 10)",transition:"opacity ".concat(250,"ms")},renderSafer:{height:a,width:"100%",position:"fixed",bottom:0,pointerEvents:"none"}}},Z={mediumHeightRatio:.75,mediumHeight:null,hasMinHeightOffset:!1,isOpenMin:!1},G=(0,p.memo)(function(e){var t=e.toolbarProps,r=e.settings,n=e.backdrop,a=e.skipAnimation,c=e.onClose,s=e.offset,d=e.children,f=H(H({},Z),r),v=f.mediumHeightRatio,y=f.mediumHeight,b=f.isOpenMin,g=f.hasMinHeightOffset,_=(0,p.useRef)(),w=(0,p.useRef)(),k=(0,p.useRef)(),x=(0,p.useState)(!1),C=(0,i.A)(x,2),B=C[0],z=C[1],G=(0,p.useState)(!1),q=(0,i.A)(G,2),W=q[0],Q=q[1],J=(0,p.useState)(!1),Y=(0,i.A)(J,2),$=Y[0],K=Y[1],X=(0,p.useState)(n),ee=(0,i.A)(X,2),et=ee[0],er=ee[1],en=(0,p.useState)(null),ea=(0,i.A)(en,2),eo=ea[0],ei=ea[1],ec=(0,p.useState)(1),eu=(0,i.A)(ec,2),es=eu[0],el=eu[1],ed=(0,p.useState)(0),ef=(0,i.A)(ed,2),ep=ef[0],eh=ef[1],em=(0,p.useState)(0),ev=(0,i.A)(em,2),ey=ev[0],eb=ev[1],eg=(0,p.useRef)(),e_=(0,p.useState)(0),ew=(0,i.A)(e_,2),ek=ew[0],eO=ew[1],ex=!!Object.keys(t).length,eE=!!c||n,eC=ey<eg.current?eg.current-16:0,eS=0!==eg.current&&eg.current>ey,eA=V({isTopPosition:B,hasToolbarProps:ex,offset:s,renderSaferHeight:eC,isBottomPosition:W}),eP=p.Children.map(d,function(e){var t,r;return(null==e||null==(t=e.type)?void 0:t.name)==="BottomSheetHeader"||(null==e||null==(r=e.type)?void 0:r.displayName)==="BottomSheetHeader"?p.cloneElement(e,{headerContentRef:k}):e});if(n&&!c)throw Error("BottomSheet must have `onClose` method to work properly when setting `backdrop` to `true`");var eM=(0,p.useCallback)(function(){er(!1),K(!0),c&&c()},[c]);(0,h.P)(_,function(){eO(function(e){return e+1})}),(0,p.useEffect)(function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="auto"}},[]),(0,m.F)(function(){return eM()},250,eE&&W),(0,p.useEffect)(function(){var e=k.current,r=_.current.offsetHeight,a=I(e,"height"),i=I(e,"padding-bottom"),c=S(t),u=T({backdrop:n,maxHeight:c,innerContentHeight:r,toolbarProps:t,offset:s}),l=P({isClosable:eE,isOpenMin:b,headerRef:w,offset:g?s:0,actionButtonsHeight:a,actionButtonsBottomMargin:i}),d=b&&a>0?l+1:A({backdrop:n,maxHeight:c,mediumHeight:y,mediumHeightRatio:v,innerContentHeight:r,bottomSpacerHeight:u,offset:s}),f=(0,o.A)(new Set([l,d,c])),p=(null==eo?void 0:eo.toString())!==(null==f?void 0:f.toString())&&B?es-1-(es-(f.length-1)):es;el(p),ei(f),eg.current=ey,eb(d),M({snapIndex:p,peekHeights:f,isTopPosition:B,setIsTopPosition:z}),eh(u)},[_,t,v,y,et,n,eE,s,ek]);var ej=(0,F.useCozyTheme)().isLight;return(0,L.K9)({bottomTheme:ej?"dark":"light"},{bottomTheme:(0,E.Yu)().immersive||!ej?"light":"dark"},"cozy-ui/BottomSheet"),p.createElement(U,{showBackdrop:et},(0,E.Yu)().immersive&&p.createElement("span",{style:eA.flagshipImmersive}),p.createElement(O,{showBackdrop:et,onClick:function(){return D({backdrop:n,setCurrentIndex:el,setIsTopPosition:z,setIsBottomPosition:Q,handleClose:eM})}}),p.createElement(l.X,{peekHeights:eo,defaultHeight:ey,backdrop:!1,fullHeight:!ex,currentIndex:es,onIndexChange:function(e){el(e),M({snapIndex:e,peekHeights:eo,isTopPosition:B,setIsTopPosition:z}),j({snapIndex:e,isBottomPosition:W,setIsBottomPosition:Q})},styles:{root:eA.root},threshold:0,springConfig:{tension:165,friction:17,clamp:!0},disabledClosing:!c,hidden:$,snapPointSeekerMode:"next",skipAnimation:a},p.createElement("div",{ref:_},p.createElement(R.default,{"data-testid":"bottomSheet-header",className:"u-w-100 u-h-3 u-pos-relative u-flex u-flex-items-center u-flex-justify-center",ref:w,elevation:0,square:!0},p.createElement("div",{style:eA.indicator})),p.createElement(N.A,{style:eA.stack,className:"u-flex u-flex-column u-ov-hidden",spacing:"s"},eP)),p.createElement("div",{style:{height:ep}})),eS&&p.createElement("div",{style:eA.renderSafer},p.createElement(R.default,{className:"styles__renderSaferAnim___2rNtc",elevation:0,square:!0})),!W&&p.createElement(p.Fragment,null,p.createElement(u.A,{in:!0,timeout:250},p.createElement("div",{style:eA.bounceSafer}))),!!s&&p.createElement(u.A,{in:!0,timeout:250},p.createElement("div",{id:"bottomSheet-offsetSafer",style:eA.offsetSafer})))});G.displayName="BottomSheet",G.defaultProps={classes:{},toolbarProps:{},backdrop:!1,offset:(0,E.Yu)().immersive&&(0,E.Yu)().navbarHeight||0},G.propTypes={toolbarProps:f().shape({ref:f().object,height:f().number}),settings:f().shape({mediumHeight:f().number,mediumHeightRatio:f().number,hasMinHeightOffset:f().bool,isOpenMin:f().bool}),backdrop:f().bool,skipAnimation:f().bool,offset:f().number,onClose:f().func};var q=(0,p.forwardRef)(function(e,t){var r=e.portalProps,o=(0,a.A)(e,B),i=(0,F.useCozyTheme)().variant,c=null!=r&&r.disablePortal?p.Fragment:F.default,u=null!=r&&r.disablePortal?void 0:{variant:i};return p.createElement(s.A,r,p.createElement(c,u,p.createElement(G,(0,n.A)({ref:t},o))))});q.displayName="BottomSheetPortal";let W=q},89004:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(85282).A},36040:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(40160),a=r(68523),o=r(38917),i=r(96746),c=r(4103),u=r.n(c),s=r(5556),l=r.n(s),d=r(96540),f=r(90774),p=r(56706),h=["variant","className","color","label","busy","disabled","height","endIcon"],m=["variant","className"],v=["success","error","warning","info"],y=(0,d.forwardRef)(function(e,t){var r=e.variant,c=e.className,s=e.color,l=e.label,m=e.busy,y=e.disabled,b=e.height,g=e.endIcon,_=(0,o.A)(e,h),w=v.includes(s)?s:"primary",k="text"!==r||v.includes(s)?"primary":s;return d.createElement(i.A,(0,n.A)({},_,{variant:r,ref:t,className:u()((0,a.A)({},"customColor-".concat(w),w),(0,a.A)({},"customSize-".concat(b),b),c),color:k,disabled:y||m,endIcon:m?d.createElement(f.default,{icon:p.A,spin:!0,"aria-hidden":!0,focusable:"false"}):g,disableElevation:!0}),l)});y.displayName="DefaultButton",y.defaultProps={variant:"contained",color:"primary"};var b=(0,d.forwardRef)(function(e,t){var r=e.variant,a=e.className,i=void 0===a?"":a,c=(0,o.A)(e,m);switch(r){case"ghost":return d.createElement(y,(0,n.A)({className:"ghost ".concat(i),variant:"outlined"},c,{ref:t}));case"secondary":return d.createElement(y,(0,n.A)({variant:"outlined",className:i},c,{ref:t}));case"text":return d.createElement(y,(0,n.A)({variant:"text",className:i},c,{ref:t}));default:return d.createElement(y,(0,n.A)({className:i},c,{ref:t}))}});b.displayName="Buttons",b.propTypes={variant:l().oneOf(["primary","secondary","ghost","text"]),color:l().oneOf(["default","inherit","primary","secondary","success","error","warning","info"]),height:l().oneOf(["default","auto"])},b.defaultProps={variant:"primary",height:"default"};let g=b},71973:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(40160),a=r(68523),o=r(38917),i=r(2344),c=r(15776),u=r(4103),s=r.n(u),l=r(5556),d=r.n(l),f=r(96540),p=r(90774);let h=function(e){return f.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.778 0h12.444C15.2 0 16 .8 16 1.778v12.444C16 15.2 15.2 16 14.222 16H1.778C.8 16 0 15.2 0 14.222V1.778C0 .8.8 0 1.778 0zm10.31 4.089l1.245 1.244-7.11 7.111L2.666 8.89 3.91 7.645l2.311 2.31L12.09 4.09z"}))};var m=r(35855),v=["className","label","error","mixed","disabled","size","disableEffect"],y=["className","label","onChange","children"],b=(0,m.A)(),g=function(e){var t,r=e.className,c=e.label,u=e.error,l=e.mixed,d=e.disabled,m=e.size,y=e.disableEffect,b=(0,o.A)(e,v);return f.createElement(i.A,(0,n.A)({className:s()(r,(t={},(0,a.A)(t,"u-p-0",y),(0,a.A)(t,"small","small"===m),t)),inputProps:{"aria-label":c,"aria-checked":l?"mixed":"","aria-disabled":d},color:u?"secondary":"primary",indeterminate:l,disabled:d,size:m,disableRipple:y,checkedIcon:f.createElement("div",{className:"u-flex u-flex-items-center u-flex-justify-center",style:{width:"small"===m?20:24,height:"small"===m?20:24}},f.createElement(p.default,{icon:h,size:"small"===m?16:18}))},b))},_=function(e){var t=e.className,r=e.label,a=e.onChange,i=e.children,u=(0,o.A)(e,y);return(i&&b("<Checkbox> used with children is deprecated, please use <Checkbox label={something} /> instead of <Checkbox>something</Checkbox>"),r||i)?f.createElement(c.A,{className:s()({"FormControlLabel-error":u.error},t),label:r||i,control:f.createElement(g,(0,n.A)({},u,{label:r})),onChange:a}):f.createElement(g,(0,n.A)({className:t,onChange:a,label:r},u))};_.propTypes={className:d().string,value:d().string,error:d().bool,disabled:d().bool,mixed:d().bool,disableEffect:d().bool,size:d().oneOf(["small","medium"]),label:d().string},_.defaultProps={className:"",value:"",error:!1,mixed:!1,disableEffect:!1,size:"medium",label:""};let w=_},90978:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(40160),a=r(68523),o=r(38917),i=r(46770),c=r(4103),u=r.n(c),s=r(5556),l=r.n(s),d=r(96540),f=["label","variant","color","className"],p=(0,d.forwardRef)(function(e,t){var r=e.label,c=e.variant,s=void 0===c?"default":c,l=e.color,p=void 0===l?"primary":l,h=e.className,m=(0,o.A)(e,f);return d.createElement(i.A,(0,n.A)({ref:t,className:u()(h,(0,a.A)({noLabel:!r,ghost:"ghost"===s},"customColor-".concat(p),p)),label:r,variant:"active"===s?"default":"outlined",color:"active"===s?"primary":"default"},m))});p.propTypes={label:l().oneOfType([l().string,l().object]),variant:l().oneOf(["default","active","ghost"]),color:l().oneOf(["primary","success","error","warning","info"]),className:l().string};let h=p},24615:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(43292).A},23047:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(97200),a=r.n(n),o=r(62878),i=r(15855),c=r(94339);let u=function(e,t){var r=i.O.reduce(function(e,t){var r=t.name,n=t.layout;return e[r]="array"===n?[void 0]:void 0,e},{});if(e){var n,u=e.gender,s=e.address,l=e.birthday,d=e.birthplace,f=e.company,p=e.jobTitle,h=e.cozy,m=e.email,v=e.impp,y=e.name,b=e.note,g=e.phone,_=s&&s.length>0?(0,c.HX)(s).map(function(e){var r,n,i,u,s,l;return{fieldId:a()("fieldId_"),address:(0,o.getFormattedAddress)(e,t),addressnumber:e.number,addressstreet:e.street||(0,o.getFormattedAddress)(e,t),addresscode:e.postcode||e.code,addresscity:e.city,addressregion:e.region,addresscountry:e.country,addresslocality:null==(r=e.extendedAddress)?void 0:r.locality,addressbuilding:null==(n=e.extendedAddress)?void 0:n.building,addressstairs:null==(i=e.extendedAddress)?void 0:i.stairs,addressfloor:null==(u=e.extendedAddress)?void 0:u.floor,addressapartment:null==(s=e.extendedAddress)?void 0:s.apartment,addressentrycode:null==(l=e.extendedAddress)?void 0:l.entrycode,addressLabel:(0,c.gc)(e)}}):[void 0],w=h&&h.length>0?h[0].url:void 0,k=h&&h.length>0?(0,c.gc)(h[0]):void 0,O=m&&m.length>0?(0,c.HX)(m).map(function(e){return{fieldId:a()("fieldId_"),email:null==e?void 0:e.address,emailLabel:(0,c.gc)(e)}}):[void 0],x=v&&v.length>0&&(null==(n=v.find(function(e){return"work"===e.label&&"matrix"===e.protocol}))?void 0:n.uri)||void 0,E=g&&g.length>0?(0,c.HX)(g).map(function(e){return{fieldId:a()("fieldId_"),phone:null==e?void 0:e.number,phoneLabel:(0,c.gc)(e)}}):[void 0],C=(0,c.GP)(e);return{gender:u,givenName:null==y?void 0:y.givenName,additionalName:null==y?void 0:y.additionalName,surname:null==y?void 0:y.surname,familyName:null==y?void 0:y.familyName,phone:E,email:O,matrix:x,address:_,cozy:w,cozyLabel:k,company:f,jobTitle:p,birthday:l,birthplace:d,note:b,relatedContact:C}}return r}},15855:function(e,t,r){"use strict";r.d(t,{O:()=>l});var n=r(96540),a=r(90774),o=r(39700),i=r(40160),c=r(90240),u=r(70804),s=r(2589),l=[{name:"gender",icon:u.A,select:!0,options:[{value:"male",label:"Contacts.AddModal.ContactForm.gender.man"},{value:"female",label:"Contacts.AddModal.ContactForm.gender.woman"}]},{name:"givenName",icon:null,type:"text",layout:"accordion",subFields:[{name:"additionalName",icon:null,type:"text"},{name:"surname",icon:null,type:"text"}]},{name:"familyName",icon:null,type:"text"},{name:"company",icon:c.default,type:"text",layout:"accordion",subFields:[{name:"jobTitle",icon:null,type:"text"}]},{name:"phone",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 16"},e),n.createElement("path",{d:"M15.067 16c-1.852 0-3.682-.404-5.49-1.211-1.807-.807-3.451-1.952-4.933-3.433C3.163 9.874 2.02 8.23 1.211 6.422.404 4.615 0 2.785 0 .933 0 .667.089.444.267.267A.905.905 0 01.933 0h3.6c.208 0 .393.07.556.211.163.14.26.308.289.5l.578 3.111c.03.237.022.437-.023.6a.935.935 0 01-.244.422L3.533 7.022a10.75 10.75 0 001.056 1.59c.407.51.855 1.003 1.344 1.477.46.46.941.885 1.445 1.278.503.392 1.037.751 1.6 1.077l2.089-2.088c.133-.134.307-.234.522-.3a1.43 1.43 0 01.633-.056l3.067.622c.207.06.378.167.511.322.133.156.2.33.2.523v3.6a.904.904 0 01-.267.666.904.904 0 01-.666.267z"}))},type:"tel",layout:"array",label:{name:"phoneLabel",select:!0,customLabelOptions:{defaultType:"",defaultLabel:"home"},options:[{value:"",label:"Contacts.AddModal.ContactForm.label.none"},{value:'{"type":"cell","label":"home"}',label:"Contacts.AddModal.ContactForm.label.phone.cell-home"},{value:'{"type":"cell","label":"work"}',label:"Contacts.AddModal.ContactForm.label.phone.cell-work"},{value:'{"type":"voice","label":"home"}',label:"Contacts.AddModal.ContactForm.label.phone.voice-home"},{value:'{"type":"voice","label":"work"}',label:"Contacts.AddModal.ContactForm.label.phone.voice-work"},{value:'{"type":"fax","label":"home"}',label:"Contacts.AddModal.ContactForm.label.phone.fax-home"},{value:'{"type":"fax","label":"work"}',label:"Contacts.AddModal.ContactForm.label.phone.fax-work"}]}},{name:"email",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 13"},e),n.createElement("path",{d:"M16 1.6c0-.88-.72-1.6-1.6-1.6H1.6C.72 0 0 .72 0 1.6v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V1.6zm-1.6 0L8 5.6l-6.4-4h12.8zm0 9.6H1.6v-8l6.4 4 6.4-4v8z"}))},type:"email",layout:"array",label:{name:"emailLabel",select:!0,customLabelOptions:{defaultType:"",defaultLabel:"home"},options:[{value:"",label:"Contacts.AddModal.ContactForm.label.none"},{value:'{"label":"home"}',label:"Contacts.AddModal.ContactForm.label.home"},{value:'{"label":"work"}',label:"Contacts.AddModal.ContactForm.label.work"}]}},{name:"matrix",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 10"},e),n.createElement("path",{d:"M3 1.111H1.333V8.89H3V10H0V0h3v1.111zM16 10h-3V8.889h1.667V1.11H13V0h3v10zM9.807 3.667c.587 0 1.043.167 1.368.503.328.332.492.79.492 1.374V9h-1.23V5.72c0-.688-.311-1.032-.931-1.032a.983.983 0 00-.531.162.945.945 0 00-.36.372V9h-1.23V5.53c0-.258-.08-.462-.241-.612-.161-.153-.387-.23-.68-.23-.153 0-.323.057-.507.171-.18.114-.312.24-.394.377V9h-1.23V3.765h.847l.25.459c.342-.372.784-.557 1.325-.557.699 0 1.226.188 1.58.566.154-.172.369-.309.644-.41.276-.104.552-.156.828-.156z"}))},type:"text"},{name:"address",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 12 16"},e),n.createElement("path",{d:"M5.6 0A5.596 5.596 0 000 5.6C0 9.8 5.6 16 5.6 16s5.6-6.2 5.6-10.4C11.2 2.504 8.696 0 5.6 0zm-4 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 2.304-2.304 5.752-4 7.904-1.664-2.136-4-5.624-4-7.904z"}),n.createElement("path",{d:"M5.6 7.6a2 2 0 100-4 2 2 0 000 4z"}))},type:"text",layout:"array",InputProps:{readOnly:!0},subFields:[{name:"street",icon:null,type:"text"},{name:"number",icon:null,type:"text"},{name:"building",icon:null,type:"text"},{name:"stairs",icon:null,type:"text"},{name:"floor",icon:null,type:"text"},{name:"apartment",icon:null,type:"text"},{name:"entrycode",icon:null,type:"text"},{name:"locality",icon:null,type:"text"},{name:"code",icon:null,type:"text"},{name:"city",icon:null,type:"text"},{name:"region",icon:null,type:"text"},{name:"country",icon:null,type:"text"}],label:{name:"addressLabel",select:!0,customLabelOptions:{defaultType:"",defaultLabel:"home"},options:[{value:"",label:"Contacts.AddModal.ContactForm.label.none"},{value:'{"label":"home"}',label:"Contacts.AddModal.ContactForm.label.address.home"},{value:'{"label":"work"}',label:"Contacts.AddModal.ContactForm.label.address.work"}]}},{name:"note",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 20 20"},e),n.createElement("path",{d:"M2 2h16v12H3.17L2 15.17V2zm0-2C.9 0 .01.9.01 2L0 20l4-4h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2H2zm2 10h8v2H4v-2zm0-3h12v2H4V7zm0-3h12v2H4V4z"}))},type:"text",multiline:!0},{name:"cozy",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 11"},e),n.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z"}))},type:"url",isSecondary:!0,label:{name:"cozyLabel",select:!0,customLabelOptions:{defaultType:"",defaultLabel:"home"},options:[{value:"",label:"Contacts.AddModal.ContactForm.label.none"},{value:'{"label":"home"}',label:"Contacts.AddModal.ContactForm.label.home"},{value:'{"label":"work"}',label:"Contacts.AddModal.ContactForm.label.work"}]}},{name:"birthday",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 16"},e),n.createElement("path",{d:"M13.818 1.455h-.727V0h-1.455v1.455H4.364V0H2.909v1.455h-.727c-.8 0-1.455.654-1.455 1.454v11.637c0 .8.655 1.454 1.455 1.454h11.636c.8 0 1.455-.655 1.455-1.454V2.909c0-.8-.655-1.454-1.455-1.454zm0 13.09H2.182v-8h11.636v8zm0-9.454H2.182V2.909h11.636v2.182z"}))},type:"date",isSecondary:!0,InputLabelProps:{shrink:!0}},{name:"birthplace",icon:null,type:"text",isSecondary:!0},{name:"relatedContact",icon:function(e){return n.createElement("svg",(0,i.A)({viewBox:"0 0 16 16"},e),n.createElement("path",{d:"M6.737 10.602l.946-.946c-1.82-1.62-3.012-2.712-3.012-3.752 0-.7.533-1.232 1.233-1.232.74 0 1.026.433 1.786 1.332h.62c.746-.873 1.019-1.332 1.785-1.332.58 0 1.033.36 1.18.88.233-.027.453-.04.666-.04.24 0 .466.02.686.053a2.517 2.517 0 00-2.525-2.226c-.08 0-.153.02-.233.026a2 2 0 00.133-.693 1.997 1.997 0 00-2-1.999 1.996 1.996 0 00-1.998 2c0 .246.053.473.133.692-.08-.006-.153-.026-.233-.026a2.537 2.537 0 00-2.566 2.565c0 1.613 1.36 2.872 3.399 4.698z"}),n.createElement("path",{d:"M15 10.829a2.096 2.096 0 00-.667-.233c.047-.067.1-.12.14-.187a2.539 2.539 0 00-.94-3.505c-1.392-.806-3.171-.26-5.763.6l.346 1.292c2.312-.76 3.858-1.252 4.758-.733.606.354.8 1.073.453 1.686-.373.64-.886.667-2.046.88l-.313.54c.387 1.08.646 1.552.26 2.212-.353.606-1.073.8-1.686.453-.04-.02-.073-.06-.113-.086a5.33 5.33 0 01-.687 1.152c.047.027.087.06.134.094a2.539 2.539 0 003.505-.94c.04-.067.06-.14.093-.213.147.18.32.34.533.46a1.998 1.998 0 002.732-.733 2.01 2.01 0 00-.74-2.74z"}),n.createElement("path",{d:"M8.216 9.343c-.493 2.385-.846 3.965-1.746 4.485a1.204 1.204 0 01-1.686-.454c-.373-.64-.133-1.106.26-2.212l-.306-.54c-1.133-.206-1.666-.22-2.046-.88a1.204 1.204 0 01.453-1.685.964.964 0 01.193-.074 4.482 4.482 0 01-.546-1.232 2.539 2.539 0 00-1.26 3.658c.04.067.094.12.14.187-.226.04-.453.113-.666.233a2.002 2.002 0 00-.733 2.732 1.997 1.997 0 002.732.733c.213-.12.387-.28.533-.46.033.074.053.147.093.213a2.539 2.539 0 003.506.94c1.392-.806 1.805-2.619 2.365-5.291l-1.286-.353z"}))},layout:"array",isSecondary:!0,InputProps:{readOnly:!0,endAdornment:n.createElement(s.default,{position:"end"},n.createElement(a.default,{icon:o.A,color:"var(--iconTextColor)"}))},label:{name:"relatedContactLabel",select:!0,options:[{value:"",label:"Contacts.AddModal.ContactForm.label.none"},{value:'{"type":"parent"}',label:"Contacts.AddModal.ContactForm.label.relationship.parent"},{value:'{"type":"child"}',label:"Contacts.AddModal.ContactForm.label.relationship.child"},{value:'{"type":"sibling"}',label:"Contacts.AddModal.ContactForm.label.relationship.sibling"},{value:'{"type":"spouse"}',label:"Contacts.AddModal.ContactForm.label.relationship.spouse"},{value:'{"type":"coResident"}',label:"Contacts.AddModal.ContactForm.label.relationship.coResident"},{value:'{"type":"friend"}',label:"Contacts.AddModal.ContactForm.label.relationship.friend"},{value:'{"type":"colleague"}',label:"Contacts.AddModal.ContactForm.label.relationship.colleague"},{value:'{"type":"coWorker"}',label:"Contacts.AddModal.ContactForm.label.relationship.coWorker"},{value:'{"type":"acquaintance"}',label:"Contacts.AddModal.ContactForm.label.relationship.acquaintance"},{value:'{"type":"helper"}',label:"Contacts.AddModal.ContactForm.label.relationship.helper"},{value:'{"type":"recipient"}',label:"Contacts.AddModal.ContactForm.label.relationship.recipient"}]}}]},94339:function(e,t,r){"use strict";r.d(t,{FR:()=>A,GP:()=>D,HX:()=>S,I5:()=>T,M2:()=>E,MG:()=>O,Pr:()=>k,WD:()=>R,Ze:()=>P,dZ:()=>L,fA:()=>N,gc:()=>x,ht:()=>M,wh:()=>j,xX:()=>I});var n,a=r(95590),o=r(68523),i=r(38917),c=r(64454),u=r(58156),s=r.n(u),l=r(2404),d=r.n(l),f=r(55364),p=r.n(f),h=r(97200),m=r.n(h),v=r(42895),y=r(62878),b=r(23047),g=["postcode"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var k=["givenName","familyName","email[0].email","cozy"],O=function(e,t){var r={};return k.every(function(t){return!s()(e,t)})&&k.forEach(function(e){r[e]=t("Contacts.AddModal.ContactForm.fields.required")}),r},x=function(e){if(e)return e.label||e.type?JSON.stringify({type:e.type,label:e.label}):void 0},E=function(e){if(!e)return{type:void 0,label:void 0};var t=JSON.parse(e);return{type:t.type,label:t.label}},C=function(e){if(!e)return!1;var t=["addresslocality","addressbuilding","addressstairs","addressfloor","addressapartment","addressentrycode"];return Object.keys(e).some(function(e){return t.includes(e)})},S=(n=function(e){return null==e?void 0:e.primary},function(e){return e.reduce(function(e,t){return n(t)?[t].concat((0,c.A)(e)):[].concat((0,c.A)(e),[t])},[])}),A=function(e){var t=e.address,r=e.oldContact,n=e.t;return t?t.filter(function(e){return e&&e.address}).map(function(e,t){var a,o,c,u=null==r||null==(a=r.address)?void 0:a[t],s=null==(o=(0,b.A)(r,n))||null==(c=o.address)?void 0:c[t];if(!d()(e,s)){var l=u||{},f=(l.postcode,(0,i.A)(l,g));return w(w(w(w({},f),{},{formattedAddress:e.address,number:e.addressnumber,street:e.addressstreet,code:e.addresscode,city:e.addresscity,region:e.addressregion,country:e.addresscountry},C(e)&&{extendedAddress:w(w({},f.extendedAddress),{},{locality:e.addresslocality,building:e.addressbuilding,stairs:e.addressstairs,floor:e.addressfloor,apartment:e.addressapartment,entrycode:e.addressentrycode})}),E(e.addressLabel)),{},{primary:0===t})}return u}):[]},P=function(e){return{related:{data:e.filter(Boolean).reduce(function(e,t){var r=t.relatedContactLabel?JSON.parse(t.relatedContactLabel).type:"related",n=e.findIndex(function(e){return e._id===t.relatedContactId});return -1!==n?e[n].metadata.relationTypes=Array.from(new Set([].concat((0,c.A)(e[n].metadata.relationTypes),[r]))):e.push({_id:t.relatedContactId,_type:y.CONTACTS_DOCTYPE,metadata:{relationTypes:[r]}}),e},[])}}},M=function(e){if(!(null!=e&&e.relationships))return e;var t=p()({},e),r=Object.entries(t.relationships).reduce(function(e,t){var r=(0,a.A)(t,2),n=r[0],o=r[1];return"related"===n&&(e[n]=o),e},{});return t.relationships=r,t},j=function(e){return e?Object.entries(e).reduce(function(e,t){var r=(0,a.A)(t,2),n=r[0],o=r[1];return o instanceof v.Association&&"groups"!==n||(e[n]=o),e},{}):{}},D=function(e){if(!(e.related instanceof v.Association)||!(null!=(t=e.relationships)&&t.related))return[void 0];var t,r=e.related.data.reduce(function(e,t){return e[t._id]=t.displayName||(0,y.makeDisplayName)(t),e},{}),n=e.relationships.related.data.flatMap(function(e){return e.metadata.relationTypes.map(function(t){return{relatedContactId:e._id,relatedContact:r[e._id],relatedContactLabel:x({type:"related"===t?"":t})}})});return n.length>0?n:[void 0]},T=function(e){return e.push({fieldId:m()("fieldId_")})},I=function(e,t){1===e.length?e.update(t,void 0):e.remove(t)},R=function(e,t){var r=JSON.parse(e),n=r.type,a=r.label,o=a?n?" (".concat(t("Contacts.AddModal.ContactForm.label.".concat(a)),")").toLowerCase():"label.".concat(a):"";return(n||"")+o||null},N=function(e,t){var r=(null==t?void 0:t.trim())||"",n=null==e?void 0:e.impp;return r?n&&0!==n.length?n.map(function(e){return"matrix"===e.protocol&&"work"===e.label?w(w({},e),{},{uri:r}):e}):[{uri:r,protocol:"matrix",label:"work",primary:!0}]:(null==n?void 0:n.map(function(e){if("matrix"!==e.protocol||"work"!==e.label)return e}).filter(Boolean))||[]},L=function(e,t){if(e&&t&&"gender"!==e){var r=JSON.parse(t);if(e.includes("relatedContactLabel"))return!1===r.type?JSON.stringify({type:r.type}):void 0;if(r.type&&!r.label)return JSON.stringify({type:r.type});if(e.includes("phoneLabel"))return["cell","voice","fax"].includes(r.type)?void 0:JSON.stringify({type:r.type,label:r.label});if(r.type&&r.label)return JSON.stringify({type:r.type,label:r.label})}}},1140:function(e,t,r){"use strict";r.d(t,{A:()=>tR});var n,a,o,i=r(33259),c=r(95590),u=r(30592),s=r.n(u),l=r(96540),d=r(68523),f=r(924),p=r(90952),h=r(52043),m=r(38917),v=r(4103),y=r.n(v),b=r(5556),g=r.n(b),_=r(97200),w=r.n(_),k=r(40160),O=r(64454),x={en:{Contacts:{AddModal:{ContactForm:{gender:{man:"Man",woman:"Woman"},"other-fields":"Other fields",fields:{gender:"Civility",givenName:"Firstname",additionalName:"2nd firstname",surname:"Name in use",familyName:"Lastname",phone:"Phone",email:"Email",matrix:"Matrix ID",address:"Address",cozy:"Twake URL",company:"Company",jobTitle:"Job title",birthday:"Birthday",birthplace:"Birthplace",relatedContact:"Related contact",relationship:"Relationship",note:"Notes",label:"Label",required:"One of these fields must be filled in"},label:{none:"None",home:"Personal",work:"Pro",custom:"Customised",phone:{"cell-home":"Cell (personal)","cell-work":"Cell (pro)","voice-home":"Voice (personal)","voice-work":"Voice (pro)","fax-home":"Fax (personal)","fax-work":"Fax (pro)"},address:{home:"Home (personal)",work:"Work (pro)"},relationship:{parent:"Parent",child:"Child",sibling:"Sibling",spouse:"Spouse",coResident:"Co-resident",friend:"Friend",colleague:"Colleague",coWorker:"Co-worker",acquaintance:"Acquaintance",helper:"Helper",recipient:"Recipient"}},addLabel:{address:"Add an address",email:"Add an email",phone:"Add a phone",relatedContact:"Add a related contact"}}}},formatted:{date:"yyyy-LL-dd",address:"%{number} %{street}, %{code} %{city}, %{country}"}},fr:{Contacts:{AddModal:{ContactForm:{gender:{man:"Homme",woman:"Femme"},"other-fields":"Autres champs",fields:{gender:"Civilit\xe9",givenName:"Pr\xe9nom",additionalName:"2e pr\xe9nom",surname:"Nom d'usage",familyName:"Nom",phone:"T\xe9l\xe9phone",email:"Email",address:"Adresse",matrix:"ID Matrix",cozy:"URL du Twake",company:"Entreprise",jobTitle:"Fonction",birthday:"Anniversaire",birthplace:"Lieu de naissance",relatedContact:"Contact li\xe9",relationship:"Relation",note:"Notes",label:"Libell\xe9",required:"Un de ces champs doit \xeatre renseign\xe9"},label:{none:"Aucun",home:"Perso",work:"Pro",custom:"Personnalis\xe9",phone:{"cell-home":"Mobile (perso)","cell-work":"Mobile (pro)","voice-home":"Fixe (perso)","voice-work":"Fixe (pro)","fax-home":"Fax (perso)","fax-work":"Fax (pro)"},address:{home:"Domicile (perso)",work:"Travail (pro)"},relationship:{parent:"Parent",child:"Enfant",sibling:"Fr\xe8re/Soeur",spouse:"Conjoint",coResident:"Colocataire",friend:"Ami",colleague:"Coll\xe8gue/Collaborateur",coWorker:"Associ\xe9/Partenaire",acquaintance:"Connaissance",helper:"Assistant/Aidant",recipient:"B\xe9n\xe9ficiaire/Aid\xe9"}},addLabel:{address:"Ajouter une adresse",email:"Ajouter un email",phone:"Ajouter un t\xe9l\xe9phone",relatedContact:"Ajouter un contact li\xe9"}}}},formatted:{date:"dd/LL/yyyy",address:"%{number} %{street}, %{code} %{city}, %{country}"}}},E=r(31639),C=r(29592),S=r(56207),A=r(33616),P=r(90774),M=g().shape({name:g().string,options:g().arrayOf(g().shape({value:g().string,label:g().string})),customLabelOptions:g().shape({hide:g().bool,defaultType:g().string,defaultLabel:g().string})}),j=g().shape({name:g().string,icon:P.iconPropType,type:g().string,label:M,layout:g().string,subFields:g().arrayOf(g().shape({name:g().string.isRequired,icon:g().string,type:g().string.isRequired})),labelProps:g().shape({shrink:g().bool})}),D={input:g().object,attributes:j,meta:g().object,id:g().string,label:g().string,required:g().bool,variant:g().string,customLabelOptions:g().shape({hide:g().bool,defaultType:g().string.isRequired,defaultLabel:g().string.isRequired}),fullWidth:g().bool},T=["options"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(e){var t=e.options,r=(0,m.A)(e,T);(0,S.default)(x);var n=(0,A.useI18n)().t,a=(0,O.A)(t.map(function(e){return R(R({},e),{},{label:e.translated?e.label:n(e.label)})}));return l.createElement(C.default,r,a.map(function(e,t){return l.createElement(E.A,{key:"".concat(r.name,"-").concat(t),value:e.value,onClick:e.onClick},e.label)}))};N.prototype=D;var L=r(94339),F={en:{Contacts:{AddModal:{CustomLabelDialog:{label:{custom:"Customised label",home:"Personal",work:"Pro"},cancel:"Cancel",ok:"Ok"}}}},fr:{Contacts:{AddModal:{CustomLabelDialog:{label:{custom:"Libell\xe9 personnalis\xe9",home:"Perso",work:"Pro"},cancel:"Annuler",ok:"Ok"}}}}},B=r(36040),z=r(48313);let H=r(15776).A,U=r(40591).A;var V=r(29781),Z=r(24242),G=function(e){var t=e.customValue,r=e.setCustomValue,n=e.customLabelOptions,a=e.onSubmit,o=e.onClose,i=JSON.parse(t||"{}");(0,S.default)(F);var u=(0,A.useI18n)().t,s=(0,Z.useBreakpoints)().isMobile,d=(0,l.useState)(i.type||n.defaultType),f=(0,c.A)(d,2),p=f[0],h=f[1],m=(0,l.useState)(i.label||n.defaultLabel),v=(0,c.A)(m,2),y=v[0],b=v[1];return l.createElement(z.A,{open:!0,title:u("Contacts.AddModal.CustomLabelDialog.label.custom"),content:l.createElement(l.Fragment,null,l.createElement(C.default,{className:"u-mt-half",variant:"outlined",fullWidth:!0,autoFocus:!0,value:p,onChange:function(e){return h(e.target.value)}}),!n.hide&&l.createElement(U,{style:{flexDirection:"row"},className:"u-mt-half u-ml-half","aria-label":"radio",name:"label",value:y,onChange:function(e){return b(e.target.value)}},l.createElement(H,{value:"home",label:u("Contacts.AddModal.CustomLabelDialog.label.home"),control:l.createElement(V.A,null)}),l.createElement(H,{value:"work",label:u("Contacts.AddModal.CustomLabelDialog.label.work"),control:l.createElement(V.A,null)}))),actions:l.createElement(l.Fragment,null,l.createElement(B.default,{variant:"secondary",fullWidth:s,label:u("Contacts.AddModal.CustomLabelDialog.cancel"),onClick:o}),l.createElement(B.default,{label:u("Contacts.AddModal.CustomLabelDialog.ok"),fullWidth:s,disabled:!p,onClick:function(){r(JSON.stringify({type:p,label:y})),a({target:{value:JSON.stringify({type:p,label:y})}}),o()}})),onClose:o})};G.propTypes={customValue:g().string,setCustomValue:g().func,customLabelOptions:g().shape({hide:g().bool,defaultType:g().string,defaultLabel:g().string}),onSubmit:g().func,onClose:g().func};var q=["name","value","options","customLabelOptions","onChange"],W=function(e){var t=e.name,r=e.value,n=e.options,a=e.customLabelOptions,o=e.onChange,i=(0,m.A)(e,q);(0,S.default)(x);var u=(0,A.useI18n)().t,s=(0,l.useState)(!1),d=(0,c.A)(s,2),f=d[0],p=d[1],h=(0,l.useState)(function(){return(0,L.dZ)(t,r)}),v=(0,c.A)(h,2),y=v[0],b=v[1],g=y?[{value:y,label:(0,L.WD)(y,u),translated:!0,onClick:function(){if(r===y)return p(!0)}}]:[{value:"skip",label:"Contacts.AddModal.ContactForm.label.custom",onClick:function(){return p(!0)}}],_=n.concat(g);return l.createElement(l.Fragment,null,l.createElement(N,(0,k.A)({},i,{name:t,value:r,options:_,onChange:function(e){"skip"!==e.target.value&&o(e)}})),f&&l.createElement(G,{customValue:y,customLabelOptions:a,setCustomValue:b,onSubmit:o,onClose:function(){return p(!1)}}))};W.prototype=D;var Q=["input","attributes","variant","fullWidth"],J=function(e){var t=e.input,r=e.attributes,n=e.variant,a=e.fullWidth,o=(0,m.A)(e,Q),i=r.customLabelOptions?W:null!=r&&r.select?N:C.default;return l.createElement(i,(0,k.A)({},r,t,o,{variant:n,fullWidth:a,minRows:"2"}))};J.propTypes=D,J.defaultProps={variant:"outlined",fullWidth:!0};var Y=function(e){var t=e.children,r=e.otherCondition,n=e.name;return l.createElement(p.D0,{name:n,subscription:{value:!0}},function(e){var n=e.input.value;return void 0!==r&&r||n?t:null})};Y.defaultProps={otherCondition:void 0},Y.propTypes={children:g().element.isRequired,name:g().string.isRequired,otherCondition:g().bool};var $=r(62878),K=r(42895),X=r(25533),ee=r(48061),et=r(20469),er=r(56654),en=r(77946),ea=r(90179),eo=r.n(ea),ei=r(66550);function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var es=(n={en:{cancel:"Cancel",save:"Save",newContact:"New contact",coordinates:"Coordinates",givenName:"Firstname",familyName:"Lastname",addContact:"Add a contact",searchContact:"Search a contact",emptyContact:"No contact"},fr:{cancel:"Annuler",save:"Enregistrer",newContact:"Nouveau contact",coordinates:"Coordonn\xe9es",givenName:"Pr\xe9nom",familyName:"Nom",addContact:"Ajouter un contact",searchContact:"Rechercher un contact",emptyContact:"Aucun contact"}},function(e){var t=(0,ei.A)()(e),r="function"==typeof n?n:function(e){return n[e]},a=function(e){(0,et.A)(o,e);var n,a=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,en.A)(o);return e=n?Reflect.construct(t,arguments,(0,en.A)(this).constructor):t.apply(this,arguments),(0,er.A)(this,e)});function o(){return(0,X.A)(this,o),a.apply(this,arguments)}return(0,ee.A)(o,[{key:"render",value:function(){var e=this.props.lang,n=eo()(this.props,Object.keys(A.I18n.childContextTypes));return l.createElement(A.I18n,{dictRequire:r,lang:e},l.createElement(t,n))}}]),o}(l.Component);return a.propTypes=eu(eu({},e.propTypes||{}),A.I18n.childContextTypes),a.displayName="withLocales(".concat(e.displayName||e.name,")"),(0,ei.A)()(a)});let el=es(function(e){var t=e.t,r=e.onCancel,n=e.onSave;return l.createElement(l.Fragment,null,l.createElement(B.default,{variant:"secondary",label:t("cancel"),onClick:r}),l.createElement(B.default,{label:t("save"),onClick:n}))});var ed=r(70804),ef=r(39274),ep=r(42837);function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ev=function(e){var t=e.t,r=e.setContactValues,n=function(e){var t=e.target,n=t.name,a=t.value;r(function(e){return em(em({},e),{},(0,d.A)({},n,a))})};return l.createElement(l.Fragment,null,l.createElement(ef.default,{variant:"h5"},t("coordinates")),l.createElement(ep.$,null,l.createElement(ep.E,{className:"styles__icon___gvQ89"},l.createElement(P.default,{icon:ed.A})),l.createElement(ep.Bd,{className:"u-mr-1"},l.createElement(C.default,{className:"u-mt-1",variant:"outlined",fullWidth:!0,id:"givenName",name:"givenName",label:t("givenName"),onChange:n}))),l.createElement(ep.$,null,l.createElement(ep.Bd,{className:"u-ml-3 u-mr-1"},l.createElement(C.default,{className:"u-mt-1",variant:"outlined",fullWidth:!0,id:"familyName",name:"familyName",label:t("familyName"),onChange:n}))))};ev.propTypes={t:g().func,setContactValues:g().func};let ey=es(ev),eb=es(function(e){var t=e.t;return l.createElement(l.Fragment,null,t("newContact"))});var eg=(a=(0,i.A)(s().mark(function e(t){var r,n,a,o,i,c,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.contactValues,a=t.onCreate,o=t.onListClose,i=n.givenName,c=n.familyName,!(!i&&!c)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r.save({_type:"io.cozy.contacts",name:{familyName:c,givenName:i}});case 6:u=e.sent.data,a(u),o();case 10:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),e_=r(17007);let ew=function(e){var t=e.onListClose,r=e.onCreate,n=e.onClose,a=(0,l.useState)({}),o=(0,c.A)(a,2),i=o[0],u=o[1],s=(0,K.useClient)();return l.createElement(e_.A,{open:!0,onClose:n,title:l.createElement(eb,null),content:l.createElement(ey,{setContactValues:u}),actions:l.createElement(el,{onCancel:n,onSave:function(){return eg({client:s,contactValues:i,onCreate:r,onListClose:t})}})})};var ek=["className"];let eO=function(e){var t=e.className,r=(0,m.A)(e,ek);return l.createElement(ef.default,(0,k.A)({className:y()("u-ta-center u-pv-2",t)},r,{variant:"body1"}))};var ex=r(86417),eE=r(79880),eC=r(91274),eS=r(88592),eA=r(27282),eP=["className","contact","onClick","divider"],eM=K.models.contact,ej=eM.getPrimaryCozy,eD=eM.getPrimaryPhone,eT=eM.getPrimaryEmail,eI=function(e){var t=e.className,r=e.contact,n=e.onClick,a=e.divider,o=(0,m.A)(e,eP),i=(0,Z.default)().isMobile,c=eD(r)||void 0,u=eT(r)||void 0,s=ej(r)||void 0,d=(0,Z.default)().isDesktop;return l.createElement(eA.default,(0,k.A)({"data-testid":"contact-listItem",className:y()({"u-c-pointer":n},t),divider:a,gutters:d?"double":"default",onClick:function(){return null==n?void 0:n(r)}},o),l.createElement(eC.A,{contact:r}),!i&&l.createElement(eE.A,{email:u}),!i&&l.createElement(eS.A,{phone:c}),!i&&l.createElement(ex.A,{cozyUrl:s}))};function eR(e){var t=e.name&&e.name.givenName?e.name.givenName.toUpperCase():"",r=e.name&&e.name.familyName?e.name.familyName.toUpperCase():"";return t||r||!e.fullname?"".concat(r," ").concat(t).trim():e.fullname.toUpperCase().trim()}eI.propTypes={contact:g().object.isRequired,onClick:g().func,divider:g().bool},r(58156);var eN=function(e,t){var r=eR(e),n=eR(t);return r.localeCompare(n)},eL=function(e,t){var r=Object.keys(e),n=r.filter(function(e){return e!==t("empty")&&e!==t("me")}),a=n.slice().sort();if(r.length===n.length)return a;var o=[];return r.includes(t("me"))&&o.push(t("me")),r.includes(t("empty"))&&o.push(t("empty")),o.concat(a)},eF=r(12614),eB=r(70879),ez=r(62858),eH=r(26273),eU=["contacts","onItemClick"],eV=function(e){var t,r=e.contacts,n=e.onItemClick,a=(0,m.A)(e,eU),o=(0,A.useI18n)().t,i=(t=r.sort(eN),t.reduce(function(e,t){var r=t.me?o("me"):eR(t)[0]||o("empty");return e[r]=e[r]||[],e[r].push(t),e},{})),c=eL(i,o),u=(0,Z.default)().isDesktop;return l.createElement(eH.XI,a,c.map(function(e){return l.createElement(eB.default,{key:e,subheader:l.createElement(ez.A,{gutters:u?"double":"default"},e)},i[e].map(function(t,r){return l.createElement(eI,{key:t._id,id:t._id,contact:t,divider:r!==i[e].length-1,onClick:n})}))}))};eV.propTypes={contacts:g().array.isRequired,onItemClick:g().func};let eZ=(0,eF.A)(eV);var eG=r(39968),eq=K.models.contact.getDisplayName;let eW=es(function(e){var t=e.filter,r=e.contacts,n=e.emptyMessage,a=e.onItemClick,o=e.dismissAction,i=(0,A.useI18n)().t,c=("loading"===r.fetchStatus||"pending"===r.fetchStatus)&&!r.lastFetch,u=function(e){if(!t)return e;var r=t.toLowerCase();return e.filter(function(e){var t=eq(e);return!!t&&t.toLowerCase().includes(r)})}(r.data),s=null!=n?n:i("emptyContact");return c?l.createElement("div",{className:"u-mv-2 u-ta-center"},l.createElement(eG.A,{size:"xxlarge"})):0===u.length?l.createElement(eO,null,s):l.createElement(eZ,{contacts:u,onItemClick:function(e){a&&(a(e),o())}})});var eQ=r(8728),eJ=r(74710),eY=r(60610),e$=r(32859),eK=r(95926),eX={height:48},e0=function(e){var t=e.filter,r=e.placeholder,n=e.onChange,a=e.onDismiss;return l.createElement(eK.default,{variant:"inverted"},l.createElement(e$.default,{square:!0,elevation:0,className:"u-flex u-flex-items-center u-pr-3 u-pl-half",style:eX},l.createElement(eJ.default,{className:"u-mr-half",onClick:a,size:"medium"},l.createElement(P.default,{icon:eY.A})),l.createElement(eQ.A,{type:"text",placeholder:r,id:r,value:t,onChange:n,autoFocus:!0,fullWidth:!0,disableUnderline:!0})))};e0.propTypes={filter:g().string,placeholder:g().string,onChange:g().func,onDismiss:g().func};var e1=r(51286),e2=r(81678),e3=r(67781),e6=r(52129),e4=r(10230),e5=r(94283),e8=r(73112);let e7=function(e,t,r){if(!e.plugins||!e.plugins.realtime)return void console.error("[useRealtime] The provided CozyClient instance does not have a RealtimePlugin registered");var n=function(){Object.entries(t).forEach(function(t){var r,n=(0,c.A)(t,2),a=n[0];Object.entries(n[1]).forEach((r=(0,i.A)(s().mark(function t(r){var n,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(n=(0,c.A)(r,2))[0],i=n[1],t.prev=1,t.next=4,e.plugins.realtime.subscribe(o,a,i);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to subscribe to ".concat(o," event on ").concat(a,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return r.apply(this,arguments)}))})},a=function(){Object.entries(t).forEach(function(t){var r,n=(0,c.A)(t,2),a=n[0];Object.entries(n[1]).forEach((r=(0,i.A)(s().mark(function t(r){var n,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(n=(0,c.A)(r,2))[0],i=n[1],t.prev=1,t.next=4,e.plugins.realtime.unsubscribe(o,a,i);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),console.error("[useRealtime] Impossible to unsubscribe from ".concat(o," event on ").concat(a,". Does your app have the required permissions on this doctype?"));case 10:case"end":return t.stop()}},t,null,[[1,6]])})),function(e){return r.apply(this,arguments)}))})};(0,l.useEffect)(function(){return n(),a},r)};var e9=function(e){var t=e.onItemClick,r=e.placeholder,n=e.addContactLabel,a=e.emptyMessage,o=e.dismissAction,i=e.contacts,u=(0,l.useState)(""),s=(0,c.A)(u,2),d=s[0],f=s[1],p=(0,l.useState)(!1),h=(0,c.A)(p,2),m=h[0],v=h[1],b=(0,Z.default)().isMobile,g=(0,A.useI18n)().t,_=(0,e1.A)({size:"large",open:!0,onClose:o}),w=_.dialogProps,O=_.dialogTitleProps;e7((0,K.useClient)(),{"io.cozy.contacts":{created:i.fetch,updated:i.fetch}},[]),(0,e8.default)(document,"resume",i.fetch);var x=function(e){f(e.target.value)},E=null!=n?n:g("addContact"),S=null!=r?r:g("searchContact");return l.createElement(e2.A,w,l.createElement(eK.default,{variant:b?"inverted":"normal"},l.createElement(e3.A,{onClick:o})),l.createElement(e6.A,(0,k.A)({},O,{className:y()(O.className,{"u-p-0 u-w-100":b})}),b?l.createElement(e0,{filter:d,placeholder:S,onChange:x,onDismiss:o}):l.createElement(C.default,{variant:"outlined",type:"text",label:S,id:"contactsListModal-search-id",fullWidth:!0,value:d,onChange:x,autoFocus:!0})),l.createElement(e4.A,{className:"u-p-0"},l.createElement("div",{className:"dialogContentInner"},l.createElement("div",{className:"styles__ContactsListModal__addContactContainer___2W-dE"},l.createElement(B.default,(0,k.A)({className:b&&"u-mt-1",variant:"secondary",theme:"secondary",label:E||l.createElement(P.default,{icon:e5.A})},E&&{startIcon:l.createElement(P.default,{icon:e5.A})},{onClick:v}))),l.createElement(eW,{filter:d,contacts:i,onItemClick:t,emptyMessage:a,dismissAction:o}))),m&&l.createElement(ew,{onListClose:o,onCreate:t,onClose:function(){return v(!1)}}))};e9.propTypes={onItemClick:g().func,placeholder:g().oneOfType([g().string,g().bool]),addContactLabel:g().oneOfType([g().string,g().bool]),emptyMessage:g().oneOfType([g().string,g().bool]),dismissAction:g().func,contacts:g().object};var te=K.fetchPolicies.olderThan(3e4),tt=function(e){var t={definition:function(){return(0,K.Q)($.CONTACTS_DOCTYPE).limitBy(1e3)},options:{as:"".concat($.CONTACTS_DOCTYPE),fetchPolicy:te}},r=(0,K.useQueryAll)(t.definition,t.options);return l.createElement(e9,(0,k.A)({contacts:r},e))};tt.propTypes={onItemClick:g().func,placeholder:g().oneOfType([g().string,g().bool]),addContactLabel:g().oneOfType([g().string,g().bool]),emptyMessage:g().oneOfType([g().string,g().bool]),dismissAction:g().func};var tr=["contacts"],tn=function(e){var t=e.contacts,r=(0,m.A)(e,tr);return t?l.createElement(e9,(0,k.A)({contacts:t},r)):l.createElement(tt,r)};tn.propTypes={onItemClick:g().func,placeholder:g().oneOfType([g().string,g().bool]),addContactLabel:g().oneOfType([g().string,g().bool]),emptyMessage:g().oneOfType([g().string,g().bool]),dismissAction:g().func,contacts:g().object};let ta=es(tn);var to=function(e){var t=e.name,r=e.onClose,n=e.contacts,a=(0,p.mN)().change,o=function(e){a(t,(0,$.makeDisplayName)(e)),a("".concat(t,"Id"),e._id),r()};return l.createElement(ta,{dismissAction:r,onItemClick:function(e){return o(e)},contacts:n})};function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}to.propTypes={name:g().string.isRequired,onClose:g().func.isRequired,contacts:g().shape({data:g().arrayOf(g().object)}).isRequired};var tu=function(e,t){var r=e.reduce(function(e,t){var r=t.name.split(".").pop().replace(/address/,"");return tc(tc({},e),{},(0,d.A)({},r,t.value||""))},{});return(0,$.cleanFormattedAddress)(t("formatted.address",r))},ts={en:{Contacts:{AddModal:{ContactAddressDialog:{fields:{address:"Address",number:"Lane number",street:"Postal address",code:"Postal code",city:"City",country:"Country",locality:"Locality",building:"Building",stairs:"Stairs",floor:"Floor",apartment:"Apartment",region:"Region",entrycode:"Entry code"},cancel:"Cancel",ok:"Ok"}}}},fr:{Contacts:{AddModal:{ContactAddressDialog:{fields:{address:"Adresse",number:"Num\xe9ro de voie",street:"Adresse postal",code:"Code postal",city:"Ville",country:"Pays",locality:"Lieu-dit",building:"B\xe2timent",stairs:"Escalier",floor:"Etage",apartment:"Appartement",region:"R\xe9gion",entrycode:"Code d'entr\xe9e"},cancel:"Annuler",ok:"Ok"}}}}},tl=function(e){var t=e.onClose,r=e.name,n=e.subFields;(0,S.default)(ts);var a=(0,A.useI18n)().t,o=(0,p.mN)(),i=o.getFieldState,c=o.change,u=n.map(function(e){return i("".concat(r).concat(e.name))});return l.createElement(e_.A,{open:!0,onClose:t,size:"small",title:a("Contacts.AddModal.ContactAddressDialog.fields.address"),content:n.map(function(e){return l.createElement("div",{key:e.name,className:"u-mt-1"},l.createElement(p.D0,{label:a("Contacts.AddModal.ContactAddressDialog.fields.".concat(e.name)),attributes:{type:e.type},name:"".concat(r).concat(e.name),component:J}))}),actions:l.createElement(l.Fragment,null,l.createElement(B.default,{variant:"secondary",label:a("Contacts.AddModal.ContactAddressDialog.cancel"),onClick:function(){u.forEach(function(e){return c(e.name,e.initial)}),t()}}),l.createElement(B.default,{className:"u-ml-half",label:a("Contacts.AddModal.ContactAddressDialog.ok"),onClick:function(){if(!u.some(function(e){return!e.pristine}))return t();c(r,tu(u,a)),t()}}))})};tl.propTypes={onClose:g().func.isRequired,name:g().string.isRequired,subFields:g().arrayOf(j).isRequired};var td=["subFields"],tf=function(e){var t=e.name,r=e.labelProps,n=e.className,a=e.attributes,o=a.subFields,i=(0,m.A)(a,td),u=e.contacts,s=e.error,d=e.helperText,f=e.label,h=e.isInvisible,v=e.required,b=(0,l.useState)(w()("field_")),g=(0,c.A)(b,1)[0],_=(0,l.useState)(!1),k=(0,c.A)(_,2),O=k[0],E=k[1],C=(0,l.useState)(!1),P=(0,c.A)(C,2),M=P[0],j=P[1],D=(0,l.useState)(!1),T=(0,c.A)(D,2),I=T[0],R=T[1];(0,S.default)(x);var N=(0,A.useI18n)().t,L=function(){E(!0)};return l.createElement("div",{className:y()(n,"styles__contact-form-field__wrapper___39a5x","u-flex-column-s",{"u-flex":!h,"u-dn":h})},l.createElement(p.D0,{required:v,error:s,helperText:d,label:f,id:g,attributes:i,name:t,component:J,onFocus:L,onClick:function(){t.includes("address")&&j(!0),t.includes("relatedContact")&&R(!0)}}),M&&l.createElement(tl,{onClose:function(){return j(!1)},name:t,subFields:o}),I&&l.createElement(to,{onClose:function(){return R(!1)},name:t,contacts:u}),r&&l.createElement(Y,{name:t,otherCondition:O},l.createElement("div",{className:"u-mt-half-s u-ml-half u-ml-0-s u-flex-shrink-0 u-w-auto u-miw-4"},l.createElement(p.D0,{attributes:r,name:"".concat(t,"Label"),label:N("Contacts.AddModal.ContactForm.fields.label"),component:J,onFocus:L}))))};tf.propTypes={name:g().string.isRequired,className:g().string,labelProps:M,attributes:j,isInvisible:g().bool,contacts:g().shape({data:g().arrayOf(g().object)}),id:g().string,label:g().string,required:g().bool},tf.defaultProps={labelProps:null,required:!1};let tp=function(e){return l.createElement("svg",(0,k.A)({viewBox:"0 0 16 16"},e),l.createElement("path",{d:"M8 10.95c-.133 0-.258-.02-.375-.063a.878.878 0 01-.325-.212l-4.6-4.6a.948.948 0 01-.275-.7.95.95 0 01.275-.7.948.948 0 01.7-.275.95.95 0 01.7.275l3.9 3.9 3.9-3.9a.948.948 0 01.7-.275.95.95 0 01.7.275.948.948 0 01.275.7.948.948 0 01-.275.7l-4.6 4.6c-.1.1-.208.17-.325.212A1.106 1.106 0 018 10.95z"}))},th=function(e){return l.createElement("svg",(0,k.A)({viewBox:"0 0 16 16"},e),l.createElement("path",{d:"M8 6.775l-3.9 3.9a.948.948 0 01-.7.275.948.948 0 01-.7-.275.948.948 0 01-.275-.7.95.95 0 01.275-.7l4.6-4.6c.1-.1.208-.17.325-.213.117-.041.242-.062.375-.062s.258.02.375.062a.877.877 0 01.325.213l4.6 4.6a.948.948 0 01.275.7.948.948 0 01-.275.7.948.948 0 01-.7.275.948.948 0 01-.7-.275L8 6.775z"}))};var tm=["name","label","subFields"],tv=["name"];let ty=function(e){var t=e.attributes,r=t.name,n=t.label,a=t.subFields,o=(0,m.A)(t,tm),i=e.contacts,u=e.error,s=e.helperText;(0,S.default)(x);var d=(0,A.useI18n)().t,f=(0,l.useState)(!1),p=(0,c.A)(f,2),h=p[0],v=p[1];return l.createElement(l.Fragment,null,l.createElement("div",{className:"u-flex u-flex-items-baseline"},l.createElement(tf,{attributes:o,contacts:i,error:u,helperText:s,name:r,label:d("Contacts.AddModal.ContactForm.fields.".concat(r)),labelProps:n}),l.createElement(eJ.default,{className:"u-ml-half",size:"medium",onClick:function(){return v(function(e){return!e})}},l.createElement(P.default,{icon:h?th:tp}))),a.map(function(e,t){var r=e.name,n=(0,m.A)(e,tv);return l.createElement(tf,{key:t,className:"u-mt-1",attributes:n,name:r,isInvisible:!h,label:d("Contacts.AddModal.ContactForm.fields.".concat(r))})}))};var tb=r(73662),tg=r(22095),t_=r(72637),tw=["name","label"];let tk=function(e){var t=e.attributes,r=t.name,n=t.label,a=(0,m.A)(t,tw),o=e.contacts,i=e.formProps,c=i.valid,u=i.submitFailed,s=i.errors;(0,S.default)(x);var d=(0,A.useI18n)().t;return l.createElement(tb.ED,{name:r},function(e){var t=e.fields;return l.createElement(l.Fragment,null,t.map(function(e,i){var f,p,h=(null==(f=t.value[i])?void 0:f.fieldId)||e,m=null==(p=t.value[i])?void 0:p[r],v="".concat(e,".").concat(r),b=L.Pr.includes(v)&&!c&&u;return l.createElement("div",{key:h,className:y()("u-flex u-flex-items-baseline",{"u-mt-1":0!==i})},l.createElement(tf,{attributes:a,contacts:o,error:b,helperText:b?s[v]:null,name:v,label:d("Contacts.AddModal.ContactForm.fields.".concat(r)),labelProps:n}),m&&l.createElement(t_.default,{className:"u-ml-half"},l.createElement(eJ.default,{"aria-label":"delete",color:"error",size:"medium",onClick:function(){return(0,L.xX)(t,i)}},l.createElement(P.default,{icon:tg.A}))))}),l.createElement(B.default,{variant:"text",startIcon:l.createElement(P.default,{icon:e5.A}),onClick:function(){return(0,L.I5)(t)},label:d("Contacts.AddModal.ContactForm.addLabel.".concat(r))}))})};var tO=["layout","icon","isSecondary"],tx=["name","label"],tE=function(e){var t=e.attributes,r=t.layout,n=t.icon,a=t.isSecondary,o=(0,m.A)(t,tO),i=e.contacts,c=e.showSecondaryFields,u=e.formProps;(0,S.default)(x);var s=(0,A.useI18n)().t,d=u.valid,f=u.submitFailed,p=u.errors,h=o.name,v=o.label,b=(0,m.A)(o,tx),g=L.Pr.includes(h)&&!d&&f;return l.createElement("div",{className:y()("u-mt-1",{"u-flex-items-center":!r,"u-flex-items-baseline":!!r,"u-flex":!a||c,"u-dn":a&&!c})},l.createElement("div",{className:"u-w-2-half"},n&&l.createElement(P.default,{icon:n,color:"var(--iconTextColor)"})),l.createElement("div",{className:"u-w-100"},"array"===r?l.createElement(tk,{attributes:o,contacts:i,formProps:u}):"accordion"===r?l.createElement(ty,{attributes:o,contacts:i,error:g,helperText:g?p[h]:null}):l.createElement(tf,{attributes:b,contacts:i,error:g,helperText:g?p[h]:null,name:h,label:s("Contacts.AddModal.ContactForm.fields.".concat(h)),labelProps:v})))};tE.propTypes={attributes:g().object,contacts:g().shape({data:g().arrayOf(g().object)}),formProps:g().object};var tC=r(23047),tS=r(15855);function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let tM=function(e){var t=e.formValues,r=e.oldContact,n=e.t,a=t.gender,o=t.givenName,i=t.additionalName,c=t.surname,u=t.familyName,s=t.phone,l=t.email,d=t.address,f=t.matrix,p=t.cozy,h=t.company,m=t.jobTitle,v=t.birthday,y=t.birthplace,b=t.note,g=t.relatedContact,_=(0,L.Ze)(g),w=(0,L.ht)((0,L.wh)(r)),k=tP(tP(tP({},null==w?void 0:w.relationships),_),{},{groups:{data:[]}}),O=tP(tP({},w),{},{gender:a||"",name:tP(tP({},null==w?void 0:w.name),{},{givenName:o||"",additionalName:i,surname:c,familyName:u||""}),email:l?l.filter(function(e){return e&&e.email}).map(function(e,t){var r=e.email,n=e.emailLabel;return tP(tP({address:r},(0,L.M2)(n)),{},{primary:0===t})}):[],impp:(0,L.fA)(w,f),address:(0,L.FR)({address:d,oldContact:w,t:n}),phone:s?s.filter(function(e){return e&&e.phone}).map(function(e,t){var r=e.phone,n=e.phoneLabel;return tP(tP({number:r},(0,L.M2)(n)),{},{primary:0===t})}):[],cozy:p?[tP(tP({url:p},(0,L.M2)(t.cozyLabel)),{},{primary:!0})]:[],company:h||"",jobTitle:m||"",birthday:v||"",birthplace:y||"",note:b||"",relationships:k,metadata:tP(tP({},null==w?void 0:w.metadata),{},{version:1,cozy:!0})});return(0,$.updateIndexFullNameAndDisplayName)(O)};function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let tD=l.memo(function(e){var t=e.contact,r=e.onSubmit,n=e.contacts,a=(0,l.useState)(!1),i=(0,c.A)(a,2),u=i[0],s=i[1];(0,S.default)(x);var h=(0,A.useI18n)().t;return l.createElement(p.lV,{mutators:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},f.A),validate:function(e){return(0,L.MG)(e,h)},onSubmit:function(e){return r(tM({formValues:e,oldContact:t,t:h}))},initialValues:(0,tC.A)(t,h),render:function(e){var t=e.handleSubmit,r=e.valid,a=e.submitFailed,i=e.errors;return o=t,l.createElement("form",{role:"form",onSubmit:t,className:"u-flex u-flex-column"},tS.O.map(function(e,t){return l.createElement(tE,{key:t,attributes:e,contacts:n,showSecondaryFields:u,formProps:{valid:r,submitFailed:a,errors:i}})}),!u&&l.createElement("div",null,l.createElement(B.default,{className:"u-db u-ml-2 u-mt-1",variant:"text",label:h("Contacts.AddModal.ContactForm.other-fields"),onClick:function(){return s(!0)}})))}})},function(e,t){if(!(null!=(r=e.contact)&&r.relationships)||!(null!=(n=t.contact)&&n.relationships))return!1;var r,n,a=(0,h.getHasManyItems)(e.contact,"related").map(function(e){return e._id}),o=(0,h.getHasManyItems)(t.contact,"related").map(function(e){return e._id});return a.length===o.length&&!!a.every(function(e){return o.includes(e)})});var tT={en:{Contacts:{AddModal:{error:{save:"An error occurred while saving the contact, please try again"},"edit-contact":"Edit contact",create_contact:"Create a contact",cancel:"Cancel",save:"Save"}}},fr:{Contacts:{AddModal:{error:{save:"Une erreur est survenue lors de l'enregistrement du contact, veuillez r\xe9essayer"},"edit-contact":"Edit contact",create_contact:"Cr\xe9er un contact",cancel:"Annuler",save:"Enregistrer"}}}},tI=r(27344);let tR=function(e){var t,r=e.contacts,n=e.contact,a=e.onSubmit,u=e.onClose;(0,S.default)(tT);var d=(0,A.useI18n)().t,f=(0,tI.MW)().showAlert,p=(0,l.useState)(!1),h=(0,c.A)(p,2),m=h[0],v=h[1],y=(0,l.useState)(n),b=(0,c.A)(y,2),g=b[0],_=b[1],w=(t=(0,i.A)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _(t),v(!0),e.prev=2,e.next=5,a(t);case 5:u(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),v(!1),console.warn(e.t0),f({severity:"error",message:d("Contacts.AddModal.error.save")});case 13:case"end":return e.stop()}},e,null,[[2,8]])})),function(e){return t.apply(this,arguments)});return l.createElement(e_.A,{open:!0,onClose:u,title:n?d("Contacts.AddModal.edit-contact"):d("Contacts.AddModal.create_contact"),content:l.createElement(tD,{contacts:r,contact:g,onSubmit:w}),actions:l.createElement(l.Fragment,null,l.createElement(B.default,{variant:"secondary",label:d("Contacts.AddModal.cancel"),onClick:u}),l.createElement(B.default,{className:"u-ml-half",type:"submit",label:d("Contacts.AddModal.save"),busy:m,onClick:function(e){o(e)}}))})}},3770:function(e,t,r){"use strict";r.d(t,{A:()=>eb});var n=r(68523),a=r(95590),o=r(5556),i=r.n(o),c=r(96540),u=r(42895),s=r(40160),l=r(38917),d=r(4103),f=r.n(d),p=r(64687),h=r(39274),m=r(33259),v=r(25533),y=r(48061),b=r(40321),g=r(20469),_=r(56654),w=r(77946),k=r(30592),O=r.n(k),x=r(90774),E=r(94283),C=["autoComplete","disabled","type","id","className","value","placeholder","error","size","fullwidth"],S={"c-input-text":"styles__c-input-text___3TAv1","is-error":"styles__is-error___3lsCJ","c-input-text--tiny":"styles__c-input-text--tiny___MzMoD","c-input-text--medium":"styles__c-input-text--medium___28jPV","c-input-text--large":"styles__c-input-text--large___28EaR","c-input-text--fullwidth":"styles__c-input-text--fullwidth___33o_f"},A=(0,c.forwardRef)(function(e,t){var r,a=e.autoComplete,o=e.disabled,i=e.type,u=e.id,d=e.className,p=e.value,h=e.placeholder,m=e.error,v=e.size,y=e.fullwidth,b=(0,l.A)(e,C);return c.createElement("input",(0,s.A)({"aria-disabled":o,autoComplete:a,type:i,id:u,ref:t,className:f()(S["c-input-text"],(r={},(0,n.A)(r,S["is-error"],m),(0,n.A)(r,S["c-input-text--".concat(v)],v),(0,n.A)(r,S["c-input-text--fullwidth"],y),r),d),disabled:o,placeholder:h,value:p,spellCheck:!1},b))});A.displayName="Input",A.propTypes={autoComplete:i().string,disabled:i().bool,type:i().oneOf(["date","email","number","password","text","url","tel"]),id:i().string,className:i().string,value:i().oneOfType([i().number,i().string]),placeholder:i().string,error:i().bool,size:i().oneOf(["tiny","medium","large"]),fullwidth:i().bool,onChange:i().func,onKeyUp:i().func},A.defaultProps={type:"text",error:!1,fullwidth:!1,size:"large"};var P=r(66550),M=function(e){(0,g.A)(a,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,w.A)(a);return e=t?Reflect.construct(r,arguments,(0,w.A)(this).constructor):r.apply(this,arguments),(0,_.A)(this,e)});function a(e){var t,o;return(0,v.A)(this,a),t=r.call(this,e),(0,n.A)((0,b.A)(t),"state",{isInputDisplayed:!1,groupName:""}),(0,n.A)((0,b.A)(t),"handleClick",function(){t.setState({isInputDisplayed:!t.state.isInputDisplayed})}),(0,n.A)((0,b.A)(t),"onFocus",function(e){e.stopPropagation()}),(0,n.A)((0,b.A)(t),"onClick",function(e){e.stopPropagation()}),(0,n.A)((0,b.A)(t),"keyPress",(o=(0,m.A)(O().mark(function e(r){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:13==r.keyCode&&(t.props.createGroup({name:r.target.value,metadata:{version:1}}),t.textInput.current.value=""),r.stopPropagation();case 2:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),(0,n.A)((0,b.A)(t),"onMouseDown",function(e){e.stopPropagation()}),t.textInput=c.createRef(),t}return(0,y.A)(a,[{key:"render",value:function(){var e=this.state.isInputDisplayed,t=this.props.t;return c.createElement("div",null,c.createElement("div",{className:"styles__contact-group-creation-divider___3txmu"}),c.createElement("div",{className:f()("u-ml-half","u-mr-half","u-c-pointer","styles__container___1ById")},!e&&c.createElement("div",{onClick:this.handleClick,className:"styles__contact-group-create-div-icon___aUC-_"},c.createElement(x.default,{icon:E.A}),c.createElement("span",{className:"u-pl-half"},t("Contacts.GroupsSelect.create"))),e&&c.createElement(A,{id:"createGroupInput",ref:this.textInput,type:"text",placeholder:t("Contacts.GroupsSelect.name"),onClick:this.onClick,onFocus:this.onFocus,onKeyDown:this.keyPress,size:"tiny",autoComplete:"off",autoFocus:!0,onMouseDown:this.onMouseDown})))}}]),a}(c.Component);let j=(0,P.A)()(M);var D=["children","selectProps","className"],T=["createGroup"];let I=function(e){var t=e.children,r=e.selectProps,n=e.className,a=(0,l.A)(e,D),o=r.createGroup,i=(0,l.A)(r,T);return c.createElement(p.c.Menu,(0,s.A)({},a,{className:f()(n,"styles__menu___120ui"),selectProps:i}),c.createElement(h.default,{variant:"body1",component:"div"},t,c.createElement(j,{createGroup:o})))};Option.propTypes={groupName:i().string.isRequired,setEditedGroupId:i().string.isRequired};let R=function(e){var t,r=e.groupId,n=e.groupName,a=e.setEditedGroupId,o=e.renameGroup,i=(0,c.useRef)(),u=function(e){e.stopPropagation()},s=function(){return a("")},l=(t=(0,m.A)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:13==t.keyCode&&(s(),o(r,i.current.value)),u(t);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return c.createElement(A,{id:"editGroupInput",ref:i,type:"text",defaultValue:n,size:"tiny",autoComplete:"off",autoFocus:!0,onKeyDown:l,onClick:u,onFocus:u,onMouseDown:u,onBlur:s})};var N=r(60741),L=r(420),F=r(39700);let B=function(e){return c.createElement("svg",(0,s.A)({viewBox:"0 0 17 13"},e),c.createElement("path",{d:"M5.88 10.23L2.087 6.437.795 7.719l5.085 5.085L16.795 1.889 15.512.606 5.88 10.23z"}))},z=function(e){return c.createElement("svg",(0,s.A)({viewBox:"0 0 16 16"},e),c.createElement("path",{d:"M3.41 11.705L8 7.125l4.59 4.58 1.41-1.41-6-6-6 6 1.41 1.41z"}))};var H=r(71231),U=["actions"],V=["className","components","disabled","fullwidth","styles","breakpoints","classNamePrefix","name"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q={tiny:"2rem",medium:"2.5rem",large:"3rem"},W=function(e,t){if(!(e&&t))return{};var r=e.style.paddingTop||"0px",n=e.style.paddingBottom||"0px";return{menuList:function(a){var o=(a.paddingTop||0)+(a.paddingBottom||0),i=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-o;return G(G({},a),{},{maxHeight:"calc(".concat(i,"px - ").concat(r," - ").concat(n,")")})}}},Q=function(e){var t,r=e.children,a=e.isSelected,o=e.isFocused,i=e.isDisabled,u=e.innerProps,l=e.innerRef,d=e.labelComponent,p=e.withCheckbox;return c.createElement("div",(0,s.A)({},u,{ref:l,className:f()("styles__select-option___ov_IT",(t={},(0,n.A)(t,"styles__select-option--selected___R3_ES",a&&!p),(0,n.A)(t,"styles__select-option--focused___1Vpjv",o),(0,n.A)(t,"styles__select-option--disabled___1du57",i),t))}),p&&c.createElement("input",{type:"checkbox",readOnly:!0,checked:a,className:"styles__select-option__checkbox___15WVE"}),c.createElement("span",{className:"styles__select-option__label___1Xi5R"},c.createElement("span",{className:"u-ellipsis"},d||r),!!d&&r),!p&&c.createElement("span",{className:"styles__select-option__checkmark___ChXXs"},a&&c.createElement(x.default,{icon:B,color:"var(--primaryColor)",className:"u-ph-half"})))};Q.propTypes={withCheckbox:i().bool,labelComponent:i().node},Q.defaultProps={withCheckbox:!1};var J=function(e){var t=e.actions,r=(0,l.A)(e,U);return c.createElement(Q,(0,s.A)({},r,{labelComponent:r.children}),c.createElement("span",{className:"styles__select-option__actions___2WOjb"},t.map(function(e,t){return c.createElement(x.default,(0,s.A)({},e.iconProps,{key:t,icon:e.icon,color:r.isFocused?"var(--iconTextColor)":"var(--hintTextColor)",className:"u-ph-half",onClick:function(t){t.stopPropagation(),e.onClick(r)}}))})))};J.propTypes={actions:i().arrayOf(i().shape({icon:i().string,onClick:i().func,iconProps:i().object}))},J.defaultProps={actions:[]};var Y={Control:L.A,DropdownIndicator:function(e){return c.createElement(p.c.DropdownIndicator,e,c.createElement(x.default,{icon:e.selectProps.menuIsOpen?z:F.A,color:"var(--iconTextColor)",width:"20",height:"16"}))},Option:Q},$=function(e){(0,g.A)(a,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,w.A)(a);return e=t?Reflect.construct(r,arguments,(0,w.A)(this).constructor):r.apply(this,arguments),(0,_.A)(this,e)});function a(e){var t;return(0,v.A)(this,a),(t=r.call(this,e)).state={isOpen:!1},t.element=null,t.handleRef=t.handleRef.bind((0,b.A)(t)),t.handleOpen=t.handleOpen.bind((0,b.A)(t)),t.handleClose=t.handleClose.bind((0,b.A)(t)),t}return(0,y.A)(a,[{key:"handleOpen",value:function(){this.refreshMenuStyle(),this.setState({isOpen:!0})}},{key:"refreshMenuStyle",value:function(){var e;this.props.container&&this.controlRef&&(this.menuStyle=W((e=this.props.container)&&e.current||e,this.controlRef))}},{key:"handleClose",value:function(){this.setState({isOpen:!1})}},{key:"handleRef",value:function(e){var t=this.props.inputRef;e&&e.select&&(e.select.controlRef&&(this.controlRef=e.select.controlRef),e.select.inputRef&&"function"==typeof t&&t(e.select.inputRef))}},{key:"render",value:function(){var e,t,r=this.props,a=r.className,o=r.components,i=r.disabled,u=r.fullwidth,d=r.styles,p=r.breakpoints.isMobile,h=r.classNamePrefix,m=r.name,v=(0,l.A)(r,V),y=this.state.isOpen&&p;return c.createElement(N.Ay,(0,s.A)({ref:this.handleRef,components:o?G(G({},Y),o):Y,styles:G(G(G({},(e=this.props,{control:function(t,r){return G(G({},t),{},{backgroundColor:e.disabled?"transparent":"var(--paperBackgroundColor)",border:e.inset?".125rem solid var(--paperBackgroundColor)":".0625rem solid ".concat(r.isFocused?"var(--primaryColor)":"var(--borderMainColor)"),":hover":{borderColor:e.inset?"var(--paperBackgroundColor)":"var(--hintTextColor)",backgroundColor:e.inset?"var(--defaultBackgroundColor)":"var(--paperBackgroundColor)",cursor:"pointer"},borderRadius:".1875rem",boxShadow:"unset",height:q[e.size],minHeight:q[e.size]})},placeholder:function(e){return G(G({},e),{},{color:"var(--secondaryTextColor)"})},dropdownIndicator:function(e){return G(G({},e),{},{marginRight:".75rem",height:".875rem",width:".875rem",padding:0})},indicatorSeparator:function(){return{display:"none"}},valueContainer:function(e){return G(G({},e),{},{color:"var(--primaryTextColor)"})},singleValue:function(e){return G(G({},e),{},{color:"var(--primaryTextColor)"})},multiValue:function(e){return G(G({},e),{},{backgroundColor:"var(--hintTextColor)"})},menu:function(e){return G(G({},e),{},{backgroundColor:"var(--paperBackgroundColor)",zIndex:10})}})),d),this.menuStyle||{}),onMenuOpen:this.handleOpen,onMenuClose:this.handleClose},v,{isDisabled:i,className:f()((t={},(0,n.A)(t,"styles__select__overlay___3H8Jy",y),(0,n.A)(t,"styles__select--autowidth___16AEp",!u),(0,n.A)(t,"styles__select--disabled___1W3en",i),(0,n.A)(t,"styles__select--fullwidth___2l_xM",u),t),a),classNamePrefix:h||"",selectProps:{name:m}}))}}]),a}(c.Component);$.propTypes={container:i().object,components:i().object,disabled:i().bool,fullwidth:i().bool,inset:i().bool,name:i().string,inputRef:i().func,size:i().oneOf(["tiny","medium","large"]),styles:i().object},$.defaultProps={components:{},fullwidth:!1,inset:!1,size:"large",styles:{}};let K=(0,H.A)()($);var X=function(e){var t=e.data,r=t.name,n=t.id,a=t.withNoAction,o=e.selectProps,i=o.editedGroupId,u=o.setEditedGroupId,l=o.deleteGroup,d=o.renameGroup,f=o.withCheckbox;return i===n?c.createElement(R,{groupId:n,groupName:r,setEditedGroupId:u,renameGroup:d}):a?c.createElement(Q,e):c.createElement(J,(0,s.A)({},e,{withCheckbox:f,actions:[{icon:"pen",onClick:function(e){return u(e.data.id)},iconProps:{"data-testid":"ActionsOption_".concat(e.children,"-icon_pen")}},{icon:"trash",onClick:function(e){return l(e.data)}}]}))};X.propTypes={selectProps:i().shape({editedGroupId:i().string.isRequired,deleteGroup:i().func.isRequired,setEditedGroupId:i().func.isRequired,withCheckbox:i().bool}),data:i().shape({name:i().string.isRequired,id:i().string,withNoAction:i().bool})};let ee=function(e){return c.createElement(p.c.SelectContainer,(0,s.A)({},e,{className:f()(e.className,"react-select__custom__container")}))};var et=r(58156),er=r.n(et),en=r(41558),ea=r(11642),eo=r(7911),ei=r(27344),ec=r(56207),eu=r(33616);function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ed=function(e){var t,r,n=e.allGroups,a=e.onGroupCreated,o=e.client,i=e.onGroupCreate,c=e.onGroupUpdate,u=(0,en.C)(),s=u.selectedGroup,l=u.setSelectedGroup,d=(0,ei.MW)().showAlert;(0,ec.default)(eo.I);var f=(0,eu.useI18n)().t;return{createGroup:(t=(0,m.A)(O().mark(function e(t){var r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name){e.next=2;break}return e.abrupt("return");case 2:if(!(0,ea.z2)(n,t)){e.next=4;break}return e.abrupt("return",d({severity:"error",message:f("Contacts.GroupsSelect.already_exists",{name:t.name})}));case 4:return e.prev=4,e.next=7,i(o,t);case 7:return r=e.sent.data,a&&a(r),e.abrupt("return",d({severity:"success",message:f("Contacts.GroupsSelect.created.success")}));case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",d({severity:"error",message:f("Contacts.GroupsSelect.created.error")}));case 16:case"end":return e.stop()}},e,null,[[4,13]])})),function(e){return t.apply(this,arguments)}),renameGroup:(r=(0,m.A)(O().mark(function e(t,r){var a,i,u,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find(function(e){return e.id===t}),i=n.filter(function(e){return e.id!==t}),u=er()(a,"_id")===er()(s,"_id"),!(0,ea.z2)(i,{name:r})){e.next=5;break}return e.abrupt("return",d({severity:"error",message:f("Contacts.GroupsSelect.already_exists",{name:r})}));case 5:return e.prev=5,e.next=8,c(o,el(el({},a),{},{name:r}));case 8:return p=e.sent.data,u&&l(p),e.abrupt("return",d({severity:"success",message:f("Contacts.GroupsSelect.renamed.success")}));case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",d({severity:"error",message:f("Contacts.GroupsSelect.renamed.error")}));case 17:case"end":return e.stop()}},e,null,[[5,14]])})),function(e,t){return r.apply(this,arguments)})}};var ef=r(24615),ep=r(24242);function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ev=function(e){"Escape"===e.key&&(e.stopPropagation(),e.target.blur())},ey=function(e){var t=e.allGroups,r=e.closeMenuOnSelect,n=e.value,o=e.styles,i=e.isMulti,s=e.noOptionsMessage,l=e.withCheckbox,d=e.components,f=e.onGroupCreated,p=e.onChange,h=e.onGroupCreate,m=e.onGroupUpdate,v=e.onGroupDelete,y=e.menuPosition,b=(0,u.useClient)(),g=(0,ep.useBreakpoints)().isMobile,_=(0,c.useState)({menuIsOpen:!1,editedGroupId:""}),w=(0,a.A)(_,2),k=w[0],O=k.menuIsOpen,x=k.editedGroupId,E=w[1],C=ed({allGroups:t,onGroupCreated:f,client:b,onGroupCreate:h,onGroupUpdate:m}),S=C.createGroup,A=C.renameGroup,P=function(){E(function(e){return em(em({},e),{},{menuIsOpen:!1})})};return c.createElement(c.Fragment,null,c.createElement(ef.default,{onClickAway:O?P:function(){}},c.createElement(K,{className:g?"u-mb-half":"u-mr-half",classNamePrefix:"react-select",isMulti:i,withCheckbox:l,menuIsOpen:O,blurInputOnSelect:!0,hideSelectedOptions:!1,isSearchable:!1,isClearable:!1,closeMenuOnSelect:r,tabSelectsValue:!1,onKeyDown:ev,noOptionsMessage:s,options:t,value:n,onChange:function(e){r&&P(),p(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e._id},components:em(em({},{Menu:I,Option:X,SelectContainer:ee}),d),createGroup:S,deleteGroup:function(e){P(),v(e)},renameGroup:A,styles:o,onControlClicked:function(){E(function(e){return em(em({},e),{},{menuIsOpen:!e.menuIsOpen})})},setEditedGroupId:function(e){E(function(t){return em(em({},t),{},{editedGroupId:e})})},editedGroupId:x,menuPosition:y,fullwidth:!0})))};ey.propTypes={allGroups:i().array.isRequired,styles:i().object,value:i().oneOfType([i().array,i().object]).isRequired,components:i().object,isMulti:i().bool,noOptionsMessage:i().func,withCheckbox:i().bool,onChange:i().func.isRequired,onGroupCreated:i().func,onGroupCreate:i().func,onGroupUpdate:i().func,onGroupDelete:i().func,closeMenuOnSelect:i().bool,menuPosition:i().oneOf(["fixed","absolute"])},ey.defaultProps={isMulti:!1,components:{},closeMenuOnSelect:!1},ey.propTypes={allGroups:i().array.isRequired,onGroupCreate:i().func.isRequired,onGroupUpdate:i().func.isRequired,onGroupDelete:i().func.isRequired};let eb=ey},41558:function(e,t,r){"use strict";r.d(t,{A:()=>d,C:()=>l});var n=r(95590),a=r(96540),o=r(11642),i=r(7911),c=r(56207),u=r(33616),s=a.createContext(),l=function(){var e=(0,a.useContext)(s);if(!e)throw Error("useSelectedGroup must be used within a SelectedGroupProvider");return e};let d=function(e){var t=e.children;(0,c.default)(i.I);var r=(0,u.useI18n)().t,l=(0,a.useState)((0,o.SO)(r)),d=(0,n.A)(l,2),f=d[0],p=d[1];return a.createElement(s.Provider,{value:{selectedGroup:f,setSelectedGroup:p}},t)}},21173:function(e,t,r){"use strict";r.d(t,{A:()=>h});var n=r(40160),a=r(5556),o=r.n(a),i=r(96540),c=r(36040),u=r(90774);let s=function(e){return i.createElement("svg",(0,n.A)({viewBox:"0 0 16 10"},e),i.createElement("path",{d:"M8 5.991L13.596.395C13.86.132 14.194 0 14.601 0c.406 0 .741.132 1.004.395S16 .993 16 1.399c0 .407-.132.742-.395 1.005l-6.6 6.6a1.259 1.259 0 01-.467.305c-.167.06-.347.09-.538.09-.191 0-.37-.03-.538-.09a1.259 1.259 0 01-.466-.305l-6.601-6.6C.132 2.14 0 1.806 0 1.399 0 .993.132.658.395.395S.993 0 1.399 0c.407 0 .742.132 1.005.395L8 5.99z"}))};var l=r(56207),d=r(33616),f=r(7911),p=function(e){var t=e.innerRef,r=e.innerProps,a=e.selectProps.onControlClicked;(0,l.default)(f.I);var o=(0,d.useI18n)().t;return i.createElement("div",(0,n.A)({ref:t},r),i.createElement(c.default,{variant:"secondary",size:"small",onClick:a,onTouchStart:a,label:o("Contacts.GroupsSelect.manage"),startIcon:i.createElement(u.default,{icon:s,width:"12"})}))};p.propTypes={selectProps:o().object.isRequired};let h=p},11642:function(e,t,r){"use strict";r.d(t,{SO:()=>u,yJ:()=>c,z2:()=>i});var n=r(68523);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var i=function(e,t){return void 0!==e.find(function(e){return e.name.toLowerCase()===t.name.toLowerCase()})},c={name:"Contacts.GroupsSelect.filter.all-groups",withNoAction:!0},u=function(e){return o(o({},c),{},{name:e(c.name)})}},7911:function(e,t,r){"use strict";r.d(t,{I:()=>n});var n={en:{Contacts:{GroupsSelect:{create:"Create a group",name:"Name of the group",already_exists:"The group %{name} already exists.",manage:"Groups",filter:{"all-groups":"All groups"},created:{success:"The group has been created correctly.",error:"The group has not been created."},renamed:{success:"The group has been renamed correctly.",error:"The group has not been renamed."}}}},fr:{Contacts:{GroupsSelect:{create:"Cr\xe9er un groupe",name:"Nom du groupe",already_exists:"Le groupe %{name} existe d\xe9j\xe0.",manage:"Groupes",filter:{"all-groups":"Tous les groupes"},created:{success:"Le groupe a bien \xe9t\xe9 cr\xe9\xe9.",error:"Le groupe n'a pas \xe9t\xe9 cr\xe9\xe9."},renamed:{success:"Le groupe a bien \xe9t\xe9 renomm\xe9.",error:"Le groupe n'a pas \xe9t\xe9 renomm\xe9."}}}}}},74375:function(e,t,r){"use strict";r.d(t,{A:()=>eo});var n=r(4103),a=r.n(n),o=r(5556),i=r.n(o),c=r(96540),u=r(40160),s=r(68523),l={en:{Contacts:{Header:{create:"Create",filter:{"no-group":"Create contact groups to facilitate filing and sharing!"},import:{title:"Import",store:"From other sources",vcard:"From a vCard file"}}}},fr:{Contacts:{Header:{create:"Cr\xe9er",filter:{"no-group":"Cr\xe9er des groupes de contacts pour faciliter leur classement et le partage !"},import:{title:"Importer",store:"Depuis d'autres sources",vcard:"Depuis un fichier vCard"}}}}},d=r(420),f=r(24242),p=r(56207),h=r(33616),m=r(3770),v=r(41558),y=r(11642);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=function(){var e=(0,f.useBreakpoints)().isMobile;return{container:function(t){return g(g({},t),{},{width:e?"100%":"50%"})},noOptionsMessage:function(e){return g(g({},e),{},{textAlign:"left"})}}},w=function(e){var t=(0,u.A)({},e);return c.createElement(d.A,(0,u.A)({},t,{innerProps:g(g({},t.innerProps),{},{"data-testid":"selectBox-controlDefault",className:"u-bdrs-4"})}))};let k=function(e){var t,r=e.allGroups,n=e.onGroupCreate,a=e.onGroupUpdate,o=e.onGroupDelete;(0,p.default)(l);var i=(0,h.useI18n)().t,u=(0,v.C)(),s=u.selectedGroup,d=u.setSelectedGroup,f=(t=(0,y.SO)(i),r.length>0?[t].concat(r):r),b=_();return c.createElement(m.A,{allGroups:f,value:s,noOptionsMessage:function(){return i("Contacts.Header.filter.no-group")},styles:b,closeMenuOnSelect:!0,components:{Control:w},onChange:d,onGroupCreate:n,onGroupUpdate:a,onGroupDelete:o})};var O=r(95590),x=r(42895),E=r(62878),C=r(54697),S=r(36885),A=r(36040),P=r(90774),M=r(39700),j=r(23566),D=r(29411),T=r(24203),I=function(e){var t=e.children,r=e.className;return c.createElement("div",{className:a()("styles__c-actionmenu-header___2p_ke",r)},t)};I.propTypes={children:i().node,className:i().string};var R=r(43292),N=r(3353);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,s.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let B=function(e){var t=e.anchorElRef,r=e.popperOptions,n=e.placement,a=e.preventOverflow,o=e.onClose,i=e.children,s=(0,c.useState)(null),l=(0,O.A)(s,2),d=l[0],f=l[1],p=t?t.current:null,h=r||{placement:n,modifiers:a?void 0:[{name:"preventOverflow",enabled:!1},{name:"hide",enabled:!1}]},m=(0,N.E)(p,d,h),v=m.styles,y=m.attributes;return c.createElement("div",(0,u.A)({ref:f,style:F(F({},v.popper),{},{zIndex:"var(--zIndex-popover)"})},y.popper),c.createElement(R.A,{onClickAway:function(e){p.contains(e.target)||o(e)}},i))};var z=r(38325),H=r(56100);let U=function(e){var t=e.onClose,r=e.anchorElRef,n=e.popperOptions,a=e.placement,o=e.preventOverflow,i=e.children;return(0,f.default)().isMobile?c.createElement(z.A,{skipAnimation:(0,H.A)(),backdrop:!0,onClose:t},i):c.createElement(B,{anchorElRef:r,popperOptions:n,onClose:t,placement:a,preventOverflow:o},i)};var V=r(35855),Z=(0,V.A)(),G=(0,V.A)(),q=(0,V.A)(),W=(0,V.A)(),Q=function(e){var t=e.className,r=e.anchorElRef,n=e.autoclose,o=e.popperOptions,i=e.children,u=e.onClose,l=e.placement,d=e.preventOverflow,p=e.containerElRef;l&&G("<ActionMenu placement /> is deprecated, use <ActionMenu popperOptions={{ placement }} /> instead"),d&&q("<ActionMenu preventOverflow /> is deprecated, use <ActionMenu popperOptions={{ modifiers }} /> instead"),p&&W("<ActionMenu containerElRef /> is not needed anymore, it can be removed."),Z("The ActionMenu component has been deprecated and should be replaced by ActionsMenu. More infos: https://docs.cozy.io/cozy-ui/react/#!/ActionsMenu");var h=(0,f.default)().isMobile,m=c.createRef();return(0,T.D)(),c.createElement("div",{className:t,ref:m,onClick:n?u:null},c.createElement(U,{anchorElRef:r||m,popperOptions:o,onClose:u,placement:l,preventOverflow:d},c.createElement("div",{className:a()("styles__c-actionmenu___IUGX7",(0,s.A)({},"styles__c-actionmenu--inline___1RWrO",!h))},c.Children.map(i,function(e){return e&&e.type===I&&!h?null:e}))))};Q.propTypes={className:i().string,anchorElRef:i().object,autoclose:i().bool,popperOptions:i().shape({placement:i().oneOf(["bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"])}),children:i().node,onClose:i().func,placement:i().string,preventOverflow:i().bool,containerElRef:i().object},Q.defaultProps={popperOptions:{placement:"bottom-start"},autoclose:!1};var J=r(95037),Y=r(42837),$=function(e){var t=e.left,r=e.children,n=e.right,o=e.onClick,i=e.className,u=e.contentSpacing;return c.createElement(Y.$,{className:a()("styles__c-actionmenu-item___WzUJQ",i),onClick:o,align:"top"},t&&c.createElement(Y.E,{className:"u-mh-1"},t),c.createElement(Y.Bd,{className:a()(t?"u-mr-1":"u-mh-1","u-stack-".concat(u))},r),n&&c.createElement(Y.E,{className:"u-mr-1"},n))};$.propTypes={left:i().node,right:i().node,children:i().node,onClick:i().func,className:i().string,contentSpacing:J.Z},$.defaultProps={contentSpacing:"xs"};let K=function(e){var t=e.onContactImport;(0,p.default)(l);var r=(0,h.useI18n)().t,n=(0,x.useClient)(),a=(0,c.useRef)(),o=(0,c.useState)(!1),i=(0,O.A)(o,2),u=i[0],s=i[1],d=(0,x.generateWebLink)({cozyUrl:n.getStackClient().uri,hash:"discover/?type=konnector&doctype=".concat(E.CONTACTS_DOCTYPE),pathname:"/",slug:"store",subDomainType:n.getInstanceOptions().subdomain});return c.createElement(c.Fragment,null,c.createElement(A.default,{ref:a,variant:"secondary",label:r("Contacts.Header.import.title"),endIcon:c.createElement(P.default,{icon:M.A}),fullWidth:!0,onClick:function(){return s(function(e){return!e})}}),u&&c.createElement(Q,{anchorElRef:a,popperOptions:{placement:"bottom-end"},onClose:function(){return s(!1)}},c.createElement($,{left:c.createElement(P.default,{icon:j.A}),onClick:t},r("Contacts.Header.import.vcard")),c.createElement(S.default,{app:{slug:"store"},href:d},function(e){var t=e.onClick,n=e.href;return c.createElement($,{left:c.createElement(C.default,{app:"store",className:"u-h-1 u-w-1"}),onClick:t},c.createElement(D.default,{className:"u-p-0",href:n,style:{color:"var(--primaryTextColor)"}},r("Contacts.Header.import.store")))})))};var X=r(38221),ee=r.n(X),et=r(5379);let er=function(e){var t=e.setSearchValue,r=(0,c.useMemo)(function(){return ee()(function(e){return t(e)},375)},[t]);return c.createElement(et.default,{size:"small",elevation:0,onChange:function(e){r(e.target.value)}})};var en=r(20375),ea=function(e){var t=e.allGroups,r=e.onContactCreate,n=e.onContactImport,o=e.onSearch,i=e.onGroupCreate,u=e.onGroupDelete,s=e.onGroupUpdate;(0,p.default)(l);var d=(0,h.useI18n)().t,m=(0,f.useBreakpoints)().isMobile;return c.createElement("div",{className:m?void 0:"u-flex u-flex-justify-between"},c.createElement("div",{className:a()("u-flex u-flex-items-center u-w-auto-s u-w-5 u-maw-6",{"u-mb-1":m,"u-mr-1":!m})},c.createElement(A.default,{className:"u-mr-half",variant:"ghost",startIcon:c.createElement(P.default,{icon:en.default}),label:d("Contacts.Header.create"),fullWidth:!0,onClick:r}),c.createElement(K,{onContactImport:n})),c.createElement("div",{className:m?void 0:"u-flex u-flex-items-center u-flex-justify-end u-flex-grow-1 u-maw-7"},c.createElement(k,{allGroups:t,onGroupCreate:i,onGroupUpdate:s,onGroupDelete:u}),c.createElement(er,{setSearchValue:o})))};ea.propTypes={allGroups:i().array,onContactCreate:i().func,onContactImport:i().func,onSearch:i().func,onGroupCreate:i().func,onGroupUpdate:i().func,onGroupDelete:i().func},ea.defaultProps={allGroups:[]};let eo=ea},86417:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(5556),a=r.n(n),o=r(96540),i=r(26273),c=function(e){var t=e.cozyUrl;return o.createElement(i.nA,{"data-testid":"ContactCozy",className:"".concat("styles__contact-cozyurl___3kBp5"," u-ellipsis u-p-0")},t)};c.propTypes={cozyUrl:a().string},c.defaultProps={cozyUrl:"—"};let u=c},79880:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(5556),a=r.n(n),o=r(96540),i=r(26273),c=function(e){var t=e.email;return o.createElement(i.nA,{"data-testid":"ContactEmail",className:"".concat("styles__contact-email___3n3q2"," u-ellipsis u-p-0")},t)};c.propTypes={email:a().string},c.defaultProps={email:"—"};let u=c},91274:function(e,t,r){"use strict";r.d(t,{A:()=>w});var n=r(38917),a=r(5556),o=r.n(a),i=r(96540),c=r(62878),u=r(4103),s=r.n(u),l=r(39274),d=function(e){var t,r=e.contact,n=null==(t=r.name)?void 0:t.familyName,a=(0,c.getDisplayName)(r),o=null==a?void 0:a.split(" ");return i.createElement(l.default,{"data-testid":"ContactName",className:"u-ml-1",noWrap:!0,display:"inline"},null==o?void 0:o.map(function(e,t){var r=t===o.length-1;return i.createElement("span",{key:"display-".concat(t),className:s()({"u-fw-bold":e===n})},e,!r&&i.createElement(i.Fragment,null,"\xa0"))}))};d.propTypes={contact:o().object.isRequired};var f=r(27998),p=r(26273),h=r(56207),m=r(33616),v=r(12614),y=["noWrapper"],b=function(){(0,h.default)(v.I);var e=(0,m.useI18n)().t;return i.createElement("span",{className:"".concat("styles__contact-myself___1aOdx")},"(",e("me"),")")},g=function(e){var t=e.contact,r=!!t.me;return i.createElement(i.Fragment,null,i.createElement(f.default,{display:"inline",size:"s"},(0,c.getInitials)(t)),i.createElement(d,{contact:t}),r&&i.createElement(b,null))};g.propTypes={contact:o().object.isRequired};var _=function(e){var t=e.noWrapper,r=(0,n.A)(e,y);return t?i.createElement(g,r):i.createElement(p.nA,{"data-testid":"ContactIdentity",className:"".concat("styles__contact-identity___mL3IJ"," u-flex u-flex-items-center u-ellipsis u-p-0")},i.createElement(g,r))};_.defaultProps={noWrapper:!1};let w=_},88592:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(5556),a=r.n(n),o=r(96540),i=r(26273),c=function(e){var t=e.phone;return o.createElement(i.nA,{"data-testid":"ContactPhone",className:"".concat("styles__contact-phone___1sA_m"," u-ellipsis u-p-0")},t)};c.propTypes={phone:a().string},c.defaultProps={phone:"—"};let u=c},12614:function(e,t,r){"use strict";r.d(t,{A:()=>o,I:()=>a});var n=r(28485),a={en:{empty:"EMPTY",me:"me",favorite:"favorites"},fr:{empty:"VIDE",me:"moi",favorite:"favoris"}};let o=(0,n.A)(a)},48313:function(e,t,r){"use strict";r.d(t,{A:()=>g});var n=r(40160),a=r(68523),o=r(3144),i=r.n(o),c=r(96540),u=r(17970),s=r(67781),l=r(34347),d=r(51286),f=r(68545),p=r(10230),h=r(52129),m=r(9528);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=function(e){var t=e.onClose,r=e.onBack,a=e.title,o=e.content,l=e.actions,v=e.actionsLayout,b=(0,d.A)(y(y({},e),{},{isFluidTitle:!0})),g=b.dialogProps,_=b.dialogTitleProps,w=b.fullScreen,k=b.id,O=b.dialogActionsProps,x=b.dialogContentProps,E=r||t;return c.createElement(f.Ay,g,!w&&t&&c.createElement(s.A,{onClick:t,"data-testid":"modal-close-button-".concat(k)}),!w&&r&&c.createElement(u.A,{"data-testid":"modal-back-button-".concat(k),onClick:r}),w&&E&&c.createElement(u.A,{"data-testid":"modal-backclose-button-".concat(k),onClick:E}),c.createElement(p.A,x,c.createElement("div",{className:"dialogContentInner withFluidActions"},a&&c.createElement("div",{className:"dialogTitleFluidContainer"},c.createElement(h.A,_,a)),c.createElement("div",{className:i()("dialogContentWrapper",{withActions:!!l})},o),l&&c.createElement(m.A,(0,n.A)({},O,{disableSpacing:!0,className:i()("dialogActionsFluid",{columnLayout:"column"==v},O.className)}),l))))};b.defaultProps={size:"small"},b.propTypes=l.A;let g=b},69441:function(e,t,r){"use strict";r.d(t,{A:()=>y});var n=r(40160),a=r(4103),o=r.n(a),i=r(96540),c=r(17970),u=r(67781),s=r(34347),l=r(51286),d=r(68545),f=r(52129),p=r(10230),h=r(9528),m=r(82092),v=function(e){var t=e.onClose,r=e.onBack,a=e.title,s=e.content,v=e.actions,y=e.actionsLayout,b=(0,l.A)(e),g=b.dialogProps,_=b.dialogTitleProps,w=b.fullScreen,k=b.id,O=b.dividerProps,x=b.dialogActionsProps,E=b.dialogContentProps,C=r||t;return i.createElement(d.Ay,g,!w&&t&&i.createElement(u.A,{onClick:t,"data-testid":"modal-close-button-".concat(k)}),!w&&r&&i.createElement(c.A,{onClick:r,"data-testid":"modal-back-button-".concat(k)}),w&&C&&i.createElement(c.A,{"data-testid":"modal-backclose-button-".concat(k),onClick:C}),a&&i.createElement(i.Fragment,null,i.createElement(f.A,_,a),i.createElement(m.default,O)),i.createElement(p.A,E,i.createElement("div",{className:"dialogContentInner withFluidActions"},i.createElement("div",{className:o()("dialogContentWrapper",{withActions:!!v})},s),v&&i.createElement(h.A,(0,n.A)({},x,{disableSpacing:!0,className:o()("dialogActionsFluid",{columnLayout:"column"==y},x.className)}),v))))};v.propTypes=s.A;let y=v},17970:function(e,t,r){"use strict";r.d(t,{A:()=>v});var n=r(40160),a=r(38917),o=r(5556),i=r.n(o),c=r(96540),u=r(37762),s=r(90774),l=r(74710),d=r(60610),f=r(99919),p=["onClick"],h=(0,f.A)(u.A),m=function(e){var t=e.onClick,r=(0,a.A)(e,p),o=h().t;return c.createElement("div",{className:"styles__DialogBackButton___1c7yH"},c.createElement(l.default,(0,n.A)({onClick:t},r,{"aria-label":o("backButton"),className:"dialogIconButton",size:"medium"}),c.createElement(s.default,{icon:d.A})))};m.propTypes={onClick:i().func.isRequired};let v=m},67781:function(e,t,r){"use strict";r.d(t,{A:()=>v});var n=r(40160),a=r(38917),o=r(5556),i=r.n(o),c=r(96540),u=r(37762),s=r(90774),l=r(74710),d=r(91152),f=r(99919),p=["onClick"],h=(0,f.A)(u.A),m=function(e){var t=e.onClick,r=(0,a.A)(e,p),o=h().t;return c.createElement("div",{className:"styles__DialogCloseButton___cxKPO"},c.createElement(l.default,(0,n.A)({onClick:t},r,{"aria-label":o("closeButton"),className:"dialogIconButton",size:"medium"}),c.createElement(s.default,{icon:d.default})))};m.propTypes={onClick:i().func.isRequired};let v=m},17007:function(e,t,r){"use strict";r.d(t,{A:()=>y});var n=r(40160),a=r(4103),o=r.n(a),i=r(96540),c=r(17970),u=r(67781),s=r(34347),l=r(51286),d=r(68545),f=r(52129),p=r(10230),h=r(9528),m=r(82092),v=function(e){var t=e.onClose,r=e.onBack,a=e.title,s=e.content,v=e.actions,y=e.actionsLayout,b=(0,l.A)(e),g=b.dialogProps,_=b.dialogTitleProps,w=b.fullScreen,k=b.id,O=b.dividerProps,x=b.dialogActionsProps,E=b.dialogContentProps,C=r||t;return i.createElement(d.Ay,g,!w&&t&&i.createElement(u.A,{"data-testid":"modal-close-button-".concat(k),onClick:t}),!w&&r&&i.createElement(c.A,{"data-testid":"modal-back-button-".concat(k),onClick:r}),w&&C&&i.createElement(c.A,{"data-testid":"modal-backclose-button-".concat(k),onClick:C}),a&&i.createElement(i.Fragment,null,i.createElement(f.A,_,a),i.createElement(m.default,O)),i.createElement(p.A,E,i.createElement("div",{className:"dialogContentInner"},s)),i.createElement(m.default,O),v&&i.createElement(h.A,(0,n.A)({},x,{disableSpacing:!0,className:o()({columnLayout:"column"==y},x.className)}),v))};v.propTypes=s.A;let y=v},81678:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(96540),a=r(68545);let o=(0,r(85437).A)({scrollPaper:{alignItems:"start"},paper:{}})(function(e){return n.createElement(a.Ay,e)})},34347:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(5556),a=r.n(n);let o={size:a().oneOf(["small","medium","large","full"]),open:a().bool.isRequired,disableTitleAutoPadding:a().bool,background:a().string,title:a().node,content:a().node,actions:a().node,actionsLayout:a().oneOf(["row","column"]),onClose:a().func,onBack:a().func}},38675:function(e,t,r){"use strict";r.r(t),r.d(t,{TopAnchoredDialog:()=>L.A,AllowLocationDialog:()=>G,FixedDialog:()=>O.A,useCozyDialog:()=>p.A,DialogCloseButton:()=>a.A,Dialog:()=>o.A,AuthentificationDialog:()=>es,FixedActionsDialog:()=>k,ConfirmDialog:()=>i.A,DialogBackButton:()=>n.A,IllustrationDialog:()=>S,InstallFlagshipAppDialog:()=>$,PermissionDialog:()=>N});var n=r(17970),a=r(67781),o=r(69441),i=r(48313),c=r(40160),u=r(68523),s=r(3144),l=r.n(s),d=r(96540),f=r(34347),p=r(51286),h=r(68545),m=r(10230),v=r(52129),y=r(9528),b=r(82092);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=function(e){var t=e.onClose,r=e.onBack,o=e.title,i=e.content,u=e.actions,s=e.actionsLayout,f=(0,p.A)(_(_({},e),{},{isFluidTitle:!0})),g=f.dialogProps,w=f.dialogTitleProps,k=f.fullScreen,O=f.id,x=f.dividerProps,E=f.dialogActionsProps,C=f.dialogContentProps,S=r||t;return d.createElement(h.Ay,g,!k&&t&&d.createElement(a.A,{"data-testid":"modal-close-button-".concat(O),onClick:t}),!k&&r&&d.createElement(n.A,{"data-testid":"modal-back-button-".concat(O),onClick:r}),k&&S&&d.createElement(n.A,{"data-testid":"modal-backclose-button-".concat(O),onClick:S}),d.createElement(m.A,C,d.createElement("div",{className:"dialogContentInner"},o&&d.createElement("div",{className:"dialogTitleFluidContainer"},d.createElement(v.A,w,o)),i)),d.createElement(b.default,x),u&&d.createElement(y.A,(0,c.A)({},E,{disableSpacing:!0,className:l()({columnLayout:"column"==s},E.className)}),u))};w.propTypes=f.A;let k=w;var O=r(17007);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C=function(e){var t=e.onClose,r=e.onBack,o=e.title,i=e.content,u=e.actions,s=e.actionsLayout,f=(0,p.A)(E(E({},e),{},{isFluidTitle:!0,disableTitleAutoPadding:!0})),b=f.dialogProps,g=f.dialogTitleProps,_=f.id,w=f.fullScreen,k=f.dialogActionsProps,O=f.dialogContentProps,x=r||t;return d.createElement(h.Ay,b,!w&&t&&d.createElement(a.A,{"data-testid":"modal-close-button-".concat(_),onClick:t}),!w&&r&&d.createElement(n.A,{onClick:r,"data-testid":"modal-back-button-".concat(_)}),w&&x&&d.createElement(n.A,{"data-testid":"modal-backclose-button-".concat(_),onClick:x}),d.createElement(m.A,O,d.createElement("div",{className:"dialogContentInner withFluidActions u-pt-1-half"},o&&d.createElement("div",{className:"dialogTitleFluidContainer"},d.createElement(v.A,(0,c.A)({},g,{className:l()("u-flex u-flex-justify-center",g.className)}),o)),d.createElement("div",{className:l()("dialogContentWrapper",{withActions:!!u})},i),u&&d.createElement(y.A,(0,c.A)({},k,{disableSpacing:!0,className:l()("dialogActionsFluid",{columnLayout:"column"==s},k.className)}),u))))};C.propTypes=f.A;let S=C;var A=r(4103),P=r.n(A),M=r(5556),j=r.n(M),D=r(90774),T=r(32859),I=(0,r(82096).A)({floatingIcon:{top:"-2.25rem",width:"4.5rem",height:"4.5rem"}}),R=function(e){var t=e.open,r=e.icon,n=e.title,a=e.content,o=e.actions,c=e.actionsLayout,u=e.onClose,s=I();return d.createElement(i.A,{open:t,size:"small",disableTitleAutoPadding:!0,classes:{paper:"u-ov-visible"},componentsProps:{dialogTitle:{className:"u-flex u-flex-justify-center u-ta-center u-pt-2 u-pb-half"},dialogContent:{className:"u-ov-visible"}},title:d.createElement(d.Fragment,null,d.createElement(T.default,{elevation:2,className:P()(s.floatingIcon,"u-pos-absolute u-bdrs-circle u-flex")},d.createElement(D.default,{className:"u-m-auto",icon:r,size:48})),n),content:a,actions:o,actionsLayout:c,onClose:u})};R.propTypes={open:j().bool.isRequired,icon:j().func.isRequired,title:j().string.isRequired,content:j().node,actions:j().node,actionsLayout:j().oneOf(["row","column"]),onClose:j().func};let N=R;var L=r(81678);let F=function(e){return d.createElement("svg",(0,c.A)({viewBox:"0 0 172 128",fill:"none"},e),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.533 125.273c2.862 1.018 10.204 1.899 16.121 2.251 16.158.963 38.736.439 48.306-1.331 9.642-1.785 10.07-4.485-14.44-5.821-20.872-1.139-45.234.484-50.444 2.901-1.399.648-1.322 1.369.457 2z",fill:"#BBD9FD"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.189 18.264l-34.745 7.19c-5.051 1.052-8.293 5.965-7.248 10.99l14.47 69.251c1.045 5.03 5.99 8.247 11.037 7.217l34.749-7.217a9.282 9.282 0 007.243-10.99l-14.464-69.24c-1.051-5.025-5.99-8.253-11.042-7.201z",fill:"#297EF1"}),d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.213 83.562L68.9 91.715 57.72 38.219l39.324-8.142 11.169 53.485zm-14.002 16.2a3.515 3.515 0 01-4.85.998 3.456 3.456 0 01-1.507-2.209 3.468 3.468 0 01.51-2.615c1.092-1.558 3.204-1.992 4.844-1.009a3.475 3.475 0 011.013 4.824l-.01.01z",fill:"#BBD9FD"}),d.createElement("path",{d:"M131.104 0c-18.777 0-34 15.222-34 34l.004.46a33.997 33.997 0 0017.697 29.386l.241.129.094-.163c-.507.853-.823 1.741-.823 2.623 0 1.898.905 3.494 2.734 4.132l.307.102c3.468 1.092 6.602.057 10.395-2.599l.289-.207.749.06c.767.051 1.539.077 2.313.077 18.778 0 34-15.222 34-34s-15.222-34-34-34z",fill:"#fff"}),d.createElement("path",{d:"M131.104 0c-18.777 0-34 15.222-34 34l.004.46a33.997 33.997 0 0017.697 29.386l.241.129.094-.163c-.507.853-.823 1.741-.823 2.623 0 1.898.905 3.494 2.734 4.132l.307.102c3.468 1.092 6.602.057 10.395-2.599l.289-.207.749.06c.767.051 1.539.077 2.313.077 18.778 0 34-15.222 34-34s-15.222-34-34-34zm0 4c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30a30.39 30.39 0 01-3.395-.19l-.773-.087-1.19.867c-2.986 2.143-5.098 2.895-7.163 2.27l-.214-.07c-.048-.017-.052-.023-.052-.356 0-.038.09-.29.241-.544l.081-.13a7.163 7.163 0 00.964-2.237l.392-1.598-1.493-.692A30.001 30.001 0 01101.104 34c0-16.569 13.432-30 30-30z",fill:"#BBD9FD"}),d.createElement("path",{d:"M144.667 29.333c0 7.992-9.776 20.872-12.586 24.41a.945.945 0 01-1.495 0C127.776 50.204 118 37.324 118 29.332 118 21.97 123.97 16 131.333 16c7.364 0 13.334 5.97 13.334 13.333z",fill:"#97ECA1"}),d.createElement("circle",{cx:131.333,cy:29.333,fill:"#09AE1C",r:5.333}))};var B=r(28485);let z=(0,B.A)({en:{cancel:"Cancel",allow:"Allow","allow-location-dialog":{title:"Allow access to your location",description:"Your Twake needs to always be authorised to access your phone's location in order to memorise and help you analyse your movements, even when the app is not in use.\n\nIt will NEVER be passed on to anyone without your request.\n\nYou can deactivate this feature from the Coach CO2 app settings."},"install-flagship-app-dialog":{title:"Scan the QR Code",text:"or go directly to the <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>App Store</a><br>or <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> to install the Twake\xa0Workplace app",a11n:"Go to the Twake\xa0Workplace application download page"},"authentification-dialog":{title:"Login","title-oidc":"Twake Pass",subtitle:"For security, please confirm your identity",label:"Twake password","label-oidc":"Twake Pass password",abort:"Leave",unlock:"Unlock","forgotten-password":"I forgot my password",errors:{invalid_password:"Incorrect password, try again.",server_error:"Something went wrong with the server. Please, reload the page."}}},fr:{cancel:"Annuler",allow:"Autoriser","allow-location-dialog":{title:"Autoriser l'acc\xe8s \xe0 votre position",description:"Votre Twake a besoin d'\xeatre toujours autoris\xe9 \xe0 acc\xe9der \xe0 la position de votre t\xe9l\xe9phone pour m\xe9moriser, et vous aider \xe0 analyser vos d\xe9placements, m\xeame lorsque l'app n'est pas utilis\xe9e ou affich\xe9e.\n\nElle ne sera JAMAIS transmise \xe0 qui que ce soit sans votre demande.\n\nVous pourrez d\xe9sactiver cette fonctionnalit\xe9 depuis les param\xe8tres de l'app Coach CO2."},"install-flagship-app-dialog":{title:"Scannez le QR Code",text:"ou rendez vous directement sur <img src=%{iosIconSrc} /> <a href='%{iosUrl}' class='u-link' target='_blank' rel='noopener'>l’App Store</a><br>ou sur le <img src=%{androidIconSrc} /> <a href='%{androidUrl}' class='u-link' target='_blank' rel='noopener'>Play Store</a> pour installer l’app Twake\xa0Workplace",a11n:"Aller sur la page de t\xe9l\xe9chargement de l'application Twake\xa0Workplace"},"authentification-dialog":{title:"Authentification","title-oidc":"Twake Pass",subtitle:"Par s\xe9curit\xe9, merci de confirmer votre identit\xe9",label:"Mot de passe Twake","label-oidc":"Mot de passe Twake Pass",abort:"Quitter",unlock:"D\xe9verrouiller","forgotten-password":"J'ai oubli\xe9 mon mot de passe",errors:{invalid_password:"Mot de passe incorrect, essayer \xe0 nouveau.",server_error:"Une erreur s'est produite. Merci de recharger la page."}}}});var H=r(36040),U=r(39274),V=r(33616),Z=(0,d.forwardRef)(function(e,t){var r=e.onClose,n=e.onAllow,a=e.description,o=(0,V.useI18n)().t;return d.createElement(S,{open:!0,ref:t,size:"small",onClose:r,title:d.createElement("div",{className:"u-flex u-flex-column u-flex-items-center"},d.createElement(D.default,{icon:F,width:128,height:128}),d.createElement(U.default,{variant:"h3",className:"u-ta-center"},o("allow-location-dialog.title"))),content:d.createElement("div",{className:"u-ta-center"},d.createElement(U.default,{gutterBottom:!0,variant:"body1",color:"textPrimary",style:{whiteSpace:"pre-line"}},a||o("allow-location-dialog.description"))),actions:d.createElement(d.Fragment,null,d.createElement(H.default,{variant:"secondary",label:o("cancel"),onClick:r}),d.createElement(H.default,{variant:"primary",label:o("allow"),onClick:n}))})});Z.propTypes={onClose:j().func,onAllow:j().func,description:j().string},Z.displayName="AllowLocationDialog";let G=z(Z),q=r.p+"static/image/QRCodeInstallFlagshipAppDialog.3c85854d.png",W=r.p+"static/image/appstore.9a9d6acd.png",Q=r.p+"static/image/playstore.a473b4eb.png";var J=r(29411),Y=(0,d.forwardRef)(function(e,t){var r=e.onClose,n=e.playStoreUrl,a=e.appStoreUrl,o=e.QRCode,i=(0,V.useI18n)().t;return d.createElement(S,{open:!0,ref:t,size:"small",onClose:r,componentsProps:{dialogTitle:{className:"u-pt-2-half"}},title:d.createElement(J.default,{href:"https://cozy.io/download",target:"_blank",rel:"noopener noreferrer"},d.createElement("img",{src:o,width:"100%",alt:"","aria-hidden":!0}),d.createElement("span",{className:"u-visuallyhidden"},i("install-flagship-app-dialog.a11n"))),content:d.createElement("div",{className:"u-ta-center"},d.createElement(U.default,{gutterBottom:!0,variant:"h3",color:"textPrimary"},i("install-flagship-app-dialog.title")),d.createElement(U.default,{color:"textSecondary",className:"u-ta-center",dangerouslySetInnerHTML:{__html:i("install-flagship-app-dialog.text",{androidUrl:n,androidIconSrc:Q,iosUrl:a,iosIconSrc:W})}}))})});Y.propTypes={onClose:j().func,playStoreUrl:j().string,appStoreUrl:j().string,QRCode:j().any},Y.defaultProps={playStoreUrl:"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile",appStoreUrl:"https://apps.apple.com/app/my-cozy/id1600636174",QRCode:q},Y.displayName="InstallFlagshipAppDialog";let $=z(Y);var K=r(95590),X=r(42895);let ee=function(e){return d.createElement("svg",(0,c.A)({viewBox:"0 0 36 48"},e),d.createElement("path",{d:"M35 18h-3v-4c0-7.72-6.28-14-14-14S4 6.28 4 14v4H1a1 1 0 00-1 1v25c0 2.206 1.794 4 4 4h28c2.206 0 4-1.794 4-4V19a1 1 0 00-1-1zM20.994 38.89A1 1 0 0120 40h-4a1.002 1.002 0 01-.994-1.11l.63-5.673A3.956 3.956 0 0114 30c0-2.206 1.794-4 4-4s4 1.794 4 4a3.956 3.956 0 01-1.637 3.217l.631 5.673zM26 18H10v-4c0-4.411 3.589-8 8-8s8 3.589 8 8v4z"}))};var et=r(74710);let er=function(e){return d.createElement("svg",(0,c.A)({viewBox:"0 0 16 11"},e),d.createElement("path",{d:"M8 1.5a7.105 7.105 0 016.415 4A7.1 7.1 0 018 9.5a7.098 7.098 0 01-6.415-4c1.2-2.451 3.659-4 6.415-4zM8 .045C4.364.045 1.258 2.307 0 5.5c1.258 3.193 4.364 5.454 8 5.454s6.742-2.261 8-5.454C14.742 2.307 11.636.045 8 .045zm0 3.637a1.819 1.819 0 11-.001 3.637A1.819 1.819 0 018 3.682zm0-1.455A3.278 3.278 0 004.727 5.5 3.278 3.278 0 008 8.773 3.278 3.278 0 0011.273 5.5 3.278 3.278 0 008 2.227z"}))},en=function(e){return d.createElement("svg",(0,c.A)({viewBox:"0 0 16 16"},e),d.createElement("path",{d:"M10.982 8.337L9.927 7.282c.11-.57-.054-1.103-.49-1.6-.437-.497-1-.69-1.692-.582L6.691 4.046c.206-.097.415-.17.627-.219.212-.048.44-.072.682-.072.91 0 1.682.318 2.318.954a3.16 3.16 0 01.955 2.318c0 .243-.024.47-.073.682a3.085 3.085 0 01-.218.628zm2.327 2.29L12.255 9.61c.46-.351.87-.736 1.227-1.154.357-.418.664-.894.918-1.428a7.15 7.15 0 00-2.61-2.918C10.659 3.39 9.395 3.027 8 3.027a7.04 7.04 0 00-2.036.291L4.836 2.191A8.059 8.059 0 018 1.573c1.83 0 3.46.506 4.89 1.518A8.656 8.656 0 0116 7.027a8.508 8.508 0 01-1.1 1.991 8.003 8.003 0 01-1.59 1.61zm.364 4.473l-3.055-3.018a8.737 8.737 0 01-1.282.3c-.43.067-.875.1-1.336.1-1.83 0-3.46-.506-4.89-1.518A8.656 8.656 0 010 7.027a8.62 8.62 0 01.964-1.79A8.374 8.374 0 012.29 3.755l-2-2.037L1.309.7l13.382 13.382-1.018 1.018zM3.309 4.773a7.81 7.81 0 00-.964 1.036c-.29.376-.539.782-.745 1.218a7.15 7.15 0 002.61 2.919c1.132.72 2.396 1.082 3.79 1.082.242 0 .479-.016.71-.046.23-.03.466-.064.708-.1l-.654-.69a3.395 3.395 0 01-.382.08A2.57 2.57 0 018 10.3c-.91 0-1.682-.318-2.318-.954-.637-.637-.955-1.41-.955-2.319 0-.133.01-.26.028-.381.018-.122.045-.249.081-.382L3.31 4.773z"}))};var ea=r(2589),eo=r(29592);function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let ec=(0,B.A)({en:{"password-field":{show:"Show password",hide:"Hide password"}},fr:{"password-field":{show:"Afficher le mot de passe",hide:"Masquer le mot de passe"}}})(function(e){var t=(0,V.useI18n)().t,r=(0,d.useState)(!0),n=(0,K.A)(r,2),a=n[0],o=n[1];return d.createElement(eo.default,(0,c.A)({variant:"outlined",type:a?"password":"text"},e,{InputProps:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({endAdornment:d.createElement(ea.default,{position:"end"},d.createElement(et.default,{label:t(a?"password-field.show":"password-field.hide"),disabled:e.disabled,onClick:function(){return o(!a)},edge:"end"},d.createElement(D.default,{icon:a?er:en})))},e.InputProps)}))});var eu=function(e){var t=e.onClose,r=e.onSubmit,n=e.isLoading,a=e.isOIDC,o=e.error,i=e.resetRedirection,c=(0,V.useI18n)().t,u=(0,X.useClient)(),s=(0,d.useState)(""),l=(0,K.A)(s,2),f=l[0],p=l[1],h=function(e){e.preventDefault(),r(f)},m=(0,d.useMemo)(function(){var e=new URL("/auth/passphrase_reset",u.getStackClient().uri);return i&&e.searchParams.set("from",i),e.href},[u,i]);return d.createElement(N,{open:!0,onClose:t,title:c("authentification-dialog.".concat(a?"title-oidc":"title")),icon:ee,content:d.createElement("form",{onSubmit:h},d.createElement(U.default,{variant:"body1",className:"u-ta-center"},c("authentification-dialog.subtitle")),d.createElement(ec,{autoFocus:!0,disabled:n,value:f,onChange:function(e){p(e.currentTarget.value)},className:"u-mv-1",label:c("authentification-dialog.".concat(a?"label-oidc":"label")),error:!!o,helperText:o&&c("authentification-dialog.errors.".concat(o)),fullWidth:!0,required:!0}),d.createElement(U.default,{variant:"body1",component:"a",color:"primary",href:m,className:"u-link"},c("authentification-dialog.forgotten-password"))),actions:d.createElement(H.default,{busy:n,disabled:n||0===f.length,onClick:h,label:c("authentification-dialog.unlock"),fullWidth:!0})})};eu.defaultProps={isOIDC:!1},eu.propTypes={onClose:j().func,onSubmit:j().func,isLoading:j().bool,isOIDC:j().bool,error:j().string,resetRedirection:j().string};let es=z(eu)},37762:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n={en:{closeButton:"Close",backButton:"Back"},fr:{closeButton:"Fermer",backButton:"Retour"},es:{closeButton:"Cerrar",backButton:"Atr\xe1s"}}},51286:function(e,t,r){"use strict";r.d(t,{A:()=>x});var n=r(68523),a=r(95590),o=r(38917),i=r(4103),c=r.n(i),u=r(96540),s=r(40160),l=r(78896),d=r(10716),f=r(5556),p=r.n(f),h=["fullScreen","isFullscreen"],m=(0,u.forwardRef)(function(e,t){var r=e.fullScreen,n=e.isFullscreen,a=(0,o.A)(e,h);return r||n?u.createElement(d.A,(0,s.A)({ref:t,direction:"up"},a)):u.createElement(l.A,(0,s.A)({ref:t},a))});m.propTypes={fullScreen:p().bool};var v=r(24242),y=r(82096),b=["size","actions","actionsLayout","title","content","open","opened","onBack","onClose","align","disableTitleAutoPadding","isFluidTitle","disableGutters","titleRef","background","componentsProps"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=0,k=["small","medium","large","full"],O=(0,y.A)({paper:{background:function(e){var t=e.background;return null!=t?t:"var(--paperBackgroundColor)"}}});let x=function(e){var t,r,n,i,s=e.size,l=(e.actions,e.actionsLayout,e.title,e.content,e.open),d=e.opened,f=e.onBack,p=e.onClose,h=e.align,y=e.disableTitleAutoPadding,g=e.isFluidTitle,x=e.disableGutters,E=e.titleRef,C=e.background,S=e.componentsProps,A=(0,o.A)(e,b),P=(0,v.default)().isMobile,M=(0,u.useState)(w++),j=(0,a.A)(M,1)[0],D=k.includes(s)?"".concat(s):"medium",T="small"!==s&&P,I=O({background:C}),R=_(_({"aria-labelledby":"modal-title-".concat(j),fullScreen:T,open:void 0!==l?l:d,onClose:p,TransitionComponent:m},A),{},{classes:_(_({},A.classes),{},{paper:"".concat(D," ").concat(I.paper," ").concat(A.classes?A.classes.paper:""),scrollPaper:"top"==h?"alignTop":""}),BackdropProps:_({style:_({transitionDelay:50},null==A||null==(t=A.BackdropProps)?void 0:t.style)},A.BackdropProps),TransitionProps:_({fullScreen:T},A.TransitionProps)}),N=!T&&p,L=f||T&&p;return{dialogProps:R,dialogTitleProps:_(_({},null==S?void 0:S.dialogTitle),{},{id:"modal-title-".concat(j),ref:E,disableTypography:!0,className:"cozyDialogTitle "+c()({"u-ellipsis":!g,dialogTitleFluid:g,dialogTitleWithClose:N&&!y,dialogTitleWithBack:L&&!y},null==S||null==(r=S.dialogTitle)?void 0:r.className)}),listItemProps:{classes:{root:"listItem--dialog"}},id:j,fullScreen:T,dividerProps:_(_({},null==S?void 0:S.divider),{},{classes:{root:"divider--dialog"}}),dialogActionsProps:_(_({},null==S?void 0:S.dialogActions),{},{classes:{root:"cozyDialogActions"}}),dialogContentProps:_(_({},null==S?void 0:S.dialogContent),{},{classes:_({root:c()({disableGutters:x})},null==S||null==(n=S.dialogContent)?void 0:n.classes),className:c()("cozyDialogContent",null==S||null==(i=S.dialogContent)?void 0:i.className)})}}},9528:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=r(65816).A},10230:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=r(68016).A},52129:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=r(5696).A},68545:function(e,t,r){"use strict";r.d(t,{Ay:()=>E});var n,a,o=r(40160),i=r(38917),c=r(39870),u=r(4103),s=r.n(u),l=r(96540),d=r(19773),f=r(26232),p=r(7127),h=r(84660),m=r(18340),v=r(47670),y=r(95926);(n=a||(a={})).BackgroundDefault="default",n.BackgroundPaper="paper",n.CozyBarBackground="background-color",n.CozyBarClass=".coz-bar-wrapper",n.CozyBarPrimaryClass="coz-theme-primary",n.DialogClass=".MuiPaper-root",n.OverlayActive="rgba(0, 0, 0, 0.5)",n.OverlayTransparent="transparent",n.RootModalColor="color",n.SidebarID="sidebar";var b=function(e){var t=e.cozybar,r=e.fullscreen,n=e.sidebar,o=e.rootModal,i=e.theme,c=t&&!o;return r?{bottomBackground:i.palette.background.paper,bottomTheme:v.F4.Dark,topBackground:i.palette.background.paper,topTheme:v.F4.Dark}:{bottomBackground:o?void 0:i.palette.background[n?a.BackgroundDefault:a.BackgroundPaper],bottomTheme:v.F4.Light,bottomOverlay:a.OverlayActive,topOverlay:a.OverlayActive,topBackground:c?getComputedStyle(t).getPropertyValue(a.CozyBarBackground):void 0,topTheme:v.F4.Light}},g=function(e){var t=e.rootModal,r=e.theme,n=e.immersive,o=e.sidebar,i=e.cozybar,c=e.isLight,u=t&&.5>(0,d.J1)(getComputedStyle(t).getPropertyValue(a.RootModalColor)),s=!t,l=i&&!t,f=u||!n&&!(i&&i.classList.contains(a.CozyBarPrimaryClass))&&c;return{bottomBackground:s?r.palette.background[o?a.BackgroundDefault:a.BackgroundPaper]:void 0,bottomTheme:u||!n&&c?v.F4.Dark:v.F4.Light,bottomOverlay:a.OverlayTransparent,topOverlay:a.OverlayTransparent,topBackground:l?getComputedStyle(i).getPropertyValue(a.CozyBarBackground):void 0,topTheme:f?v.F4.Dark:v.F4.Light}},_=function(){var e=document.querySelectorAll(a.DialogClass);return e.length>1?e[0]:null},w=function(e,t,r,n){var a=(0,h.useWebviewIntent)();(0,l.useEffect)(function(){return e&&(0,v.EF)(a,t,"".concat(n||"unknown"," (onOpenMount)")),function(){e&&void 0!==e&&(0,v.EF)(a,r,"".concat(n||"unknown"," (onOpenUnmount)"))}},[e,a])},k=(0,p.isFlagshipApp)()||m.H6?function(e,t){var r=(0,f.A)(),n=(0,y.useCozyTheme)().isLight,o=document.querySelector(a.CozyBarClass),i=document.getElementById(a.SidebarID),c=_(),u=!!(0,m.Yu)().immersive;w(e,b({fullscreen:t,theme:r,sidebar:i,rootModal:c,cozybar:o,isLight:n}),g({rootModal:c,theme:r,immersive:u,sidebar:i,cozybar:o,isLight:n}),"cozy-ui/Dialog"+(t?"--fullScreen":"")+(c?"--stacked":"")+(u?"--immersive":""))}:function(){},O=["className"],x=function(e){var t=e.className,r=(0,i.A)(e,O),n=(0,y.useCozyTheme)(),a=n.type,u=n.variant;return k(r.open,r.fullScreen),l.createElement(c.A,(0,o.A)({className:s()("TwakeTheme--".concat(a,"-").concat(u),t)},r))};x.defaultProps={disableEnforceFocus:!0};let E=x},82092:function(e,t,r){"use strict";r.r(t),r.d(t,{DeprecatedDivider:()=>k,default:()=>g});var n=r(68523),a=r(40160),o=r(48672),i=r(96540),c=r(38917),u=r(4103),s=r.n(u),l=r(5556),d=r.n(l),f=r(39274),p=["color","variant","textAlign","children","className"],h={divider:"styles__divider___SuA5q",center:"styles__center___3K8dw"},m=function(e){var t=e.color,r=e.variant,n=e.textAlign,o=e.children,u=e.className,l=(0,c.A)(e,p);return i.createElement(f.default,(0,a.A)({color:void 0===t?"textPrimary":t,variant:void 0===r?"body2":r,className:s()(h.divider,h[n],u)},l),o)};m.propTypes={textAlign:d().oneOf(["center"])};var v=r(85437);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var b=(0,i.forwardRef)(function(e,t){return"string"==typeof e.children?i.createElement(m,(0,a.A)({},e,{ref:t})):i.createElement(o.A,(0,a.A)({},e,{ref:t}))});b.displayName="Divider",b.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},m.propTypes);let g=b;var _={padding:16},w={padding:32},k=(0,v.A)(function(e){var t;return{root:(t={},(0,n.A)(t,e.breakpoints.down("md"),{width:"calc(100% + ".concat(_.padding,"*2px)"),marginLeft:"-".concat(_.padding,"px")}),(0,n.A)(t,e.breakpoints.up("md"),{width:"calc(100% + ".concat(w.padding,"*2px)"),marginLeft:"-".concat(w.padding,"px")}),t)}})(b)},86960:function(e,t,r){"use strict";r.d(t,{Ay:()=>b});var n=r(40160),a=r(68523),o=r(38917),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=r(90774),f=r(39274),p=["icon","iconSize","title","text","children","className","centered","componentsProps"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var m={"c-empty":"styles__c-empty___3w5oV","c-empty--centered":"styles__c-empty--centered___2ijsY","c-empty-img":"styles__c-empty-img___2GC4d","c-empty-img--medium":"styles__c-empty-img--medium___1d2Zd","c-empty-img--large":"styles__c-empty-img--large___3s3vC","c-empty-title":"styles__c-empty-title___2HduE","c-empty-text":"styles__c-empty-text___3HnvR"},v=function(e){var t,r,i=e.icon,u=e.iconSize,s=e.title,v=e.text,b=e.children,g=e.className,_=e.centered,w=e.componentsProps,k=(0,o.A)(e,p),O="object"==typeof i&&!!i.props;return l.createElement("div",(0,n.A)({className:c()(m["c-empty"],(0,a.A)({},m["c-empty--centered"],_),g)},k),i&&(O?l.cloneElement(i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:c()(m["c-empty-img"],(0,a.A)({},m["c-empty-img--".concat(u)],"normal"!==u),null==(t=i.props)?void 0:t.className),size:(null==(r=i.props)?void 0:r.size)||(i.type===d.default?"100%":void 0)},null==w?void 0:w.icon)):l.createElement(d.default,(0,n.A)({className:c()(m["c-empty-img"],(0,a.A)({},m["c-empty-img--".concat(u)],"normal"!==u)),icon:i,size:"100%"},null==w?void 0:w.icon))),s&&l.createElement(f.default,(0,n.A)({gutterBottom:!0,variant:"h3",color:"textPrimary"},null==w?void 0:w.title),s),v&&l.createElement(y,(0,n.A)({gutterBottom:!0},null==w?void 0:w.text),v),l.createElement("div",(0,n.A)({className:m["c-empty-text"]},null==w?void 0:w.childrenContainer),b))};v.propTypes={icon:d.iconPropType,iconSize:s().oneOf(["normal","medium","large"]),title:s().node,text:s().node,centered:s().bool,children:s().node,componentsProps:s().shape({icon:s().object,title:s().object,text:s().object,childrenContainer:s().object}),className:s().string},v.defaultProps={iconSize:"normal"};var y=function(e){var t=(0,n.A)({},e);return l.createElement(f.default,(0,n.A)({variant:"body1",color:"textSecondary"},t))};let b=v},99083:function(e,t,r){"use strict";r.r(t),r.d(t,{ExtendableFab:()=>v,default:()=>y});var n=r(24488),a=r(40160),o=r(38917),i=r(96540),c=r(90774),u=r(95590),s=r(38221),l=r.n(s),d=r(73112),f=r(21977);let p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.delay,n=(0,i.useState)({scrollTop:0,scrollLeft:0}),a=(0,u.A)(n,2),o=a[0],c=a[1],s=l()(function(){var t=(0,f.D)(e);t===window?c({scrollTop:window.scrollY,scrollLeft:window.scrollX}):c({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})},void 0===r?250:r);return(0,d.default)(e,"scroll",s),(0,d.default)(e,"touchmove",s),o};var h=["label","icon","follow","topLimit","scrollOptions"],m=(0,i.forwardRef)(function(e,t){var r=e.label,n=e.icon,u=e.follow,s=e.topLimit,l=e.scrollOptions,d=(0,o.A)(e,h),f=p(u,l).scrollTop<(void 0===s?50:s);return i.createElement(y,(0,a.A)({ref:t,"aria-label":r,variant:f?"extended":"circular"},d),i.createElement(c.default,(0,a.A)({icon:n},f&&{className:"u-mr-half"})),f&&r)});m.displayName="ExtendableFab";let v=m;n.A.defaultProps={size:"medium"};let y=n.A},44819:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(27606).A},94208:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(78896).A},31462:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(96540),a={display:"none"};let o=function(){return n.createElement("div",{style:a,dangerouslySetInnerHTML:{__html:'<svg><defs><linearGradient id="paint0_linear_11347_30938" x1="5.031" y1="30.092" x2="30.745" y2=".704" gradientUnits="userSpaceOnUse"><stop stop-color="#8135FE"/><stop offset="1" stop-color="#E8A6FF"/></linearGradient><clipPath id="clip0_11347_30938"><path fill="#fff" transform="translate(.704 .704)" d="M0 0h32v32H0z"/></clipPath><filter id="filter0_d_11347_30938" x="4.459" y="6.092" width="24.49" height="23.476" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".327"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30938"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30938" result="shape"/></filter><linearGradient id="paint0_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint1_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint2_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><linearGradient id="paint3_linear_59620_161" x1="187.057" y1="-44.095" x2="187.057" y2="166.905" gradientUnits="userSpaceOnUse"><stop stop-color="#B666FA"/><stop offset="1" stop-color="#A347EC"/></linearGradient><filter id="filter0_d_3096_936" x="3.753" y="4.569" width="24.477" height="23.463" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><filter id="filter1_d_3096_936" x="4.16" y="4.731" width="23.66" height="23.714" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".571"/><feGaussianBlur stdDeviation="1.429"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><linearGradient id="paint0_linear_3096_936" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#F74EA9"/><stop offset="1" stop-color="#FFB2A8"/></linearGradient><clipPath id="clip0_3096_936"><path fill="#fff" d="M0 0h31.983v31.983H0z"/></clipPath><linearGradient id="paint0_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint1_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint2_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint3_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint4_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint5_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint6_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint7_linear_59711_213" x1="352.109" y1="-47.059" x2="352.109" y2="140.441" gradientUnits="userSpaceOnUse"><stop stop-color="#FF8EB7"/><stop offset="1" stop-color="#FB2D9D"/></linearGradient><linearGradient id="paint0_linear_11347_30928" x1="4.126" y1="29.682" x2="39.046" y2="-5.32" gradientUnits="userSpaceOnUse"><stop offset=".248" stop-color="#FF4759"/><stop offset="1" stop-color="#FFD600"/></linearGradient><filter id="filter0_d_11347_30928" x="4.371" y="8.061" width="24.477" height="18.113" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30928"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30928" result="shape"/></filter><linearGradient id="paint0_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint1_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint2_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint3_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint4_linear_59620_158" x1="172.182" y1="-31" x2="172.182" y2="137.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FF6372"/><stop offset="1" stop-color="#FF3347"/></linearGradient><linearGradient id="paint0_linear_11296_8360" x1="8" y1=".5" x2="8" y2="16.25" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><linearGradient id="paint0_linear_11291_1488" x1="8" y1="8.146" x2="8" y2="16.627" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><linearGradient id="paint1_linear_11291_1488" x1="8" y1=".854" x2="8" y2="9.335" gradientUnits="userSpaceOnUse"><stop offset=".044" stop-color="#1D7AFF"/><stop offset=".13" stop-color="#7CB2FF"/><stop offset=".617" stop-color="#76AFFF"/><stop offset="1" stop-color="#4290FF"/></linearGradient><clipPath id="clip0_11291_1429"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath><linearGradient id="paint0_linear_3096_880" x1="4.487" y1="28.638" x2="31.249" y2="1.55" gradientUnits="userSpaceOnUse"><stop stop-color="#1E91FF"/><stop offset=".997" stop-color="#2ED9FF"/></linearGradient><filter id="filter0_d_3096_880" x="3.753" y="4.079" width="24.477" height="24.434" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_880"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_880" result="shape"/></filter><linearGradient id="paint0_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint1_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint2_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint3_linear_59620_156" x1="35.555" y1="-30.948" x2="35.555" y2="124.826" gradientUnits="userSpaceOnUse"><stop stop-color="#57B9FF"/><stop offset="1" stop-color="#0B84FF"/></linearGradient><linearGradient id="paint0_linear_11347_30909" x1="6.266" y1="29.845" x2="30.906" y2="2.676" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#FFB81E"/><stop offset="1" stop-color="#FFE098"/></linearGradient><filter id="filter0_d_11347_30909" x="5.777" y="5.124" width="21.866" height="23.987" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11347_30909"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11347_30909" result="shape"/></filter><linearGradient id="paint0_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint1_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint2_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint3_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint4_linear_59620_144" x1="236.012" y1="7.974" x2="236.012" y2="132.881" gradientUnits="userSpaceOnUse"><stop stop-color="#FFC953"/><stop offset="1" stop-color="#FFB81E"/></linearGradient><linearGradient id="paint0_linear_6882_51948" x1="7.994" y1="18.035" x2="7.994" y2="7.007" gradientUnits="userSpaceOnUse"><stop stop-color="#FCC2B1"/><stop offset=".885" stop-color="#D9420B"/></linearGradient><linearGradient id="paint1_linear_6882_51948" x1="7.994" y1="13.26" x2="7.994" y2="6.007" gradientUnits="userSpaceOnUse"><stop stop-color="#DEEDC9"/><stop offset=".661" stop-color="#8BBA25"/></linearGradient><linearGradient id="paint2_linear_6882_51948" x1="7.994" y1="10.323" x2="7.994" y2=".453" gradientUnits="userSpaceOnUse"><stop stop-color="#C2EBFA"/><stop offset="1" stop-color="#26A8DE"/></linearGradient><clipPath id="clip0_6882_51948"><path fill="#fff" transform="translate(0 .556)" d="M0 0h16v14.889H0z"/></clipPath><linearGradient id="paint0_linear_11291_1044" x1="2.162" y1="14.686" x2="15.012" y2="0" gradientUnits="userSpaceOnUse"><stop stop-color="#E97C00"/><stop offset="1" stop-color="#FFD900"/></linearGradient><clipPath id="clip0_11291_1044"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath><filter id="filter0_d_11291_1044" x="1.079" y="2.363" width="13.843" height="11.843" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".284"/><feGaussianBlur stdDeviation=".711"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11291_1044"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11291_1044" result="shape"/></filter><linearGradient id="paint0_linear_11350_7889" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#B6C4DF"/><stop offset="1" stop-color="#D3DDF5"/></linearGradient><filter id="filter0_d_11350_7889" x="5.99" y="6.534" width="20.652" height="20.625" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".544"/><feGaussianBlur stdDeviation="1.36"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11350_7889"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11350_7889" result="shape"/></filter><filter id="filter0_d_4180_38328" x="3.967" y="4.406" width="23.987" height="23.987" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_4180_38328"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_4180_38328" result="shape"/></filter><filter id="filter1_d_4180_38328" x="9.368" y="9.695" width="8.264" height="8.264" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_4180_38328"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_4180_38328" result="shape"/></filter><linearGradient id="paint0_linear_4180_38328" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint0_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint1_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint2_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint3_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint4_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint5_linear_12748_109" x1="88.264" y1="215.251" x2="88.264" y2="-34.707" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#50BBC7"/><stop offset="1" stop-color="#73DEEA"/></linearGradient><linearGradient id="paint0_linear_11291_1430" x1="2.774" y1="14.564" x2="15.094" y2=".979" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><filter id="filter0_d_11291_1430" x="1.387" y="2.203" width="13.304" height="11.993" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".163"/><feGaussianBlur stdDeviation=".408"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_11291_1430"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_11291_1430" result="shape"/></filter><linearGradient id="paint0_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint1_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint2_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint3_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint4_linear_59617_306" x1="417.866" y1="296.396" x2="48.603" y2="-221.128" gradientUnits="userSpaceOnUse"><stop offset=".45" stop-color="#3D74FE"/><stop offset="1" stop-color="#91CFFF"/></linearGradient><linearGradient id="paint0_linear_1573_14803" x1="22.008" y1="13.042" x2=".498" y2="13.042" gradientUnits="userSpaceOnUse"><stop offset=".13" stop-color="#A033FF"/><stop offset=".61" stop-color="#0094FF"/><stop offset="1" stop-color="#4FB500"/></linearGradient><linearGradient id="paint1_linear_1573_14803" x1="10.356" y1="7.217" x2="3.634" y2="20.66" gradientUnits="userSpaceOnUse"><stop stop-color="#FFD600" stop-opacity="0"/><stop offset=".563" stop-color="#FFC700"/></linearGradient><linearGradient id="paint2_linear_1573_14803" x1="12.149" y1="13.042" x2="19.767" y2="21.109" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#FF3B30" stop-opacity="0"/><stop offset=".843" stop-color="#E73B2D"/></linearGradient><clipPath id="clip0_1426_12806"><path d="M0 0h16v16H0z"/></clipPath><linearGradient id="paint0_linear_11512_6354" x1="16" y1="6.222" x2="0" y2="6.222" gradientUnits="userSpaceOnUse"><stop offset=".13" stop-color="#A033FF"/><stop offset=".61" stop-color="#0094FF"/><stop offset="1" stop-color="#4FB500"/></linearGradient><linearGradient id="paint1_linear_11512_6354" x1="7.333" y1="3.333" x2="4.833" y2="10.833" gradientUnits="userSpaceOnUse"><stop stop-color="#FFD600" stop-opacity="0"/><stop offset=".563" stop-color="#FFC700"/></linearGradient><linearGradient id="paint2_linear_11512_6354" x1="8.667" y1="6.222" x2="12.079" y2="11.642" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#FF3B30" stop-opacity="0"/><stop offset=".843" stop-color="#E73B2D"/></linearGradient><clipPath id="clip0_1426_12797"><path d="M0 0h16v16H0z"/></clipPath><filter id="filter0_d_1426_12797" x="-1.231" y="-.985" width="18.462" height="18.429" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".246"/><feGaussianBlur stdDeviation=".615"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_1426_12797"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_1426_12797" result="shape"/></filter><clipPath id="clip0_11387_16837"><path transform="translate(.2)" d="M0 0h14.4v16H0z"/></clipPath>\n    <path id="file-none-a" d="M10,5.0999 L10,2 L4,2 C3.45,2 3,2.45 3,3 L3,13 C3,13.55 3.45,14 4,14 L12,14 C12.55,14 13,13.55 13,13 L13,6 L11.1001,6 L11.5,6.3999 L9.4,8.4999 L11.5,10.5999 L10.1,11.9999 L8,9.8999 L5.9,11.9999 L4.5,10.5999 L6.6,8.4999 L4.5,6.3999 L5.9,4.9999 L8,7.0999 L10,5.0999 Z M15,5 L15,15.004 C15,15.555 14.55,16 13.993,16 L2.007,16 C1.451,16 1,15.556 1,14.999 L1,1.001 C1,0.448 1.446,0 1.998,0 L10,0 L11,0 L15,4 L15,5 Z"/>\n  <clipPath id="clip0_3250_157"><path d="M0 0h16v16H0z"/></clipPath><clipPath id="clip0_1426_12815"><path d="M0 0h16v16H0z"/></clipPath></defs><symbol id="icon-check-animated" viewBox="0 0 16 16">\n<style>\n@-webkit-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 200px\n}\n}\n\n@-ms-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 200px\n}\n}\n\n@keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n\n100% {\n    stroke-dashoffset: 0px\n}\n}\npath {\n-webkit-animation: checkmark 1.0s ease-in-out backwards;\nanimation: checkmark 1.0s ease-in-out backwards\n}\n</style>\n<path d="M1 11L4 14L15 3" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n</symbol><symbol id="icon-cross-animated" viewBox="0 0 16 16">\n<style>\n@-webkit-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 200px\n}\n}\n@-ms-keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 200px\n}\n}\n@keyframes checkmark \n{\n0% {\n    stroke-dashoffset: 100px\n}\n100% {\n    stroke-dashoffset: 0px\n}\n}\npath.l1 {\n-webkit-animation: checkmark 0.5s ease-in-out backwards;\nanimation: checkmark 0.5s ease-in-out backwards\n}\npath.l2 {\n-webkit-animation: checkmark 0.5s ease-in-out 0.16s backwards;\nanimation: checkmark 0.5s ease-in-out 0.16s backwards\n}\n</style>\n<path class="l1" d="M2 2L14 14" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n<path class="l2" d="M14 2L2 14" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="stroke-dasharray:100px, 100px; stroke-dashoffset: 200px;"/>\n</symbol><symbol id="account" viewBox="0 0 16 16"><path d="M8 1.9a2.1 2.1 0 1 1 0 4.2 2.1 2.1 0 0 1 0-4.2Zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1ZM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4Zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="assistant" viewBox="0 0 22 22"><path fillRule="evenodd" clipRule="evenodd" d="M10.094.305a1.5 1.5 0 0 1 2.351.79l.005.02 1.581 6.135a1 1 0 0 0 .718.719l6.136 1.58.016.005a1.5 1.5 0 0 1 0 2.892l-.016.004-6.135 1.581a1 1 0 0 0-.719.719l-1.582 6.135-.005.02a1.5 1.5 0 0 1-2.889 0l-.005-.02-1.581-6.135a1.001 1.001 0 0 0-.719-.719L1.115 12.45l-.023-.006a1.5 1.5 0 0 1 0-2.886l.023-.006L7.25 7.968a1 1 0 0 0 .719-.718L9.55 1.115l.005-.02a1.5 1.5 0 0 1 .538-.79zM11 3.503l1.095 4.247a3.002 3.002 0 0 0 2.155 2.155L18.498 11l-4.248 1.095a3.001 3.001 0 0 0-2.155 2.155L11 18.497 9.905 14.25a3 3 0 0 0-2.155-2.156L3.504 11 7.75 9.904A3 3 0 0 0 9.905 7.75L11 3.503zM19 1a1 1 0 0 1 1 1v1h1a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0V5h-1a1 1 0 1 1 0-2h1V2a1 1 0 0 1 1-1zM3 15a1 1 0 0 1 1 1 1 1 0 1 1 0 2 1 1 0 1 1-2 0 1 1 0 1 1 0-2 1 1 0 0 1 1-1z"/></symbol><symbol id="bottom-select" viewBox="0 0 16 10"><path d="M8 5.991 13.596.395C13.86.132 14.194 0 14.601 0c.406 0 .741.132 1.004.395S16 .993 16 1.399c0 .407-.132.742-.395 1.005l-6.6 6.6a1.259 1.259 0 0 1-.467.305c-.167.06-.347.09-.538.09-.191 0-.37-.03-.538-.09a1.259 1.259 0 0 1-.466-.305l-6.601-6.6C.132 2.14 0 1.806 0 1.399 0 .993.132.658.395.395S.993 0 1.399 0c.407 0 .742.132 1.005.395L8 5.99Z"/></symbol><symbol id="chat" viewBox="0 0 33 33"><g clip-path="url(#clip0_11347_30938)"><rect x=".704" y=".704" width="32.017" height="32.017" rx="10.574" fill="url(#paint0_linear_11347_30938)"/><g filter="url(#filter0_d_11347_30938)"><path d="M16.704 7.398c5.861 0 10.613 4.104 10.613 9.165 0 5.062-4.752 9.165-10.613 9.165a12.12 12.12 0 0 1-3.433-.49c-1.204.936-3.07 1.722-5.6 2.356a.484.484 0 0 1-.54-.706l.18-.329c.84-1.545 1.364-2.813 1.572-3.802-1.733-1.63-2.791-3.806-2.791-6.194 0-5.061 4.751-9.165 10.612-9.165Z" fill="#fff"/></g></g></symbol><symbol id="chat-text" viewBox="0 0 374 130"><path d="M63.625 129.516c-11.853 0-22.66-2.789-32.423-8.367-9.645-5.694-17.257-13.364-22.835-23.01C2.79 88.495 0 77.92 0 66.415c0-11.62 2.673-22.254 8.018-31.9 5.462-9.761 13.016-17.431 22.662-23.01 9.645-5.693 20.627-8.54 32.945-8.54 9.878 0 18.361 1.568 25.45 4.706 7.205 3.021 13.597 7.844 19.175 14.468L90.993 37.129c-7.322-7.67-16.444-11.505-27.368-11.505-7.67 0-14.41 1.86-20.22 5.578-5.811 3.603-10.285 8.542-13.423 14.817-3.137 6.16-4.706 12.958-4.706 20.395 0 7.438 1.569 14.236 4.706 20.395 3.254 6.16 7.786 11.04 13.597 14.642 5.926 3.603 12.783 5.404 20.569 5.404 11.389 0 20.685-3.951 27.89-11.853l17.781 15.165c-4.881 5.927-11.273 10.633-19.175 14.12-7.786 3.486-16.792 5.229-27.019 5.229Z" fill="url(#paint0_linear_59620_161)"/><path d="M118.031 0h23.532v49.157c4.881-9.762 14.003-14.643 27.368-14.643 6.507 0 12.376 1.57 17.605 4.707 5.23 3.021 9.355 7.38 12.377 13.074 3.021 5.578 4.532 12.085 4.532 19.523v55.432h-23.533V77.57c0-7.553-1.743-13.19-5.229-16.908-3.486-3.719-8.251-5.578-14.294-5.578-5.346 0-9.82 1.917-13.422 5.752-3.603 3.719-5.404 9.297-5.404 16.734v49.68h-23.532V0Z" fill="url(#paint1_linear_59620_161)"/><path d="M257.906 129.516c-8.134 0-15.63-2.092-22.486-6.275-6.857-4.3-12.319-10.052-16.386-17.257-3.951-7.205-5.927-15.108-5.927-23.707 0-8.6 1.976-16.502 5.927-23.707 4.067-7.321 9.529-13.132 16.386-17.432 6.856-4.3 14.352-6.45 22.486-6.45 7.438 0 13.423 1.395 17.955 4.184 4.648 2.79 8.251 6.799 10.807 12.028V36.606h23.359v90.644h-22.836v-14.817c-2.673 5.462-6.333 9.704-10.982 12.725-4.532 2.906-10.633 4.358-18.303 4.358ZM236.64 82.103c0 4.648 1.046 9.006 3.137 13.073 2.208 3.951 5.172 7.147 8.891 9.587 3.834 2.325 8.192 3.487 13.073 3.487 4.997 0 9.413-1.162 13.248-3.487 3.951-2.324 6.973-5.461 9.065-9.413 2.091-3.95 3.137-8.309 3.137-13.073 0-4.765-1.046-9.123-3.137-13.074-2.092-4.067-5.114-7.263-9.065-9.587-3.835-2.44-8.251-3.66-13.248-3.66-4.881 0-9.239 1.22-13.073 3.66-3.835 2.324-6.799 5.462-8.891 9.413-2.091 3.951-3.137 8.309-3.137 13.074Z" fill="url(#paint2_linear_59620_161)"/><path d="M358.349 127.25c-9.181 0-16.095-2.266-20.744-6.798-4.648-4.532-6.973-11.621-6.973-21.267V56.653h-12.725V36.606h12.725V18.303l23.533-2.44v20.743h19.175v20.047h-19.175v41.312c0 5.578 2.44 8.367 7.321 8.367h9.762v20.918h-12.899Z" fill="url(#paint3_linear_59620_161)"/></symbol><symbol id="check-white" viewBox="0 0 16 13"><path d="M5.085 9.624 1.292 5.83 0 7.113l5.085 5.085L16 1.283 14.717 0 5.085 9.624Z" fill="#fff"/></symbol><symbol id="cloud-broken" viewBox="0 0 64 46">\n<path d="M51.8292 16.2856C50.9533 7.15915 43.3548 -0.00146484 34.0001 -0.00146484C26.7616 -0.00146484 20.5633 4.29472 17.707 10.4592C16.8469 10.1871 15.9508 9.99918 15.0007 9.99918C10.0304 9.99918 6.00025 14.0313 6.00025 18.9997C6.00025 19.9877 6.19827 20.9219 6.49227 21.8079C2.62613 24.0622 0 28.2024 0 32.9987C0 40.1792 5.82036 45.9996 13.0009 45.9996V46.0016H49.001V45.9996C57.2876 45.9996 64 39.2851 64 30.9986C64 23.6841 58.7596 17.6097 51.8292 16.2856ZM41.2227 35.2187C40.9987 35.4436 40.7325 35.622 40.4394 35.7438C40.1463 35.8655 39.832 35.9282 39.5146 35.9282C39.1972 35.9282 38.8829 35.8655 38.5898 35.7438C38.2967 35.622 38.0305 35.4436 37.8065 35.2187L32.9561 30.3703L28.1679 35.1605C27.716 35.6119 27.1035 35.8654 26.4648 35.8654C25.8261 35.8654 25.2136 35.6119 24.7617 35.1605C24.3104 34.7087 24.0568 34.0961 24.0568 33.4575C24.0568 32.8188 24.3104 32.2063 24.7617 31.7544L29.55 26.9662L24.7016 22.1178C23.7576 21.1718 23.7576 19.6436 24.7016 18.6996C24.9256 18.4747 25.1917 18.2963 25.4849 18.1746C25.778 18.0528 26.0923 17.9901 26.4097 17.9901C26.7271 17.9901 27.0413 18.0528 27.3344 18.1746C27.6276 18.2963 27.8938 18.4747 28.1177 18.6996L32.9661 23.55L37.8183 18.6978C38.0418 18.4739 38.3073 18.2962 38.5995 18.175C38.8917 18.0538 39.205 17.9914 39.5214 17.9914C39.8378 17.9914 40.1511 18.0538 40.4433 18.175C40.7355 18.2962 41.001 18.4739 41.2245 18.6978C42.1664 19.6398 42.1664 21.164 41.2245 22.1039L36.3723 26.9564L41.2227 31.8048C42.1687 32.7467 42.1687 34.2788 41.2227 35.2187Z"/>\n</symbol><symbol id="cloud-sync2" viewBox="0 0 96 96"><path fill-rule="evenodd" clip-rule="evenodd" d="M26.667 83.676C11.939 83.676 0 71.737 0 57.01c0-13.06 9.387-23.926 21.781-26.22C24.075 18.395 34.941 9.01 48 9.01c13.059 0 23.925 9.386 26.22 21.78C86.613 33.085 96 43.95 96 57.01c0 14.464-11.516 26.239-25.88 26.655l-.787.011H26.667Z" fill="#B2D3FF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M66.156 57.51a2.668 2.668 0 0 1 1.214 3.57c-3.603 7.304-11.12 12.096-19.371 12.096-6.307 0-12.117-2.885-16.117-7.413-.275 1.181-1.283 2.08-2.55 2.08a2.668 2.668 0 0 1-2.666-2.667V54.51c0-.168.042-.318.069-.475.016-.072.013-.144.032-.213a2.58 2.58 0 0 1 .395-.854c.02-.026.048-.048.066-.072.168-.218.37-.402.595-.557a2.648 2.648 0 0 1 2.043-.424c.072.016.14.035.21.053.23.067.446.171.659.307.072.045.144.077.213.128.03.024.064.035.094.059l8 6.666a2.665 2.665 0 0 1 .338 3.755 2.629 2.629 0 0 1-1.917.939c2.877 2.496 6.592 4.021 10.536 4.021 6.195 0 11.875-3.619 14.587-9.12a2.665 2.665 0 0 1 3.57-1.213Zm3.094-7.766c-.01.053-.008.107-.022.157a2.568 2.568 0 0 1-.415.843c-.032.045-.07.075-.105.115a2.546 2.546 0 0 1-.57.514c-.067.046-.128.091-.2.128a2.76 2.76 0 0 1-.886.31c-.008 0-.016.005-.02.008-.025.002-.046-.008-.07-.006a2.625 2.625 0 0 1-1.086-.109 2.552 2.552 0 0 1-.674-.33c-.061-.04-.126-.067-.181-.113-.02-.016-.043-.018-.062-.037l-8-6.667a2.665 2.665 0 0 1-.341-3.754c.55-.659 1.346-.942 2.139-.915a16.33 16.33 0 0 0-10.758-4.045c-6.31 0-12.021 3.64-14.666 9.184a2.667 2.667 0 0 1-4.813-2.296C32.043 35.34 39.625 30.509 48 30.509c6.38 0 12.183 2.79 16.154 7.238.33-1.094 1.31-1.904 2.512-1.904a2.668 2.668 0 0 1 2.666 2.666v10.667c0 .203-.042.384-.082.568Z" fill="#297EF1"/></symbol><symbol id="cloud-sync" viewBox="0 0 32 32">\n    <g fill="none" fill-rule="evenodd">\n        <g>\n            <path fill="#B2D3FF" d="M8.889 27.892c-4.91 0-8.889-3.98-8.889-8.889 0-4.353 3.129-7.975 7.26-8.74.765-4.13 4.387-7.26 8.74-7.26 4.353 0 7.975 3.13 8.74 7.26 4.131.765 7.26 4.387 7.26 8.74 0 4.822-3.839 8.747-8.627 8.885l-.262.004H8.89z"/>\n            <path fill="#297EF1" d="M22.052 19.17c.44.217.621.75.405 1.19-1.201 2.435-3.707 4.032-6.457 4.032-2.103 0-4.04-.962-5.373-2.471-.091.394-.427.693-.85.693-.49 0-.888-.398-.888-.889V18.17c0-.056.014-.106.023-.158.005-.024.004-.048.01-.071.028-.106.072-.201.132-.285l.022-.024c.056-.073.124-.134.198-.186.022-.016.044-.03.068-.043.184-.104.399-.142.613-.098.024.005.047.012.07.018.077.022.149.057.22.102.024.015.048.026.071.043.01.008.021.011.031.02l2.667 2.221c.377.314.427.875.113 1.252-.166.2-.4.301-.64.313.96.832 2.198 1.34 3.513 1.34 2.065 0 3.958-1.206 4.862-3.04.217-.44.75-.621 1.19-.404zm1.031-2.589c-.003.018-.002.036-.007.053-.03.105-.077.198-.138.28-.011.016-.024.026-.035.039-.055.067-.12.124-.19.171-.023.016-.043.03-.067.043-.092.05-.191.087-.295.103-.003 0-.005.002-.007.003-.008 0-.015-.003-.023-.002-.096.012-.194.004-.292-.018-.024-.005-.046-.01-.07-.018-.077-.024-.153-.062-.225-.11-.02-.014-.042-.023-.06-.038-.007-.005-.015-.006-.02-.012l-2.668-2.223c-.376-.313-.428-.874-.113-1.251.183-.22.449-.314.713-.305-.96-.838-2.22-1.348-3.586-1.348-2.103 0-4.007 1.213-4.89 3.06-.21.444-.741.631-1.184.42-.443-.211-.631-.742-.42-1.184C10.682 11.78 13.21 10.17 16 10.17c2.127 0 4.061.93 5.385 2.412.11-.364.436-.634.837-.634.49 0 .889.398.889.888v3.556c0 .068-.014.128-.028.19z"/>\n        </g>\n    </g>\n</symbol><symbol id="contacts" viewBox="0 0 32 32"><g filter="url(#filter0_d_3096_936)"><path d="M15.992 5.874c5.857 0 10.606 4.102 10.606 9.16 0 5.06-4.749 9.16-10.606 9.16a12.12 12.12 0 0 1-3.432-.49c-1.203.936-3.069 1.722-5.596 2.356a.485.485 0 0 1-.541-.706l.18-.329c.84-1.544 1.364-2.811 1.572-3.8-1.733-1.63-2.79-3.804-2.79-6.19 0-5.06 4.749-9.16 10.607-9.16Z" fill="#fff"/></g><g clip-path="url(#clip0_3096_936)"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_3096_936)"/><g filter="url(#filter1_d_3096_936)" fill="#fff"><path d="M15.99 16.016a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Zm8.85 6.028c-.68-1.907-2.795-4.028-8.85-4.028s-8.171 2.122-8.85 4.029c-.599 1.682 1.081 2.971 2.867 2.971h11.965c1.786 0 3.466-1.289 2.867-2.971Z"/></g></g></symbol><symbol id="contacts-text" viewBox="0 0 680 125"><path d="M62.68 124.674c-11.677 0-22.324-2.748-31.94-8.243-9.503-5.61-17.002-13.166-22.497-22.668C2.748 84.261 0 73.843 0 62.509 0 51.06 2.633 40.585 7.9 31.083c5.38-9.617 12.822-17.173 22.324-22.668C39.726 2.805 50.545 0 62.68 0c9.732 0 18.089 1.546 25.073 4.637 7.098 2.976 13.394 7.727 18.89 14.253L89.642 33.658c-7.213-7.556-16.2-11.334-26.962-11.334-7.556 0-14.196 1.832-19.92 5.496-5.724 3.549-10.132 8.414-13.223 14.597-3.091 6.067-4.637 12.765-4.637 20.092 0 7.327 1.546 14.024 4.637 20.092 3.206 6.067 7.67 10.876 13.395 14.425 5.838 3.549 12.593 5.323 20.264 5.323 11.22 0 20.378-3.892 27.476-11.677l17.516 14.94c-4.808 5.839-11.105 10.476-18.89 13.91-7.67 3.435-16.543 5.152-26.618 5.152Z" fill="url(#paint0_linear_59711_213)"/><path d="M155.381 124.674c-9.044 0-17.173-2.061-24.385-6.182-7.213-4.236-12.88-9.903-17.001-17.001-4.122-7.213-6.183-15.055-6.183-23.527 0-8.472 2.061-16.314 6.183-23.526 4.121-7.213 9.788-12.88 17.001-17.002 7.212-4.235 15.341-6.353 24.385-6.353 9.044 0 17.173 2.118 24.385 6.354 7.213 4.121 12.88 9.788 17.001 17 4.122 7.213 6.182 15.055 6.182 23.527 0 8.472-2.06 16.314-6.182 23.527-4.121 7.098-9.788 12.765-17.001 17.001-7.212 4.121-15.341 6.182-24.385 6.182Zm-24.385-46.71c0 4.694.973 8.987 2.919 12.88 2.061 3.892 4.923 6.983 8.586 9.273 3.778 2.29 8.072 3.434 12.88 3.434 4.808 0 9.044-1.144 12.708-3.434 3.778-2.29 6.64-5.38 8.586-9.273 2.061-3.893 3.091-8.186 3.091-12.88 0-4.694-1.03-8.987-3.091-12.88-2.061-3.892-4.923-6.983-8.586-9.273-3.664-2.404-7.9-3.606-12.708-3.606s-9.044 1.202-12.708 3.606c-3.663 2.29-6.526 5.381-8.586 9.274-2.061 3.892-3.091 8.185-3.091 12.88Z" fill="url(#paint1_linear_59711_213)"/><path d="M213.21 33.143h22.84v13.052c4.694-10.075 13.795-15.112 27.304-15.112 6.411 0 12.193 1.545 17.345 4.636 5.152 2.977 9.216 7.27 12.192 12.88 2.977 5.495 4.465 11.906 4.465 19.233v54.609h-23.183V73.499c0-7.441-1.717-12.994-5.152-16.657-3.434-3.664-8.128-5.496-14.081-5.496-5.267 0-9.674 1.89-13.223 5.667-3.549 3.664-5.324 9.16-5.324 16.486v48.942H213.21V33.143Z" fill="url(#paint2_linear_59711_213)"/><path d="M342.631 122.441c-9.045 0-15.857-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891H302.79V33.143h12.536V15.112l23.183-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.213 8.242h9.616v20.607h-12.707Z" fill="url(#paint3_linear_59711_213)"/><path d="M403.5 124.674c-8.014 0-15.398-2.061-22.153-6.182-6.755-4.236-12.135-9.903-16.142-17.001-3.893-7.098-5.839-14.883-5.839-23.355 0-8.472 1.946-16.257 5.839-23.355 4.007-7.213 9.387-12.937 16.142-17.173 6.755-4.236 14.139-6.354 22.153-6.354 7.327 0 13.223 1.374 17.688 4.122 4.579 2.747 8.128 6.697 10.647 11.849V33.143h23.011v89.298H432.35v-14.596c-2.633 5.38-6.239 9.559-10.819 12.536-4.465 2.862-10.475 4.293-18.031 4.293Zm-20.951-46.71c0 4.58 1.03 8.873 3.091 12.88 2.175 3.892 5.095 7.04 8.758 9.445 3.778 2.289 8.071 3.434 12.88 3.434 4.923 0 9.273-1.145 13.051-3.434 3.893-2.29 6.869-5.381 8.93-9.274 2.061-3.892 3.091-8.185 3.091-12.88 0-4.693-1.03-8.986-3.091-12.879-2.061-4.007-5.037-7.155-8.93-9.445-3.778-2.404-8.128-3.606-13.051-3.606-4.809 0-9.102 1.202-12.88 3.606-3.778 2.29-6.697 5.381-8.758 9.274-2.061 3.892-3.091 8.185-3.091 12.88Z" fill="url(#paint4_linear_59711_213)"/><path d="M511.209 124.674c-8.357 0-16.085-2.061-23.183-6.182-6.984-4.236-12.536-9.96-16.658-17.173-4.121-7.213-6.182-15.055-6.182-23.527 0-8.586 2.061-16.428 6.182-23.526 4.122-7.213 9.846-12.88 17.173-17.001 7.327-4.236 15.513-6.354 24.557-6.354 7.899 0 14.997 1.488 21.294 4.465 6.297 2.862 11.334 6.926 15.112 12.192l-17.86 14.597c-2.06-3.09-4.751-5.552-8.071-7.384-3.32-1.832-6.926-2.748-10.819-2.748-4.808 0-9.044 1.202-12.707 3.607-3.664 2.29-6.526 5.38-8.587 9.273-2.06 3.892-3.091 8.186-3.091 12.88 0 4.579 1.031 8.872 3.091 12.879 2.176 3.892 5.152 7.04 8.93 9.445 3.778 2.29 8.071 3.434 12.88 3.434 4.236 0 7.899-.915 10.99-2.747 3.091-1.832 5.896-4.465 8.415-7.9l16.829 14.597c-8.93 11.449-21.695 17.173-38.295 17.173Z" fill="url(#paint5_linear_59711_213)"/><path d="M592.507 122.441c-9.044 0-15.856-2.232-20.436-6.697-4.579-4.465-6.869-11.448-6.869-20.95V52.891h-12.536V33.143h12.536V15.112l23.184-2.404v20.435h18.89v19.749h-18.89v40.7c0 5.495 2.404 8.242 7.212 8.242h9.617v20.607h-12.708Z" fill="url(#paint6_linear_59711_213)"/><path d="M644.754 124.674c-14.998 0-27.362-5.209-37.093-15.627l15.627-14.254c6.525 7.327 13.509 10.991 20.95 10.991 3.893 0 6.927-.859 9.102-2.576 2.175-1.717 3.263-3.95 3.263-6.697 0-2.519-1.088-4.465-3.263-5.839-2.061-1.488-6.411-3.034-13.051-4.637-10.876-2.633-18.203-6.24-21.981-10.819-3.664-4.579-5.496-10.246-5.496-17 0-8.014 2.977-14.54 8.93-19.577 5.953-5.152 14.082-7.728 24.385-7.728 7.442 0 13.681 1.145 18.719 3.434 5.152 2.29 9.96 6.297 14.425 12.021l-16.829 12.88c-4.007-6.411-9.274-9.617-15.799-9.617-3.32 0-6.011.687-8.072 2.06-2.06 1.26-3.091 3.206-3.091 5.84 0 1.831.745 3.434 2.233 4.808 1.603 1.26 4.865 2.519 9.788 3.778 12.25 3.206 20.608 7.155 25.072 11.85 4.58 4.693 6.87 10.646 6.87 17.859 0 5.381-1.546 10.303-4.637 14.768-2.977 4.351-7.098 7.785-12.364 10.304-5.267 2.519-11.163 3.778-17.688 3.778Z" fill="url(#paint7_linear_59711_213)"/></symbol><symbol id="cozy-authentification" viewBox="0 0 36 48">\n<path d="M35 18H32V14C32 6.28031 25.7197 0 18 0C10.2802 0 4.00003 6.28031 4.00003 14V18H1.00003C0.868681 17.9999 0.738602 18.0257 0.617234 18.0759C0.495865 18.1262 0.385589 18.1998 0.29271 18.2927C0.199831 18.3856 0.126173 18.4959 0.0759475 18.6172C0.0257218 18.7386 -8.60652e-05 18.8687 2.15627e-07 19V44.0001C2.15627e-07 46.2061 1.79391 48 4.00003 48H32.0001C34.2061 48 36 46.2061 36 44V19C36.0001 18.8687 35.9743 18.7386 35.9241 18.6172C35.8738 18.4959 35.8002 18.3856 35.7073 18.2927C35.6144 18.1998 35.5041 18.1262 35.3828 18.0759C35.2614 18.0257 35.1313 17.9999 35 18ZM20.9942 38.8897C21.0097 39.0294 20.9955 39.1709 20.9526 39.3049C20.9097 39.4388 20.839 39.5622 20.7452 39.667C20.6514 39.7717 20.5366 39.8556 20.4082 39.913C20.2798 39.9703 20.1407 40 20.0001 40H16C15.8594 40 15.7203 39.9703 15.5919 39.913C15.4635 39.8556 15.3487 39.7717 15.2549 39.667C15.1611 39.5622 15.0904 39.4388 15.0475 39.3049C15.0046 39.1709 14.9904 39.0294 15.0059 38.8897L15.6368 33.2168C14.6123 32.4717 14.0001 31.293 14.0001 30C14.0001 27.794 15.794 26 18.0001 26C20.2062 26 22.0001 27.7939 22.0001 30C22.0001 31.293 21.3878 32.4717 20.3634 33.2168L20.9942 38.8897ZM26 18H10V14C10 9.58884 13.5889 6 18 6C22.4111 6 26 9.58884 26 14V18Z"/>\n</symbol><symbol id="cozy-logo" viewBox="0 0 101 30">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0-5h101v40H0z"/>\n        <path fill="#297EF1" d="M29.408 30H10.592C4.75 30 0 25.317 0 19.56c0-2.745 1.072-5.338 3.02-7.3a10.589 10.589 0 0 1 6.31-3.064 10.316 10.316 0 0 1 3.11-6.22A10.607 10.607 0 0 1 19.847 0a10.61 10.61 0 0 1 7.406 2.976 10.324 10.324 0 0 1 3.107 6.187C35.756 9.64 40 14.121 40 19.561 40 25.317 35.247 30 29.408 30zm-.226-2.5h.079c4.543 0 8.239-3.612 8.239-8.05 0-4.438-3.696-8.048-8.239-8.048h-.083a1.08 1.08 0 0 1-1.092-1.043C27.983 6.025 24.289 2.5 19.85 2.5c-4.44 0-8.135 3.526-8.237 7.86a1.08 1.08 0 0 1-1.068 1.044c-4.436.1-8.045 3.709-8.045 8.047 0 4.438 3.696 8.049 8.239 8.049h.067l.026-.002c.024 0 .047 0 .07.002H29.183zm-3.127-8.333v-.002c.199.12.255.366.125.55a.453.453 0 0 1-.594.116 2.329 2.329 0 0 1-.485-.387c-1.448 1.204-3.28 1.806-5.11 1.806-1.827 0-3.654-.6-5.1-1.798a2.31 2.31 0 0 1-.476.378.455.455 0 0 1-.595-.115c-.13-.183-.074-.428.125-.549.732-.438.767-1.247.767-1.279.008-.217.206-.393.44-.386.235.005.423.185.419.402 0 .03-.013.414-.214.866 2.603 2.255 6.684 2.252 9.282-.014-.196-.446-.208-.824-.21-.853-.005-.217.184-.398.422-.402.238-.003.432.169.437.388.002.035.038.84.767 1.279zm33.222-4.905a1.405 1.405 0 0 1-.227.227.516.516 0 0 1-.319.085.756.756 0 0 1-.436-.162 5.113 5.113 0 0 0-1.404-.702c-.325-.109-.725-.163-1.202-.163-.624 0-1.174.113-1.651.338a3.179 3.179 0 0 0-1.19.962c-.316.416-.556.923-.721 1.521a7.592 7.592 0 0 0-.247 2.015c0 .771.087 1.458.26 2.06.173.603.42 1.11.741 1.521.32.412.71.724 1.17.937.46.212.97.318 1.534.318.546 0 .997-.067 1.352-.202.355-.134.65-.279.884-.435.234-.156.429-.301.585-.436.156-.134.316-.201.481-.201.208 0 .368.078.481.234l.728.936a4.903 4.903 0 0 1-1.02.949c-.378.26-.778.472-1.203.637a6.792 6.792 0 0 1-1.332.364 8.488 8.488 0 0 1-1.411.117 5.846 5.846 0 0 1-2.308-.455 5.228 5.228 0 0 1-1.858-1.326c-.525-.58-.939-1.293-1.242-2.139-.303-.845-.455-1.804-.455-2.879 0-.98.136-1.885.41-2.717a6.046 6.046 0 0 1 1.209-2.151 5.588 5.588 0 0 1 1.969-1.418c.78-.342 1.673-.513 2.678-.513.945 0 1.777.152 2.496.455.72.303 1.36.732 1.924 1.287l-.676.936zm8.814-2.678c.97 0 1.848.158 2.633.474a5.489 5.489 0 0 1 2.001 1.366c.55.593.973 1.308 1.268 2.145.295.836.442 1.774.442 2.814s-.147 1.98-.442 2.821c-.295.84-.717 1.556-1.267 2.145a5.527 5.527 0 0 1-2.002 1.358c-.785.317-1.662.475-2.633.475-.98 0-1.861-.158-2.645-.474a5.59 5.59 0 0 1-2.009-1.359c-.555-.59-.981-1.304-1.28-2.145-.3-.84-.449-1.781-.449-2.821 0-1.04.15-1.978.449-2.814a6.11 6.11 0 0 1 1.28-2.146 5.55 5.55 0 0 1 2.008-1.365c.785-.316 1.667-.474 2.646-.474zm0 11.622c1.248 0 2.18-.42 2.795-1.261.615-.84.923-2.024.923-3.549s-.308-2.71-.923-3.556c-.615-.845-1.547-1.267-2.795-1.267-1.265 0-2.208.422-2.828 1.267-.62.846-.929 2.03-.929 3.556 0 1.525.31 2.708.93 3.549.62.84 1.562 1.261 2.827 1.261zM86.46 12.858c0 .182-.032.36-.097.533-.066.173-.15.32-.254.442l-6.929 9.178h7.046V25H76.203v-1.066c0-.121.03-.266.091-.436.06-.169.147-.327.26-.474l6.968-9.243h-6.916v-1.989h9.854v1.066zm14.144-1.066l-7.332 17.043a1.07 1.07 0 0 1-.312.442c-.13.104-.32.156-.572.156h-1.885l2.418-5.265L87.5 11.792h2.21c.217 0 .386.052.507.156a.906.906 0 0 1 .26.351l3.354 7.93c.07.2.136.4.201.605a6.6 6.6 0 0 1 .163.604 14.609 14.609 0 0 1 .416-1.222l3.237-7.917a.84.84 0 0 1 .286-.364.729.729 0 0 1 .442-.143h2.028z"/>\n    </g>\n</symbol><symbol id="cozy" viewBox="0 0 52 52">\n  <path fill="#297EF2" fill-rule="evenodd" d="M558.23098,44 L533.76902,44 C526.175046,44 520,37.756072 520,30.0806092 C520,26.4203755 521.393962,22.9628463 523.927021,20.3465932 C526.145918,18.0569779 529.020185,16.6317448 532.129554,16.2609951 C532.496769,13.1175003 533.905295,10.2113693 536.172045,7.96901668 C538.760238,5.40737823 542.179607,4 545.800788,4 C549.420929,4 552.841339,5.40737823 555.429532,7.96796639 C557.686919,10.2008665 559.091284,13.0912433 559.467862,16.2179336 C566.482405,16.8533543 572,22.8284102 572,30.0816594 C572,37.756072 565.820793,44 558.22994,44 L558.23098,44 Z M558.068077,40.9989547 L558.171599,40.9989547 C564.142748,40.9989547 569,36.0883546 569,30.0520167 C569,24.0167241 564.142748,19.1061239 558.171599,19.1061239 L558.062901,19.1061239 C557.28338,19.1061239 556.644649,18.478972 556.627051,17.6887604 C556.492472,11.7935317 551.63729,7 545.802791,7 C539.968291,7 535.111039,11.7956222 534.977495,17.690851 C534.959896,18.4664289 534.34187,19.0914904 533.573737,19.1092597 C527.743378,19.2451426 523,24.1536522 523,30.0530619 C523,36.0893999 527.857252,41 533.828401,41 L533.916395,41 L533.950557,40.9979094 C533.981614,40.9979094 534.01267,40.9979094 534.043727,41 L558.064971,41 L558.068077,40.9989547 Z M553.766421,29.2227318 C552.890676,28.6381003 552.847676,27.5643091 552.845578,27.5171094 C552.839285,27.2253301 552.606453,26.9957683 552.32118,27.0000592 C552.035908,27.0054228 551.809368,27.2467844 551.814612,27.5364185 C551.81671,27.5750363 551.831393,28.0792139 552.066323,28.6735 C548.949302,31.6942753 544.051427,31.698566 540.928113,28.6917363 C541.169336,28.0888684 541.185068,27.576109 541.185068,27.5374911 C541.190312,27.2478572 540.964821,27.0086409 540.681646,27.0011319 C540.401618,26.9925502 540.163541,27.2264027 540.154102,27.5160368 C540.154102,27.5589455 540.11215,28.6370275 539.234308,29.2216592 C538.995183,29.3825669 538.92806,29.7097461 539.08433,29.9532532 C539.182917,30.1077246 539.346529,30.1924694 539.516434,30.1924694 C539.612923,30.1924694 539.710461,30.1645787 539.797512,30.1066519 C540.023003,29.9564713 540.211786,29.7848363 540.370154,29.6024742 C542.104862,31.2008247 544.296845,32 546.488828,32 C548.686055,32 550.883282,31.1976066 552.621136,29.5917471 C552.780553,29.7762546 552.971434,29.9521804 553.203218,30.1066519 C553.289219,30.1645787 553.387806,30.1924694 553.484295,30.1924694 C553.652102,30.1924694 553.816763,30.1066519 553.916399,29.9521804 C554.07162,29.7076006 554.004497,29.3793488 553.766421,29.2205864 L553.766421,29.2227318 Z" transform="translate(-520)"/>\n</symbol><symbol id="cozy-upgrade" viewBox="0 0 128 128"><path fill-rule="evenodd" clip-rule="evenodd" d="M115.149 70.393c-.483-5.764-3.108-11.079-7.096-15.408-4.338-4.707-10.593-8.496-17.246-9.151a27.82 27.82 0 0 0-20.435-23.542 28.937 28.937 0 0 0-6.54-.974v-.006c-.01.002-.022.002-.032.002-.011 0-.022 0-.033-.002v.006c-2.173.073-4.368.389-6.54.974-11.308 3.04-19.138 12.606-20.434 23.542-6.655.655-12.91 4.444-17.247 9.151-3.988 4.33-6.615 9.644-7.1 15.408a22.135 22.135 0 0 0 .327 5.968c.391 2.719 1.612 6.666 3.359 9.682 4.59 7.928 12.415 11.21 22.102 12.896 5.35.93 10.428 1.488 25.062 1.488l.471.002h.065l.47-.002c14.635 0 19.713-.557 25.061-1.488 9.687-1.686 17.513-4.968 22.102-12.896 1.749-3.016 2.97-6.963 3.361-9.682.373-1.965.493-3.976.323-5.968Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M57.845 24.584a26.48 26.48 0 0 1 5.954-.892 26.51 26.51 0 0 1 5.957.892C79.881 27.306 87.22 35.758 88.45 46.112a2.371 2.371 0 0 0 2.123 2.082c5.507.544 11.389 3.682 15.734 8.4 3.818 4.142 6.058 8.984 6.478 13.997v.002a19.714 19.714 0 0 1-.291 5.324l-.018.106c-.07.49-.177 1.049-.317 1.651A12.85 12.85 0 0 1 115.498 83c.884-2.354 1.431-4.627 1.67-6.247.412-2.195.529-4.401.347-6.56-.509-6.074-3.177-11.89-7.718-16.816-4.713-5.116-10.787-8.565-16.905-9.65C90.826 32.274 82.4 23.067 70.99 20a31.266 31.266 0 0 0-6.911-1.047 2.178 2.178 0 0 0-.358-.012c-.067.002-.127.004-.193.01-2.349.092-4.677.445-6.916 1.05-11.413 3.067-19.84 12.272-21.904 23.726-6.122 1.085-12.196 4.534-16.907 9.65-4.539 4.924-7.207 10.742-7.718 16.818a24.436 24.436 0 0 0 .348 6.558c.382 2.598 1.562 6.879 3.647 10.478 5.656 9.772 15.663 12.639 23.749 14.045 5.806 1.011 11.34 1.524 25.468 1.524l.472.002h.08l.456-.002c5.336 0 9.447-.073 12.809-.219a15.698 15.698 0 0 1 .06-2.8l.069-.573.05-.352.054-.336.062-.325.073-.321.014-.058c-3.293.152-7.5.237-13.191.237l-.53.002-.478-.002c-15.132 0-19.764-.602-24.654-1.454C28 94.749 21.883 91.235 18.187 84.853c-1.641-2.83-2.739-6.56-3.065-8.83a2.164 2.164 0 0 0-.018-.106 19.794 19.794 0 0 1-.292-5.326c.423-5.014 2.663-9.854 6.48-13.997 4.342-4.718 10.226-7.856 15.733-8.4a2.371 2.371 0 0 0 2.123-2.082c1.23-10.354 8.567-18.806 18.697-21.528Z" fill="#3281EE"/><path fill-rule="evenodd" clip-rule="evenodd" d="M81.82 71.666c-1.06-.782-2.3-2.349-2.257-3.124.046-.801-.294-1.502-.934-1.922-.68-.445-1.606-.49-2.359-.111a2.243 2.243 0 0 0-1.232 1.9c-.062 1.132.276 2.099.77 2.965-7.389 3.895-17.21 3.743-24.187-.427.447-.936.684-2.01.53-3.235-.178-1.4-1.489-2.114-2.6-1.976-1.168.147-1.909 1.101-1.762 2.268.17 1.345-.954 2.298-2.44 3.4a2.227 2.227 0 0 0-.893 2.066c.094.814.611 1.537 1.314 1.842.25.108.51.162.767.162a2.07 2.07 0 0 0 1.236-.43c.36-.266.785-.584 1.23-.953 4.406 2.677 9.749 4.024 15.098 4.024 4.99 0 9.987-1.173 14.23-3.522.305.292.633.58.993.846.404.296.847.442 1.28.442.636 0 1.247-.307 1.68-.892.699-.948.717-2.45-.463-3.323ZM105.09 78.09a.035.035 0 0 1-.013-.003.07.07 0 0 0-.012-.005c-9.842-3.563-13.751 5.785-14.71 8.425a2.194 2.194 0 0 0 1.312 2.813 2.194 2.194 0 0 0 2.814-1.31c.208-.576 3.075-7.964 9.095-5.798 6.002 2.21 3.45 9.714 3.242 10.288a2.195 2.195 0 1 0 4.127 1.501c.959-2.64 3.974-12.315-5.855-15.91Z" fill="#3281EE"/><path fill-rule="evenodd" clip-rule="evenodd" d="M112.131 102.779c.425-1.713.913-4.089.913-4.089.389-1.854-.577-3.726-2.261-4.53l-19.986-7.273c-1.806-.468-3.748.344-4.643 2.017 0 0-1.155 2.132-1.932 3.718-1.395 2.858-2.727 5.328-2.985 7.617-.693 6.22 3.79 12.417 10.593 14.903 6.809 2.469 14.226.602 17.69-4.607 1.277-1.921 1.842-4.67 2.611-7.756Z" fill="#B2D3FF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M88.925 91.71c-.046.467.124.965.33 1.222.546.699 1.636.927 2.362.398.732-.535 1.214-1.616.36-2.63-.727-.864-2.083-.68-2.727.194a1.693 1.693 0 0 0-.325.816ZM83.962 100.497c-.046.466.124.963.328 1.219.547.701 1.638.929 2.362.4.734-.534 1.216-1.616.363-2.629-.728-.864-2.084-.681-2.73.194a1.688 1.688 0 0 0-.323.816ZM91.418 111.358c-.047.464.121.963.326 1.219.549.701 1.637.929 2.363.4.732-.534 1.215-1.616.36-2.629-.727-.864-2.083-.681-2.728.192a1.682 1.682 0 0 0-.322.818ZM103.944 107.905c-.046.465.124.963.328 1.221.549.7 1.638.927 2.364.398.732-.534 1.214-1.615.36-2.629-.728-.864-2.083-.681-2.729.192a1.712 1.712 0 0 0-.323.818ZM105.79 97.984c-.046.467.124.965.328 1.221.547.7 1.638.928 2.364.398.732-.534 1.214-1.615.36-2.628-.728-.865-2.083-.68-2.729.193a1.695 1.695 0 0 0-.323.816Z" fill="#3281EE"/><path fill-rule="evenodd" clip-rule="evenodd" d="M100.802 96.234c-1.718-2.037-4.913-1.605-6.436.456a4.005 4.005 0 0 0-.762 1.925c-.11 1.094.293 2.267.768 2.873-.336.856-.71 1.847-1.153 3.072-1.015 2.796 3.297 4.492 4.32 1.679.471-1.306.87-2.355 1.223-3.25.421-.109.823-.29 1.189-.554 1.725-1.26 2.862-3.809.851-6.201Z" fill="#FEDBA7"/><path fill-rule="evenodd" clip-rule="evenodd" d="M98.794 96.382a2.624 2.624 0 0 0-.988-.153 3.14 3.14 0 0 0-2.378 1.245c-.28.378-.466.843-.51 1.275-.08.782.248 1.612.494 1.926l.464.594-.276.702c-.332.845-.703 1.828-1.14 3.038-.316.868.496 1.214.666 1.275.002 0 .002 0 .002.002.327.119.913.212 1.168-.497.45-1.242.855-2.317 1.239-3.285l.246-.62.645-.171c.284-.073.536-.192.752-.348.751-.548 1.26-1.354 1.357-2.15.088-.724-.161-1.442-.74-2.13a2.346 2.346 0 0 0-1.001-.703Zm-4.57 12.382c-1.685-.613-3.044-2.451-2.246-4.655.346-.952.65-1.768.927-2.487-.429-.834-.73-1.98-.612-3.14a5.318 5.318 0 0 1 1.011-2.577 5.78 5.78 0 0 1 4.417-2.315c1.595-.05 3.087.602 4.091 1.793l.002.002c1.052 1.255 1.517 2.69 1.341 4.148-.186 1.531-1.07 2.976-2.426 3.966a4.709 4.709 0 0 1-.961.54 125.98 125.98 0 0 0-.99 2.649c-.784 2.164-2.882 2.683-4.55 2.078-.002 0-.003 0-.003-.002Z" fill="#3281EE"/><path d="M29.419 125.29a81.818 81.818 0 0 0 16.14 2.244c16.167.948 38.76.424 48.326-1.346 9.567-1.771 10.083-4.465-14.448-5.812-20.925-1.147-45.26.474-50.362 2.894-1.52.648-1.447 1.371.344 2.02Z" fill="#BBD9FD"/><path d="M16 43c-.61 0-1.22-.488-1.22-1.22 0-.487-.121-2.56-2.56-2.56-.61 0-1.22-.488-1.22-1.22s.488-1.22 1.22-1.22c.365 0 2.56-.122 2.56-2.56 0-.61.488-1.22 1.22-1.22.61 0 1.22.488 1.22 1.22 0 .365.122 2.56 2.56 2.56.61 0 1.22.488 1.22 1.22s-.488 1.22-1.22 1.22c-.365 0-2.56.122-2.56 2.56-.122.732-.61 1.22-1.22 1.22ZM89 22c-.61 0-1.22-.488-1.22-1.22 0-.487-.121-2.56-2.56-2.56-.61 0-1.22-.488-1.22-1.22s.488-1.22 1.22-1.22c.365 0 2.56-.121 2.56-2.56 0-.61.488-1.22 1.22-1.22.61 0 1.22.488 1.22 1.22 0 .365.121 2.56 2.56 2.56.61 0 1.22.488 1.22 1.22s-.488 1.22-1.22 1.22c-.365 0-2.56.122-2.56 2.56-.122.732-.61 1.22-1.22 1.22ZM30 26c-.91 0-1.818-.727-1.818-1.818 0-3.455-2.91-6.364-6.364-6.364C20.91 17.818 20 17.091 20 16c0-.91.727-1.818 1.818-1.818 3.455 0 6.364-2.91 6.364-6.364C28.182 6.91 28.909 6 30 6c.91 0 1.818.727 1.818 1.818 0 3.455 2.91 6.364 6.364 6.364.909 0 1.818.727 1.818 1.818 0 .91-.727 1.818-1.818 1.818-3.455 0-6.364 2.91-6.364 6.364C31.818 25.09 31.091 26 30 26Zm-2.546-10c.91.727 1.819 1.454 2.546 2.546.727-.91 1.454-1.819 2.545-2.546-.909-.727-1.818-1.454-2.545-2.546A5.744 5.744 0 0 1 27.454 16ZM107 42c-.909 0-1.818-.727-1.818-1.818 0-3.455-2.909-6.364-6.364-6.364C97.91 33.818 97 33.091 97 32c0-.91.727-1.818 1.818-1.818 3.455 0 6.364-2.91 6.364-6.364 0-.909.727-1.818 1.818-1.818.909 0 1.818.727 1.818 1.818 0 3.455 2.909 6.364 6.364 6.364.909 0 1.818.727 1.818 1.818 0 .91-.727 1.818-1.818 1.818-3.455 0-6.364 2.91-6.364 6.364 0 .909-.727 1.818-1.818 1.818Zm-2.545-10c.909.727 1.818 1.455 2.545 2.545.727-.909 1.455-1.818 2.545-2.545-.909-.727-1.818-1.454-2.545-2.546A5.745 5.745 0 0 1 104.455 32Z" fill="#FF9300"/><circle cx="11" cy="23" r="2" fill="#FF8E8E"/><circle cx="30" cy="34" r="2" fill="#FF8E8E"/><circle cx="50" cy="12" r="2" fill="#FF8E8E"/><circle cx="107" cy="12" r="2" fill="#FF8E8E"/><circle cx="117" cy="47" r="2" fill="#FF8E8E"/><circle cx="8" cy="53" r="2" fill="#FF8E8E"/></symbol><symbol id="credit-card-large" viewBox="0 0 17 14"><path d="M14.92.816H2.12c-.888 0-1.592.712-1.592 1.6l-.008 9.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6v-9.6c0-.888-.712-1.6-1.6-1.6Zm0 11.2H2.12v-4.8h12.8v4.8Zm0-8H2.12v-1.6h12.8v1.6Z"/></symbol><symbol id="cross-white" viewBox="0 0 24 24">\n  <path fill="#FFF" fill-rule="evenodd" d="M106.585786,44 L96.2928932,33.7071068 C95.9023689,33.3165825 95.9023689,32.6834175 96.2928932,32.2928932 C96.6834175,31.9023689 97.3165825,31.9023689 97.7071068,32.2928932 L108,42.5857864 L118.292893,32.2928932 C118.683418,31.9023689 119.316582,31.9023689 119.707107,32.2928932 C120.097631,32.6834175 120.097631,33.3165825 119.707107,33.7071068 L109.414214,44 L119.707107,54.2928932 C120.097631,54.6834175 120.097631,55.3165825 119.707107,55.7071068 C119.316582,56.0976311 118.683418,56.0976311 118.292893,55.7071068 L108,45.4142136 L97.7071068,55.7071068 C97.3165825,56.0976311 96.6834175,56.0976311 96.2928932,55.7071068 C95.9023689,55.3165825 95.9023689,54.6834175 96.2928932,54.2928932 L106.585786,44 Z" transform="translate(-96 -32)"/>\n</symbol><symbol id="dash-white" viewBox="0 0 20 20"><path d="M3.497 10h13.006" stroke="#FFF" stroke-width="2"/></symbol><symbol id="device-browser" viewBox="0 0 17 17"><path d="M8.325 16.044a7.6 7.6 0 0 1-3.044-.615 7.88 7.88 0 0 1-2.478-1.668 7.881 7.881 0 0 1-1.668-2.478A7.6 7.6 0 0 1 .52 8.239a7.6 7.6 0 0 1 .615-3.044c.41-.95.966-1.775 1.668-2.478A7.882 7.882 0 0 1 5.281 1.05 7.6 7.6 0 0 1 8.325.434c1.9 0 3.56.595 4.985 1.786 1.425 1.19 2.313 2.682 2.664 4.478h-1.6a6.279 6.279 0 0 0-1.337-2.547 6.073 6.073 0 0 0-2.37-1.688v.313c0 .429-.153.796-.46 1.102a1.503 1.503 0 0 1-1.102.459h-1.56v1.56a.755.755 0 0 1-.225.557.755.755 0 0 1-.556.224H5.203V8.24h1.56v2.341h-.78L2.237 6.835c-.039.234-.075.469-.107.703a5.1 5.1 0 0 0-.049.702c0 1.704.598 3.168 1.795 4.39 1.197 1.223 2.68 1.841 4.449 1.854v1.561Zm7.102-.39-2.497-2.498a4.869 4.869 0 0 1-.878.39 3.126 3.126 0 0 1-.995.157c-.976 0-1.805-.342-2.488-1.025-.683-.683-1.025-1.512-1.025-2.488 0-.975.342-1.805 1.025-2.487.683-.683 1.512-1.025 2.488-1.025.975 0 1.804.342 2.487 1.024.683.683 1.025 1.513 1.025 2.488 0 .351-.052.683-.156.995a4.869 4.869 0 0 1-.39.878l2.497 2.498-1.093 1.093Zm-4.37-3.512c.546 0 1.008-.19 1.385-.566.377-.378.566-.84.566-1.386 0-.546-.189-1.008-.566-1.385a1.884 1.884 0 0 0-1.385-.566c-.547 0-1.008.189-1.386.566a1.884 1.884 0 0 0-.566 1.385c0 .547.189 1.008.566 1.386.378.377.84.566 1.386.566Z"/></symbol><symbol id="device-laptop" viewBox="0 0 17 12"><path d="M13.853 9.68c.734 0 1.334-.6 1.334-1.333V1.68c0-.733-.6-1.333-1.334-1.333H3.187c-.734 0-1.334.6-1.334 1.333v6.667c0 .733.6 1.333 1.334 1.333H.52v1.333h16V9.68h-2.667Zm-10.666-8h10.666v6.667H3.187V1.68Z"/></symbol><symbol id="device-phone" viewBox="0 0 11 17"><path d="M8.782.807 1.509.8C.71.8.055 1.455.055 2.255v13.09c0 .8.654 1.455 1.454 1.455h7.273c.8 0 1.454-.655 1.454-1.455V2.255c0-.8-.654-1.448-1.454-1.448Zm0 13.084H1.509V3.709h7.273v10.182Z"/></symbol><symbol id="device-tablet" viewBox="0 0 13 17"><path d="M10.6.8h-8c-1.107 0-2 .893-2 2v12c0 1.107.893 2 2 2h8c1.107 0 2-.893 2-2v-12c0-1.107-.893-2-2-2ZM7.933 15.467H5.267V14.8h2.666v.667Zm3.5-2H1.767V2.8h9.666v10.667Z"/></symbol><symbol id="dots-white" viewBox="0 0 16 16">\n  <path fill="#FFFFFF" fill-rule="evenodd" d="M34,74 C35.1045695,74 36,73.1045695 36,72 C36,70.8954305 35.1045695,70 34,70 C32.8954305,70 32,70.8954305 32,72 C32,73.1045695 32.8954305,74 34,74 Z M46,74 C47.1045695,74 48,73.1045695 48,72 C48,70.8954305 47.1045695,70 46,70 C44.8954305,70 44,70.8954305 44,72 C44,73.1045695 44.8954305,74 46,74 Z M40,74 C41.1045695,74 42,73.1045695 42,72 C42,70.8954305 41.1045695,70 40,70 C38.8954305,70 38,70.8954305 38,72 C38,73.1045695 38.8954305,74 40,74 Z" transform="translate(-32 -64)"/>\n</symbol><symbol id="drive" viewBox="0 0 33 33"><rect x=".618" y=".718" width="32" height="32" rx="10.568" fill="url(#paint0_linear_11347_30928)"/><g filter="url(#filter0_d_11347_30928)" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.61 18.913a5.25 5.25 0 0 0-.228-1.54 5.455 5.455 0 0 0-.398-.96 5.25 5.25 0 0 0-.927-1.25 5.318 5.318 0 0 0-2.972-1.496 5.484 5.484 0 0 0-.779-.058 5.25 5.25 0 0 0-1.54.229 5.358 5.358 0 0 0-1.406.665 5.288 5.288 0 0 0-1.953 2.38 5.276 5.276 0 0 0-.398 2.29 5.306 5.306 0 0 0 5.037 5.037c.087.004.174.006.26.006h8.486v-5.303H16.61Z"/><path d="M19.791 24.216a7.425 7.425 0 1 0 0-14.85 7.425 7.425 0 0 0 0 14.85Z"/></g></symbol><symbol id="drive-text" viewBox="0 0 374 123"><path d="M0 3.66h41.593c13.088 0 24.068 2.496 32.941 7.487 8.984 4.991 15.695 11.868 20.131 20.63 4.437 8.762 6.655 18.855 6.655 30.28 0 11.313-2.218 21.35-6.655 30.113-4.436 8.762-11.147 15.639-20.13 20.63-8.874 4.88-19.854 7.32-32.942 7.32H0V3.66Zm38.764 95.497c13.088 0 22.738-3.327 28.95-9.982 6.321-6.766 9.482-15.805 9.482-27.118 0-11.314-3.16-20.353-9.483-27.119-6.211-6.877-15.86-10.315-28.948-10.315H23.291v74.534h15.472Z" fill="url(#paint0_linear_59620_158)"/><path d="M112.067 33.607h21.794v16.47c1.553-6.321 4.548-11.09 8.984-14.307 4.548-3.217 10.482-4.603 17.802-4.16v21.13h-3.161c-6.655 0-12.145 2.107-16.471 6.322-4.325 4.104-6.488 9.705-6.488 16.803v44.255h-22.46V33.607Z" fill="url(#paint1_linear_59620_158)"/><path d="M168.119 33.607h22.46v86.513h-22.46V33.607Zm-2.329-20.464c0-3.66 1.276-6.765 3.827-9.316C172.279 1.276 175.495 0 179.266 0c3.882 0 7.099 1.276 9.65 3.827 2.551 2.55 3.826 5.656 3.826 9.316 0 3.771-1.275 6.933-3.826 9.483-2.551 2.551-5.768 3.827-9.65 3.827-3.771 0-6.987-1.276-9.649-3.826-2.551-2.662-3.827-5.823-3.827-9.484Z" fill="url(#paint2_linear_59620_158)"/><path d="M194.713 33.607h26.619l17.303 49.412c1.553 4.215 2.773 8.818 3.66 13.809.887-4.991 2.107-9.594 3.66-13.809l17.303-49.412h26.12l-35.936 86.513h-22.627l-36.102-86.513Z" fill="url(#paint3_linear_59620_158)"/><path d="M329.45 122.283c-8.762 0-16.526-1.997-23.292-5.99-6.766-4.103-12.034-9.594-15.805-16.47-3.771-6.877-5.657-14.475-5.657-22.793 0-8.208 1.941-15.805 5.823-22.793 3.882-6.988 9.206-12.533 15.972-16.637 6.877-4.104 14.53-6.156 22.959-6.156 8.43 0 15.972 2.052 22.627 6.156 6.765 4.104 11.978 9.65 15.638 16.637 3.772 6.877 5.657 14.474 5.657 22.793 0 2.773-.222 5.435-.665 7.986h-64.719c1.331 5.213 3.827 9.427 7.487 12.644 3.771 3.105 8.429 4.658 13.975 4.658 4.658 0 8.818-1.053 12.478-3.16 3.66-2.219 6.544-5.047 8.651-8.486l17.469 13.144c-3.549 5.545-8.762 10.037-15.639 13.476-6.876 3.327-14.529 4.991-22.959 4.991Zm21.296-54.07c-1.331-4.992-3.938-9.151-7.82-12.479-3.882-3.327-8.485-4.99-13.809-4.99-5.213 0-9.76 1.608-13.642 4.824-3.771 3.217-6.267 7.431-7.487 12.644h42.758Z" fill="url(#paint4_linear_59620_158)"/></symbol><symbol id="file-type-audio" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F5FDFD" stroke="#0DCBCF"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.32 12.133c0 .92-.746 1.667-1.667 1.667a.802.802 0 0 1-.588-.245.803.803 0 0 1-.245-.588V10.05c0-.52.099-1.009.297-1.463.198-.455.465-.851.802-1.188a3.812 3.812 0 0 1 1.187-.802A3.628 3.628 0 0 1 7.57 6.3c.52 0 1.009.099 1.463.297.455.198.851.465 1.188.802.337.337.604.733.802 1.188.198.454.297.942.297 1.463v2.917c0 .229-.082.425-.245.588a.802.802 0 0 1-.588.245c-.92 0-1.667-.746-1.667-1.667V11.3c0-.46.373-.833.833-.833h.417c.23 0 .417-.187.417-.417 0-.812-.283-1.502-.85-2.068-.565-.566-1.255-.849-2.067-.849-.813 0-1.502.283-2.068.85-.566.565-.849 1.255-.849 2.067 0 .23.187.417.417.417h.417c.46 0 .833.373.833.833v.833Z" fill="#0DCBCF"/></symbol><symbol id="file-type-banking-account" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F2F7FF" stroke="#1D7AFF"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#1D7AFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.31 6.519 3.82 8.735v.86h6.982v-.86L7.31 6.52Zm1.75 5.715h.876v-2.188H9.06v2.188Zm-2.187 0h.875v-2.188h-.875v2.188Zm-2.187 0h.875v-2.188h-.875v2.188Zm-.866 1.312h6.982v-.875H3.82v.875Z" fill="#1D7AFF"/></symbol><symbol id="file-type-bin" viewBox="0 0 15 16"><path d="M3.52.5h5.792l4.908 4.907V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.52.5Z" fill="#E8EDF3" stroke="#4F5B69"/><path d="M14.72 5.4 9.32 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.52 9.071a1.23 1.23 0 0 1-.703-.2 1.267 1.267 0 0 1-.45-.578 2.354 2.354 0 0 1-.156-.91c0-.352.053-.653.157-.902a1.24 1.24 0 0 1 .45-.568c.197-.13.43-.196.701-.196.271 0 .504.065.7.196.195.13.346.32.451.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 0 1-.45.577c-.194.133-.428.2-.7.2Zm0-.568c.185 0 .333-.093.443-.28.111-.186.166-.466.165-.84 0-.245-.025-.45-.076-.613a.79.79 0 0 0-.212-.368.462.462 0 0 0-.32-.124c-.185 0-.333.093-.444.277-.11.185-.166.46-.167.829 0 .249.024.456.074.623.05.165.122.29.214.373.091.082.199.123.322.123Zm3.204-2.742V9H9.04V6.411H9.02l-.741.465V6.27l.802-.508h.643ZM6.697 9.761V13h-.684v-2.589h-.02l-.741.465v-.607l.802-.508h.643Zm2.04 3.31a1.23 1.23 0 0 1-.702-.2 1.267 1.267 0 0 1-.45-.578 2.354 2.354 0 0 1-.156-.91c0-.352.052-.653.157-.902a1.24 1.24 0 0 1 .45-.568c.196-.13.43-.196.7-.196.272 0 .505.065.7.196.196.13.347.32.452.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 0 1-.45.577c-.195.133-.428.2-.7.2Zm0-.567c.185 0 .334-.094.444-.28.111-.187.166-.467.165-.84 0-.246-.026-.45-.076-.614a.79.79 0 0 0-.212-.368.462.462 0 0 0-.321-.123c-.185 0-.332.092-.443.276-.11.185-.166.46-.168.829 0 .249.025.456.075.623.05.165.122.29.213.373.092.082.2.123.323.123Z" fill="#4F5B69"/></symbol><symbol id="file-type-code" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDF5FA" stroke="#E643B3"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.316 12.289a.359.359 0 0 1-.492 0l-2.004-1.88 2-1.875a.365.365 0 1 1 .5.534l-1.44 1.35 1.436 1.347a.36.36 0 0 1 0 .524Zm3.004-.005a.365.365 0 0 1-.5-.533l1.44-1.35-1.436-1.347a.36.36 0 1 1 .491-.524l2.005 1.88-2 1.874Z" fill="#E643B3"/></symbol><symbol id="file-type-files" viewBox="0 0 15 17"><path d="M3.52 1.2H9.354l4.966 4.966V13.6a2.8 2.8 0 0 1-2.8 2.8h-8a2.8 2.8 0 0 1-2.8-2.8V4a2.8 2.8 0 0 1 2.8-2.8Z" fill="#E8EDF3" stroke="#4F5B69" stroke-width=".8"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#4F5B69"/><path d="M4.695 14.05v-1.476L9.278 8a.78.78 0 0 1 .23-.148.718.718 0 0 1 .534 0 .61.61 0 0 1 .226.156l.477.486c.07.064.12.14.152.226a.753.753 0 0 1 0 .525.65.65 0 0 1-.152.23L6.171 14.05H4.695Zm5.07-4.583.486-.486-.487-.487-.486.487.486.486Z" fill="#4F5B69" fill-opacity=".72"/></symbol><symbol id="file-type-folder" viewBox="0 0 16 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 2.125h6.4c.88 0 1.6.731 1.6 1.625v8.125c0 .894-.72 1.625-1.6 1.625H1.6c-.88 0-1.6-.731-1.6-1.625l.008-9.75C.008 1.231.72.5 1.6.5h4.8L8 2.125Z" fill="url(#paint0_linear_11296_8360)"/></symbol><symbol id="file-type-image" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FBFDF5" stroke="#A8D306"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#A8D306"/><circle cx="10.632" cy="7.818" r=".938" fill="#A8D306"/><path d="M3.11 13.385a.23.23 0 0 0 .18.37h8.435a.23.23 0 0 0 .18-.37l-2.64-3.38-2.343 3-1.758-2.25-2.054 2.63Z" fill="#A8D306"/></symbol><symbol id="file-type-note" viewBox="0 0 15 17"><path d="M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDFAF5" stroke="#FFB81E"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM4.127 14.183v-1.476L8.71 8.132a.78.78 0 0 1 .23-.147.718.718 0 0 1 .534 0 .61.61 0 0 1 .226.156l.477.486c.07.064.12.14.152.226a.75.75 0 0 1 0 .525.65.65 0 0 1-.152.23l-4.574 4.575H4.127Zm5.07-4.584.485-.486-.486-.486-.486.486.486.486Z" fill="#FFB81E"/></symbol><symbol id="file-type-pdf" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#FDF5F4" stroke="#D32C3C"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88ZM2.757 12.8V9.2h1.486c.255 0 .479.053.67.158.192.106.341.254.448.445.106.19.16.414.16.67 0 .257-.055.48-.165.67a1.102 1.102 0 0 1-.46.435 1.472 1.472 0 0 1-.687.153h-.888v-.76h.7c.11 0 .203-.02.28-.059a.426.426 0 0 0 .18-.174.528.528 0 0 0 .064-.265.513.513 0 0 0-.063-.264.408.408 0 0 0-.18-.169.606.606 0 0 0-.281-.06h-.33v2.82h-.934ZM7.188 12.8H5.863V9.2h1.312c.354 0 .66.072.918.216.259.143.458.35.598.619.142.268.212.59.212.965s-.07.697-.21.967c-.14.268-.338.474-.595.618a1.84 1.84 0 0 1-.91.215Zm-.39-.83h.357a1 1 0 0 0 .435-.086.57.57 0 0 0 .276-.297c.064-.14.096-.336.096-.587 0-.25-.033-.447-.098-.587a.572.572 0 0 0-.282-.297 1.07 1.07 0 0 0-.454-.086h-.33v1.94ZM9.336 12.8V9.2h2.42v.787H10.27v.62h1.339v.787H10.27V12.8h-.934Z" fill="#D32C3C"/></symbol><symbol id="file-type-server" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.146a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-3Zm5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" fill="url(#paint0_linear_11291_1488)"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 2.854a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-3Zm5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" fill="url(#paint1_linear_11291_1488)"/></symbol><symbol id="file-type-sheet" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#F5FDF7" stroke="#248A3D"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z" fill="#248A3D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.356 9.2h1.32l.806 1.239.824-1.234h1.302l-1.54 2.085 1.608 2.306H8.477l-1.009-1.444-.577.86h.585v.588h-2.2l1.6-2.296L5.356 9.2Z" fill="#34C759"/></symbol><symbol id="file-type-slide" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#FDFAF5" stroke="#FF9500"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88Z" fill="#FF9500"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.557 8.4v4.4h.836v-1.588h1c.701 0 1.27-.63 1.27-1.406 0-.776-.569-1.406-1.27-1.406H5.557Zm.836 2.15V9.062h.821c.371 0 .672.333.672.744s-.3.744-.672.744h-.821Z" fill="#FF9500"/></symbol><symbol id="file-type-text" viewBox="0 0 15 16"><path d="M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V3.2A2.7 2.7 0 0 1 3.2.5Z" fill="#F2F8FF" stroke="#006BD8"/><path d="M14.4 5.4 9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88ZM5.532 8.4H4.6l.974 4.4h.955l.632-2.562.608 2.562h.898L9.8 8.4H8.226v.733h.536l-.544 2.104L7.656 8.4h-.9l-.699 2.877L5.532 8.4Z" fill="#006BD8"/></symbol><symbol id="file-type-video" viewBox="0 0 15 17"><path d="M3.52 1.3H9.312l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#FDF5FA" stroke="#E64343"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM9.08 12.3v-5h.865v5H9.08Zm-4.76 0v-5l3.894 2.5-3.894 2.5Z" fill="#E64343"/></symbol><symbol id="file-type-zip" viewBox="0 0 15 17"><path d="M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 0 1-2.7 2.7h-8a2.7 2.7 0 0 1-2.7-2.7V4a2.7 2.7 0 0 1 2.7-2.7Z" fill="#E8EDF3" stroke="#4F5B69"/><path d="M14.72 6.2 9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88ZM6.32 8.55h1.25V9.8H6.32zM7.57 9.8h1.25v1.25H7.57zM6.32 11.05h1.25v1.25H6.32zM7.57 12.3h1.25v1.25H7.57zM6.32 13.55h1.25v1.25H6.32z" fill="#4F5B69"/></symbol><symbol id="forbidden-sign" viewBox="0 0 16 16"><g clip-path="url(#clip0_11291_1429)"><mask id="mask0_11291_1429" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><path d="M16 0H0v16h16V0Z" fill="#fff"/></mask><g mask="url(#mask0_11291_1429)"><mask id="mask1_11291_1429" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><path d="M16 0H0v16h16V0Z" fill="#fff"/></mask><g mask="url(#mask1_11291_1429)"><path d="M10.722 0H5.287A5.287 5.287 0 0 0 0 5.287v5.435a5.287 5.287 0 0 0 5.287 5.287h5.435a5.287 5.287 0 0 0 5.287-5.287V5.287A5.287 5.287 0 0 0 10.722 0Z" fill="#fff"/><path d="M10.722 0H5.287A5.287 5.287 0 0 0 0 5.287v5.435a5.287 5.287 0 0 0 5.287 5.287h5.435a5.287 5.287 0 0 0 5.287-5.287V5.287A5.287 5.287 0 0 0 10.722 0Z" fill="#FF8F00" fill-opacity=".12"/></g></g></g><path fill-rule="evenodd" clip-rule="evenodd" d="M5.555 6.262a3 3 0 0 0 4.184 4.184L5.554 6.261Zm.707-.707 4.183 4.183a3 3 0 0 0-4.184-4.184ZM8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" fill="#FF6F00"/></symbol><symbol id="google" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="#3E82F1" d="M15.526 6.413h-7.38v3.03h4.22a3.651 3.651 0 0 1-1.565 2.365l2.53 1.959a7.053 7.053 0 0 0 1.934-3.076 9.064 9.064 0 0 0 .261-4.288v.01z"/>\n        <path fill="#32A753" d="M10.801 11.808a4.714 4.714 0 0 1-2.654.747h-.033A4.592 4.592 0 0 1 4.49 10.7a4.698 4.698 0 0 1-.695-1.306c0-.026-.023-.052-.033-.081L1.988 10.7l-.855.657a7.883 7.883 0 0 0 2.651 2.991 7.787 7.787 0 0 0 4.33 1.326h.033a7.484 7.484 0 0 0 5.185-1.897l-2.53-1.97z"/>\n        <path fill="#F9BB00" d="M3.761 6.348L1.988 4.973l-.855-.656c-.105.212-.2.43-.288.653a7.79 7.79 0 0 0 0 5.727c.088.226.183.444.288.653l.845-.653 1.773-1.374a4.649 4.649 0 0 1 0-2.978l.01.003z"/>\n        <path fill="#E74133" d="M8.147 0h-.033a7.836 7.836 0 0 0-6.981 4.317l.845.653 1.774 1.375c0-.03.022-.056.032-.082a4.7 4.7 0 0 1 .696-1.306 4.591 4.591 0 0 1 3.624-1.855h.033a4.246 4.246 0 0 1 2.994 1.17l2.244-2.215A7.54 7.54 0 0 0 8.147 0"/>\n    </g>\n</symbol><symbol id="keychain" viewBox="0 0 17 10"><path d="M4.674 6.391a1.34 1.34 0 0 1-.983-.408A1.34 1.34 0 0 1 3.283 5c0-.383.136-.71.408-.983.273-.272.6-.408.983-.408s.71.136.983.408c.272.273.408.6.408.983s-.136.71-.408.983a1.34 1.34 0 0 1-.983.408Zm0 2.783c-1.16 0-2.145-.406-2.957-1.218C.906 7.145.5 6.16.5 5c0-1.16.406-2.145 1.217-2.957C2.53 1.232 3.514.826 4.674.826a4 4 0 0 1 2.113.574 4.321 4.321 0 0 1 1.504 1.513h6.122L16.5 5l-3.13 3.13-1.392-1.043-1.391 1.043-1.478-1.043H8.29A4.321 4.321 0 0 1 6.787 8.6a4 4 0 0 1-2.113.574Zm0-1.391c.65 0 1.22-.198 1.713-.592.493-.394.82-.892.983-1.495h2.173l1.01.713 1.425-1.061 1.235.956L14.517 5l-.695-.696H7.37a2.805 2.805 0 0 0-.983-1.495 2.663 2.663 0 0 0-1.713-.592 2.68 2.68 0 0 0-1.965.818A2.68 2.68 0 0 0 1.89 5c0 .765.273 1.42.818 1.965a2.68 2.68 0 0 0 1.965.818Z"/></symbol><symbol id="logout-large" viewBox="0 0 17 16"><path d="M2.6 16c-.489 0-.907-.174-1.256-.522a1.712 1.712 0 0 1-.522-1.256V1.778c0-.49.174-.908.522-1.256A1.712 1.712 0 0 1 2.6 0h5.333a.86.86 0 0 1 .634.256.86.86 0 0 1 .255.633.86.86 0 0 1-.255.633.86.86 0 0 1-.634.256H2.6v12.444h5.333a.86.86 0 0 1 .634.256.86.86 0 0 1 .255.633.86.86 0 0 1-.255.633.86.86 0 0 1-.634.256H2.6Zm10.822-7.111H7.044a.86.86 0 0 1-.633-.256A.86.86 0 0 1 6.156 8a.86.86 0 0 1 .255-.633.86.86 0 0 1 .633-.256h6.378l-1.666-1.667a.816.816 0 0 1-.245-.6c0-.237.082-.444.245-.622a.843.843 0 0 1 .622-.278.84.84 0 0 1 .644.256L16.2 7.378a.853.853 0 0 1 .267.622.853.853 0 0 1-.267.622L13.022 11.8a.827.827 0 0 1-.633.256.907.907 0 0 1-.633-.278.864.864 0 0 1-.234-.634.869.869 0 0 1 .256-.61l1.644-1.645Z"/></symbol><symbol id="mail" viewBox="0 0 32 32"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_3096_880)"/><g filter="url(#filter0_d_3096_880)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.585 11.774a3.048 3.048 0 0 0-1.2 2.423v8.7a3.658 3.658 0 0 0 3.658 3.658H22.94a3.658 3.658 0 0 0 3.658-3.658v-8.7c0-.95-.444-1.847-1.2-2.423L17.84 6.009a3.048 3.048 0 0 0-3.697 0l-7.558 5.764Zm1.157 2.07v9.18c0 .674.546 1.22 1.22 1.22h14.06a1.22 1.22 0 0 0 1.219-1.22v-9.18l-6.85 4.798a2.439 2.439 0 0 1-2.798 0l-6.851-4.798Z" fill="#fff"/></g></symbol><symbol id="mail-text" viewBox="0 0 311 125"><path d="M0 5.046h29.266l24.389 51.973c6.84 14.465 11.213 24.949 13.12 31.453 1.569-6.055 5.886-16.54 12.95-31.453l24.557-51.973h28.257v117.738h-23.043v-47.6c0-7.737.112-14.016.337-18.838.224-4.822.672-9.924 1.345-15.306l-39.19 81.744H60.551L21.36 41.04c.673 5.382 1.121 10.484 1.346 15.306.224 4.822.336 11.1.336 18.838v47.6H0V5.046Z" fill="url(#paint0_linear_59620_156)"/><path d="M187.488 124.97c-7.849 0-15.081-2.018-21.697-6.055-6.616-4.149-11.886-9.699-15.811-16.651-3.812-6.952-5.718-14.577-5.718-22.875s1.906-15.923 5.718-22.875c3.925-7.064 9.195-12.67 15.811-16.82 6.616-4.148 13.848-6.223 21.697-6.223 7.177 0 12.951 1.346 17.325 4.037 4.485 2.691 7.961 6.56 10.428 11.605V35.322h22.538v87.463h-22.034v-14.297c-2.579 5.27-6.111 9.363-10.596 12.278-4.373 2.804-10.26 4.205-17.661 4.205Zm-20.52-45.75c0 4.486 1.009 8.69 3.028 12.615 2.13 3.813 4.99 6.897 8.578 9.251 3.7 2.243 7.905 3.364 12.615 3.364 4.821 0 9.082-1.121 12.783-3.364 3.812-2.242 6.727-5.27 8.746-9.082 2.018-3.813 3.027-8.018 3.027-12.615 0-4.597-1.009-8.802-3.027-12.615-2.019-3.924-4.934-7.008-8.746-9.25-3.701-2.355-7.962-3.533-12.783-3.533-4.71 0-8.915 1.178-12.615 3.532-3.7 2.243-6.56 5.27-8.578 9.083-2.019 3.812-3.028 8.017-3.028 12.615Z" fill="url(#paint1_linear_59620_156)"/><path d="M251.27 35.321h22.707v87.463H251.27V35.321Zm-2.354-20.688c0-3.7 1.289-6.84 3.868-9.419 2.691-2.579 5.943-3.868 9.756-3.868 3.924 0 7.176 1.29 9.755 3.868 2.579 2.58 3.869 5.719 3.869 9.42 0 3.812-1.29 7.007-3.869 9.586-2.579 2.58-5.831 3.869-9.755 3.869-3.813 0-7.065-1.29-9.756-3.869-2.579-2.69-3.868-5.886-3.868-9.587Z" fill="url(#paint2_linear_59620_156)"/><path d="M287.406 0h22.707v122.784h-22.707V0Z" fill="url(#paint3_linear_59620_156)"/></symbol><symbol id="notes" viewBox="0 0 33 33"><rect x=".718" y=".718" width="32" height="32" rx="10.568" fill="url(#paint0_linear_11347_30909)"/><g filter="url(#filter0_d_11347_30909)"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.71 6.43c-1.434 0-2.628.913-2.886 2.12h-1.847a4.569 4.569 0 0 0-4.569 4.57v9.464a4.569 4.569 0 0 0 4.57 4.569h9.464a4.569 4.569 0 0 0 4.569-4.57V13.12a4.569 4.569 0 0 0-4.57-4.57h-1.846c-.258-1.207-1.451-2.12-2.885-2.12Zm2.266 6.823c.51-.51 1.337-.51 1.846 0l.347.346c.51.51.51 1.337 0 1.846l-.577.577-2.193-2.192.577-.577Zm-1.269 1.27 2.192 2.192-6.135 6.135a.326.326 0 0 1-.23.095h-1.731a.326.326 0 0 1-.327-.326v-1.73c0-.087.035-.17.096-.231l6.135-6.136Z" fill="#fff"/></g></symbol><symbol id="notes-text" viewBox="0 0 479 136"><path d="M0 132.881V0h20.122l64.732 76.881c3.037 3.417 6.075 7.024 8.732 11.01-.759-5.695-.949-13.857-.949-21.64V0h24.298v132.881H99.661l-67.2-79.918c-3.037-3.417-6.075-7.024-8.732-11.01.76 5.694.949 13.857.949 21.64v69.288H0Z" fill="url(#paint0_linear_59620_144)"/><path d="M182.772 135.349c-30.562 0-52.583-23.159-52.583-51.634 0-28.474 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.475-22.02 51.634-52.583 51.634Zm-26.956-51.634c0 15.376 10.631 28.285 26.956 28.285 16.326 0 26.956-12.909 26.956-28.285s-10.63-28.474-26.956-28.474c-16.325 0-26.956 13.098-26.956 28.474Z" fill="url(#paint1_linear_59620_144)"/><path d="M278.718 132.881c-19.552 0-30.183-9.112-30.183-30.563V56h-13.857V34.17h13.857V14.236l25.627-2.657v22.59h20.882V56h-20.882v44.99c0 6.264 3.038 9.112 7.973 9.112h10.631v22.779h-14.048Z" fill="url(#paint2_linear_59620_144)"/><path d="M348.282 135.349c-30.563 0-51.064-23.159-51.064-51.634 0-28.474 21.451-52.013 51.064-52.013 29.614 0 50.115 23.539 50.115 52.013 0 2.848-.19 5.885-.759 9.112h-73.844c2.847 11.58 11.58 19.742 24.488 19.742 11.01 0 19.553-5.695 24.108-13.288l19.933 14.997c-7.973 12.339-24.488 21.071-44.041 21.071Zm-24.488-61.695h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.163-24.108 19.932Z" fill="url(#paint3_linear_59620_144)"/><path d="M440.657 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.746-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892Z" fill="url(#paint4_linear_59620_144)"/></symbol><symbol id="only-office" viewBox="0 0 16 16"><g clip-path="url(#clip0_6882_51948)" fill-rule="evenodd" clip-rule="evenodd"><path d="m7 15.172-6.58-3.02c-.56-.264-.56-.672 0-.912l2.291-1.055 4.265 1.966c.56.264 1.463.264 1.999 0l4.265-1.966 2.29 1.055c.561.264.561.671 0 .911l-6.58 3.021c-.511.24-1.413.24-1.95 0Z" fill="url(#paint0_linear_6882_51948)"/><path d="M7 11.456.42 8.436c-.56-.265-.56-.672 0-.912l2.243-1.03L7 8.483c.56.263 1.462.263 1.998 0l4.338-1.99 2.242 1.03c.561.264.561.671 0 .911L9 11.456c-.56.264-1.462.264-1.998 0Z" fill="url(#paint1_linear_6882_51948)"/><path d="M7 7.836.42 4.815c-.56-.264-.56-.672 0-.911L7 .883c.561-.264 1.463-.264 2 0l6.58 3.02c.56.264.56.672 0 .912L9 7.835c-.561.24-1.463.24-2 0Z" fill="url(#paint2_linear_6882_51948)"/></g></symbol><symbol id="papers" viewBox="0 0 16 16"><g clip-path="url(#clip0_11291_1044)"><path d="M10.716 0H5.284A5.284 5.284 0 0 0 0 5.284v5.432A5.284 5.284 0 0 0 5.284 16h5.432A5.284 5.284 0 0 0 16 10.716V5.284A5.284 5.284 0 0 0 10.716 0Z" fill="url(#paint0_linear_11291_1044)"/><g filter="url(#filter0_d_11291_1044)" fill="#fff"><path d="M5.5 5A1.5 1.5 0 0 1 7 3.5h5A1.5 1.5 0 0 1 13.5 5v3A1.5 1.5 0 0 1 12 9.5h-.25V8A2.75 2.75 0 0 0 9 5.25H5.5V5Z"/><path d="M4 6.5A1.5 1.5 0 0 0 2.5 8v3A1.5 1.5 0 0 0 4 12.5h5a1.5 1.5 0 0 0 1.5-1.5V8A1.5 1.5 0 0 0 9 6.5H4Z"/></g></g></symbol><symbol id="pass" viewBox="0 0 32 32"><path d="M0 10.568C0 4.731 4.73 0 10.568 0h10.864C27.268 0 32 4.731 32 10.568v10.864C32 27.269 27.268 32 21.432 32H10.568C4.73 32 0 27.268 0 21.432V10.568Z" fill="url(#paint0_linear_11350_7889)"/><g filter="url(#filter0_d_11350_7889)"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.328 23.872a.622.622 0 0 1-.618-.63l.023-1.823 5.177-5.176c-.455-.951-.607-1.976-.458-3.077.15-1.1.644-2.07 1.48-2.906 1.034-1.033 2.274-1.55 3.72-1.55 1.447 0 2.687.517 3.72 1.55 1.034 1.033 1.55 2.273 1.55 3.72 0 1.446-.516 2.686-1.55 3.72a5.14 5.14 0 0 1-2.836 1.472 5.094 5.094 0 0 1-3.146-.45l-.218.217v1.858a.622.622 0 0 1-.622.622h-1.235a.622.622 0 0 0-.622.623v1.231a.622.622 0 0 1-.626.622l-3.739-.023Zm10.256-9.294a1.555 1.555 0 1 0 0-3.11 1.555 1.555 0 0 0 0 3.11Z" fill="#fff"/></g></symbol><symbol id="pass-text" viewBox="0 0 370 136"><path d="M0 132.881V0h44.8c29.803 0 48.027 14.047 48.027 41.953 0 28.094-18.224 42.711-48.027 42.711H26.576v48.217H0Zm26.576-72.135h16.705c14.427 0 22.59-5.885 22.59-18.604 0-12.529-8.163-18.413-22.59-18.413H26.576v37.017ZM142.826 135.349c-27.145 0-48.786-22.97-48.786-51.444 0-28.475 21.641-51.824 48.786-51.824 17.085 0 26.007 7.024 31.322 17.654V34.17h25.438v98.712h-24.868v-16.135c-5.315 11.2-14.237 18.603-31.892 18.603Zm-23.159-51.634c0 14.997 11.01 28.475 27.336 28.475 16.895 0 27.715-12.909 27.715-28.285s-10.82-28.664-27.715-28.664c-16.326 0-27.336 13.098-27.336 28.474ZM248.602 135.349c-16.705 0-30.183-5.695-41.003-17.275l17.274-15.756c7.214 8.163 14.807 12.15 23.159 12.15 8.733 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.372-18.224-30.372-30.752 0-17.275 13.667-30.183 36.827-30.183 15.945 0 26.576 3.986 36.637 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.665 7.403 35.309 18.034 35.309 32.84 0 18.224-16.516 31.892-38.346 31.892ZM330.726 135.349c-16.705 0-30.183-5.695-41.004-17.275l17.275-15.756c7.213 8.163 14.807 12.15 23.159 12.15 8.732 0 13.668-4.366 13.668-10.251 0-5.126-2.468-7.973-18.034-11.58-26.386-6.264-30.373-18.224-30.373-30.752 0-17.275 13.668-30.183 36.827-30.183 15.946 0 26.577 3.986 36.638 17.084l-18.604 14.238c-4.745-7.594-10.82-10.63-17.464-10.63-7.024 0-12.339 2.657-12.339 8.731 0 3.417 1.519 6.455 13.288 9.492 28.664 7.403 35.308 18.034 35.308 32.84 0 18.224-16.515 31.892-38.345 31.892Z" fill="#A4A5B8"/></symbol><symbol id="photos" viewBox="0 0 32 32"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_4180_38328)"/><g filter="url(#filter0_d_4180_38328)" fill="#fff"><mask id="path-2-inside-1_4180_38328"><path d="M18.955 5.711c2.579 0 3.868 0 4.853.502a4.605 4.605 0 0 1 2.013 2.013c.502.985.502 2.274.502 4.853v5.988c0 2.579 0 3.868-.502 4.853a4.605 4.605 0 0 1-2.013 2.013c-.985.502-2.274.502-4.853.502h-5.988c-2.579 0-3.868 0-4.853-.502A4.606 4.606 0 0 1 6.1 23.92c-.502-.985-.502-2.274-.502-4.853v-5.988c0-2.579 0-3.868.502-4.853a4.605 4.605 0 0 1 2.013-2.013c.985-.502 2.274-.502 4.853-.502h5.988Z"/></mask><path d="M18.955 5.711V3.223 5.71Zm4.853.502-1.13 2.217 1.13-2.217Zm2.013 2.013-2.218 1.13 2.218-1.13Zm.502 4.853h2.488-2.488Zm0 5.988h2.488-2.488Zm-.502 4.853-2.218-1.13 2.218 1.13Zm-2.013 2.013-1.13-2.218 1.13 2.218Zm-4.853.502v2.488-2.488Zm-5.988 0v2.488-2.488Zm-4.853-.502 1.13-2.217-1.13 2.217ZM6.1 23.92l2.217-1.13-2.217 1.13ZM5.6 19.067H3.111h2.488Zm0-5.988H3.111h2.488Zm.502-4.853 2.217 1.13-2.217-1.13Zm2.013-2.013 1.13 2.217-1.13-2.217Zm4.853-.502V3.223 5.71ZM18.955 8.2c1.33 0 2.178.002 2.821.054.614.05.82.134.902.176l2.26-4.434c-.902-.46-1.834-.627-2.756-.702-.893-.073-1.979-.071-3.227-.071V8.2Zm3.723.23c.399.203.723.527.925.926l4.435-2.26a7.093 7.093 0 0 0-3.1-3.1l-2.26 4.434Zm.925.926c.043.083.127.288.177.902.052.643.054 1.49.054 2.821h4.977c0-1.248.002-2.334-.07-3.227-.076-.922-.243-1.854-.703-2.756l-4.434 2.26Zm.231 3.723v5.988h4.977v-5.988h-4.977Zm0 5.988c0 1.33-.002 2.178-.054 2.821-.05.614-.134.82-.177.902l4.435 2.26c.46-.902.627-1.834.702-2.756.073-.893.071-1.979.071-3.227h-4.977Zm-.23 3.724a2.117 2.117 0 0 1-.926.924l2.26 4.435a7.093 7.093 0 0 0 3.1-3.1l-4.434-2.26Zm-.926.925c-.083.042-.288.126-.902.176-.643.052-1.49.054-2.821.054v4.977c1.248 0 2.334.002 3.227-.07.922-.076 1.854-.243 2.756-.703l-2.26-4.434Zm-3.723.23h-5.988v4.977h5.988v-4.977Zm-5.988 0c-1.33 0-2.178-.002-2.822-.054-.614-.05-.818-.134-.901-.176l-2.26 4.434c.902.46 1.834.627 2.756.702.893.073 1.979.071 3.227.071v-4.977Zm-3.724-.23a2.117 2.117 0 0 1-.925-.925L3.884 25.05a7.094 7.094 0 0 0 3.1 3.1l2.26-4.434Zm-.925-.926c-.042-.083-.126-.288-.176-.902-.052-.643-.054-1.49-.054-2.821H3.11c0 1.248-.002 2.334.07 3.227.076.922.243 1.854.703 2.756l4.434-2.26Zm-.23-3.723v-5.988H3.11v5.988h4.977Zm0-5.988c0-1.33.002-2.178.054-2.821.05-.614.134-.82.176-.902l-4.434-2.26c-.46.902-.627 1.834-.702 2.756-.073.893-.071 1.979-.071 3.227h4.977Zm.23-3.723c.203-.399.527-.723.925-.926L6.984 3.996a7.094 7.094 0 0 0-3.1 3.1l4.434 2.26Zm.926-.926c.083-.042.287-.126.902-.176.643-.052 1.49-.054 2.821-.054V3.223c-1.248 0-2.334-.002-3.227.07-.922.076-1.854.243-2.756.703l2.26 4.434Zm3.723-.23h5.988V3.223h-5.988V8.2Z" mask="url(#path-2-inside-1_4180_38328)"/></g><g filter="url(#filter1_d_4180_38328)"><circle cx="13.5" cy="13.5" r="2.5" fill="#fff"/></g><path d="M7.538 23.26a.467.467 0 0 0 .377.74h17.162a.467.467 0 0 0 .376-.743l-5.205-7.071a1 1 0 0 0-1.654.063l-2.955 4.728a1 1 0 0 1-1.641.08l-1.682-2.194a1 1 0 0 0-1.603.021L7.538 23.26Z" fill="#fff"/></symbol><symbol id="photos-text" viewBox="0 0 554 140"><path d="M.91 137.248V6.039h44.237c29.428 0 47.422 13.87 47.422 41.424 0 27.742-17.994 42.175-47.422 42.175H27.152v47.61H.911ZM27.153 66.02h16.495c14.246 0 22.306-5.81 22.306-18.37 0-12.37-8.06-18.18-22.306-18.18H27.152v36.55Z" fill="url(#paint0_linear_12748_109)"/><path d="M101.909 137.248V.416h25.304v52.858c5.249-10.497 14.808-15.745 29.429-15.745 20.993 0 37.113 15.558 37.113 40.112v59.607H168.45V83.827c0-16.87-8.434-24.18-20.993-24.18-10.684 0-20.244 7.31-20.244 24.18v53.421h-25.304Z" fill="url(#paint1_linear_12748_109)"/><path d="M256.066 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984ZM229.449 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116Z" fill="url(#paint2_linear_12748_109)"/><path d="M350.804 137.248c-19.306 0-29.803-8.998-29.803-30.178V61.334h-13.683V39.778h13.683v-19.68l25.304-2.625v22.305h20.619v21.556h-20.619v44.423c0 6.186 2.999 8.998 7.873 8.998h10.497v22.493h-13.871Z" fill="url(#paint3_linear_12748_109)"/><path d="M420.992 139.684c-30.178 0-51.921-22.868-51.921-50.984 0-28.116 21.743-51.171 51.921-51.171s51.921 23.055 51.921 51.171-21.743 50.984-51.921 50.984ZM394.375 88.7c0 15.183 10.497 27.929 26.617 27.929s26.616-12.746 26.616-27.929c0-15.182-10.496-28.116-26.616-28.116-16.12 0-26.617 12.934-26.617 28.116Z" fill="url(#paint4_linear_12748_109)"/><path d="M515.463 139.684c-16.494 0-29.803-5.623-40.487-17.057l17.057-15.557c7.123 8.06 14.621 11.996 22.868 11.996 8.622 0 13.496-4.311 13.496-10.122 0-5.061-2.437-7.873-17.807-11.434-26.054-6.186-29.991-17.994-29.991-30.365 0-17.057 13.496-29.803 36.364-29.803 15.745 0 26.242 3.936 36.176 16.87L534.77 68.268c-4.686-7.497-10.684-10.496-17.245-10.496-6.935 0-12.183 2.624-12.183 8.622 0 3.374 1.499 6.373 13.12 9.372 28.304 7.31 34.864 17.807 34.864 32.427 0 17.995-16.307 31.49-37.863 31.49Z" fill="url(#paint5_linear_12748_109)"/></symbol><symbol id="share-grey08" viewBox="0 0 16 16">\n  <g fill="#32363F" fill-rule="evenodd" transform="translate(-160 -32)">\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z"/>\n    <path d="M165.082611,42.1593397 C164.543049,42.6798471 163.808912,43 163,43 C161.343146,43 160,41.6568542 160,40 C160,38.3431458 161.343146,37 163,37 C163.808912,37 164.543049,37.3201529 165.082611,37.8406603 L170.022669,35.3706317 C170.007705,35.2491857 170,35.1254927 170,35 C170,33.3431458 171.343146,32 173,32 C174.656854,32 176,33.3431458 176,35 C176,36.6568542 174.656854,38 173,38 C172.191088,38 171.456951,37.6798471 170.917389,37.1593397 L165.977331,39.6293683 C165.992295,39.7508143 166,39.8745073 166,40 C166,40.1254927 165.992295,40.2491857 165.977331,40.3706317 L170.917389,42.8406603 C171.456951,42.3201529 172.191088,42 173,42 C174.656854,42 176,43.3431458 176,45 C176,46.6568542 174.656854,48 173,48 C171.343146,48 170,46.6568542 170,45 C170,44.8745073 170.007705,44.7508143 170.022669,44.6293683 L165.082611,42.1593397 Z"/>\n  </g>\n</symbol><symbol id="store" viewBox="0 0 16 16"><rect width="16" height="16" rx="5.284" fill="url(#paint0_linear_11291_1430)"/><g filter="url(#filter0_d_11291_1430)"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.796 5.66a1.387 1.387 0 0 1-.578 1.64v3.633a2.284 2.284 0 0 1-2.285 2.284H5.14a2.284 2.284 0 0 1-2.284-2.284V7.296a1.387 1.387 0 0 1-.573-1.636l.658-1.877c.195-.556.72-.928 1.309-.928h7.579c.59 0 1.114.372 1.309.928l.658 1.877Zm-3.871.959c-.134.177-.331.266-.59.266a.635.635 0 0 1-.49-.223.758.758 0 0 1-.201-.525v-2.13h1.123l.316 2.015a.786.786 0 0 1-.158.597Zm-2.641.043a.706.706 0 0 1-.54.223c-.22 0-.4-.086-.54-.259a.73.73 0 0 1-.15-.604l.316-2.015h1.123v2.13c0 .201-.07.376-.209.525Zm-2.648.036a.633.633 0 0 1-.453.187c-.279 0-.478-.11-.598-.33-.12-.221-.15-.428-.093-.62l.576-1.928H5.19l-.317 2.216a.804.804 0 0 1-.237.475Zm7.923-.144c-.125.22-.327.331-.605.331a.633.633 0 0 1-.453-.187.804.804 0 0 1-.238-.475l-.316-2.216h1.093l.605 1.928c.067.192.038.399-.086.62Z" fill="#fff"/></g></symbol><symbol id="store-text" viewBox="0 0 440 138"><path d="M51.78 137.863c-21.07 0-39.294-8.352-50.874-28.664l22.97-14.617c6.834 13.668 17.844 19.553 29.423 19.553 12.34 0 19.933-6.075 19.933-15.187 0-13.288-14.048-17.464-30.373-21.64-20.502-5.316-33.6-17.275-33.6-37.397C9.259 15.992 28.052.237 56.147.237c20.691 0 33.98 9.111 43.85 24.678L77.219 38.962c-6.454-10.25-12.529-14.997-22.4-14.997-10.63 0-18.413 5.695-18.413 14.617 0 9.871 9.491 13.099 21.07 16.705 15.567 4.936 42.902 11.77 42.902 42.143 0 24.108-18.413 40.433-48.596 40.433Z" fill="url(#paint0_linear_59617_306)"/><path d="M147.626 135.396c-19.553 0-30.183-9.112-30.183-30.563V58.514h-13.858v-21.83h13.858V16.752l25.627-2.658v22.59h20.881v21.83H143.07v44.99c0 6.265 3.037 9.112 7.973 9.112h10.63v22.78h-14.047Z" fill="url(#paint1_linear_59617_306)"/><path d="M218.708 137.863c-30.562 0-52.583-23.159-52.583-51.633 0-28.475 22.021-51.824 52.583-51.824 30.563 0 52.583 23.35 52.583 51.824 0 28.474-22.02 51.633-52.583 51.633ZM191.752 86.23c0 15.376 10.631 28.284 26.956 28.284 16.326 0 26.956-12.908 26.956-28.284 0-15.377-10.63-28.475-26.956-28.475-16.325 0-26.956 13.098-26.956 28.475Z" fill="url(#paint2_linear_59617_306)"/><path d="M282.634 135.396V36.684h24.867v18.793c3.417-14.237 13.478-22.02 30.563-21.071v24.108h-3.607c-14.807 0-26.196 9.872-26.196 26.387v50.495h-25.627Z" fill="url(#paint3_linear_59617_306)"/><path d="M389.038 137.863c-30.563 0-51.064-23.159-51.064-51.633 0-28.475 21.45-52.014 51.064-52.014 29.613 0 50.115 23.54 50.115 52.014 0 2.847-.19 5.884-.759 9.111H364.55c2.847 11.58 11.579 19.743 24.488 19.743 11.01 0 19.552-5.695 24.108-13.288l19.932 14.996c-7.972 12.339-24.488 21.071-44.04 21.071ZM364.55 76.169h48.786c-2.847-11.01-12.149-19.932-24.678-19.932-12.149 0-21.261 8.162-24.108 19.932Z" fill="url(#paint4_linear_59617_306)"/></symbol><symbol id="top-select" viewBox="0 0 16 11"><path d="M8 4.108 2.404 9.704c-.263.263-.598.395-1.005.395-.406 0-.741-.132-1.004-.395S0 9.106 0 8.699c0-.406.132-.74.395-1.004l6.6-6.6c.144-.144.3-.246.467-.306C7.629.73 7.809.7 8 .7c.191 0 .37.03.538.09.168.06.323.162.466.305l6.601 6.601c.263.263.395.598.395 1.004 0 .407-.132.742-.395 1.005-.263.263-.598.395-1.004.395-.407 0-.742-.132-1.005-.395L8 4.108Z"/></symbol><symbol id="trash-duotone" viewBox="0 0 13 16"><path d="M1.111 14.222c0 .978.8 1.778 1.778 1.778h7.11c.979 0 1.779-.8 1.779-1.778V3.556H1.11v10.666ZM2.89 5.333h7.11v8.89H2.89v-8.89ZM9.556.89 8.665 0H4.223l-.889.889H.223v1.778h12.444V.889H9.556Z"/></symbol><symbol id="twake-text" viewBox="0 0 86 23"><path d="M6.495 5.381H.635V1.69h15.822v3.692h-5.86V22.2H6.495V5.38Z"/><path d="M13.606 6.963h4.63l1.963 8.644c.215.88.37 1.65.469 2.315.136-.84.302-1.621.498-2.344l2.227-8.615h4.541l2.374 8.615c.195.723.36 1.504.498 2.344.097-.664.254-1.436.468-2.315l2.11-8.644h4.307L32.945 22.2h-4.278l-2.49-8.673a13.054 13.054 0 0 1-.528-2.286c-.137.899-.293 1.66-.47 2.286L22.896 22.2h-4.542L13.606 6.963ZM44.766 22.58a7.12 7.12 0 0 1-3.78-1.054 8.014 8.014 0 0 1-2.754-2.9c-.664-1.212-.997-2.54-.997-3.986 0-1.445.333-2.774.997-3.985.683-1.23 1.601-2.207 2.754-2.93a6.977 6.977 0 0 1 3.78-1.084c1.25 0 2.256.234 3.018.703.781.47 1.387 1.143 1.816 2.022V6.963h3.927V22.2h-3.839v-2.49c-.449.917-1.064 1.63-1.846 2.138-.761.489-1.787.733-3.076.733Zm-3.575-7.97c0 .782.176 1.515.527 2.198.372.665.87 1.202 1.495 1.612.644.39 1.377.586 2.197.586.84 0 1.583-.195 2.227-.586a3.955 3.955 0 0 0 1.524-1.582 4.623 4.623 0 0 0 .527-2.198c0-.8-.176-1.533-.527-2.197a3.907 3.907 0 0 0-1.524-1.612c-.644-.41-1.387-.615-2.227-.615-.82 0-1.553.205-2.197.615a4.014 4.014 0 0 0-1.495 1.582 4.624 4.624 0 0 0-.527 2.198ZM59.833 14.963V22.2h-3.956V.81h3.956v12.306l5.713-6.153h5.626l-7.179 7.091 7.208 8.146h-5.245l-6.123-7.237Z"/><path d="M77.594 22.58c-1.543 0-2.91-.35-4.102-1.054a7.632 7.632 0 0 1-2.783-2.9c-.665-1.212-.997-2.55-.997-4.015a8.13 8.13 0 0 1 1.026-4.014 7.792 7.792 0 0 1 2.813-2.93c1.21-.723 2.559-1.085 4.043-1.085 1.485 0 2.813.362 3.985 1.085a7.362 7.362 0 0 1 2.755 2.93c.664 1.21.996 2.549.996 4.014 0 .488-.04.957-.117 1.406H73.815c.234.918.673 1.66 1.318 2.227.664.547 1.485.82 2.461.82.82 0 1.553-.185 2.198-.556a4.465 4.465 0 0 0 1.523-1.494l3.077 2.314c-.625.977-1.543 1.768-2.754 2.374-1.211.586-2.56.879-4.044.879Zm3.75-9.522a4.28 4.28 0 0 0-1.376-2.198c-.684-.586-1.495-.879-2.432-.879-.918 0-1.72.284-2.403.85-.664.567-1.104 1.309-1.319 2.227h7.53Z"/></symbol><symbol id="twake-workplace" viewBox="0 0 22 22"><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint0_linear_1573_14803)"/><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint1_linear_1573_14803)"/><rect x=".498" y=".495" width="21.51" height="21.51" rx="6.563" fill="url(#paint2_linear_1573_14803)"/><path d="M11.281 3.7c.008.006.017.01.027.012l.014.002a.405.405 0 0 1 .156.05c.015.007.03.016.044.024l1.068.605 1.25.707.906.512.056.032a.487.487 0 0 1 .229.363l.002.1v3.145a.489.489 0 0 1-.71.401c-.017-.008-.034-.018-.05-.027l-1.606-.909-1.138-.642-.056-.032a.542.542 0 0 0-.178-.051h-.058a.462.462 0 0 0-.213.053c-.02.01-.038.021-.056.032l-1.215.696-1.458.835a3.52 3.52 0 0 1-.063.036.533.533 0 0 1-.176.058l-.07.002a.433.433 0 0 1-.195-.046.48.48 0 0 1-.283-.433V6.05a.483.483 0 0 1 .224-.404l.05-.029.86-.493 1.021-.585 1.033-.59.256-.147.056-.032a.553.553 0 0 1 .107-.044.53.53 0 0 1 .071-.013.048.048 0 0 0 .025-.012l.07-.002Zm-7.514 8.774a.036.036 0 0 0 .026-.032.487.487 0 0 1 .27-.389l.652-.376 1.455-.84.566-.326.063-.036a.49.49 0 0 1 .702.418v3.209a.49.49 0 0 0 .213.394.671.671 0 0 0 .068.04l.62.348 1.278.714.792.442.062.035c.11.064.188.168.22.29a.463.463 0 0 1 .013.192.476.476 0 0 1-.224.35c-.02.013-.042.024-.063.036L8.411 18.08l-.704.386c-.019.01-.036.022-.057.031a.494.494 0 0 1-.48-.016l-.217-.127-2.877-1.692a.533.533 0 0 1-.055-.033.487.487 0 0 1-.219-.306c-.005-.02-.007-.043-.01-.064a.028.028 0 0 0-.018-.02.04.04 0 0 0-.007-.003v-3.763Zm11.207 6.103a.078.078 0 0 0-.017-.012.533.533 0 0 0-.055-.016.47.47 0 0 1-.127-.049l-.069-.04-1.063-.613-1.573-.907-.05-.03a.477.477 0 0 1-.224-.4.477.477 0 0 1 .27-.448l.896-.514 1.21-.692.566-.325.074-.043a.487.487 0 0 0 .227-.35 1.02 1.02 0 0 0 .006-.115v-3.092c0-.024 0-.04.002-.058a.481.481 0 0 1 .356-.43.471.471 0 0 1 .113-.019.492.492 0 0 1 .285.084l.722.415 1.268.733.665.383.062.036a.469.469 0 0 1 .19.218.15.15 0 0 1 .015.048.083.083 0 0 0 .016.032v3.964a.032.032 0 0 0-.015.023.178.178 0 0 1-.017.055.48.48 0 0 1-.18.208.67.67 0 0 1-.062.035l-.978.56-2.18 1.25a.376.376 0 0 1-.055.032.468.468 0 0 1-.127.05.389.389 0 0 0-.048.013.03.03 0 0 0-.016.014h-.087Z" fill="#fff"/></symbol><symbol id="workplace-text" viewBox="0 0 114 22"><path d="M95.23 17.435c-1.728 0-3.166-.574-4.313-1.72-1.132-1.148-1.698-2.562-1.698-4.245 0-1.682.566-3.096 1.698-4.243 1.147-1.147 2.585-1.721 4.313-1.721 1.162 0 2.202.275 3.12.826.933.55 1.659 1.3 2.179 2.248l-1.72.963a3.964 3.964 0 0 0-1.446-1.605c-.612-.398-1.323-.597-2.133-.597-1.178 0-2.141.398-2.89 1.193-.75.795-1.125 1.774-1.125 2.936 0 1.163.375 2.141 1.124 2.937.75.795 1.713 1.193 2.89 1.193.811 0 1.522-.2 2.134-.597a3.963 3.963 0 0 0 1.445-1.606l1.721.964a5.808 5.808 0 0 1-2.18 2.248c-.917.55-1.957.826-3.12.826ZM80.608 17.435c-.887 0-1.644-.16-2.271-.482a3.51 3.51 0 0 1-1.4-1.354 3.962 3.962 0 0 1-.481-1.95c0-1.208.351-2.08 1.055-2.615.719-.535 1.743-.803 3.074-.803h3.946v-.825c0-1.04-.238-1.76-.712-2.157-.458-.397-1.154-.596-2.087-.596-.872 0-1.507.168-1.904.504-.398.322-.62.689-.665 1.102h-2.02a3.1 3.1 0 0 1 .666-1.744c.398-.52.94-.933 1.629-1.239.688-.305 1.491-.458 2.409-.458.963 0 1.797.153 2.5.458.704.291 1.247.757 1.629 1.4.382.627.573 1.46.573 2.5V15.806c.016.474.054.94.115 1.4h-1.766c-.046-.352-.077-.681-.092-.987-.015-.321-.023-.68-.023-1.078-.321.642-.841 1.185-1.56 1.628-.719.444-1.59.666-2.615.666Zm.436-1.836c.642 0 1.223-.114 1.743-.344a2.86 2.86 0 0 0 1.262-1.009c.321-.444.482-.987.482-1.629v-.826h-3.602c-.75 0-1.338.153-1.766.46-.429.29-.643.756-.643 1.399 0 .565.2 1.032.597 1.399.413.367 1.055.55 1.927.55ZM71.618 17.205V0h1.973v17.205h-1.973ZM59.102 22h-1.973V5.735h1.973v1.767c.397-.581.956-1.055 1.674-1.422a5.04 5.04 0 0 1 2.363-.574c1.59 0 2.921.581 3.992 1.743 1.085 1.163 1.629 2.57 1.629 4.221 0 1.652-.544 3.06-1.63 4.221-1.07 1.163-2.4 1.744-3.99 1.744a5.211 5.211 0 0 1-2.364-.55c-.719-.383-1.277-.865-1.674-1.446V22Zm.94-7.57c.734.795 1.667 1.193 2.799 1.193s2.065-.398 2.799-1.193c.734-.796 1.1-1.782 1.1-2.96 0-1.177-.366-2.164-1.1-2.959-.734-.795-1.667-1.193-2.8-1.193-1.13 0-2.064.398-2.798 1.193s-1.1 1.782-1.1 2.96c0 1.177.366 2.163 1.1 2.959ZM52.987 17.205l-6.216-5.735v5.735h-1.973V0h1.973v10.208l5-4.473h2.616l-5.644 5.07 6.905 6.4h-2.66ZM36.166 17.205V5.735h1.973V7.96a3.135 3.135 0 0 1 1.238-1.698c.627-.428 1.285-.642 1.973-.642.337 0 .635.03.895.092v2.041c-.275-.122-.635-.183-1.078-.183-.796 0-1.499.344-2.11 1.032-.613.688-.918 1.66-.918 2.914v5.689h-1.973ZM27.386 17.435c-1.728 0-3.165-.574-4.312-1.72-1.132-1.163-1.698-2.578-1.698-4.245 0-1.667.566-3.074 1.698-4.22 1.147-1.163 2.584-1.744 4.312-1.744 1.713 0 3.136.581 4.267 1.743 1.147 1.147 1.72 2.554 1.72 4.221 0 1.667-.573 3.082-1.72 4.244-1.131 1.147-2.554 1.72-4.267 1.72Zm-2.89-3.028c.75.795 1.713 1.193 2.89 1.193 1.178 0 2.134-.398 2.868-1.193.734-.796 1.101-1.774 1.101-2.937 0-1.162-.367-2.14-1.101-2.936-.734-.795-1.69-1.193-2.868-1.193-1.177 0-2.14.398-2.89 1.193-.734.795-1.101 1.774-1.101 2.936 0 1.163.367 2.141 1.1 2.937ZM14.315 17.205 10.323 6.148 6.354 17.205H4.45L0 .917h2.225l3.395 12.71L10.323.641l4.703 12.984L18.444.917h2.225l-4.45 16.288h-1.904ZM108.109 17.435c-1.759 0-3.189-.566-4.29-1.698-1.101-1.131-1.652-2.554-1.652-4.267 0-1.697.559-3.112 1.675-4.243 1.116-1.147 2.546-1.721 4.29-1.721 1.544 0 2.837.52 3.877 1.56 1.055 1.025 1.583 2.424 1.583 4.198 0 .23-.008.428-.023.596h-9.406c.031 1.071.413 1.966 1.147 2.684.75.72 1.69 1.079 2.822 1.079 1.606 0 2.798-.666 3.578-1.996l1.56 1.078c-1.116 1.82-2.837 2.73-5.161 2.73Zm-3.808-7.18h7.272c-.153-.918-.558-1.644-1.216-2.18-.642-.55-1.407-.826-2.294-.826-.902 0-1.713.276-2.432.826-.703.536-1.147 1.262-1.33 2.18Z" fill="#97A3B7"/></symbol><symbol id="album-add" viewBox="0 0 16 16"><path d="M1.6 3.2H0v11.2c0 .88.72 1.6 1.6 1.6h11.2v-1.6H1.6V3.2ZM14.4 0H4.8c-.88 0-1.6.72-1.6 1.6v9.6c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6Zm0 11.2H4.8V1.6h9.6v9.6ZM8.8 9.6h1.6V7.2h2.4V5.6h-2.4V3.2H8.8v2.4H6.4v1.6h2.4v2.4Z"/></symbol><symbol id="album-remove" viewBox="0 0 16 3"><path d="M16 2.286H0V0h16v2.286Z"/></symbol><symbol id="album" viewBox="0 0 16 16"><path d="M12.2 0H2.6C1.72 0 1 .72 1 1.6v12.8c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6Zm0 14.4H2.6V1.6h4v5.6l2-1.2 2 1.2V1.6h1.6v12.8ZM8.696 9.2l2.704 3.6h-8l1.904-2.536L6.6 12l2.096-2.8Z"/></symbol><symbol id="answer" viewBox="0 0 16 13"><path d="M3.114 6.594 5.75 9.231a.833.833 0 0 1 .261.636.915.915 0 0 1-.284.636.959.959 0 0 1-.636.262.833.833 0 0 1-.636-.262L.273 6.321A.872.872 0 0 1 0 5.685c0-.242.09-.454.273-.636L4.455.867a.848.848 0 0 1 .625-.25c.25 0 .465.083.647.25A.885.885 0 0 1 6 1.515c0 .25-.09.466-.273.647L3.114 4.776h8.34c1.258 0 2.33.443 3.216 1.33.887.886 1.33 1.958 1.33 3.215v2.728a.88.88 0 0 1-.261.648.88.88 0 0 1-.648.26.88.88 0 0 1-.648-.26.88.88 0 0 1-.261-.648V9.32a2.63 2.63 0 0 0-.796-1.931 2.63 2.63 0 0 0-1.931-.796H3.114Z"/></symbol><symbol id="apple" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M11.88 8.5c.023 2.422 2.125 3.227 2.148 3.238-.018.056-.336 1.148-1.107 2.275-.667.975-1.36 1.946-2.45 1.966-1.07.02-1.415-.635-2.64-.635s-1.607.615-2.622.655c-1.052.04-1.853-1.054-2.526-2.025C1.31 11.987.26 8.36 1.67 5.912c.7-1.215 1.952-1.985 3.31-2.005 1.034-.02 2.01.695 2.641.695.632 0 1.817-.86 3.063-.733.522.022 1.986.21 2.927 1.587-.076.047-1.748 1.02-1.73 3.044M9.868 2.555c.559-.677.935-1.618.832-2.555-.805.032-1.779.537-2.357 1.213-.517.598-.97 1.556-.848 2.475.897.069 1.814-.457 2.373-1.133"/>\n</symbol><symbol id="archive" viewBox="0 0 16 16"><path d="M15.591 1.982 14.356.49A1.29 1.29 0 0 0 13.333 0H2.667a1.32 1.32 0 0 0-1.031.489L.409 1.982A1.74 1.74 0 0 0 0 3.112v11.11C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V3.112a1.74 1.74 0 0 0-.409-1.13ZM2.88 1.778h10.24l.72.862H2.169l.711-.862ZM1.778 14.222V4.444h12.444v9.778H1.778Zm7.51-8H6.712V8.89H4.444L8 12.444l3.556-3.555H9.289V6.222Z"/></symbol><symbol id="arrow-up" viewBox="0 0 17 17"><path d="M7.56 4.28 2.528 9.314a.941.941 0 0 1-.719.295 1.034 1.034 0 0 1-.719-.32 1.084 1.084 0 0 1-.295-.72.941.941 0 0 1 .295-.719l6.78-6.78a.901.901 0 0 1 .334-.218c.12-.043.248-.064.385-.064s.266.021.385.064c.12.043.232.115.334.218l6.78 6.78a.958.958 0 0 1 .283.706c0 .283-.094.527-.283.732a1 1 0 0 1-.732.309 1 1 0 0 1-.732-.309L9.616 4.28v11.48a.994.994 0 0 1-.295.732.994.994 0 0 1-.732.296.994.994 0 0 1-.732-.296.994.994 0 0 1-.295-.732V4.28Z"/></symbol><symbol id="assign-admin"><path d="M11.2 10.896a.896.896 0 1 0 0-1.792.896.896 0 0 0 0 1.792Z"/><path fill-rule="evenodd" d="M11.2 11.6c-.584 0-1.752.288-1.792.864a2.19 2.19 0 0 0 1.792.936 2.19 2.19 0 0 0 1.792-.936c-.04-.576-1.208-.864-1.792-.864Z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 6.472V2.616L6 0 0 2.616v3.928c0 3.632 2.56 7.032 6 7.856.44-.104.864-.256 1.28-.44A4.778 4.778 0 0 0 11.2 16c2.648 0 4.8-2.152 4.8-4.8a4.798 4.798 0 0 0-4-4.728ZM6.4 11.2c0 .448.064.888.184 1.296a5.27 5.27 0 0 1-.584.24c-2.536-.8-4.4-3.392-4.4-6.192v-2.88L6 1.744l4.4 1.92v2.808a4.798 4.798 0 0 0-4 4.728Zm4.8 3.2a3.2 3.2 0 1 1 0-6.4 3.2 3.2 0 1 1 0 6.4Z" clip-rule="evenodd"/></symbol><symbol id="assign-moderator"><path d="M1.6 7.272v-3.76l4.8-1.8 4.8 1.8v2.952c.568.08 1.104.248 1.6.48V2.4L6.4 0 0 2.4v4.872C0 11.312 2.728 15.08 6.4 16c.024-.008.04-.016.064-.016a5.658 5.658 0 0 1-1.4-2.272C3.008 12.424 1.6 9.936 1.6 7.272Z"/><path d="M10.4 8c-2.208 0-4 1.792-4 4s1.792 4 4 4 4-1.792 4-4-1.792-4-4-4Zm2.4 4.4h-2v2H10v-2H8v-.8h2v-2h.8v2h2v.8Z"/></symbol><symbol id="attachment" viewBox="0 0 9 16"><path d="M7.41 3.636V12a2.908 2.908 0 1 1-5.82 0V2.91a1.819 1.819 0 0 1 3.637 0v7.636a.73.73 0 0 1-.727.727.73.73 0 0 1-.727-.727v-6.91H2.682v6.91a1.819 1.819 0 0 0 3.636 0V2.909a2.908 2.908 0 1 0-5.818 0V12c0 2.21 1.79 4 4 4s4-1.79 4-4V3.636H7.41Z"/></symbol><symbol id="attention" viewBox="0 0 22 19"><path d="M11 3.99 18.53 17H3.47L11 3.99ZM11 0 0 19h22L11 0Zm1 14h-2v2h2v-2Zm0-6h-2v4h2V8Z"/></symbol><symbol id="bank-check" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h12Zm0 3H2v7h12V5Zm-2 1v1h-.5a1.5 1.5 0 0 0-1.415 1H12v1h-1.914c.19.54.68.937 1.27.993L11.5 10h.5v1h-.5a2.5 2.5 0 0 1-.164-4.995L11.5 6h.5ZM8 9v1H4V9h4Zm0-2v1H4V7h4Z"/></symbol><symbol id="banking-add" viewBox="0 0 16 14"><path d="M13.09.455H1.456C.647.455.007 1.102.007 1.909L0 10.636a1.45 1.45 0 0 0 1.455 1.455h7.272v-1.455H1.455V6.273h13.09V1.909A1.45 1.45 0 0 0 13.091.455Zm0 2.909H1.456V1.909H13.09v1.455ZM16 9.909v1.455h-2.182v2.181h-1.454v-2.181h-2.182V9.909h2.182V7.727h1.454V9.91H16Z"/></symbol><symbol id="banking" viewBox="0 0 16 13"><path d="M14.4 0H1.6C.712 0 .008.712.008 1.6L0 11.2c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V1.6c0-.888-.712-1.6-1.6-1.6Zm0 11.2H1.6V6.4h12.8v4.8Zm0-8H1.6V1.6h12.8v1.6Z"/></symbol><symbol id="bank" viewBox="0 0 17 16"><path d="M4.5 7.2H2.9v5.6h1.6V7.2Zm4.8 0H7.7v5.6h1.6V7.2Zm6.8 7.2H.9V16h15.2v-1.6Zm-2-7.2h-1.6v5.6h1.6V7.2ZM8.5 1.808 12.668 4H4.332L8.5 1.808ZM8.5 0 .9 4v1.6h15.2V4L8.5 0Z"/></symbol><symbol id="bell" viewBox="0 0 14 16"><path d="M1.4 13.6a.774.774 0 0 1-.57-.23.774.774 0 0 1-.23-.57c0-.227.077-.417.23-.57A.774.774 0 0 1 1.4 12h.8V6.4c0-1.107.333-2.09 1-2.95a4.614 4.614 0 0 1 2.6-1.69V1.2c0-.333.117-.617.35-.85C6.383.117 6.667 0 7 0c.333 0 .617.117.85.35.233.233.35.517.35.85v.56a4.614 4.614 0 0 1 2.6 1.69c.667.86 1 1.843 1 2.95V12h.8c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 0 1-.23.57.774.774 0 0 1-.57.23H1.4ZM7 16a1.54 1.54 0 0 1-1.13-.47 1.54 1.54 0 0 1-.47-1.13h3.2c0 .44-.157.817-.47 1.13A1.54 1.54 0 0 1 7 16Zm-3.2-4h6.4V6.4a3.08 3.08 0 0 0-.94-2.26A3.081 3.081 0 0 0 7 3.2a3.08 3.08 0 0 0-2.26.94A3.081 3.081 0 0 0 3.8 6.4V12Z"/></symbol><symbol id="benefit" viewBox="0 0 16 12"><path d="M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454Zm-1.454 0H1.455V1.455h10.181v5.818Zm-5.09-5.091a2.179 2.179 0 0 0-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182Zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16Z"/></symbol><symbol id="bike" viewBox="0 0 16 14"><path d="M10.333 2.667c.734 0 1.334-.6 1.334-1.334C11.667.6 11.067 0 10.333 0 9.6 0 9 .6 9 1.333c0 .734.6 1.334 1.333 1.334ZM3.333 7A3.3 3.3 0 0 0 0 10.333a3.301 3.301 0 0 0 3.333 3.334 3.301 3.301 0 0 0 3.334-3.334A3.301 3.301 0 0 0 3.333 7Zm0 5.667C2.067 12.667 1 11.6 1 10.333 1 9.067 2.067 8 3.333 8 4.6 8 5.667 9.067 5.667 10.333c0 1.267-1.067 2.334-2.334 2.334ZM7.2 6l1.6-1.6.533.533c.867.867 2 1.4 3.4 1.4V5c-1 0-1.8-.4-2.4-1L9.067 2.733c-.334-.266-.667-.4-1.067-.4-.4 0-.733.134-.933.4L5.2 4.6c-.267.267-.4.6-.4.933 0 .4.133.734.4.934l2.133 1.866v3.334h1.334V7.533L7.2 6Zm5.467 1a3.301 3.301 0 0 0-3.334 3.333 3.301 3.301 0 0 0 3.334 3.334A3.301 3.301 0 0 0 16 10.333 3.301 3.301 0 0 0 12.667 7Zm0 5.667c-1.267 0-2.334-1.067-2.334-2.334C10.333 9.067 11.4 8 12.667 8 13.933 8 15 9.067 15 10.333c0 1.267-1.067 2.334-2.333 2.334Z"/></symbol><symbol id="bill" viewBox="0 0 16 16"><path d="M14 1.2 12.8 0l-1.2 1.2L10.4 0 9.2 1.2 8 0 6.8 1.2 5.6 0 4.4 1.2 3.2 0 2 1.2.8 0v16L2 14.8 3.2 16l1.2-1.2L5.6 16l1.2-1.2L8 16l1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2 1.2-1.2 1.2 1.2V0L14 1.2Zm-.4 12.472H2.4V2.328h11.2v11.344ZM3.2 10.4h9.6V12H3.2v-1.6Zm0-3.2h9.6v1.6H3.2V7.2Zm0-3.2h9.6v1.6H3.2V4Z"/></symbol><symbol id="bottom" viewBox="0 0 16 16"><path d="M4.175 5 8 8.817 11.825 5 13 6.175l-5 5-5-5L4.175 5Z"/></symbol><symbol id="browser-brave" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M14.808 5.161l-.314 1.212-1.435 5.491a2.805 2.805 0 0 1-1.079 1.569s-1.536 1.09-3.482 2.365c-.154.101-.313.17-.483.17-.17 0-.33-.069-.484-.17a124.63 124.63 0 0 1-3.482-2.36 2.788 2.788 0 0 1-1.084-1.568L1.519 6.379 1.2 5.172l.489-1.334-.356-.797a.214.214 0 0 1 .048-.234l.946-.957c.41-.42 1.02-.564 1.573-.367l.255.09L5.575.021 7.999 0h.016l2.408.016 1.424 1.541.26-.09a1.507 1.507 0 0 1 1.563.362l.93.94a.27.27 0 0 1 .054.293l-.34.765.494 1.334zM8.323 9.823a.648.648 0 0 0-.154-.048h-.17a.648.648 0 0 0-.154.048l-.692.287c-.063.027-.17.075-.233.107l-1.042.542c-.064.032-.07.09-.01.133l.919.648c.058.043.149.112.202.16l.409.35.191.17.394.352a.146.146 0 0 0 .191 0l.404-.351.191-.17.41-.357c.053-.047.143-.117.202-.159l.92-.654c.058-.042.052-.1-.011-.133l-1.042-.531a4.547 4.547 0 0 0-.234-.107l-.691-.287zm4.987-4.425c.02-.069.02-.095.02-.095 0-.07-.004-.186-.015-.255l-.053-.155a1.86 1.86 0 0 0-.128-.223l-.6-.888a2.608 2.608 0 0 0-.155-.207l-.776-.973c-.042-.053-.085-.1-.09-.095h-.01l-.128.021-1.186.234c-.069.016-.18.037-.25.048l-.02.005a.662.662 0 0 1-.25-.016l-.995-.319a5.863 5.863 0 0 0-.244-.069s-.202-.048-.367-.043c-.165 0-.367.043-.367.043-.069.016-.18.048-.244.07l-.994.318a.662.662 0 0 1-.25.016l-.021-.005c-.07-.01-.181-.038-.25-.048L4.74 2.539a1.062 1.062 0 0 0-.128-.022h-.01a.532.532 0 0 0-.09.096l-.777.973c-.042.053-.111.149-.154.207l-.6.888a3.04 3.04 0 0 0-.128.223l-.053.154c-.01.07-.022.186-.016.255 0 0 0 .022.021.096a.858.858 0 0 0 .128.245c.042.053.122.143.17.19l1.76 1.872a.22.22 0 0 1 .036.213l-.366.866a.368.368 0 0 0-.006.24l.101.27c.085.229.229.43.42.585l.356.287a.218.218 0 0 0 .213.027l1.127-.537c.064-.032.16-.096.213-.144l.807-.728a.286.286 0 0 0 .016-.404L6.086 7.248a.148.148 0 0 1-.048-.186l.744-1.403a.31.31 0 0 0 .01-.229l-.09-.207a.365.365 0 0 0-.17-.165L4.348 4.24c-.064-.027-.064-.054.005-.059l1.409-.133c.069-.005.18.006.25.021l1.254.351c.069.022.111.09.1.16l-.435 2.386c-.01.07-.01.165.005.218.016.054.085.101.154.117l.872.186c.07.016.18.016.25 0l.813-.186c.07-.016.138-.069.154-.117a.493.493 0 0 0 .006-.218l-.43-2.386c-.011-.07.031-.144.1-.16l1.255-.35c.069-.022.18-.027.25-.022l1.408.133c.07.005.075.032.005.059l-2.184.829a.342.342 0 0 0-.17.165l-.09.207c-.027.064-.027.17.01.228l.75 1.404a.15.15 0 0 1-.048.186L8.345 8.407a.281.281 0 0 0 .016.404l.808.728a.912.912 0 0 0 .212.138l1.133.537c.063.032.16.016.212-.026l.356-.293c.192-.154.335-.356.415-.584l.101-.271a.369.369 0 0 0-.005-.24l-.367-.866a.22.22 0 0 1 .037-.213l1.76-1.87.17-.192c-.01-.016.085-.133.117-.26z"/>\n</symbol><symbol id="browser-chrome" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4.036 6.978l-2.29-3.966A7.985 7.985 0 0 1 8 .001a7.996 7.996 0 0 1 6.883 3.921H8.356a4.101 4.101 0 0 0-4.32 3.055zm6.828-1.9h4.585a8 8 0 0 1-7.359 10.92l3.273-5.665a4.081 4.081 0 0 0-.498-5.254zm-5.77 2.923A2.91 2.91 0 0 1 8 5.094a2.91 2.91 0 0 1 2.906 2.907A2.91 2.91 0 0 1 8 10.907 2.91 2.91 0 0 1 5.094 8zm4.003 3.944l-2.29 3.967a8.002 8.002 0 0 1-5.78-11.834l3.266 5.657a4.099 4.099 0 0 0 4.804 2.21z"/>\n</symbol><symbol id="browser-duckduckgo" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8 .013a8 8 0 0 1 1.942 15.761l-.223-.43a18.303 18.303 0 0 1-.7-.256.164.164 0 0 1-.053.068.491.491 0 0 1-.06.034c-.016.063-.041.11-.078.134-.216.144-.828.216-1.152.144a.295.295 0 0 1-.13-.06c-.552.306-1.346.714-1.507.622-.252-.144-.291-2.184-.252-2.521.04-.337.263-.486.317-.501a.102.102 0 0 0-.053.086c-.036.468 0 2.376.252 2.52.161.093.954-.315 1.506-.621a.295.295 0 0 0 .131.06c.324.072.936 0 1.152-.144.036-.024.061-.072.078-.135a.495.495 0 0 0 .06-.033.164.164 0 0 0 .054-.068 23.637 23.637 0 0 0 .287.109l.024.009.004.002.022.008.007.002a28.042 28.042 0 0 0 .03.011l.019.007.01.004.019.006.011.005.018.006.013.005.017.006.013.004.017.007.013.004.018.006.014.005.016.006.015.005.016.006a9.84 9.84 0 0 1 .03.01l.016.006.029.01.017.006.014.004.018.006.014.005.017.006.014.004.017.006.014.005.017.005.014.005.018.006.013.004.018.005.014.005.017.005a4.139 4.139 0 0 1 .03.01l.014.004.018.006.012.004.019.005.012.004.02.006.01.003.025.007.004.002.03.008.005.002.024.006.01.003.019.005.01.003.018.005.011.003.017.005c.004 0 .007.002.011.003.006 0 .011.002.017.004a4.868 4.868 0 0 0 .115.027l.015.004a1.763 1.763 0 0 0 .025.005l.01.001.016.004.007.001a2 2 0 0 0 .02.004h.003l.022.004h.005l.016.003h.007l.014.003h.007l.013.002h.008l.01.002h.009a.515.515 0 0 0 .018.001h.01a.38.38 0 0 0 .016.001h.03l.006-.001.008-.001h.006l.007-.002h.005l.008-.003h.003a.071.071 0 0 0 .022-.009l.001-.001a.09.09 0 0 0 .01-.008l.002-.001a.122.122 0 0 0 .021-.024.338.338 0 0 0 .04-.077c.183-.488.094-2.305-.193-2.37-.259-.058-1.25.641-1.641.926a1.18 1.18 0 0 0-.042-.144c-.027-.068-.224-.09-.457-.073-.468-1.098-.832-2.39-.625-3.295l.002.002c.273.19 2.094.804 2.997.787.904-.017 2.39-.571 2.226-1.015-.162-.443-1.637.392-3.175.25-1.139-.107-1.34-.617-1.088-.99.317-.468.895.09 1.848-.196.955-.285 2.29-.794 2.785-1.071 1.145-.638-.48-.903-.863-.726-.363.168-1.63.487-2.216.629.33-1.16-.462-3.18-1.345-4.063-.288-.288-.731-.47-1.23-.565-.192-.263-.502-.515-.94-.748a4.42 4.42 0 0 0-2.76-.449c-.135.018-.208.067-.31.084.113.01.542.21.811.32-.131.05-.311.08-.452.138a.661.661 0 0 0-.162.046c-.132.06-.231.288-.23.395.643-.065 1.596-.02 2.292.188-.493.069-.946.197-1.274.37a2.438 2.438 0 0 0-.047.025c-.037.015-.072.03-.103.047-1.05.553-1.513 1.844-1.237 3.391.26 1.448 1.344 6.493 1.797 8.668A8.003 8.003 0 0 1 0 8.013a8 8 0 0 1 8-8zM5.077 5.132c-.425.267-.409.54-.409.54s-.226-.503.376-.75c.602-.246.896.14.896.14s-.438-.197-.863.07zm.805 1.419a.15.15 0 1 0 .3 0 .15.15 0 1 0-.3 0zm-.107.774a.58.58 0 0 1 0-1.16v-.001a.58.58 0 0 1 0 1.16zm4.101-1.22a.13.13 0 1 0 .003.26c.071-.001.128-.06.127-.13a.129.129 0 0 0-.13-.13zm-.721.296a.5.5 0 1 1 0 .001zm.328-1.749c.347.058.47.37.47.37s-.314-.179-.558-.176c-.5.007-.638.228-.638.228s.085-.528.726-.422z"/>\n</symbol><symbol id="browser-edge-chromium" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M13.4967 10.1297C11.9007 10.5367 10.834 10.403 10.1674 10.173C9.93103 10.0932 9.73878 9.91834 9.637 9.69061C9.53522 9.46288 9.53318 9.20299 9.63136 8.97369C10.0067 8.07802 10.2684 6.40502 8.18802 4.75536C8.18709 4.75477 8.18619 4.75398 8.18531 4.7532C8.18368 4.75176 8.18209 4.75036 8.18036 4.75036C4.49602 2.43436 1.52736 4.45569 0.794024 5.04236C0.770077 5.0613 0.736554 5.06235 0.71147 5.04494C0.686386 5.02752 0.675647 4.99575 0.685024 4.96669C1.01569 3.95236 2.74602 -0.15831 9.05102 0.0293567C13.598 0.164357 16.196 4.30269 15.744 7.38402C15.5937 8.41069 14.885 9.59136 13.5064 10.1267C13.5047 10.1274 13.5031 10.128 13.5014 10.1285C13.4998 10.129 13.4983 10.1294 13.4967 10.1297ZM8.34102 6.62836C8.74669 6.71436 6.36169 4.73436 3.42536 5.18036C2.40436 5.33536 0.0543578 6.22102 0.251691 9.38036C0.605024 15.049 5.20402 15.877 6.73669 15.9954C6.81162 16.0014 6.88227 15.9597 6.9131 15.8912C6.94394 15.8226 6.92829 15.742 6.87402 15.69C6.76117 15.5819 6.62131 15.4624 6.46538 15.3291L6.46537 15.3291C5.49338 14.4984 3.89724 13.1342 4.32869 10.6797C4.78102 8.10836 6.62636 6.26669 8.34102 6.62836ZM9.93669 15.7797C7.98736 15.883 6.15402 14.4864 5.65936 12.5334C5.32447 11.2105 5.52325 9.97369 6.25569 8.82302C6.26451 8.80935 6.27273 8.7935 6.28121 8.77717C6.31408 8.71382 6.35072 8.64322 6.44002 8.66469C6.50151 8.67967 6.50417 8.74249 6.50662 8.80043C6.50728 8.81599 6.50793 8.83119 6.50969 8.84502C6.70502 10.3297 7.55202 11.3634 8.83802 12.0367C10.6654 12.9934 12.5227 12.946 14.3714 12.0597C14.4048 12.0437 14.4388 12.0243 14.4733 12.0046L14.4733 12.0046C14.6236 11.9188 14.7822 11.8284 14.9357 11.993C15.107 12.1759 14.9866 12.3478 14.8775 12.5034C14.8603 12.5279 14.8434 12.552 14.828 12.5757C13.8414 14.088 12.5737 15.2384 10.757 15.667C10.584 15.708 10.408 15.738 10.2324 15.7644C10.1341 15.7745 10.0354 15.7796 9.93669 15.7797Z"/>\n</symbol><symbol id="browser-edge" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M15.27 7.592c0-1.517-.31-2.831-.928-3.943-.66-1.178-1.534-2.08-2.623-2.708C10.63.313 9.399 0 8.025 0c-.88 0-1.702.128-2.466.383a6.575 6.575 0 0 0-1.994 1.048 7.578 7.578 0 0 0-1.494 1.57 8.157 8.157 0 0 0-1.026 1.936 9.791 9.791 0 0 0-.52 2.14c.36-.517.768-.998 1.22-1.443.458-.45.981-.867 1.57-1.254a8.07 8.07 0 0 1 1.993-.932 8.673 8.673 0 0 1 2.316-.397l.196.011c.131.006.298.032.5.076.201.044.425.106.668.183.245.076.484.198.719.365.234.165.444.364.629.593.184.228.324.53.419.905.096.374.12.79.072 1.248H5.162c.095-.558.231-1.034.41-1.423.179-.389.41-.762.696-1.12-1.255.583-2.222 1.38-2.9 2.392-.677 1.01-1.008 2.235-.99 3.675.012 1.165.382 2.273 1.111 3.32.729 1.045 1.655 1.786 2.779 2.22.839.321 1.778.479 2.82.473 1.04-.006 1.97-.12 2.787-.34.817-.22 1.5-.493 2.047-.82v-3.363c-.435.303-.95.554-1.548.753-.598.2-1.216.339-1.856.415a7.04 7.04 0 0 1-1.9-.027 5.815 5.815 0 0 1-1.69-.508 2.988 2.988 0 0 1-1.218-1.092c-.313-.486-.471-1.058-.477-1.718H15.27V7.592z"/>\n        <path fill-rule="nonzero" d="M.536 7.144h.029l.007-.05-.036.05z"/>\n    </g>\n</symbol><symbol id="browser-firefox" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M15.79 5.961a.13.13 0 0 0-.14.075l-.178.395c-.067-.519-.193-1.355-.359-1.903a3.664 3.664 0 0 0-.812-1.412.13.13 0 0 0-.22.12l.139.626c-.334-.349-.87-.85-1.4-1.093a9.105 9.105 0 0 0-.37-.168 6.264 6.264 0 0 0-4.164-1.588 6.246 6.246 0 0 0-5.293 2.902 1.16 1.16 0 0 1-.352-.467c-.16-.393-.241-.834-.242-.838a.13.13 0 0 0-.219-.072c-.96.921-.865 2.357-.83 2.682a7.072 7.072 0 0 0-.794 1.048C.134 6.944.006 8.125 0 8.175a.13.13 0 0 0 .225.103l.28-.297c-.03.114-.06.243-.09.388C.29 8.996.328 9.967.33 10.008a.13.13 0 0 0 .249.05l.165-.35c.122.853.59 2.666 2.385 4.337 1.33 1.238 3.179 1.949 5.073 1.949 1.84 0 3.576-.658 5.021-1.902 1.71-1.473 2.347-3.576 2.58-5.08.251-1.625.104-2.885.098-2.937a.13.13 0 0 0-.11-.114zm-2.919.047c.002.003.18.235.218.83.027.445-.065 1.158-.122 1.547l-.349-.404a.13.13 0 0 0-.229.101c.002.01.12 1.017-.08 1.891a2.791 2.791 0 0 1-.369.902l.049-.659a.13.13 0 0 0-.25-.064c-.005.013-.609 1.31-2.262 1.823-.231.07-.474.107-.723.107-.882 0-1.682-.45-2.136-.766l.116.003c.65 0 1.15-.28 1.552-.505.106-.059.206-.115.302-.162.577-.29.846-.315 1.052-.315a.216.216 0 0 0 .22-.166c.064-.251-.238-.7-.611-.904a1.254 1.254 0 0 0-.623-.148c-.381 0-.854.12-1.531.304a1.42 1.42 0 0 1-.365.05c-.415 0-.69-.201-.846-.37-.212-.226-.332-.526-.314-.78.008-.117.053-.236.33-.236.246 0 .52.1.522.102a.13.13 0 0 0 .046.008h.001a.13.13 0 0 0 .13-.151L6.561 6.9c.132-.084.448-.29.751-.51.735-.534.833-.738.755-.893-.104-.212-.379-.246-.696-.286a3.054 3.054 0 0 1-.573-.11c-.388-.129-.643-.463-.701-.545a.784.784 0 0 1 .073-.499c.123-.216.549-.55.702-.662a.13.13 0 0 0-.062-.236c-.013-.001-.404-.04-1.042.171-.52.174-.922.456-1.06.56a3.823 3.823 0 0 0-.332-.045 5.202 5.202 0 0 1 3.909-1.762 5.15 5.15 0 0 1 3.033.973l-.879.147a.13.13 0 0 0-.017.254c.012.003 1.182.373 2.055 1.047.195.152.372.349.529.585.145.313.26.635.34.962l-.294-.229a.131.131 0 0 0-.182.185z"/>\n</symbol><symbol id="browser-ie" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M15.826 8.135a7.08 7.08 0 0 0-.89-3.448c2.417-5.472-2.591-4.67-2.87-4.616a12.737 12.737 0 0 0-2.949.964A7.114 7.114 0 0 0 1.782 6.54C3.563 4.542 4.81 3.736 5.556 3.413c-.119.106-.236.214-.35.323l-.113.108c-.076.073-.151.146-.225.22l-.13.131-.194.2-.134.143a17.71 17.71 0 0 0-.89 1.024l-.139.173-.132.167-.12.159-.136.179c-.032.042-.062.084-.093.127-.281.383-.538.76-.77 1.12l-.002.003c-.06.095-.12.189-.177.282l-.01.015a22.37 22.37 0 0 0-.168.276l-.006.01c-.146.243-.282.479-.404.7-.64 1.16-.952 1.972-.966 2.02-2.022 7.231 4.29 4.177 5.171 3.722a7.114 7.114 0 0 0 9.849-3.998H11.68c-.553.934-1.617 1.566-2.84 1.566-1.792 0-3.244-1.357-3.244-3.032h10.172c.038-.3.058-.606.058-.916zm-1.329-6.998c.613.413 1.104 1.062.26 3.248a7.136 7.136 0 0 0-3.473-2.883c.659-.317 2.288-.99 3.213-.365zM1.482 14.5c-.499-.512-.587-1.758.514-4.028a7.133 7.133 0 0 0 3.097 3.785c-.713.392-2.605 1.275-3.61.243zM5.58 7.106c.056-1.628 1.473-2.93 3.213-2.93s3.157 1.302 3.214 2.93H5.58z"/>\n</symbol><symbol id="browser-opera" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8.617 2.144a5.126 5.126 0 0 1 2.278-.539 5.16 5.16 0 0 1 2.642.737 7.891 7.891 0 0 1 2.298 5.576 7.892 7.892 0 0 1-2.298 5.576 5.16 5.16 0 0 1-2.642.736 5.124 5.124 0 0 1-2.279-.54c2.014-.415 3.559-2.841 3.559-5.772 0-2.932-1.545-5.358-3.558-5.774zM7.54 15.826A7.917 7.917 0 0 1 7.918 0h.03a7.888 7.888 0 0 1 5.247 2.016 5.713 5.713 0 0 0-3.174-.97c-1.885 0-3.574.935-4.71 2.41-.875 1.033-1.442 2.56-1.48 4.275v.373c.038 1.714.605 3.242 1.48 4.275 1.136 1.475 2.825 2.41 4.71 2.41 1.16 0 2.245-.353 3.173-.969a7.89 7.89 0 0 1-5.654 2.006z"/>\n</symbol><symbol id="browser-safari" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8.806 8.806L7.194 7.194l-.807 2.419 2.42-.807zM8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8-8-3.589-8-8 3.589-8 8-8zm0 14.667A6.674 6.674 0 0 0 14.667 8 6.674 6.674 0 0 0 8 1.333 6.674 6.674 0 0 0 1.333 8 6.674 6.674 0 0 0 8 14.667zM4.28 11.72L6.14 6.14l5.58-1.86-1.86 5.58-5.58 1.86z"/>\n</symbol><symbol id="burger" viewBox="0 0 16 10"><path d="M0 8.2v1.6h16V8.2H0Zm0-4v1.6h16V4.2H0Zm0-4v1.6h16V.2H0Z"/></symbol><symbol id="bus" viewBox="0 0 16 19"><path d="M8 0C3.58 0 0 .5 0 4v10c0 .88.39 1.67 1 2.22V18c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V4c0-3.5-3.58-4-8-4Zm5.66 2.99H2.34C2.89 2.46 4.31 2 8 2c3.69 0 5.11.46 5.66.99Zm.34 2V8H2V4.99h12Zm-.34 9.74-.29.27H2.63l-.29-.27A.968.968 0 0 1 2 14v-4h12v4c0 .37-.21.62-.34.73Z"/><path d="M4.5 14a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm7 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></symbol><symbol id="calendar" viewBox="0 0 16 16"><path d="M13.818 1.455h-.727V0h-1.455v1.455H4.364V0H2.909v1.455h-.727c-.8 0-1.455.654-1.455 1.454v11.637c0 .8.655 1.454 1.455 1.454h11.636c.8 0 1.455-.655 1.455-1.454V2.909c0-.8-.655-1.454-1.455-1.454Zm0 13.09H2.182v-8h11.636v8Zm0-9.454H2.182V2.909h11.636v2.182Z"/></symbol><symbol id="camera" viewBox="0 0 16 15"><path d="m9.696 1.6 1.464 1.6h3.24v9.6H1.6V3.2h3.24l1.464-1.6h3.392ZM10.4 0H5.6L4.136 1.6H1.6C.72 1.6 0 2.32 0 3.2v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6h-2.536L10.4 0ZM8 5.6c1.32 0 2.4 1.08 2.4 2.4 0 1.32-1.08 2.4-2.4 2.4-1.32 0-2.4-1.08-2.4-2.4 0-1.32 1.08-2.4 2.4-2.4ZM8 4C5.792 4 4 5.792 4 8s1.792 4 4 4 4-1.792 4-4-1.792-4-4-4Z"/></symbol><symbol id="carbonCopy" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.58 1.38a2.8 2.8 0 0 1 4.83-.02l.1.18.03.06h.07a2.8 2.8 0 0 1 2.93 2.29l.02.17.02.17a2.8 2.8 0 0 1-.36 1.54l-.1.17-.04.06.13.22a2.8 2.8 0 0 1-.6 3.5l-.14.12-.15.1c-.4.26-.85.42-1.32.46v5.3a.3.3 0 0 1-.48.23L8 14l-2.52 1.93a.3.3 0 0 1-.48-.24v-5.3a2.8 2.8 0 0 1-2.53-2.27l-.03-.18-.02-.17a2.8 2.8 0 0 1 .36-1.53l.1-.18.04-.06-.04-.06a2.8 2.8 0 0 1 .5-3.66l.15-.12.15-.1c.45-.3.97-.46 1.5-.47h.2l.08.01.12-.22zm2.78.7a.8.8 0 0 0-1.02.26l-.06.1-.62 1.24-1.4-.08a.8.8 0 0 0-.76 1.14l.05.1L5.32 6l-.77 1.16a.8.8 0 0 0 .62 1.24h.1l1.39-.08.62 1.25a.8.8 0 0 0 .6.43h.25a.8.8 0 0 0 .53-.33l.06-.1.62-1.25 1.4.08a.8.8 0 0 0 .76-1.14l-.05-.1L10.68 6l.77-1.16a.8.8 0 0 0-.62-1.24h-.1l-1.39.08-.62-1.25a.8.8 0 0 0-.36-.36z"/></symbol><symbol id="carpooling" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 10.25v.005-3.297a1.004 1.004 0 0 0-.072-.33l-2-5-.051-.11A1 1 0 0 0 13 1H3l-.121.007a1 1 0 0 0-.807.622l-2 5-.04.119a.99.99 0 0 0-.033.239L0 13.5l.007.145A1.498 1.498 0 0 0 1.5 15c.83 0 1.5-.67 1.5-1.5V13h3.73c.116-.167.242-.332.376-.49.233-.27.602-.648 1.091-.958A4.453 4.453 0 0 1 8 10.25C8 8.13 9.576 6 12 6s4 2.13 4 4.25ZM12 6H2.477l1.2-3h8.647l1.2 3H12ZM3.5 8C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11 5 10.33 5 9.5 4.33 8 3.5 8Z"/><path d="M10 10.25c0 1.243.895 2.25 2 2.25s2-1.007 2-2.25S13.105 8 12 8s-2 1.007-2 2.25ZM10 13c-1 0-2 1.5-2 2s0 1 .5 1h7c.5 0 .5-.5.5-1s-1-2-2-2c-.45 0-.596.101-.757.212-.198.136-.417.288-1.243.288-.826 0-1.045-.152-1.243-.288C10.596 13.101 10.45 13 10 13Z"/></symbol><symbol id="car" viewBox="0 0 16 16"><path d="M14.151 1.787A1.328 1.328 0 0 0 12.89.889H3.11c-.587 0-1.075.373-1.262.898L0 7.11v7.111c0 .49.4.89.889.89h.889c.489 0 .889-.4.889-.89v-.889h10.666v.89c0 .488.4.888.89.888h.888c.489 0 .889-.4.889-.889v-7.11l-1.849-5.325Zm-10.729.88h9.147l.96 2.764H2.462l.96-2.764Zm10.8 8.889H1.778V7.11h12.444v4.445Z"/><path d="M4 10.667A1.333 1.333 0 1 0 4 8a1.333 1.333 0 0 0 0 2.667Zm8 0A1.333 1.333 0 1 0 12 8a1.333 1.333 0 0 0 0 2.667Z"/></symbol><symbol id="categories" viewBox="0 0 17 16"><path d="M8.1 0 3.7 7.2h8.8L8.1 0Zm0 3.072L9.644 5.6H6.548L8.1 3.072ZM12.5 8.8a3.595 3.595 0 0 0-3.6 3.6c0 1.992 1.608 3.6 3.6 3.6s3.6-1.608 3.6-3.6-1.608-3.6-3.6-3.6Zm0 5.6a2 2 0 1 1 .001-4.001A2 2 0 0 1 12.5 14.4ZM.9 15.6h6.4V9.2H.9v6.4Zm1.6-4.8h3.2V14H2.5v-3.2Z"/></symbol><symbol id="certified" viewBox="0 0 16 17"><path d="m16 8.493-1.774-2.03.247-2.683-2.626-.596-1.374-2.32L8 1.925 5.527.864l-1.374 2.32-2.626.589.248 2.69L0 8.494l1.775 2.029-.248 2.69 2.626.597 1.374 2.327L8 15.067l2.473 1.062 1.374-2.32 2.626-.596-.248-2.684L16 8.493Zm-2.873 1.076-.407.473.058.618.131 1.418-1.993.451-.32.538-.72 1.222-1.294-.56L8 13.482l-.575.247-1.294.56-.72-1.215-.32-.538-1.993-.45.131-1.426.058-.618-.407-.473-.938-1.07.938-1.075.407-.473-.065-.626-.131-1.41 1.993-.451.32-.539.72-1.221 1.294.56L8 3.51l.575-.247 1.294-.56.72 1.221.32.539 1.993.45-.131 1.419-.058.618.407.473.938 1.069-.93 1.076Z"/><path d="M6.61 9.773 4.925 8.078 3.847 9.162l2.764 2.77 5.338-5.352-1.076-1.084L6.61 9.773Z"/></symbol><symbol id="checkbox" viewBox="0 0 16 16"><path d="m6.756 9.244-1.912-1.91a.843.843 0 0 0-.622-.245.843.843 0 0 0-.622.244.843.843 0 0 0-.244.623c0 .251.081.459.244.622l2.533 2.533a.853.853 0 0 0 .623.267.853.853 0 0 0 .622-.267L12.4 6.09a.843.843 0 0 0 .244-.622.843.843 0 0 0-.244-.623.843.843 0 0 0-.622-.244.843.843 0 0 0-.622.244l-4.4 4.4ZM1.778 16c-.49 0-.908-.174-1.256-.522A1.712 1.712 0 0 1 0 14.222V1.778C0 1.288.174.87.522.522A1.712 1.712 0 0 1 1.778 0h12.444c.49 0 .908.174 1.256.522.348.348.522.767.522 1.256v12.444c0 .49-.174.908-.522 1.256a1.712 1.712 0 0 1-1.256.522H1.778Zm0-1.778h12.444V1.778H1.778v12.444Z"/></symbol><symbol id="check-circle" viewBox="0 0 16 16"><path d="m6.88 11.68 5.64-5.64-1.12-1.12-4.52 4.52L4.6 7.16 3.48 8.28l3.4 3.4ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z"/></symbol><symbol id="check-list" viewBox="0 0 16 13"><path d="M16 2.963H8.8v1.6H16v-1.6Zm0 6.4H8.8v1.6H16v-1.6Zm-13.168-3.2L0 3.331l1.128-1.128L2.824 3.9 6.216.507l1.128 1.128-4.512 4.528Zm0 6.4L0 9.731l1.128-1.128L2.824 10.3l3.392-3.392 1.128 1.128-4.512 4.528Z"/></symbol><symbol id="check-square" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.778 0h12.444C15.2 0 16 .8 16 1.778v12.444C16 15.2 15.2 16 14.222 16H1.778C.8 16 0 15.2 0 14.222V1.778C0 .8.8 0 1.778 0Zm10.31 4.089 1.245 1.244-7.11 7.111L2.666 8.89 3.91 7.645l2.311 2.31L12.09 4.09Z"/></symbol><symbol id="check" viewBox="0 0 17 13"><path d="M5.88 10.23 2.087 6.437.795 7.719l5.085 5.085L16.795 1.889 15.512.606 5.88 10.23Z"/></symbol><symbol id="chess" viewBox="0 0 16 16"><path d="M2.4 14.4h11.2v-1.6H2.4v1.6Zm2.64-3.2h5.92L10.5 8h-5l-.46 3.2ZM.8 16v-3.2c0-.44.157-.817.47-1.13a1.54 1.54 0 0 1 1.13-.47h1.04L3.88 8H1.6V6.4h12.8V8h-2.28l.44 3.2h1.04c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13V16H.8Zm3.02-9.6L2.4 0c.44.333.893.647 1.36.94.467.293.98.44 1.54.44.533 0 1.023-.137 1.47-.41A6.624 6.624 0 0 0 8 0c.373.373.783.697 1.23.97.447.273.937.41 1.47.41a2.84 2.84 0 0 0 1.54-.44c.467-.293.92-.607 1.36-.94l-1.42 6.4h-1.64l.78-3.46-.15.02c-.1.013-.257.02-.47.02-.48 0-.95-.073-1.41-.22A5.115 5.115 0 0 1 8 2.14a4.862 4.862 0 0 1-1.25.62c-.447.147-.903.22-1.37.22a5.02 5.02 0 0 1-.53-.02l-.17-.02.78 3.46H3.82Z"/></symbol><symbol id="child" viewBox="0 0 16 14"><path d="M9.818 6.818a.91.91 0 1 0 0-1.818.91.91 0 0 0 0 1.818Zm-3.636 0a.91.91 0 1 0 0-1.818.91.91 0 0 0 0 1.818Z"/><path d="M15.956 6.52a2.915 2.915 0 0 0-2.043-2.305 6.628 6.628 0 0 0-1.593-2.117A6.461 6.461 0 0 0 8 .455c-1.658 0-3.17.618-4.32 1.643a6.5 6.5 0 0 0-1.593 2.117A2.905 2.905 0 0 0 .044 6.52a2.573 2.573 0 0 0 0 .96 2.915 2.915 0 0 0 2.043 2.306c.378.807.924 1.52 1.578 2.101A6.462 6.462 0 0 0 8 13.546a6.494 6.494 0 0 0 4.342-1.659 6.607 6.607 0 0 0 1.578-2.101 2.908 2.908 0 0 0 2.036-2.306A2.56 2.56 0 0 0 16 7a2.56 2.56 0 0 0-.044-.48Zm-2.865 1.935c-.073 0-.138-.015-.211-.022a5.215 5.215 0 0 1-.626 1.353A5.073 5.073 0 0 1 8 12.09a5.074 5.074 0 0 1-4.255-2.305 5.213 5.213 0 0 1-.625-1.353c-.073.007-.138.022-.21.022-.8 0-1.455-.655-1.455-1.455s.654-1.455 1.454-1.455c.073 0 .138.015.211.022.145-.487.356-.938.625-1.352A5.074 5.074 0 0 1 8 1.909c1.782 0 3.345.916 4.255 2.306.269.414.48.865.625 1.352.073-.007.138-.022.21-.022.8 0 1.456.655 1.456 1.455s-.655 1.455-1.455 1.455ZM8 10.636c1.462 0 2.72-.894 3.273-2.181H4.727C5.28 9.742 6.538 10.636 8 10.636Z"/></symbol><symbol id="circle-filled" viewBox="0 0 16 16"><path d="M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8Z"/></symbol><symbol id="clock-outline" viewBox="0 0 16 16"><path d="M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8ZM8 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4ZM8.4 4H7.2v4.8l4.2 2.52.6-.984L8.4 8.2V4Z"/></symbol><symbol id="clock" viewBox="0 0 16 16"><path d="M7.992 0C3.576 0 0 3.584 0 8s3.576 8 7.992 8C12.416 16 16 12.416 16 8s-3.584-8-8.008-8Zm2.64 11.768L7.2 8.328V4h1.6v3.672l2.968 2.968-1.136 1.128Z"/></symbol><symbol id="cloud2" viewBox="0 0 16 16"><g clip-path="url(#clip0_1426_12806)"><mask id="path-1-inside-1_1426_12806" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.4 13.2a5.6 5.6 0 1 0-5.152-7.8A3.961 3.961 0 0 0 4 5.2a3.954 3.954 0 0 0-1.161.172 3.968 3.968 0 0 0-1.525.864 4.01 4.01 0 0 0-1.27 2.377 3.99 3.99 0 0 0 .63 2.81 3.955 3.955 0 0 0 .943.99 4.029 4.029 0 0 0 1.411.668A3.92 3.92 0 0 0 4 13.2h6.4Z"/></mask><path d="M10.4 13.2v-1.3H9.1v1.3h1.3ZM5.248 5.4l-.405 1.235 1.132.372.469-1.096L5.248 5.4Zm-.087-.028-.377 1.244.377-1.244Zm-.189-.052-.317 1.26.002.001.315-1.26Zm-.191-.043.254-1.275h-.001l-.253 1.275Zm-.194-.034.191-1.285-.19 1.285Zm-.195-.024.128-1.293H4.52l-.127 1.293Zm-.196-.014-.064 1.298h.001l.063-1.298Zm-.392 0 .063 1.298h.001l-.064-1.298Zm-.196.014-.127-1.293.127 1.293Zm-.195.024-.19-1.286.19 1.286Zm-.193.034-.254-1.275.254 1.275Zm-.192.043.316 1.261-.316-1.26Zm-.189.052.377 1.245-.377-1.245Zm-.186.062L2.215 4.21l.438 1.224Zm-.184.07-.497-1.2.497 1.2Zm-.18.08.556 1.176-.555-1.176Zm-.175.089.613 1.146h.001l-.614-1.146Zm-.17.096.668 1.115-.668-1.115Zm-.166.105L2.5 6.955l-.722-1.08Zm-.16.113L.842 4.943l.774 1.044Zm-.156.121L.638 5.103l.824 1.005Zm-.148.128L.44 5.273l.873.963Zm-.142.136-.92-.92.92.92Zm-.136.142L2 7.388v-.001l-.963-.873Zm-.128.149 1.005.824-1.005-.824Zm-.12.154 1.043.775-1.044-.775Zm-.114.161 1.081.722-1.08-.722Zm-.105.166 1.115.668L.57 7.144Zm-.097.17-1.146-.612 1.146.613Zm-.088.176L-.79 6.934l1.175.556Zm-.08.18 1.201.497-1.2-.497Zm-.07.183L-.99 7.415l1.224.438Zm-.114.375-1.261-.315 1.26.315Zm-.043.192 1.275.254L.077 8.42Zm-.034.193 1.286.191-1.286-.19Zm-.024.195 1.294.128-1.294-.128Zm-.014.196-1.299-.064 1.299.064Zm0 .393 1.298-.064-1.298.064Zm.014.195-1.293.128 1.293-.128Zm.024.195-1.286.191 1.286-.19Zm.034.194-1.275.253 1.275-.253Zm.043.191-1.261.316 1.26-.316Zm.052.19 1.244-.378-1.244.377Zm.062.186 1.224-.438-1.224.438Zm.07.183-1.2.498 1.2-.498Zm.08.18 1.175-.556-1.175.556Zm.088.175-1.146.613 1.146-.613Zm.097.17 1.115-.668-1.115.669Zm.105.167 1.081-.722-1.08.722Zm.113.16 1.044-.774-1.044.774Zm.25.304-.964.873.963-.873Zm.135.142.92-.92H2.09l-.918.92Zm.142.135-.874.963h.001l.873-.963Zm.148.129-.824 1.004.824-1.005Zm.155.12-.774 1.044.774-1.044Zm.16.113-.722 1.08v.001l.723-1.08Zm.167.105.668-1.115-.668 1.115Zm.346.185-.556 1.176.556-1.176Zm.18.08-.499 1.2.001.001.497-1.201Zm.183.07.438-1.223-.438 1.224Zm.186.062-.378 1.244h.001l.377-1.244Zm.19.053.315-1.261-.316 1.26Zm.19.043.254-1.275-.253 1.275Zm.194.033.191-1.286-.19 1.286Zm.195.024.128-1.293h-.001l-.127 1.293Zm6.792.02v1.3h1.3v-1.3h-1.3Zm0 1.3a6.9 6.9 0 0 0 6.9-6.9h-2.6a4.3 4.3 0 0 1-4.3 4.3v2.6Zm6.9-6.9A6.9 6.9 0 0 0 10.4.7v2.6a4.3 4.3 0 0 1 4.3 4.3h2.6ZM10.4.7a6.902 6.902 0 0 0-6.347 4.189l2.39 1.022A4.302 4.302 0 0 1 10.4 3.3V.7ZM5.654 4.165a5.232 5.232 0 0 0-.116-.037l-.753 2.489.058.018.81-2.47Zm-.115-.036a5.246 5.246 0 0 0-.251-.07l-.631 2.522.127.035.755-2.487Zm-.25-.07a5.279 5.279 0 0 0-.254-.057l-.509 2.55c.045.009.088.018.13.029l.633-2.522Zm-.255-.057a5.323 5.323 0 0 0-.256-.044l-.382 2.571c.044.007.088.014.131.023l.507-2.55Zm-.257-.045a5.355 5.355 0 0 0-.257-.031l-.256 2.587c.044.004.089.01.133.016l.38-2.572Zm-.258-.031a5.329 5.329 0 0 0-.26-.02l-.126 2.597.133.01.253-2.587Zm-.258-.02A5.27 5.27 0 0 0 4 3.9v2.6l.131.003.129-2.596ZM4 3.9a5.27 5.27 0 0 0-.262.007l.13 2.596c.043-.002.087-.003.131-.003V3.9Zm-.26.007c-.088.004-.174.01-.26.019l.254 2.587.132-.01-.126-2.596Zm-.26.019c-.087.008-.173.019-.258.031l.38 2.573c.045-.007.089-.013.133-.017L3.48 3.926Zm-.259.032c-.085.012-.17.027-.256.044l.507 2.55.131-.023-.382-2.571Zm-.257.044a5.291 5.291 0 0 0-.254.057l.634 2.522.13-.03-.51-2.549Zm-.252.057a5.247 5.247 0 0 0-.252.07l.756 2.487.127-.035-.631-2.522Zm-.25.07a5.275 5.275 0 0 0-.248.081l.876 2.448c.041-.015.083-.029.125-.041l-.754-2.489Zm-.248.081c-.083.03-.163.06-.243.093l.994 2.403c.042-.017.083-.033.125-.048L2.215 4.21Zm-.244.094a5.32 5.32 0 0 0-.237.105l1.112 2.35.121-.053-.996-2.402Zm-.236.105a5.185 5.185 0 0 0-.234.117L2.728 6.82l.117-.06-1.11-2.35Zm-.233.117a5.29 5.29 0 0 0-.227.128l1.337 2.23.115-.065-1.225-2.293Zm-.227.128a5.26 5.26 0 0 0-.22.14l1.446 2.16.111-.07-1.337-2.23Zm-.22.14a5.289 5.289 0 0 0-.212.15l1.549 2.088a2.69 2.69 0 0 1 .108-.077L1.056 4.793Zm-.212.15a5.3 5.3 0 0 0-.205.16l1.65 2.01a2.71 2.71 0 0 1 .104-.082L.842 4.943Zm-.205.16a5.328 5.328 0 0 0-.197.169L2.187 7.2c.033-.03.066-.06.1-.087l-1.65-2.01Zm-.197.17a5.316 5.316 0 0 0-.188.178l1.838 1.84a2.72 2.72 0 0 1 .096-.092L.44 5.273Zm-.189.179a5.313 5.313 0 0 0-.18.188L2 7.387c.03-.033.06-.065.091-.096L.252 5.453Zm-.179.188c-.058.064-.115.13-.17.197l2.01 1.649.086-.1L.073 5.642Zm-.17.197a5.299 5.299 0 0 0-.16.205l2.088 1.549.082-.105-2.01-1.65Zm-.16.205c-.051.07-.101.14-.15.213L1.755 7.7c.024-.036.05-.072.076-.108L-.257 6.043Zm-.15.213a5.308 5.308 0 0 0-.139.22l2.23 1.336a2.71 2.71 0 0 1 .071-.112L-.407 6.256Zm-.139.22c-.044.074-.087.15-.128.226l2.293 1.225c.02-.038.042-.077.065-.115l-2.23-1.336Zm-.128.226c-.04.076-.08.154-.117.232l2.35 1.112c.019-.04.039-.08.06-.119L-.674 6.702Zm-.117.232a5.294 5.294 0 0 0-.106.238l2.403.995c.016-.04.034-.081.053-.121L-.79 6.934Zm-.105.238a5.3 5.3 0 0 0-.094.243l2.448.876c.015-.042.03-.083.047-.124l-2.401-.995Zm-.094.243c-.03.082-.057.164-.082.247l2.488.755c.013-.043.027-.085.042-.127L-.99 7.415Zm-.082.247a5.29 5.29 0 0 0-.07.25l2.523.632c.01-.043.022-.085.035-.127l-2.488-.755Zm-.07.25a5.3 5.3 0 0 0-.056.254l2.55.507a2.68 2.68 0 0 1 .029-.129l-2.522-.631Zm-.056.254a5.3 5.3 0 0 0-.045.257l2.572.381c.007-.044.014-.087.023-.13l-2.55-.508Zm-.045.257a5.281 5.281 0 0 0-.031.258l2.587.255a2.69 2.69 0 0 1 .016-.132l-2.572-.381Zm-.031.258a5.296 5.296 0 0 0-.02.26l2.597.127c.002-.044.006-.088.01-.132l-2.587-.255Zm-.02.26a5.305 5.305 0 0 0-.006.26h2.6c0-.045.001-.089.003-.133l-2.597-.128Zm-.006.26c0 .086.002.173.006.26l2.597-.128A2.7 2.7 0 0 1 1.3 9.2h-2.6Zm.006.26c.005.086.011.173.02.259l2.587-.255a2.709 2.709 0 0 1-.01-.132l-2.597.127Zm.02.259c.008.086.019.172.031.258l2.572-.381a2.716 2.716 0 0 1-.016-.132l-2.587.255Zm.031.258c.013.086.028.171.045.256l2.55-.507a2.7 2.7 0 0 1-.023-.13l-2.572.381Zm.045.256c.017.085.036.17.057.254l2.522-.631a2.712 2.712 0 0 1-.03-.13l-2.55.507Zm.057.254c.02.084.044.168.07.25l2.487-.754a2.716 2.716 0 0 1-.035-.128l-2.522.632Zm.07.25c.024.084.052.166.08.248l2.449-.876a2.656 2.656 0 0 1-.042-.126l-2.488.755Zm.08.248c.03.082.061.162.094.242l2.403-.994a2.752 2.752 0 0 1-.048-.124l-2.448.876Zm.095.243c.033.08.068.159.105.237l2.35-1.111a2.716 2.716 0 0 1-.054-.122l-2.401.996Zm.105.237c.037.079.076.156.117.233l2.293-1.226c-.021-.039-.04-.078-.06-.118l-2.35 1.111Zm.117.233c.04.076.083.152.128.227l2.23-1.338a2.65 2.65 0 0 1-.065-.115l-2.293 1.226Zm.128.226c.044.074.091.148.14.22l2.16-1.445a2.655 2.655 0 0 1-.07-.111l-2.23 1.336Zm.14.22c.047.072.097.143.15.213l2.087-1.55a2.694 2.694 0 0 1-.076-.107l-2.162 1.444Zm.149.213c.052.07.105.138.16.205l2.01-1.65a2.686 2.686 0 0 1-.082-.104l-2.088 1.549Zm.16.205c.055.067.112.132.17.197L2 11.014a2.704 2.704 0 0 1-.087-.1l-2.01 1.649Zm.17.197c.058.064.118.127.18.188L2.09 11.11a2.673 2.673 0 0 1-.09-.095L.073 12.76Zm.18.188c.06.061.124.121.187.18L2.187 11.2a2.764 2.764 0 0 1-.096-.091L.252 12.948Zm.188.18c.064.058.13.114.197.17l1.65-2.01a2.65 2.65 0 0 1-.101-.087L.44 13.128Zm.197.17c.067.054.135.108.205.16l1.549-2.089a2.657 2.657 0 0 1-.105-.082l-1.65 2.01Zm.205.16c.07.051.14.101.212.149l1.446-2.161a2.78 2.78 0 0 1-.11-.077L.844 13.457Zm.213.15c.072.047.145.094.22.139l1.335-2.231a2.645 2.645 0 0 1-.111-.07l-1.444 2.161Zm.22.138c.073.045.149.088.226.129l1.225-2.293a2.69 2.69 0 0 1-.115-.066l-1.337 2.23Zm.226.129c.076.04.154.08.232.117l1.112-2.35a2.632 2.632 0 0 1-.119-.06l-1.225 2.293Zm.232.117c.079.037.158.072.237.105l.996-2.402a2.722 2.722 0 0 1-.121-.054l-1.112 2.35Zm.238.105c.08.033.161.065.243.094l.876-2.448a2.729 2.729 0 0 1-.125-.048l-.994 2.402Zm.243.094c.081.029.164.056.246.081l.756-2.488a2.787 2.787 0 0 1-.127-.041l-.875 2.448Zm.247.081c.082.025.166.048.25.07l.632-2.523a2.776 2.776 0 0 1-.128-.035l-.754 2.488Zm.25.07c.084.02.169.04.254.057l.507-2.55a2.782 2.782 0 0 1-.13-.03l-.63 2.523Zm.254.057c.085.017.17.031.257.044l.38-2.572a2.779 2.779 0 0 1-.13-.022l-.507 2.55Zm.256.044c.086.013.172.024.26.032l.253-2.588a2.587 2.587 0 0 1-.13-.016l-.383 2.572Zm.258.032a5.2 5.2 0 0 0 .26.02l.127-2.598a2.569 2.569 0 0 1-.131-.01l-.256 2.588Zm.26.02c.086.003.173.006.26.006v-2.6c-.043 0-.088-.002-.133-.004l-.126 2.597ZM4 14.5h6.4v-2.6H4v2.6Zm7.7-1.3H9.1h2.6Z" mask="url(#path-1-inside-1_1426_12806)"/></g></symbol><symbol id="cloud-happy" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4 6a4 4 0 1 1 8 0 4 4 0 1 1 0 8H4a4 4 0 1 1 0-8zm1 3s0 2 3 2 3-2 3-2H5z"/>\n</symbol><symbol id="cloud-plus-outlined" viewBox="0 0 16 12"><path d="M12.9 4.693A4.993 4.993 0 0 0 3.567 3.36 3.996 3.996 0 0 0 0 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 8a3.317 3.317 0 0 0-3.1-3.307ZM12.667 10H4a2.666 2.666 0 0 1-2.667-2.667 2.649 2.649 0 0 1 2.374-2.646l.713-.074.333-.633A3.646 3.646 0 0 1 8 2a3.669 3.669 0 0 1 3.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2ZM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667Z"/></symbol><symbol id="cloud-rainbow" viewBox="0 0 16 11"><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="#fff"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint0_linear_11512_6354)"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint1_linear_11512_6354)"/><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z" fill="url(#paint2_linear_11512_6354)"/></symbol><symbol id="cloud" viewBox="0 0 16 11"><path d="M8 1.333a3.669 3.669 0 0 1 3.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 0 1-2.667-2.666A2.649 2.649 0 0 1 3.707 4.02l.713-.073.333-.634A3.646 3.646 0 0 1 8 1.333ZM8 0a4.997 4.997 0 0 0-4.433 2.693A3.996 3.996 0 0 0 0 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 7.333a3.317 3.317 0 0 0-3.1-3.306A4.993 4.993 0 0 0 8 0Z"/></symbol><symbol id="cocktail" viewBox="0 0 18 18"><path d="M11.77 6 9 9.11 6.23 6h5.54ZM18 0H0v2l8 9v5H3v2h12v-2h-5v-5l8-9V0ZM4.43 4 2.66 2h12.69l-1.78 2H4.43Z"/></symbol><symbol id="collect" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M14.56 5.575c.279.756.44 1.571.44 2.425 0 .926-.184 1.807-.51 2.616.309.275.51.678.51 1.134 0 .828-.648 1.5-1.448 1.5a1.4 1.4 0 0 1-.712-.201 6.971 6.971 0 0 1-3.438 1.81C9.246 15.513 8.68 16 8 16c-.68 0-1.246-.487-1.402-1.141a6.971 6.971 0 0 1-3.438-1.81 1.4 1.4 0 0 1-.712.201c-.8 0-1.448-.672-1.448-1.5 0-.456.201-.859.51-1.134A6.979 6.979 0 0 1 1 8c0-.854.161-1.669.44-2.425A1.52 1.52 0 0 1 1 4.5C1 3.671 1.648 3 2.448 3c.194 0 .377.041.546.112a6.98 6.98 0 0 1 3.604-1.971C6.754.487 7.32 0 8 0c.68 0 1.246.487 1.402 1.141a6.98 6.98 0 0 1 3.604 1.971c.169-.071.352-.112.546-.112.8 0 1.448.671 1.448 1.5 0 .422-.169.802-.44 1.075zM2 8c0 .797.159 1.555.44 2.251l.008-.001c.8 0 1.448.671 1.448 1.5 0 .188-.037.365-.097.53.01.011.021.019.032.029a6.226 6.226 0 0 1 8.338 0l.032-.029a1.544 1.544 0 0 1-.097-.53c0-.829.648-1.5 1.448-1.5l.008.001a5.952 5.952 0 0 0 .087-4.261c-.032.002-.063.01-.095.01-.8 0-1.448-.672-1.448-1.5 0-.255.067-.492.175-.702a5.98 5.98 0 0 0-2.977-1.652C9.068 2.649 8.576 3 8 3c-.576 0-1.068-.351-1.302-.854a5.98 5.98 0 0 0-2.977 1.652c.108.21.175.447.175.702 0 .828-.648 1.5-1.448 1.5-.032 0-.063-.008-.095-.01A5.952 5.952 0 0 0 2 8zm6 1.757c-1.439 0-2.607-1.29-2.607-2.878 0-1.59 1.168-2.88 2.607-2.88 1.439 0 2.607 1.29 2.607 2.88 0 1.589-1.168 2.878-2.607 2.878z"/>\n</symbol><symbol id="comment" viewBox="0 0 20 20"><path d="M2 2h16v12H3.17L2 15.17V2Zm0-2C.9 0 .01.9.01 2L0 20l4-4h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2H2Zm2 10h8v2H4v-2Zm0-3h12v2H4V7Zm0-3h12v2H4V4Z"/></symbol><symbol id="company" viewBox="0 0 16 16"><path d="M12.444 7.111V0H3.556v3.556H0V16h7.111v-3.556H8.89V16H16V7.111h-3.556Zm-8.888 7.111H1.778v-1.778h1.778v1.778Zm0-3.555H1.778V8.889h1.778v1.778Zm0-3.556H1.778V5.333h1.778v1.778Zm3.555 3.556H5.333V8.889h1.778v1.778Zm0-3.556H5.333V5.333h1.778v1.778Zm0-3.555H5.333V1.778h1.778v1.778Zm3.556 7.11H8.889V8.89h1.778v1.778Zm0-3.555H8.889V5.333h1.778v1.778Zm0-3.555H8.889V1.778h1.778v1.778Zm3.555 10.666h-1.778v-1.778h1.778v1.778Zm0-3.555h-1.778V8.889h1.778v1.778Z"/></symbol><symbol id="compare" viewBox="0 0 20 14"><path d="M7.01 9H0v2h7.01v3L11 10 7.01 6v3Zm5.98-1V5H20V3h-7.01V0L9 4l3.99 4Z"/></symbol><symbol id="compass" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Zm-4.4-2 6.008-2.792L12.4 3.6 6.392 6.392 3.6 12.4ZM8 7.12c.488 0 .88.392.88.88s-.392.88-.88.88A.877.877 0 0 1 7.12 8c0-.488.392-.88.88-.88Z"/></symbol><symbol id="connector" viewBox="0 0 16 17"><path d="M14 5.167a1.997 1.997 0 0 0-1.993 2.14l-1.354.453a2.979 2.979 0 0 0-2.146-1.547v-1.44A2.012 2.012 0 0 0 10 2.833c0-1.106-.893-2-2-2s-2 .894-2 2c0 .934.64 1.714 1.5 1.94v1.44c-.933.154-1.72.74-2.147 1.547l-1.36-.453C4 7.26 4 7.213 4 7.167c0-1.107-.893-2-2-2s-2 .893-2 2c0 1.106.893 2 2 2 .707 0 1.32-.367 1.68-.914l1.353.454a3.01 3.01 0 0 0 .727 2.46l-.94 1.18A1.997 1.997 0 0 0 2 14.167c0 1.106.893 2 2 2s2-.894 2-2c0-.454-.147-.867-.4-1.2l.94-1.18a3 3 0 0 0 2.913 0l.94 1.18a2.006 2.006 0 0 0-.393 1.2c0 1.106.893 2 2 2s2-.894 2-2c0-1.107-.893-2-2-2-.293 0-.567.06-.82.173l-.94-1.18c.62-.693.86-1.6.727-2.46l1.353-.453A2 2 0 0 0 14 9.16a1.997 1.997 0 1 0 0-3.993ZM2 7.833a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Zm2 7a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Zm3.333-12c0-.366.3-.666.667-.666.367 0 .667.3.667.666 0 .367-.3.667-.667.667a.669.669 0 0 1-.667-.667Zm.667 8A1.667 1.667 0 1 1 8.001 7.5 1.667 1.667 0 0 1 8 10.833Zm4 2.667c.367 0 .667.3.667.667 0 .366-.3.666-.667.666a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667Zm2-5.667a.669.669 0 0 1-.667-.666c0-.367.3-.667.667-.667.367 0 .667.3.667.667 0 .366-.3.666-.667.666Z"/></symbol><symbol id="contract" viewBox="0 0 16 16"><path d="M.889 3.556H15.11v1.777H.89V3.556Zm0 5.333H15.11V7.11H.89v1.78Zm0 3.555H7.11v-1.777H.89v1.777Zm0 3.556H7.11v-1.778H.89V16Zm10.142-2.516-1.253-1.262-1.254 1.254L11.031 16l4.08-4.071-1.262-1.262-2.818 2.817ZM.89 0v1.778h14.22V0H.89Z"/></symbol><symbol id="contrast" viewBox="0 0 16 16"><path d="M8 16c4.416 0 8-3.584 8-8s-3.584-8-8-8-8 3.584-8 8 3.584 8 8 8Zm.8-14.344A6.397 6.397 0 0 1 14.4 8a6.39 6.39 0 0 1-5.6 6.344V1.656Z"/></symbol><symbol id="copy" viewBox="0 0 14 16"><path d="M10.182 0H1.455C.655 0 0 .655 0 1.455v10.181h1.455V1.455h8.727V0Zm-.727 2.91H4.364c-.8 0-1.448.654-1.448 1.454L2.91 14.545c0 .8.647 1.455 1.447 1.455h8.008c.8 0 1.454-.655 1.454-1.454V7.273L9.455 2.909ZM4.364 14.545V4.364h4.363V8h3.637v6.546h-8Z"/></symbol><symbol id="cozy-circle" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm2 0c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0s10 4.477 10 10Zm-8.59 1.206c.134.086.33.046.417-.085a.28.28 0 0 0-.087-.396c-.116-.073-.125-.223-.125-.223a.296.296 0 0 0-.3-.282h-.006a.306.306 0 0 0-.21.087.283.283 0 0 0-.085.21.895.895 0 0 0 .029.183 1.682 1.682 0 0 1-2.087.004c.03-.11.03-.189.03-.191a.294.294 0 0 0-.291-.292.285.285 0 0 0-.213.076.289.289 0 0 0-.098.204s-.008.15-.126.225a.282.282 0 0 0-.085.396.315.315 0 0 0 .442.068l.007-.005c.392.295.874.455 1.375.455a2.29 2.29 0 0 0 1.379-.456l.033.022Zm.766-5.313c.521.502.845 1.153.932 1.856C14.726 7.892 16 9.236 16 10.869 16 12.594 14.574 14 12.822 14H7.177C5.425 14 4 12.595 4 10.868c0-.823.322-1.601.906-2.19a3.179 3.179 0 0 1 1.893-.92c.085-.707.41-1.36.933-1.865A3.18 3.18 0 0 1 9.954 5c.835 0 1.625.316 2.222.893Z"/></symbol><symbol id="cozy-laugh" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M4 6a4 4 0 1 1 8 0 4 4 0 1 1 0 8H4a4 4 0 1 1 0-8zm1 3s0 2 3 2 3-2 3-2H5z"/>\n</symbol><symbol id="cozy-lock" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 2.73c4.315 0 7.979 2.83 9.158 6.739C29.102 10.622 32 14.226 32 18.523c0 5.234-4.299 9.44-9.556 9.44H9.556C4.299 27.963 0 23.757 0 18.523c0-4.297 2.898-7.901 6.842-9.054C8.02 5.56 11.685 2.73 16 2.73Zm-7.244 7.317C9.683 6.975 12.575 4.73 16 4.73s6.317 2.245 7.244 5.317l.313 1.037 1.04.305c3.134.916 5.403 3.77 5.403 7.134 0 4.1-3.373 7.44-7.556 7.44H9.556c-4.183 0-7.556-3.34-7.556-7.44 0-3.365 2.27-6.218 5.403-7.134l1.04-.304.313-1.038ZM19 16a3 3 0 0 1-1.5 2.599V20.5a1.5 1.5 0 0 1-3 0v-1.901A2.999 2.999 0 0 1 16 13a3 3 0 0 1 3 3Z"/></symbol><symbol id="cozy-release" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 3c4.315 0 7.979 2.83 9.158 6.739C29.102 10.892 32 14.496 32 18.793c0 3.594-2.027 6.704-5 8.3V24.73c1.824-1.36 3-3.517 3-5.937 0-3.365-2.27-6.218-5.403-7.134l-1.04-.305-.313-1.037C22.317 7.245 19.425 5 16 5s-6.317 2.245-7.244 5.317l-.313 1.037-1.04.305C4.269 12.575 2 15.429 2 18.793c0 4.1 3.373 7.44 7.556 7.44H10v2h-.444C4.299 28.233 0 24.027 0 18.793c0-4.296 2.898-7.901 6.842-9.054C8.02 5.83 11.685 3 16 3Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.16 15.961a1.555 1.555 0 1 0-2.199 2.2l6.972 6.897H14.56a1.5 1.5 0 0 0 0 3.001h7.999a1.5 1.5 0 0 0 1.5-1.5v-8a1.5 1.5 0 0 0-3.001 0v4.374L14.16 15.96Z" fill="#CB8100"/></symbol><symbol id="cozy-text" viewBox="0 0 52 19"><path d="M10.277 3.262c-.067.084-.143.16-.227.227a.516.516 0 01-.319.085.756.756 0 01-.436-.162 5.113 5.113 0 00-1.404-.702c-.325-.109-.725-.163-1.202-.163-.624 0-1.174.113-1.651.338-.47.219-.878.55-1.19.962-.316.416-.556.923-.721 1.521a7.592 7.592 0 00-.247 2.015c0 .771.087 1.458.26 2.06.173.603.42 1.11.741 1.521.32.412.71.724 1.17.937.46.212.97.318 1.534.318.546 0 .997-.067 1.352-.202.355-.134.65-.279.884-.435a5.93 5.93 0 00.585-.436c.156-.134.316-.201.481-.201.208 0 .368.078.481.234l.728.936a4.903 4.903 0 01-1.02.949 5.85 5.85 0 01-1.203.637c-.43.166-.877.288-1.332.364a8.488 8.488 0 01-1.411.117 5.846 5.846 0 01-2.308-.455 5.228 5.228 0 01-1.858-1.326c-.525-.58-.939-1.293-1.242-2.139C.419 9.417.267 8.458.267 7.383c0-.98.136-1.885.41-2.717a6.046 6.046 0 011.209-2.151 5.588 5.588 0 011.969-1.418C4.635.755 5.528.584 6.533.584c.945 0 1.777.152 2.496.455.72.303 1.36.732 1.924 1.287l-.676.936zM19.091.584c.97 0 1.848.158 2.633.474.76.3 1.444.767 2.001 1.366.55.593.973 1.308 1.268 2.145.295.836.442 1.774.442 2.814s-.147 1.98-.442 2.821c-.295.84-.717 1.556-1.267 2.145a5.527 5.527 0 01-2.002 1.358c-.785.317-1.662.475-2.633.475-.98 0-1.861-.158-2.645-.474a5.59 5.59 0 01-2.009-1.359c-.555-.59-.981-1.304-1.28-2.145-.3-.84-.449-1.781-.449-2.821 0-1.04.15-1.978.449-2.814a6.11 6.11 0 011.28-2.146 5.55 5.55 0 012.008-1.365c.785-.316 1.667-.474 2.646-.474zm0 11.622c1.248 0 2.18-.42 2.795-1.261.615-.84.923-2.024.923-3.549s-.308-2.71-.923-3.556c-.615-.845-1.547-1.267-2.795-1.267-1.265 0-2.208.422-2.828 1.267-.62.846-.929 2.03-.929 3.556 0 1.525.31 2.708.93 3.549.62.84 1.562 1.261 2.827 1.261zM37.46 1.858c0 .182-.032.36-.097.533-.066.173-.15.32-.254.442l-6.929 9.178h7.046V14H27.203v-1.066c0-.121.03-.266.091-.436.06-.169.147-.327.26-.474l6.968-9.243h-6.916V.792h9.854v1.066zM51.604.792l-7.332 17.043a1.07 1.07 0 01-.312.442c-.13.104-.32.156-.572.156h-1.885l2.418-5.265L38.5.792h2.21c.217 0 .386.052.507.156a.906.906 0 01.26.351l3.354 7.93c.07.2.136.4.201.605.064.199.118.4.163.604.12-.413.26-.821.416-1.222l3.237-7.917a.84.84 0 01.286-.364.73.73 0 01.442-.143h2.028z" fill-rule="nonzero"/></symbol><symbol id="credit-card-add" viewBox="0 0 16 14"><path d="M13.09 0H1.456C.647 0 .007.647.007 1.455L0 10.182a1.45 1.45 0 0 0 1.455 1.454h7.272v-1.454H1.455V5.818h13.09V1.455A1.45 1.45 0 0 0 13.091 0Zm0 2.91H1.456V1.454H13.09v1.454ZM16 9.454v1.454h-2.182v2.182h-1.454v-2.182h-2.182V9.455h2.182V7.273h1.454v2.182H16Z"/></symbol><symbol id="credit-card" viewBox="0 0 16 14"><path d="M14.4.6H1.6C.712.6.008 1.312.008 2.2L0 11.8c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V2.2c0-.888-.712-1.6-1.6-1.6Zm0 11.2H1.6V7h12.8v4.8Zm0-8H1.6V2.2h12.8v1.6Z"/></symbol><symbol id="credit" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M3.414 10H11a1 1 0 0 1 0 2H3.414l1.293 1.293a1 1 0 0 1-1.414 1.414l-3-3a1 1 0 0 1 0-1.414l3-3a1 1 0 1 1 1.414 1.414L3.414 10z" opacity=".322"/>\n        <path d="M12.586 4l-1.293-1.293a1 1 0 1 1 1.414-1.414l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L12.586 6H5a1 1 0 1 1 0-2h7.586z"/>\n    </g>\n</symbol><symbol id="crop" viewBox="0 0 16 16"><path d="M11.636 10.182h1.455V4.364c0-.8-.655-1.455-1.455-1.455H5.818v1.455h5.818v5.818Zm-7.272 1.454V0H2.909v2.91H0v1.454h2.91v7.272c0 .8.654 1.455 1.454 1.455h7.272V16h1.455v-2.91H16v-1.454H4.364Z"/></symbol><symbol id="cross-circle-outline" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Zm0-7.528L10.872 4 12 5.128 9.128 8 12 10.872 10.872 12 8 9.128 5.128 12 4 10.872 6.872 8 4 5.128 5.128 4 8 6.872Z"/></symbol><symbol id="cross-circle" viewBox="0 0 16 16"><path d="M5.12 12 8 9.12 10.88 12 12 10.88 9.12 8 12 5.12 10.88 4 8 6.88 5.12 4 4 5.12 6.88 8 4 10.88 5.12 12ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z" fill="#5F6368"/></symbol><symbol id="cross-medium" viewBox="0 0 16 16"><path d="M15 2.41 13.59 1 8 6.59 2.41 1 1 2.41 6.59 8 1 13.59 2.41 15 8 9.41 13.59 15 15 13.59 9.41 8 15 2.41Z"/></symbol><symbol id="cross-small" viewBox="0 0 16 16"><path d="M8 6.59 11.59 3 13 4.41 9.41 8 13 11.59 11.59 13 8 9.41 4.41 13 3 11.59 6.59 8 3 4.41 4.41 3 8 6.59Z"/></symbol><symbol id="cross" viewBox="0 0 16 16"><path d="M2.4 15 1 13.6 6.6 8 1 2.4 2.4 1 8 6.6 13.6 1 15 2.4 9.4 8l5.6 5.6-1.4 1.4L8 9.4 2.4 15Z"/></symbol><symbol id="cube" viewBox="0 0 15 16"><path d="M14.4 4 7.2 0 0 4v8l7.2 4 7.2-4V4ZM7.2 1.832l4.728 2.624L9.52 5.792a3.213 3.213 0 0 0-4.64 0L2.472 4.456 7.2 1.832Zm-.8 11.896-4.8-2.664V5.808L4.104 7.2A3.193 3.193 0 0 0 6.4 11.096v2.632ZM5.6 8c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6-.88 0-1.6-.72-1.6-1.6ZM8 13.728v-2.624a3.193 3.193 0 0 0 2.4-3.096c0-.28-.032-.552-.104-.808L12.8 5.808v5.256L8 13.728Z"/></symbol><symbol id="dashboard" viewBox="0 0 16 16"><path d="M14.222 1.778v1.778h-3.555V1.778h3.555Zm-8.889 0V7.11H1.778V1.778h3.555Zm8.89 7.11v5.334h-3.556V8.89h3.555Zm-8.89 3.556v1.778H1.778v-1.778h3.555ZM16 0H8.889v5.333H16V0ZM7.111 0H0v8.889h7.111V0ZM16 7.111H8.889V16H16V7.111Zm-8.889 3.556H0V16h7.111v-5.333Z"/></symbol><symbol id="dash" viewBox="0 0 16 2"><path d="M0 0h16v1.778H0V0Z"/></symbol><symbol id="data-control" viewBox="0 0 16 16"><path d="M7.111 8.889H3.556v3.555H7.11V8.89Zm5.333 0H8.89v3.555h3.555V8.89Z"/><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 14.222H1.778V1.778h12.444v12.444Z"/><path d="M7.111 3.556H3.556V7.11H7.11V3.556Zm5.333 0H8.89V7.11h3.555V3.556Z"/></symbol><symbol id="debit" viewBox="0 0 16 13"><path d="M4.328 7.528 3.2 6.4 0 9.6l3.2 3.2 1.128-1.128L3.064 10.4H15.2V8.8H3.064l1.264-1.272Zm7.344-2.256L12.8 6.4 16 3.2 12.8 0l-1.128 1.128L12.936 2.4H.8V4h12.136l-1.264 1.272Z"/></symbol><symbol id="desktop-download" viewBox="0 0 16 15"><path d="M14.4 11.2H1.6V1.6H8V0H1.6C.712 0 0 .712 0 1.6v9.6c0 .88.712 1.6 1.6 1.6h3.2v1.6h6.4v-1.6h3.2c.88 0 1.6-.72 1.6-1.6V8.8h-1.6v2.4Z"/><path d="m12 8.8 4-4-1.128-1.128L12.8 5.736V0h-1.6v5.736L9.128 3.672 8 4.8l4 4Z"/></symbol><symbol id="devices" viewBox="0 0 16 12"><path d="M2.667 2h12V.667h-12c-.734 0-1.334.6-1.334 1.333v7.333H0v2h9.333v-2H2.667V2Zm12.666 1.333h-4c-.366 0-.666.3-.666.667v6.667c0 .366.3.666.666.666h4c.367 0 .667-.3.667-.666V4c0-.367-.3-.667-.667-.667Zm-.666 6H12V4.667h2.667v4.666Z"/></symbol><symbol id="discuss" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.688 12.323c.246-.538.41-1.004.493-1.399-1.068-1.004-1.72-2.344-1.72-3.816C1.462 3.99 4.39 1.462 8 1.462c3.611 0 6.538 2.528 6.538 5.646 0 3.119-2.927 5.647-6.538 5.647-.74 0-1.452-.106-2.116-.302-.518.404-1.237.762-2.156 1.075a12.364 12.364 0 0 1-.657.205l-.008.003a17.328 17.328 0 0 1-.628.169.299.299 0 0 1-.334-.436l.112-.202a15.704 15.704 0 0 0 .475-.944Zm-1.757.242a11.8 11.8 0 0 0 .605-1.264C.584 10.143 0 8.698 0 7.108 0 2.988 3.79 0 8 0s8 2.989 8 7.108c0 4.12-3.79 7.109-8 7.109-.63 0-1.245-.065-1.837-.188-.908.546-2.057.963-3.373 1.293a1.76 1.76 0 0 1-1.968-2.56l.109-.197Z"/></symbol><symbol id="dots" viewBox="0 0 16 4"><path d="M2 0C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2ZM8 0C6.9 0 6 .9 6 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z"/></symbol><symbol id="download" viewBox="0 0 16 16"><path d="M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2Zm-1-4-1.41-1.41L9 8.17V0H7v8.17L4.41 5.59 3 7l5 5 5-5Z"/></symbol><symbol id="down" viewBox="0 0 16 16"><path d="M7 11.2V3c0-.283.096-.52.287-.712A.968.968 0 0 1 8 2c.283 0 .52.096.712.288.192.191.288.429.288.712v8.2l2.9-2.9a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7l-4.6 4.6c-.2.2-.433.3-.7.3a.96.96 0 0 1-.7-.3L2.7 9.7a.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275L7 11.2Z"/></symbol><symbol id="drawing-arrow-up" viewBox="0 0 40 36"><path d="M4.008 0l.07.12h.034l.047.016.035.02.029.026L5.945 2.19l1.153 1.326a92.633 92.633 0 002.778 3.052l.676.698.494.5.406.425 1.622 1.768.586.626.526.541c1.012 1.016 1.834 1.682 2.53 2.004.228.105.264.525.03.609-2.223.79-4.188.908-5.798-.02l-.208-.127.126.463c1.819 6.009 6.042 10.741 12.236 14.28 5.583 3.188 11.23 4.584 16.135 3.567l.385-.085.094.014.037.017c.182.106.27.239.242.39a.456.456 0 01-.17.258l-.075.06-.22.096-.571.264-.49.184-.966.352c-8.112 2.89-13.91 3.289-19.627.42-6.312-3.166-11.194-10.25-12.474-17.744l-.066-.409-.059-.41c-.896 1.616-2.631 2.519-4.937 2.987-.242.049-.432-.327-.292-.536.427-.636.768-1.589 1.102-2.989l.072-.307.143-.656.545-2.778.054-.263.101-.469.233-1.004.195-.89c.191-.897.371-1.826.562-2.9l.097-.548.228-1.339.54-3.351.017-.048.007-.011.037-.049.033-.018L4.008 0zm1.885 13.409H5.85l.019.04.015.043.1.364.068.258.218.904.264.778.76 2.311.269.801.296.858c.722 2.046 1.311 3.398 2.093 4.736l.159.268.286.461c2.357 3.705 5.486 6.507 9.028 7.886 5.467 2.129 11.574 1.933 17.96-.202a19.56 19.56 0 01-4.353-.009l-.554-.069 2.21.854-.845.179-2.074-.708-1.449-.507-1.723-.615-1.912-.694-9.578-3.53-4.485-1.636-1.849-.686-.084-.087-.176-.263-.282-.456-.182-.301.799.296 1.26.311c1.263.319 2.533.656 3.807 1.011l1.276.362-1.1-.462-1.531-.651-.596-.248a51.461 51.461 0 00-4.401-1.596 3.325 3.325 0 01-.21-.346l-.056-.107-.186-.395-.136-.299-.236-.541 1.625.525c.909.301 1.81.611 2.703.93l1.335.487 1.324.5-.4-.398c-.392-.4-.766-.806-1.12-1.219a81.77 81.77 0 00-4.845-1.181l-.77-.155-.091-.075-.216-.552.138-.164.692.134c.926.186 1.873.4 2.855.646l.743.19-4.78-1.886-.07-.074-.298-.863 5.155 2.05-.269-.388a17.112 17.112 0 01-.488-.77l-.225-.385-4.295-1.052-.086-.08-.182-.55.147-.158 3.975 1.01-.154-.314-.147-.316L6.76 16l-.072-.075-.317-.928-.017-.071.16-.143 3.877 1.328-.052-.108-.054-.116-.052-.123-4.077-1.816-.068-.08-.102-.377-.02-.042a.114.114 0 00-.074-.041zm5.059 12.397l20.87 8.426-.467.06-.54.064-.175.019.01.002-.328.028-.699.053-.44.025-.448.018-14.502-4.91-.202-.181-.355-.334-.31-.31-.354-.365 15.16 5.138-16.368-6.602a9.298 9.298 0 01-.32-.396l-.145-.194-.387-.54zm3.377 3.921l10.263 4.59-1.006-.185a22.441 22.441 0 01-2.129-.495l-.516-.154-3.883-1.735a17.885 17.885 0 01-1.634-1.13l-.388-.31-.707-.58zm2.994-2.561l3.456 1.309 1.2.445-.55-.337-.537-.343a178.07 178.07 0 00-2.38-.725l-1.189-.35zm-3.95-3.095l1.634.654 1.182.46 1.144.434-.059-.05-1.297-.515-.653-.253-.655-.25-1.296-.48zm2.353.093l.188.179.308.122-.193-.183-.303-.118zm-3.014-2.773l.767.302.217.061-.1-.126-.884-.237zm.181-.703l-.174-.07.11.15.17.069-.106-.15zM4.286.98l.01.736c.025 4.164-.555 8.238-1.67 11.907-.282.93-.622 1.812-.973 2.51l-.132.252-.13.231.07-.112.155-.266.082-.151.083-.16.14-.064.563.142.003-.02c.003-.011.008-.019.022-.029l.075-.043.229-.126.394-.226a6.22 6.22 0 00.74-.501l.125-.104-1.502-.587-.072-.156.106-.304.096-.297.158-.08 1.934.664.133-.184.128-.195.115-.317-2.058-.934-.068-.144.128-.46.016-.007-.01-.02.109-.459.157-.088 5.586 1.78-.676-.332-.256-.123-.823-.386-3.508-1.599-.182-.084-.069-.137.1-.52.173-.088 1.108.509c.61.282 1.227.57 1.853.865l.946.447 1.786.849-.022-.258v-.061l.01-.059-5.666-2.69-.068-.134.088-.462.174-.09 8.563 4.06.21.003.22-.001 1.116-.039.197-.005c.25-.005.46-.003.658.007a11.406 11.406 0 01-1.465-.966l-.266-.206-9.278-2.92-.085-.136.07-.459.158-.099 7.777 2.445-.342-.32-.335-.323L8.732 8.76 4.21 6.73l-.072-.125.05-.466.173-.1 5.495 2.454-.096-.102-.522-.575a38.552 38.552 0 01-1.011-1.183c-.993-.31-2.03-.623-3.085-.919l-.793-.218-.09-.13.031-.457.082-.06-.07-.113.032-.48.17-.107 2.637 1.113-.116-.152-.396-.538-.385-.54-.586-.144-1.2-.306-.093-.124.018-.642.156-.116.854.248.142.042-.273-.421-.255-.02-.256-.036-.253-.042-.103-.122-.004-.337.06-.05-.061-.086-.005-.338.16-.119-.26-.44zm5.632 13.887l.04.13.074.034.032-.011-.032-.1-.114-.053zm-4.894-2.221l4.894 2.22-.026-.084-.085-.316-.077-.322-4.706-1.498zm4.456-.077l.012.12.448.21-.356-.17-.014-.12-.09-.04zm.767-.46l.104.092.233.195.14.11-.121-.098a6.117 6.117 0 01-.307-.27.137.137 0 00-.049-.028z"/></symbol><symbol id="dropdown-close" viewBox="0 0 16 16"><path d="M5.54 9.92 8 7.46l2.46 2.46L11.6 8.8 8 5.2 4.4 8.8l1.14 1.12ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8s-.62-3.3-1.86-4.54C11.3 2.22 9.787 1.6 8 1.6s-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="dropdown-open" viewBox="0 0 16 16"><path d="m8 10.8 3.6-3.6-1.14-1.12L8 8.54 5.54 6.08 4.4 7.2 8 10.8ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8s-.62-3.3-1.86-4.54C11.3 2.22 9.787 1.6 8 1.6s-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="dropdown" viewBox="0 0 16 16"><path d="M8 10.95c-.133 0-.258-.02-.375-.063a.878.878 0 0 1-.325-.212l-4.6-4.6a.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275l3.9 3.9 3.9-3.9a.948.948 0 0 1 .7-.275c.283 0 .517.092.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7l-4.6 4.6c-.1.1-.208.17-.325.212A1.106 1.106 0 0 1 8 10.95Z"/></symbol><symbol id="dropup" viewBox="0 0 16 16"><path d="m8 6.775-3.9 3.9a.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275.948.948 0 0 1-.275-.7c0-.283.092-.517.275-.7l4.6-4.6c.1-.1.208-.17.325-.213.117-.041.242-.062.375-.062s.258.02.375.062a.877.877 0 0 1 .325.213l4.6 4.6a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275L8 6.775Z"/></symbol><symbol id="electric-bike" viewBox="0 0 16 15"><path d="M12.667 4h-.547L10.987.88A1.339 1.339 0 0 0 9.733 0H8v1.333h1.733L10.707 4H7.5l-.24-.667H8V2H4.667v1.333h1.166l1.214 3.334H6.6a3.287 3.287 0 0 0-3.1-2.66C1.633 3.913 0 5.467 0 7.333a3.301 3.301 0 0 0 3.333 3.334C4.973 10.667 6.3 9.54 6.6 8h2.8a3.287 3.287 0 0 0 3.1 2.66c1.867.087 3.5-1.46 3.5-3.333A3.3 3.3 0 0 0 12.667 4ZM5.213 8a1.966 1.966 0 0 1-1.88 1.333c-1.12 0-2-.88-2-2s.88-2 2-2c.887 0 1.614.554 1.88 1.334h-1.88V8h1.88ZM9.4 6.667h-.933L7.98 5.333H10a3.156 3.156 0 0 0-.6 1.334Zm3.267 2.666c-1.12 0-2-.88-2-2 0-.62.273-1.153.7-1.52l.64 1.76 1.253-.453-.647-1.78c.014 0 .034-.007.054-.007 1.12 0 2 .88 2 2s-.88 2-2 2Zm-5.334 3.334H4.667l4 2v-1.334h2.666l-4-2v1.334Z"/></symbol><symbol id="electric-car" viewBox="0 0 14 16"><path d="M12.033.735A1.087 1.087 0 0 0 11 0H3c-.48 0-.88.305-1.033.735L.455 5.09v5.818c0 .4.327.727.727.727h.727a.73.73 0 0 0 .727-.727v-.727h8.728v.727c0 .4.327.727.727.727h.727a.73.73 0 0 0 .727-.727V5.091L12.033.735Zm-8.778.72h7.483l.786 2.261H2.469l.786-2.261Zm8.836 7.272H1.909V5.091h10.182v3.636Z"/><path d="M3.727 8a1.09 1.09 0 1 0 0-2.182 1.09 1.09 0 0 0 0 2.182Zm6.546 0a1.09 1.09 0 1 0 0-2.182 1.09 1.09 0 0 0 0 2.182Zm-6.909 5.818h2.909v-1.454l4.363 2.181H7.727V16l-4.363-2.182Z"/></symbol><symbol id="electric-scooter" viewBox="0 0 16 16"><path d="M13.6 1.6C13.6.72 12.88 0 12 0H9.6v1.6H12v2.12L9.216 7.2H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.4v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.28V1.6Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 9.6c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4.8h-4v1.6h4V.8Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Zm-9.6 4h3.2V12l4.8 2.4H8.8V16L4 13.6Z"/></symbol><symbol id="email-notification" viewBox="0 0 16 16"><path d="M16 6.384V13.6c0 .88-.72 1.6-1.6 1.6H1.6c-.88 0-1.6-.72-1.6-1.6L.008 4c0-.88.712-1.6 1.592-1.6h8.08c-.048.256-.08.528-.08.8s.032.544.08.8H1.6L8 8l2.936-1.832c.376.344.816.608 1.304.784L8 9.6l-6.4-4v8h12.8V7.12a3.962 3.962 0 0 0 1.6-.736ZM11.2 3.2c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4C16 1.872 14.928.8 13.6.8a2.397 2.397 0 0 0-2.4 2.4Z"/></symbol><symbol id="email-open" viewBox="0 0 16 16"><g filter="url(#filter0_d_1426_12797)" clip-path="url(#clip0_1426_12797)"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.572 10.531 1.405 6.913l.746-1.065 5.167 3.619c.41.287.955.287 1.364 0l5.167-3.62.746 1.066-5.167 3.618c-.857.601-1.999.6-2.856 0ZM1.3 6.647v6.562c0 .805.653 1.458 1.459 1.458H13.24c.806 0 1.459-.653 1.459-1.458V6.647a.999.999 0 0 0-.393-.795L8.606 1.505a.999.999 0 0 0-1.212 0l-5.7 4.347a.999.999 0 0 0-.394.795Zm-1.3 0c0-.717.335-1.394.905-1.828L6.605.47a2.299 2.299 0 0 1 2.79 0l5.7 4.348c.57.434.905 1.11.905 1.828v6.562a2.759 2.759 0 0 1-2.759 2.758H2.76A2.759 2.759 0 0 1 0 13.21V6.647Z"/></g></symbol><symbol id="email" viewBox="0 0 16 13"><path d="M16 1.6c0-.88-.72-1.6-1.6-1.6H1.6C.72 0 0 .72 0 1.6v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6V1.6Zm-1.6 0L8 5.6l-6.4-4h12.8Zm0 9.6H1.6v-8l6.4 4 6.4-4v8Z"/></symbol><symbol id="euro" viewBox="0 0 17 16"><path d="M11.447 13.473a5.457 5.457 0 0 1-4.85-2.947h4.85l.843-1.684H6.04A5.587 5.587 0 0 1 5.974 8c0-.286.025-.564.067-.842h5.406l.843-1.684H6.597a5.466 5.466 0 0 1 8.412-1.626l1.491-1.49A7.541 7.541 0 0 0 11.447.42c-3.3 0-6.096 2.114-7.14 5.053H1.341L.5 7.158h3.419a6.956 6.956 0 0 0 0 1.684H1.342L.5 10.526h3.806c1.045 2.94 3.84 5.053 7.141 5.053a7.525 7.525 0 0 0 5.053-1.937l-1.499-1.49a5.394 5.394 0 0 1-3.554 1.322Z"/></symbol><symbol id="eu" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2.343 2.343l1.227.625.974-.973-.216 1.36 1.227.625-1.36.215-.215 1.36-.625-1.227-1.36.216.973-.974-.625-1.227zM8 0l.426 1.31h1.376l-1.114.809.426 1.31L8 2.619l-1.114.81.425-1.31-1.114-.81h1.377L8 0zM1.31 7.574V6.197l.809 1.114 1.31-.425L2.619 8l.81 1.114-1.31-.426-.81 1.114V8.425L0 8l1.31-.426zm1.033 6.083l.625-1.227-.973-.974 1.36.216.625-1.227.215 1.36 1.36.215-1.227.625.216 1.36-.974-.973-1.227.625zm11.314 0l-1.227-.625-.974.973.216-1.36-1.227-.625 1.36-.215.215-1.36.625 1.227 1.36-.216-.973.974.625 1.227zM8 13.38l1.114-.81-.426 1.31 1.114.81H8.425L8 16l-.426-1.31H6.197l1.115-.809-.426-1.31 1.114.81zm5.881-6.07l.81-1.114v1.377L16 8l-1.31.425v1.377l-.809-1.114-1.31.426.81-1.114-.81-1.114 1.31.425zm-.224-4.968l-.625 1.227.973.974-1.36-.216-.625 1.227-.215-1.36-1.36-.215 1.227-.625-.216-1.36.974.973 1.227-.625z"/>\n</symbol><symbol id="exchange" viewBox="0 0 16 14"><path d="M3.547 6.111 0 9.667l3.547 3.555v-2.666h6.23V8.778h-6.23V6.11ZM16 4.333 12.453.778v2.667h-6.23v1.777h6.23V7.89L16 4.333Z"/></symbol><symbol id="eye-closed" viewBox="0 0 16 16"><path d="M10.982 8.337 9.927 7.282c.11-.57-.054-1.103-.49-1.6-.437-.497-1-.69-1.692-.582L6.691 4.046c.206-.097.415-.17.627-.219.212-.048.44-.072.682-.072.91 0 1.682.318 2.318.954a3.16 3.16 0 0 1 .955 2.318c0 .243-.024.47-.073.682a3.085 3.085 0 0 1-.218.628Zm2.327 2.29L12.255 9.61c.46-.351.87-.736 1.227-1.154.357-.418.664-.894.918-1.428a7.15 7.15 0 0 0-2.61-2.918C10.659 3.39 9.395 3.027 8 3.027a7.04 7.04 0 0 0-2.036.291L4.836 2.191A8.059 8.059 0 0 1 8 1.573c1.83 0 3.46.506 4.89 1.518A8.656 8.656 0 0 1 16 7.027a8.508 8.508 0 0 1-1.1 1.991 8.003 8.003 0 0 1-1.59 1.61Zm.364 4.473-3.055-3.018a8.737 8.737 0 0 1-1.282.3c-.43.067-.875.1-1.336.1-1.83 0-3.46-.506-4.89-1.518A8.656 8.656 0 0 1 0 7.027a8.62 8.62 0 0 1 .964-1.79A8.374 8.374 0 0 1 2.29 3.755l-2-2.037L1.309.7l13.382 13.382-1.018 1.018ZM3.309 4.773a7.81 7.81 0 0 0-.964 1.036c-.29.376-.539.782-.745 1.218a7.15 7.15 0 0 0 2.61 2.919c1.132.72 2.396 1.082 3.79 1.082.242 0 .479-.016.71-.046.23-.03.466-.064.708-.1l-.654-.69a3.395 3.395 0 0 1-.382.08A2.57 2.57 0 0 1 8 10.3c-.91 0-1.682-.318-2.318-.954-.637-.637-.955-1.41-.955-2.319 0-.133.01-.26.028-.381.018-.122.045-.249.081-.382L3.31 4.773Z"/></symbol><symbol id="eye" viewBox="0 0 16 11"><path d="M8 1.5a7.105 7.105 0 0 1 6.415 4A7.1 7.1 0 0 1 8 9.5a7.098 7.098 0 0 1-6.415-4c1.2-2.451 3.659-4 6.415-4ZM8 .045C4.364.045 1.258 2.307 0 5.5c1.258 3.193 4.364 5.454 8 5.454s6.742-2.261 8-5.454C14.742 2.307 11.636.045 8 .045Zm0 3.637a1.819 1.819 0 1 1-.001 3.637A1.819 1.819 0 0 1 8 3.682Zm0-1.455A3.278 3.278 0 0 0 4.727 5.5 3.278 3.278 0 0 0 8 8.773 3.278 3.278 0 0 0 11.273 5.5 3.278 3.278 0 0 0 8 2.227Z"/></symbol><symbol id="face-id" viewBox="0 0 16 16"><path d="M13.6 1.6h-3.344A2.408 2.408 0 0 0 8 0C6.96 0 6.08.672 5.744 1.6H2.4c-.88 0-1.6.72-1.6 1.6v11.2c0 .88.72 1.6 1.6 1.6h11.2c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6ZM8 1.4a.6.6 0 0 1 .44.2c.096.104.16.248.16.4 0 .328-.272.6-.6.6a.604.604 0 0 1-.6-.6c0-.152.064-.296.16-.4A.6.6 0 0 1 8 1.4Zm5.6 13H2.4V3.2h11.2v11.2ZM8 4C6.68 4 5.6 5.08 5.6 6.4c0 1.32 1.08 2.4 2.4 2.4 1.32 0 2.4-1.08 2.4-2.4C10.4 5.08 9.32 4 8 4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Zm-4.8 5.176V13.6h9.6v-1.224c0-2-3.176-2.864-4.8-2.864-1.624 0-4.8.856-4.8 2.864ZM5.048 12c.552-.448 1.904-.896 2.952-.896s2.408.448 2.952.896H5.048Z"/></symbol><symbol id="file-add" viewBox="0 0 14 16"><path d="M7.8 7.2H6.2v2.4H3.8v1.6h2.4v2.4h1.6v-2.4h2.4V9.6H7.8V7.2ZM8.6 0H2.2C1.32 0 .6.72.6 1.6v12.8c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.6v4h4v8.8Z"/></symbol><symbol id="file-duotone" viewBox="0 0 15 16"><g clip-path="url(#clip0_11387_16837)"><path opacity=".242" fill-rule="evenodd" clip-rule="evenodd" d="M1 2S2.837.25 3.45.25h5.694l5.372 5-.066 8c0 .131-.596 1.085-.651 1.207a1 1 0 0 1-.24.325 1.121 1.121 0 0 1-.36.217c-.133.05-1.354.708-1.5.708l-8.75.043c.001 0-1.15-.484-1.284-.534A1.12 1.12 0 0 1 1.306 15a.997.997 0 0 1-.24-.325C1.011 14.553.45 13.381.45 13.25.477 6.251 1 2 1 2Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3.4 0A3.2 3.2 0 0 0 .2 3.2v9.6A3.2 3.2 0 0 0 3.4 16h8a3.2 3.2 0 0 0 3.2-3.2V5.2L9.4 0h-6Zm0 1a2.2 2.2 0 0 0-2.2 2.2v9.6A2.2 2.2 0 0 0 3.4 15h8a2.2 2.2 0 0 0 2.2-2.2V5.614L8.986 1H3.4Z"/><path d="M14.6 5.4 9.2 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88Z"/></g></symbol><symbol id="file-new" viewBox="0 0 14 16"><path d="M7.8 7.2H6.2v2.4H3.8v1.6h2.4v2.4h1.6v-2.4h2.4V9.6H7.8V7.2ZM8.6 0H2.2C1.32 0 .6.72.6 1.6v12.8c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.6v4h4v8.8Z"/></symbol><symbol id="file-none" viewBox="0 0 16 16">\n  \n  <g fill-rule="evenodd">\n    <use xlink:href="#file-none-a"/>\n  </g>\n</symbol><symbol id="file-outline" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0ZM2.2 14.4V1.6h5.6v4h4v8.8H2.2Z"/></symbol><symbol id="file" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0ZM2.2 14.4V1.6h5.6v4h4v8.8H2.2Z"/></symbol><symbol id="filter" viewBox="0 0 17 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.725 4.113a2.608 2.608 0 0 0 4.957 0h7.409a.809.809 0 1 0 0-1.617H8.682a2.608 2.608 0 0 0-4.958 0H1.71a.809.809 0 1 0 0 1.617h2.016Zm2.478-1.797a.989.989 0 1 0 0 1.977.989.989 0 0 0 0-1.977ZM.9 10.495c0-.446.362-.808.809-.808h7.409a2.608 2.608 0 0 1 4.957 0h2.016a.809.809 0 1 1 0 1.618h-2.016a2.608 2.608 0 0 1-4.957 0H1.709a.809.809 0 0 1-.809-.81Zm9.708 0a.989.989 0 1 1 1.977 0 .989.989 0 0 1-1.977 0Z"/></symbol><symbol id="fingerprint" viewBox="0 0 16 16"><path d="M12.65 1.976a.372.372 0 0 1-.184-.048C10.93 1.136 9.602.8 8.01.8a9.152 9.152 0 0 0-4.456 1.128.407.407 0 0 1-.544-.16.405.405 0 0 1 .16-.544A10.045 10.045 0 0 1 8.01 0c1.704 0 3.192.376 4.824 1.216.2.104.272.344.168.536a.392.392 0 0 1-.352.224Zm-11.448 4.2a.399.399 0 0 1-.328-.632c.792-1.12 1.8-2 3-2.616 2.512-1.296 5.728-1.304 8.248-.008a8.303 8.303 0 0 1 3 2.6.4.4 0 0 1-.096.56.399.399 0 0 1-.56-.096 7.51 7.51 0 0 0-2.712-2.352c-2.296-1.176-5.232-1.176-7.52.008a7.59 7.59 0 0 0-2.72 2.368.349.349 0 0 1-.312.168Zm5 9.656a.375.375 0 0 1-.28-.12c-.696-.696-1.072-1.144-1.608-2.112-.552-.984-.84-2.184-.84-3.472 0-2.376 2.032-4.312 4.528-4.312 2.496 0 4.528 1.936 4.528 4.312 0 .224-.176.4-.4.4a.396.396 0 0 1-.4-.4c0-1.936-1.672-3.512-3.728-3.512s-3.728 1.576-3.728 3.512c0 1.152.256 2.216.744 3.08.512.92.864 1.312 1.48 1.936a.41.41 0 0 1 0 .568.439.439 0 0 1-.296.12Zm5.736-1.48c-.952 0-1.792-.24-2.48-.712-1.192-.808-1.904-2.12-1.904-3.512 0-.224.176-.4.4-.4.224 0 .4.176.4.4 0 1.128.576 2.192 1.552 2.848.568.384 1.232.568 2.032.568.192 0 .512-.024.832-.08a.399.399 0 0 1 .464.328.399.399 0 0 1-.328.464 5.463 5.463 0 0 1-.968.096ZM10.33 16a.468.468 0 0 1-.104-.016c-1.272-.352-2.104-.824-2.976-1.68a5.837 5.837 0 0 1-1.736-4.176c0-1.296 1.104-2.352 2.464-2.352 1.36 0 2.464 1.056 2.464 2.352 0 .856.744 1.552 1.664 1.552.92 0 1.664-.696 1.664-1.552 0-3.016-2.6-5.464-5.8-5.464-2.272 0-4.352 1.264-5.288 3.224-.312.648-.472 1.408-.472 2.24 0 .624.056 1.608.536 2.888a.39.39 0 0 1-.232.512.397.397 0 0 1-.512-.232 8.913 8.913 0 0 1-.584-3.168c0-.96.184-1.832.544-2.592 1.064-2.232 3.424-3.68 6.008-3.68 3.64 0 6.6 2.808 6.6 6.264 0 1.296-1.104 2.352-2.464 2.352-1.36 0-2.464-1.056-2.464-2.352 0-.856-.744-1.552-1.664-1.552-.92 0-1.664.696-1.664 1.552 0 1.368.528 2.648 1.496 3.608.76.752 1.488 1.168 2.616 1.48.216.056.336.28.28.488a.39.39 0 0 1-.376.304Z"/></symbol><symbol id="fitness" viewBox="0 0 16 16"><path d="M14.856 10.288 16 9.144 14.856 8 12 10.856 5.144 4 8 1.144 6.856 0 5.712 1.144 4.568 0 2.856 1.712 1.712.568.568 1.712l1.144 1.144L0 4.568l1.144 1.144L0 6.856 1.144 8 4 5.144 10.856 12 8 14.856 9.144 16l1.144-1.144L11.432 16l1.712-1.712 1.144 1.144 1.144-1.144-1.144-1.144L16 11.432l-1.144-1.144Z"/></symbol><symbol id="flag-outlined" viewBox="0 0 15 17"><path d="m7.368 2.382.377 1.883h4.932v5.647H9.514l-.376-1.883H2.324V2.382h5.044ZM8.912.5H.442v16h1.882V9.912h5.27l.377 1.882h6.588V2.382h-5.27L8.911.5Z"/></symbol><symbol id="flag" viewBox="0 0 15 17"><path d="m7.368 2.382.377 1.883h4.932v5.647H9.514l-.376-1.883H2.324V2.382h5.044ZM8.912.5H.442v16h1.882V9.912h5.27l.377 1.882h6.588V2.382h-5.27L8.911.5Z"/></symbol><symbol id="flash-auto" viewBox="0 0 15 17"><path d="M.286.5v9.143H2.57V16.5l5.334-9.143H4.857L7.905.5H.285Zm12.19 0h-1.524L8.514 7.357h1.448l.533-1.524h2.438l.534 1.524h1.447L12.476.5Zm-1.638 4.305.876-2.781.877 2.78h-1.753Z"/></symbol><symbol id="flashlight" viewBox="0 0 10 16"><path d="M9.8 0H.2v4.8l1.6 2.4V16h6.4V7.2l1.6-2.4V0ZM8.2 1.6v.8H1.8v-.8h6.4ZM6.6 6.72v7.68H3.4V6.712l-1.6-2.4V4h6.4v.312L6.6 6.72Z"/><path d="M5 10.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="folder-add" viewBox="0 0 16 14"><path d="M9.6 10.2h1.6V8.6h1.6V7h-1.6V5.4H9.6V7H8v1.6h1.6v1.6Zm-8 3.2a1.54 1.54 0 0 1-1.13-.47A1.54 1.54 0 0 1 0 11.8V2.2c0-.44.157-.817.47-1.13A1.54 1.54 0 0 1 1.6.6h4.8L8 2.2h6.4c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13v8c0 .44-.157.817-.47 1.13a1.54 1.54 0 0 1-1.13.47H1.6Zm0-1.6h12.8v-8H7.34l-1.6-1.6H1.6v9.6Z"/></symbol><symbol id="folder-moveto" viewBox="0 0 16 14"><path d="M14.4 2.2H8L6.4.6H1.6C.72.6 0 1.32 0 2.2v9.6c0 .88.72 1.6 1.6 1.6h12.8c.88 0 1.6-.72 1.6-1.6v-8c0-.88-.72-1.6-1.6-1.6Zm0 9.6H1.6V2.2h4.136l1.6 1.6H14.4v8ZM8.128 7H4.8v1.6h3.328L6.856 9.872 7.992 11 11.2 7.808 7.992 4.6 6.864 5.728 8.128 7Z"/></symbol><symbol id="folder-open" viewBox="0 0 17 12"><path d="M2.238 11.953c-.409 0-.76-.145-1.05-.437a1.433 1.433 0 0 1-.438-1.051v-8.93c0-.41.146-.76.437-1.051A1.433 1.433 0 0 1 2.238.046h4.465l1.489 1.489h5.953c.41 0 .76.146 1.052.437.291.291.437.642.437 1.051H7.578L6.09 1.535H2.238v8.93l1.786-5.954H16.75l-1.916 6.382c-.1.322-.282.58-.55.772a1.478 1.478 0 0 1-.883.288H2.238Zm1.563-1.488h9.6L14.741 6h-9.6L3.8 10.465Z"/></symbol><symbol id="folder" viewBox="0 0 16 14"><path d="M1.6 13.4a1.54 1.54 0 0 1-1.13-.47A1.54 1.54 0 0 1 0 11.8V2.2c0-.44.157-.817.47-1.13A1.54 1.54 0 0 1 1.6.6h4.8L8 2.2h6.4c.44 0 .817.157 1.13.47.313.313.47.69.47 1.13v8c0 .44-.157.817-.47 1.13a1.54 1.54 0 0 1-1.13.47H1.6Z"/></symbol><symbol id="forbidden" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM1.6 8c0-3.536 2.864-6.4 6.4-6.4 1.48 0 2.84.504 3.92 1.352L2.952 11.92A6.322 6.322 0 0 1 1.6 8ZM8 14.4c-1.48 0-2.84-.504-3.92-1.352l8.968-8.968A6.322 6.322 0 0 1 14.4 8c0 3.536-2.864 6.4-6.4 6.4Z"/></symbol><symbol id="from-user" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM4.28 13.2A6.353 6.353 0 0 1 8 12c1.392 0 2.672.448 3.72 1.2A6.353 6.353 0 0 1 8 14.4a6.353 6.353 0 0 1-3.72-1.2Zm8.632-1.104a7.957 7.957 0 0 0-9.824 0A6.365 6.365 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 1.56-.56 2.984-1.488 4.096Z"/><path d="M8 3.2A2.803 2.803 0 0 0 5.2 6c0 1.544 1.256 2.8 2.8 2.8 1.544 0 2.8-1.256 2.8-2.8 0-1.544-1.256-2.8-2.8-2.8Zm0 4c-.664 0-1.2-.536-1.2-1.2 0-.664.536-1.2 1.2-1.2.664 0 1.2.536 1.2 1.2 0 .664-.536 1.2-1.2 1.2Z"/></symbol><symbol id="gear" viewBox="0 0 17 16"><path d="M7.245 16a.748.748 0 0 1-.52-.2.797.797 0 0 1-.26-.5l-.24-1.86a3.042 3.042 0 0 1-.49-.24 6.571 6.571 0 0 1-.45-.3l-1.74.72a.787.787 0 0 1-1-.32l-1.48-2.58a.752.752 0 0 1-.1-.56c.04-.2.14-.36.3-.48l1.5-1.14a1.91 1.91 0 0 1-.02-.27v-.54c0-.087.007-.177.02-.27l-1.5-1.14a.768.768 0 0 1-.3-.48.752.752 0 0 1 .1-.56l1.48-2.58a.787.787 0 0 1 1-.32l1.74.72c.147-.107.3-.207.46-.3.16-.093.32-.173.48-.24L6.465.7a.797.797 0 0 1 .26-.5.75.75 0 0 1 .52-.2h3c.2 0 .374.067.52.2.147.133.234.3.26.5l.24 1.86c.174.067.337.147.49.24.154.093.304.193.45.3l1.74-.72a.787.787 0 0 1 1 .32l1.48 2.58a.75.75 0 0 1 .1.56c-.04.2-.14.36-.3.48l-1.5 1.14c.014.093.02.183.02.27v.54a.984.984 0 0 1-.04.27l1.5 1.14c.16.12.26.28.3.48a.75.75 0 0 1-.1.56l-1.48 2.56a.832.832 0 0 1-.45.36.766.766 0 0 1-.57-.02l-1.7-.72a5.44 5.44 0 0 1-.46.3c-.16.093-.32.173-.48.24l-.24 1.86a.798.798 0 0 1-.26.5.748.748 0 0 1-.52.2h-3Zm.7-1.6h1.58l.28-2.12a4.486 4.486 0 0 0 1.15-.47c.354-.207.677-.457.97-.75l1.98.82.78-1.36-1.72-1.3a2.83 2.83 0 0 0 .14-.59 4.93 4.93 0 0 0 0-1.26 2.83 2.83 0 0 0-.14-.59l1.72-1.3-.78-1.36-1.98.84a4.445 4.445 0 0 0-.97-.77 4.486 4.486 0 0 0-1.15-.47l-.26-2.12h-1.58l-.28 2.12a4.484 4.484 0 0 0-1.15.47 4.78 4.78 0 0 0-.97.75l-1.98-.82-.78 1.36 1.72 1.28c-.066.2-.113.4-.14.6a4.848 4.848 0 0 0 0 1.26c.027.2.074.4.14.6l-1.72 1.3.78 1.36 1.98-.84c.294.307.617.563.97.77a4.5 4.5 0 0 0 1.15.47l.26 2.12Zm.84-3.6c.774 0 1.434-.273 1.98-.82.547-.547.82-1.207.82-1.98 0-.773-.273-1.433-.82-1.98a2.698 2.698 0 0 0-1.98-.82c-.786 0-1.45.273-1.99.82A2.715 2.715 0 0 0 5.985 8c0 .773.27 1.433.81 1.98.54.547 1.204.82 1.99.82Z"/></symbol><symbol id="globe" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8ZM1.6 8c0-.488.064-.968.168-1.424L5.592 10.4v.8c0 .88.72 1.6 1.6 1.6v1.544C4.048 13.944 1.6 11.256 1.6 8Zm11.112 4.32a1.594 1.594 0 0 0-1.52-1.12h-.8V8.8c0-.44-.36-.8-.8-.8h-4.8V6.4h1.6c.44 0 .8-.36.8-.8V4h1.6c.88 0 1.6-.72 1.6-1.6v-.328A6.403 6.403 0 0 1 14.4 8a6.393 6.393 0 0 1-1.688 4.32Z"/></symbol><symbol id="gouv" viewBox="0 0 16 16"><g clip-path="url(#clip0_3250_157)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.547 11.767c-.14.185-.278.324-.418.463-.102.102-.295.223-.478.338-.232.144-.449.28-.449.357l-.363.169C1.967 13.497.402 14.22.003 14.5V16H15.2c-.043-.021-.142-.092-.3-.205-.532-.38-1.734-1.236-3.724-2.313a11.965 11.965 0 0 0-.96-.365c-.21-.072-.364-.125-.384-.145-.14-.093-.232-.603-.047-1.16.01-.026.018-.054.028-.084.038-.124.083-.266.158-.379v-.046a.971.971 0 0 1 .185-.278v-.047c.047 0 .047-.046.047-.046l.046-.046a.722.722 0 0 1 .175-.186c.036-.03.072-.062.103-.092a.676.676 0 0 1 .165-.051c.047-.01.099-.022.16-.042.25 0 .5.05.75.1.168.033.335.067.501.085.047 0 .093 0 .14.047.139 0 .324 0 .463-.047.186-.046.371-.139.464-.37.092-.186.139-.372.046-.557-.13-.163-.009-.257.107-.347a.57.57 0 0 0 .125-.117c.03-.091 0-.143-.037-.207-.019-.033-.04-.07-.056-.117-.019-.019-.045-.022-.073-.026-.04-.006-.085-.012-.112-.067.185-.093.463-.232.324-.463-.092-.14-.185-.325-.046-.464a.587.587 0 0 1 .203-.066c.122-.025.25-.051.307-.166.11-.221-.043-.443-.18-.64-.036-.051-.07-.1-.098-.148-.062-.124-.124-.206-.186-.288a2.716 2.716 0 0 1-.133-.19c-.089-.13-.198-.29-.238-.45a.753.753 0 0 1 .017-.333c.015-.074.03-.148.03-.223 0-.37-.093-.741-.186-1.112a1.3 1.3 0 0 1-.092-.278c-.024-.093-.047-.186-.093-.278a.694.694 0 0 1-.036-.093.421.421 0 0 0-.103-.186.14.14 0 0 1 0-.185c.092-.046.185-.14.278-.232.093-.139.046-.278-.093-.37-.106-.027-.136.037-.168.106-.025.051-.05.105-.11.125h-.093c0-.046.047-.093.093-.14 0-.045 0-.092-.046-.092a.354.354 0 0 1-.232-.092c-.232-.325-.603-.51-.974-.65.047 0 .093.012.14.024.046.011.092.023.139.023.185.046.37.046.51-.047.08-.04.125-.182.165-.31l.02-.06c.039-.078-.02-.19-.068-.278l-.025-.047c-.093-.185-.278-.324-.463-.417l-.371-.186C11.269.64 11.315 0 11.315 0H7.04S6.4.32 5.613.872l-.105.051c-.25.124-.52.256-.683.459-.186.232-.371.51-.464.788-.286.164-.465.436-.63.69l-.065.098a6.625 6.625 0 0 1-.162.271c-.195.315-.384.62-.348.98.039.353.111.672.189 1.014l.043.192c0 .045.004.09.01.136a.877.877 0 0 1-.01.328c.018.073.022.138.025.2.006.094.011.179.067.263a.686.686 0 0 1 .033.082c.022.062.041.118.106.15v.093c.024 0 .035.011.047.023.011.012.023.023.046.023v.093c.048.06.1.12.152.181.148.174.302.355.405.56.046.186-.232.093-.371.047-.222-.11-.356-.251-.495-.398l-.108-.112s-.046 0-.046.046c.032.066.1.132.165.195.12.116.233.226.113.315-.047.047-.105.035-.163.024-.057-.012-.115-.024-.162.023-.03.03-.02.062-.01.093a.15.15 0 0 1 .01.046.692.692 0 0 0-.291-.067c-.06-.004-.116-.007-.172-.026-.039-.019-.061-.062-.084-.105-.033-.063-.066-.127-.148-.127a6.564 6.564 0 0 0-.927-.185l-.245-.03C.998 7.24.655 7.194.282 7.27A.722.722 0 0 0 0 7.33v.4c.07-.018.139-.037.205-.056.106-.03.207-.06.308-.08.128-.016.25-.043.371-.07.214-.047.422-.093.645-.074-.323.021-.646.13-.97.237-.121.035-.237.056-.349.077a4.91 4.91 0 0 0-.21.043v.12c.54.025 1.076.115 1.58.27.185.046.417.139.602.278a.454.454 0 0 1 .116.093c.035.034.07.07.116.092a.45.45 0 0 0 .417.047h.14l.052-.013c.357-.09.747-.186.967-.45 0 .045 0 .045.047.045a1.29 1.29 0 0 0-.083.245.999.999 0 0 1-.15.358s0 .047.047.093h.047s-.047 0-.047.046c0 .023.012.023.03.023.017 0 .04 0 .063.024a.42.42 0 0 0-.325.139c0 .046.047.046.093.046-.023.023-.046.035-.07.046a.242.242 0 0 0-.069.047s0 .046.046.046c0 0-.046 0-.046.046v.093c-.046 0-.093.047-.139.093.062.062.124.041.185.02a.3.3 0 0 1 .093-.02c-.139.046-.266.104-.394.162a4.007 4.007 0 0 1-.394.162c-.023 0-.023.024-.023.047s0 .046-.023.046c.025.025.05.01.081-.01a.196.196 0 0 1 .104-.036c-.114.065-.234.13-.358.198-.228.124-.468.254-.708.405 0 0-.046.046-.046.092h-.093c-.026 0-.038.03-.05.063-.011.027-.023.056-.043.076.072.048.144.022.209-.002.061-.022.117-.043.162.002.046 0-.046.047-.093.047 0 0 0 .046-.046.046h-.278c-.013.012-.025.021-.037.03-.031.023-.056.041-.056.11-.046 0-.093 0-.14.046a8.3 8.3 0 0 1 .362-.023c.419-.02.868-.041 1.262-.256.417-.232.788-.463 1.112-.834 0 0 .047 0 .047.046a1.266 1.266 0 0 1-.418.556.622.622 0 0 0-.185.116.622.622 0 0 1-.186.116c-.046.024-.08.047-.115.07-.035.023-.07.046-.116.07-.356.124-.739.18-1.12.236-.613.09-1.222.18-1.708.552 0-.047 0-.047-.047-.047l-.139.14h.093c.139-.093.278-.14.417-.186L.7 11.72l-.278.14a.64.64 0 0 0-.186.138v.047c-.046 0-.046.046-.046.046v.046c-.047 0-.047.047-.047.047v.046h.093c.068.034.111-.032.148-.088.013-.02.025-.039.038-.051.023-.023.046-.035.07-.046a.242.242 0 0 0 .069-.047l-.047.047c0 .046.047.046.047.046a2.55 2.55 0 0 0-.418.325H.19v.046c-.023.023-.035.046-.047.07a.243.243 0 0 1-.046.069c-.029 0-.04.018-.055.042-.009.015-.02.033-.038.05L0 12.698v.136h.05c.139-.093.278-.232.417-.371h.046c.07-.046.14-.104.209-.162.07-.058.139-.116.209-.163a.64.64 0 0 0 .185-.139l.046-.046c.113-.075.255-.12.38-.158l.084-.027h.046c.14-.024.29-.047.44-.07.151-.023.302-.046.441-.07.186 0 .371 0 .603-.046.11-.027.204-.072.291-.112.06-.028.116-.055.172-.073v.046c.186-.07.348-.185.51-.301.163-.116.325-.232.51-.302.019 0 .037.015.056.03.028.022.056.045.083.017l.081-.066c.206-.17.42-.346.708-.305 0 0 0 .046.046.046-.046.023-.093.058-.14.093a.966.966 0 0 1-.138.093s0 .046.046.046c.07-.023.116-.058.162-.093a.542.542 0 0 1 .163-.092s0 .046-.047.092c-.046.047-.092.081-.139.116-.046.035-.092.07-.139.116-.216.154-.391.35-.566.546a7.066 7.066 0 0 1-.268.289ZM1.634 7.446c.06 0 .118.002.177.009-.064-.032-.128-.02-.177-.01Zm10.55-1.99c-.041-.01-.088-.021-.127-.04-.093-.024-.162-.024-.232-.024s-.139 0-.231-.023a2.36 2.36 0 0 1-.186.036c-.123.02-.247.041-.37.103.138-.093.277-.186.463-.232.07 0 .127-.023.185-.046a.486.486 0 0 1 .186-.047c.139-.046.278-.092.417-.046.044.015.092.025.14.034.102.022.2.042.23.105.047.186-.092.325-.231.417 0 .024.023.047.046.07.024.023.047.046.047.07 0 .046-.093.092-.14.092-.03 0-.061.041-.092.083-.015.02-.03.04-.046.056.023 0 .023.023.023.047 0 .023 0 .046.023.046-.043.064-.036.147-.03.224.006.089.012.168-.063.193-.139.047-.37.047-.556 0a.304.304 0 0 1 .111-.026c.056-.005.111-.01.167-.067v-.046c0-.046 0-.046-.046-.046 0 .046-.047.046-.047.046a.1.1 0 0 0-.092-.093c-.14.047-.279-.046-.371-.139l.045-.024c.065-.036.11-.06.187-.022.048 0 .058-.038.07-.08.012-.04.024-.083.069-.106h.046c.085-.106.19-.173.283-.233.11-.07.202-.13.227-.23 0-.027-.047-.038-.105-.052Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0 10.039V8.4l.027.004c.07.012.139.024.208.07-.036.036-.066.044-.093.04l.162.047c.686.196 1.358.39 1.925.794-.557.278-1.113.417-1.716.51-.092 0-.139 0-.185-.047 0 .047 0 .093-.046.093-.093 0-.186 0-.232.046a.188.188 0 0 1-.05.08Zm.089-1.542c-.026-.01-.053-.022-.086-.022l.104.03a.668.668 0 0 1-.018-.008Z"/><path d="M.189 11.488a2.37 2.37 0 0 0-.189.008v-.054a.376.376 0 0 1 .189.046ZM0 6.927a.686.686 0 0 0 .138-.121c0 .046 0 .046-.046.093.046.046.046.046.092.046.031-.015.062-.026.093-.036a.421.421 0 0 0 .185-.103A.929.929 0 0 0 0 6.71v.216ZM.648 10.422a.22.22 0 0 0-.039.005c-.046.01-.1.02-.1-.051.034-.102.118-.13.197-.155.028-.01.056-.018.081-.03.046-.047.14-.094.185-.047.028.055.072.061.113.066.028.004.054.008.073.027-.1.133-.224.146-.355.16-.05.006-.103.012-.155.025Z"/></g></symbol><symbol id="graph-circle" viewBox="0 0 16 16"><path d="M8.8 0v2.424c2.712.392 4.8 2.712 4.8 5.536 0 .72-.144 1.4-.384 2.032l2.08 1.224A7.9 7.9 0 0 0 16 7.96C16 3.816 12.84.4 8.8 0ZM8 13.56a5.596 5.596 0 0 1-5.6-5.6c0-2.824 2.088-5.144 4.8-5.536V0A7.993 7.993 0 0 0 0 7.96c0 4.416 3.576 8 7.992 8a7.98 7.98 0 0 0 6.448-3.272l-2.08-1.224A5.56 5.56 0 0 1 8 13.56Z"/></symbol><symbol id="grid" viewBox="0 0 16 16"><path d="M0 7.111V0h7.111v7.111H0ZM0 16V8.889h7.111V16H0Zm8.889-8.889V0H16v7.111H8.889Zm0 8.889V8.889H16V16H8.889ZM1.778 5.333h3.555V1.778H1.778v3.555Zm8.889 0h3.555V1.778h-3.555v3.555Zm0 8.89h3.555v-3.556h-3.555v3.555Zm-8.89 0h3.556v-3.556H1.778v3.555Z"/></symbol><symbol id="group-list" viewBox="0 0 16 13"><path d="M16 2.456H8.8v1.6H16v-1.6Zm0 6.4H8.8v1.6H16v-1.6Zm-13.168-3.2L0 2.824l1.128-1.128 1.696 1.696L6.216 0l1.128 1.128-4.512 4.528Zm0 6.4L0 9.224l1.128-1.128 1.696 1.696L6.216 6.4l1.128 1.128-4.512 4.528Z"/></symbol><symbol id="groups" viewBox="0 0 16 16"><path d="M7.111 3.556h5.333v1.777H7.111V3.556Zm0 3.555h5.333V8.89H7.111V7.11Zm0 3.556h5.333v1.777H7.111v-1.777ZM3.556 3.556h1.777v1.777H3.556V3.556Zm0 3.555h1.777V8.89H3.556V7.11Zm0 3.556h1.777v1.777H3.556v-1.777ZM15.2 0H.8C.356 0 0 .356 0 .8v14.4c0 .356.356.8.8.8h14.4c.356 0 .8-.444.8-.8V.8c0-.444-.444-.8-.8-.8Zm-.978 14.222H1.778V1.778h12.444v12.444Z"/></symbol><symbol id="growth" viewBox="0 0 16 10"><path d="m11.2.2 1.832 1.832-3.904 3.904-3.2-3.2L0 8.672 1.128 9.8l4.8-4.8 3.2 3.2 5.04-5.032L16 5V.2h-4.8Z"/></symbol><symbol id="hand" viewBox="0 0 13 16"><path d="M12.413 4.667a1.667 1.667 0 0 0-2-1.634v-.366A1.667 1.667 0 0 0 8.3 1.06 1.673 1.673 0 0 0 6.746 0c-.82 0-1.5.593-1.64 1.373A1.667 1.667 0 0 0 3.08 3v3.927a1.935 1.935 0 0 0-.813-.44l-.513-.14a1.315 1.315 0 0 0-1.46.553c-.253.38-.267.873-.1 1.3L1.9 12.487A5.57 5.57 0 0 0 7.08 16a5.332 5.332 0 0 0 5.333-5.333v-6Zm-1.333 6c0 2.206-1.794 4-4 4-1.74 0-3.3-1.06-3.94-2.674l-1.734-4.36.354.094c.306.08.553.306.666.6L3.08 10h1.333V3a.33.33 0 0 1 .333-.333A.33.33 0 0 1 5.08 3v5h1.333V1.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334V8h1.333V2.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334V8h1.333V4.667a.33.33 0 0 1 .333-.334.33.33 0 0 1 .334.334v6Z"/></symbol><symbol id="heart" viewBox="0 0 16 16"><path d="m8 15.515-1.16-1.056C2.72 10.723 0 8.259 0 5.235c0-2.464 1.936-4.4 4.4-4.4A4.79 4.79 0 0 1 8 2.507 4.79 4.79 0 0 1 11.6.835c2.464 0 4.4 1.936 4.4 4.4 0 3.024-2.72 5.488-6.84 9.232L8 15.515Z"/></symbol><symbol id="help-outlined" viewBox="0 0 16 16"><path d="M7.2 12.8h1.6v-1.6H7.2v1.6ZM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4ZM8 3.2a3.2 3.2 0 0 0-3.2 3.2h1.6c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 1.6-2.4 1.4-2.4 4h1.6c0-1.8 2.4-2 2.4-4A3.2 3.2 0 0 0 8 3.2Z"/></symbol><symbol id="help" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm.8 13.6H7.2V12h1.6v1.6Zm1.656-6.2-.72.736C9.16 8.72 8.8 9.2 8.8 10.4H7.2V10c0-.88.36-1.68.936-2.264l.992-1.008C9.424 6.44 9.6 6.04 9.6 5.6 9.6 4.72 8.88 4 8 4c-.88 0-1.6.72-1.6 1.6H4.8a3.2 3.2 0 1 1 6.4 0c0 .704-.288 1.344-.744 1.8Z"/></symbol><symbol id="history" viewBox="0 0 21 18"><path d="M12 0a9 9 0 0 0-9 9H0l3.89 3.89.07.14L8 9H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 12 18a9 9 0 0 0 0-18Zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V5H11Z"/></symbol><symbol id="home" viewBox="0 0 20 17"><path d="m10 2.69 5 4.5V15h-2V9H7v6H5V7.19l5-4.5ZM10 0 0 9h3v8h6v-6h2v6h6V9h3L10 0Z"/></symbol><symbol id="hourglass" viewBox="0 0 12 20"><path d="m0 0 .01 6L4 10 .01 14.01 0 20h12v-6l-4-4 4-3.99V0H0Zm10 14.5V18H2v-3.5l4-4 4 4Z"/></symbol><symbol id="image" viewBox="0 0 16 16"><path d="M14.222 1.778v12.444H1.778V1.778h12.444Zm0-1.778H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm-4.32 7.876-2.666 3.44-1.903-2.303-2.666 3.431h10.666l-3.43-4.568Z"/></symbol><symbol id="info-outlined" viewBox="0 0 16 16"><path d="M7.2 4h1.6v1.6H7.2V4Zm0 3.2h1.6V12H7.2V7.2ZM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Z"/></symbol><symbol id="info" viewBox="0 0 16 16"><path d="M8 12a.774.774 0 0 0 .57-.23.774.774 0 0 0 .23-.57V8a.774.774 0 0 0-.23-.57A.774.774 0 0 0 8 7.2a.774.774 0 0 0-.57.23.774.774 0 0 0-.23.57v3.2c0 .227.077.417.23.57.153.153.343.23.57.23Zm0-6.4a.774.774 0 0 0 .57-.23.774.774 0 0 0 .23-.57.774.774 0 0 0-.23-.57A.774.774 0 0 0 8 4a.774.774 0 0 0-.57.23.774.774 0 0 0-.23.57c0 .227.077.417.23.57.153.153.343.23.57.23ZM8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Z"/></symbol><symbol id="justice" viewBox="0 0 16 16"><path d="M8.8 4.664A2.413 2.413 0 0 0 10.264 3.2H12.8l-2.4 5.6c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4l-2.4-5.6h1.6V1.6h-4.936A2.392 2.392 0 0 0 8 0a2.392 2.392 0 0 0-2.264 1.6H.8v1.6h1.6L0 8.8c0 1.328 1.256 2.4 2.8 2.4 1.544 0 2.8-1.072 2.8-2.4L3.2 3.2h2.536c.24.68.784 1.224 1.464 1.464V13.6H0v1.6h16v-1.6H8.8V4.664ZM14.696 8.8h-2.992L13.2 5.312 14.696 8.8Zm-10.4 0H1.304L2.8 5.312 4.296 8.8ZM8 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="key2" viewBox="0 0 16 16"><g clip-path="url(#clip0_1426_12815)"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.873 0C8.366 0 7.06.545 5.987 1.618c-.866.866-1.39 1.885-1.548 3.048-.135.991-.032 1.936.314 2.823L.025 12.218 0 14.157a1.16 1.16 0 0 0 1.152 1.174l3.495.021a1.16 1.16 0 0 0 1.167-1.159V13.04l.001-.001.002-.001h1.156c.64 0 1.16-.52 1.16-1.16v-1.16a5.32 5.32 0 0 0 2.663.21 5.382 5.382 0 0 0 2.963-1.537c1.074-1.073 1.619-2.38 1.619-3.886 0-1.508-.545-2.814-1.619-3.887C12.686.545 11.381 0 9.873 0ZM6.804 2.435c.859-.859 1.872-1.28 3.07-1.28 1.197 0 2.21.421 3.068 1.28.86.86 1.28 1.872 1.28 3.07 0 1.197-.42 2.21-1.28 3.069a4.228 4.228 0 0 1-2.34 1.215 4.184 4.184 0 0 1-2.592-.37l-.37-.18-.663.663v1.978l-.001.001-.002.001H5.817c-.64 0-1.16.52-1.16 1.16v1.153l-.002.002h-.001l-3.496-.022h-.002l-.001-.003.018-1.47L6.137 7.74l-.177-.37c-.373-.78-.502-1.625-.376-2.548.122-.895.52-1.687 1.22-2.387Zm3.94 3.63a1.454 1.454 0 1 0 0-2.909 1.454 1.454 0 0 0 0 2.908Z"/></g></symbol><symbol id="key" viewBox="0 0 16 10"><path d="M14.546 3.545H8.473A4.357 4.357 0 0 0 4.363.636 4.367 4.367 0 0 0 0 5a4.367 4.367 0 0 0 4.364 4.364 4.357 4.357 0 0 0 4.109-2.91h.254l1.455 1.455 1.454-1.455 1.455 1.455L16 4.971l-1.454-1.426ZM4.364 7.182c-1.2 0-2.182-.982-2.182-2.182s.982-2.182 2.182-2.182S6.545 3.8 6.545 5s-.981 2.182-2.181 2.182Z"/></symbol><symbol id="label-outlined" viewBox="0 0 20 14"><path d="M15.13.84C14.77.33 14.17 0 13.5 0L2.5.01C1.4.01.5.9.5 2v10c0 1.1.9 1.99 2 1.99l11 .01c.67 0 1.27-.33 1.63-.84L19.5 7 15.13.84ZM13.5 12h-11V2h11l3.55 5-3.55 5Z"/></symbol><symbol id="label" viewBox="0 0 17 12"><path d="M12.82.813a1.679 1.679 0 0 0-1.373-.708L2.184.114C1.258.114.5.864.5 1.79v8.42c0 .927.758 1.676 1.684 1.676l9.263.009a1.68 1.68 0 0 0 1.373-.707L16.5 6 12.82.813Zm-1.373 9.398H2.184V1.79h9.263L14.437 6l-2.99 4.21Z"/></symbol><symbol id="laptop" viewBox="0 0 16 12"><path d="M13.333 10c.734 0 1.334-.6 1.334-1.334V2c0-.734-.6-1.333-1.334-1.333H2.667c-.734 0-1.334.6-1.334 1.333v6.666c0 .734.6 1.334 1.334 1.334H0v1.333h16V10h-2.667ZM2.667 2h10.666v6.666H2.667V2Z"/></symbol><symbol id="laudry" viewBox="0 0 13 16"><path d="M11.2.008 1.6 0C.712 0 0 .712 0 1.6v12.8c0 .888.712 1.6 1.6 1.6h9.6c.888 0 1.6-.712 1.6-1.6V1.6c0-.888-.712-1.592-1.6-1.592Zm0 14.392H1.6L1.592 1.6H11.2v12.8Z"/><path d="M3.2 4a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Zm2.4 0a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Zm.8 9.6c2.208 0 4-1.792 4-4s-1.792-4-4-4-4 1.792-4 4 1.792 4 4 4Zm1.888-5.888a2.675 2.675 0 0 1 0 3.776 2.675 2.675 0 0 1-3.776 0l3.776-3.776Z"/></symbol><symbol id="left" viewBox="0 0 16 16"><path d="m6.8 8 3.9 3.9a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275L4.7 8.7a.877.877 0 0 1-.213-.325A1.107 1.107 0 0 1 4.425 8c0-.134.02-.259.062-.375A.877.877 0 0 1 4.7 7.3l4.6-4.6a.948.948 0 0 1 .7-.275c.283 0 .517.091.7.275a.948.948 0 0 1 .275.7.948.948 0 0 1-.275.7L6.8 8Z"/></symbol><symbol id="library" viewBox="0 0 16 13"><path d="M14.546.682C13.738.427 12.85.318 12 .318c-1.418 0-2.945.291-4 1.091C6.945.61 5.418.32 4 .32c-1.418 0-2.945.29-4 1.09v10.655c0 .182.182.363.364.363.072 0 .109-.036.181-.036.982-.473 2.4-.8 3.455-.8 1.418 0 2.945.291 4 1.091.982-.618 2.764-1.09 4-1.09 1.2 0 2.436.217 3.454.763.073.036.11.036.182.036a.391.391 0 0 0 .364-.364V1.41c-.436-.327-.91-.545-1.454-.727Zm0 9.818c-.8-.254-1.673-.364-2.546-.364-1.236 0-3.018.473-4 1.091V2.864c.982-.618 2.764-1.091 4-1.091.873 0 1.745.109 2.546.364V10.5Z"/><path d="M12 4.682c.64 0 1.258.065 1.818.19V3.765A9.82 9.82 0 0 0 12 3.59c-1.236 0-2.356.211-3.273.604v1.207c.822-.465 1.964-.72 3.273-.72ZM8.727 6.13v1.207c.822-.466 1.964-.72 3.273-.72.64 0 1.258.065 1.818.189V5.7A9.82 9.82 0 0 0 12 5.526c-1.236 0-2.356.218-3.273.603ZM12 7.467c-1.236 0-2.356.211-3.273.604v1.207c.822-.465 1.964-.72 3.273-.72.64 0 1.258.066 1.818.19V7.641A9.235 9.235 0 0 0 12 7.467Z"/></symbol><symbol id="lightbulb" viewBox="0 0 12 16"><path d="M3.6 15.2c0 .44.36.8.8.8h3.2c.44 0 .8-.36.8-.8v-.8H3.6v.8ZM6 0A5.606 5.606 0 0 0 .4 5.6c0 1.904.952 3.576 2.4 4.592V12c0 .44.36.8.8.8h4.8c.44 0 .8-.36.8-.8v-1.808A5.597 5.597 0 0 0 11.6 5.6C11.6 2.512 9.088 0 6 0Zm2.28 8.88-.68.48v1.84H4.4V9.36l-.68-.48A3.997 3.997 0 0 1 2 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 1.304-.64 2.528-1.72 3.28Z"/></symbol><symbol id="lightning" viewBox="0 0 9 16"><path d="M3.554 16h-.89l.89-6.222H.443c-.783 0-.294-.667-.276-.694C1.314 7.058 3.038 4.036 5.34 0h.89l-.89 6.222h3.12c.356 0 .552.17.356.587C5.305 12.933 3.554 16 3.554 16Z"/></symbol><symbol id="link-out" viewBox="0 0 16 16"><path d="M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222ZM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778Z"/></symbol><symbol id="link" viewBox="0 0 16 8"><path d="M12 0H8.8v1.6H12c1.32 0 2.4 1.08 2.4 2.4 0 1.32-1.08 2.4-2.4 2.4H8.8V8H12c2.208 0 4-1.792 4-4s-1.792-4-4-4ZM7.2 6.4H4C2.68 6.4 1.6 5.32 1.6 4c0-1.32 1.08-2.4 2.4-2.4h3.2V0H4C1.792 0 0 1.792 0 4s1.792 4 4 4h3.2V6.4ZM4.8 3.2h6.4v1.6H4.8V3.2Z"/></symbol><symbol id="list-min" viewBox="0 0 16 10"><path d="M0 5.889h1.778V4.111H0V5.89Zm0 3.556h1.778V7.667H0v1.778Zm0-7.112h1.778V.556H0v1.777ZM3.556 5.89H16V4.111H3.556V5.89Zm0 3.556H16V7.667H3.556v1.778Zm0-8.89v1.778H16V.556H3.556ZM0 5.89h1.778V4.111H0V5.89Zm0 3.556h1.778V7.667H0v1.778Zm0-7.112h1.778V.556H0v1.777ZM3.556 5.89H16V4.111H3.556V5.89Zm0 3.556H16V7.667H3.556v1.778Zm0-8.89v1.778H16V.556H3.556Z"/></symbol><symbol id="list" viewBox="0 0 16 16"><path d="M3 4.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6.25 3a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM6.25 7.25a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM6.25 11.5a.75.75 0 0 0 0 1.5h7a.75.75 0 0 0 0-1.5h-7ZM4 12.25a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM3 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/></symbol><symbol id="location" viewBox="0 0 12 16"><path d="M5.6 0A5.596 5.596 0 0 0 0 5.6C0 9.8 5.6 16 5.6 16s5.6-6.2 5.6-10.4C11.2 2.504 8.696 0 5.6 0Zm-4 5.6c0-2.208 1.792-4 4-4s4 1.792 4 4c0 2.304-2.304 5.752-4 7.904-1.664-2.136-4-5.624-4-7.904Z"/><path d="M5.6 7.6a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/></symbol><symbol id="lock-screen" viewBox="0 0 12 16"><path d="M4.545 10.91h2.91a.73.73 0 0 0 .727-.728V8a.73.73 0 0 0-.727-.727v-.728a1.454 1.454 0 1 0-2.91 0v.728A.73.73 0 0 0 3.818 8v2.182c0 .4.327.727.727.727Zm.582-4.365c0-.48.393-.872.873-.872s.873.392.873.872v.728H5.127v-.728ZM9.637 0H2.363A1.46 1.46 0 0 0 .909 1.455v13.09c0 .8.655 1.455 1.455 1.455h7.272c.8 0 1.455-.655 1.455-1.454V1.455A1.46 1.46 0 0 0 9.636 0Zm0 13.09H2.363V2.91h7.272v10.18Z"/></symbol><symbol id="lock" viewBox="0 0 14 17"><path d="M11.572 5.833h-.762V4.31A3.81 3.81 0 0 0 7 .5a3.81 3.81 0 0 0-3.81 3.81v1.523h-.76c-.838 0-1.524.686-1.524 1.524v7.62c0 .837.685 1.523 1.524 1.523h9.143c.838 0 1.523-.686 1.523-1.524V7.357c0-.838-.686-1.524-1.524-1.524ZM4.714 4.31A2.283 2.283 0 0 1 7 2.024 2.283 2.283 0 0 1 9.286 4.31v1.523H4.714V4.31Zm6.857 10.666H2.43V7.357h9.143v7.62ZM7 12.69c.838 0 1.524-.685 1.524-1.523 0-.838-.686-1.524-1.524-1.524s-1.524.686-1.524 1.524S6.162 12.69 7 12.69Z"/></symbol><symbol id="logout" viewBox="0 0 16 16"><path d="m12.444 4.444-1.253 1.254 1.405 1.413H5.333V8.89h7.263l-1.405 1.404 1.253 1.263L16 8l-3.556-3.556ZM1.778 1.778H8V0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16H8v-1.778H1.778V1.778Z"/></symbol><symbol id="magic-trick" viewBox="0 0 17 17"><path d="m14.216 5.071.717-1.57 1.57-.715-1.57-.716L14.217.5 13.5 2.07l-1.57.716 1.57.716.716 1.57Zm-1.744 1.616L10.316 4.53a.78.78 0 0 0-.541-.22.78.78 0 0 0-.541.22l-8.51 8.511a.759.759 0 0 0 0 1.074l2.155 2.156a.756.756 0 0 0 .541.229.78.78 0 0 0 .541-.221l8.51-8.51a.768.768 0 0 0 0-1.082Zm-2.697-.534 1.074 1.075-.892.891-1.074-1.074.892-.892Zm-6.355 8.51L2.346 13.59l5.463-5.47 1.074 1.074-5.463 5.47Z"/></symbol><symbol id="magnet" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M11 3h4v6A7 7 0 1 1 1 9V3h4v6c0 1.654 1.346 3 3 3s3-1.346 3-3V3zm0-1V0h4.001v2H11zM1 2V0h4v2H1z"/>\n</symbol><symbol id="magnifier" viewBox="0 0 17 17"><path d="M12.18 10.808h-.723l-.256-.247a5.92 5.92 0 0 0 1.436-3.87 5.946 5.946 0 1 0-5.946 5.947 5.92 5.92 0 0 0 3.87-1.437l.247.256v.723l4.574 4.565 1.363-1.363-4.565-4.574Zm-5.489 0a4.111 4.111 0 0 1-4.116-4.117A4.111 4.111 0 0 1 6.69 2.575a4.111 4.111 0 0 1 4.117 4.116 4.111 4.111 0 0 1-4.117 4.117Z"/></symbol><symbol id="matrix" viewBox="0 0 16 10"><path d="M3 1.111H1.333V8.89H3V10H0V0h3v1.111ZM16 10h-3V8.889h1.667V1.11H13V0h3v10ZM9.807 3.667c.587 0 1.043.167 1.368.503.328.332.492.79.492 1.374V9h-1.23V5.72c0-.688-.311-1.032-.931-1.032a.983.983 0 0 0-.531.162.945.945 0 0 0-.36.372V9h-1.23V5.53c0-.258-.08-.462-.241-.612-.161-.153-.387-.23-.68-.23-.153 0-.323.057-.507.171-.18.114-.312.24-.394.377V9h-1.23V3.765h.847l.25.459c.342-.372.784-.557 1.325-.557.699 0 1.226.188 1.58.566.154-.172.369-.309.644-.41.276-.104.552-.156.828-.156Z"/></symbol><symbol id="merge" viewBox="0 0 14 16"><path d="M2.031 16 .778 14.747l4.293-4.294a3.559 3.559 0 0 0 1.04-2.515V3.404L4.698 4.81 3.444 3.556 7 0l3.556 3.556-1.254 1.253L7.89 3.404v4.534c0 .942.373 1.849 1.04 2.515l4.293 4.294L11.97 16 7 11.031 2.031 16Z"/></symbol><symbol id="moped" viewBox="0 0 16 12"><path d="M13.6 1.6C13.6.72 12.88 0 12 0H9.6v1.6H12v2.12L9.216 7.2H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.4v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.28V1.6Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 9.6c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4.8h-4v1.6h4V.8Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="mosaic-min" viewBox="0 0 16 16"><path d="M0 1.778v12.444C0 15.2.791 16 1.778 16H7.11V0H1.778C.79 0 0 .8 0 1.778Zm5.333 12.444H1.778V1.778h3.555v12.444ZM14.222 0H8.89v7.111H16V1.778C16 .8 15.2 0 14.222 0Zm0 5.333h-3.555V1.778h3.555v3.555ZM8.889 16h5.333C15.2 16 16 15.2 16 14.222V8.89H8.889V16Zm1.778-5.333h3.555v3.555h-3.555v-3.555Z"/></symbol><symbol id="mosaic" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="m9.289 1.92.02-.02.737-.737.02-.02c.241-.24.454-.453.645-.615.203-.173.432-.333.718-.426.418-.136.87-.136 1.288 0 .286.093.515.253.718.426.191.162.404.374.644.615l.02.02.738.737.02.02c.24.241.454.454.615.645.173.203.333.432.426.718.136.419.136.87 0 1.288a2.117 2.117 0 0 1-.426.718c-.162.191-.374.404-.615.644l-.02.02-.737.738-.02.02c-.241.24-.454.454-.645.615a2.118 2.118 0 0 1-.718.426c-.418.136-.87.136-1.288 0a2.117 2.117 0 0 1-.718-.426c-.191-.161-.404-.374-.644-.615l-.02-.02-.738-.737-.02-.02c-.24-.241-.454-.454-.615-.645a2.118 2.118 0 0 1-.426-.718 2.084 2.084 0 0 1 0-1.288c.093-.286.253-.515.426-.718.161-.191.374-.404.615-.644Zm.576 1.657c-.11.129-.126.177-.13.189a.521.521 0 0 0 0 .322c.004.012.02.06.13.19.116.136.283.303.55.57l.737.737c.267.267.434.434.57.55.13.11.178.126.19.13a.521.521 0 0 0 .322 0c.011-.004.06-.02.19-.13.136-.116.303-.283.57-.55l.737-.737c.267-.267.434-.434.55-.57.11-.13.126-.178.13-.19a.521.521 0 0 0 0-.322c-.004-.012-.02-.06-.13-.19a11.036 11.036 0 0 0-.55-.57l-.737-.737a10.98 10.98 0 0 0-.57-.55c-.13-.11-.178-.126-.19-.13a.521.521 0 0 0-.322 0c-.012.004-.06.02-.19.13a10.98 10.98 0 0 0-.57.55l-.737.737c-.267.267-.434.434-.55.57ZM3.91 7.314h.028c.34 0 .641 0 .89-.02.266-.022.542-.07.81-.207.392-.2.71-.519.91-.91a2.12 2.12 0 0 0 .207-.81c.02-.249.02-.55.02-.89V3.376c0-.34 0-.64-.02-.89a2.119 2.119 0 0 0-.206-.808 2.085 2.085 0 0 0-.911-.911 2.118 2.118 0 0 0-.81-.207c-.249-.02-.55-.02-.89-.02H2.837c-.34 0-.64 0-.89.02-.266.022-.54.07-.809.207-.392.2-.71.519-.91.91a2.118 2.118 0 0 0-.208.81c-.02.249-.02.55-.02.89v1.101c0 .34 0 .64.02.89.022.265.07.54.207.808.2.392.519.711.911.911.268.137.543.185.809.207.25.02.55.02.89.02H3.91Zm1.018-1.62c-.011.006-.057.028-.226.042a11.01 11.01 0 0 1-.792.015H2.866c-.377 0-.614 0-.792-.015-.169-.014-.215-.036-.226-.042a.521.521 0 0 1-.228-.228c-.005-.01-.028-.057-.041-.226a10.986 10.986 0 0 1-.016-.792V3.406c0-.378.001-.614.016-.792.013-.17.036-.216.041-.226a.521.521 0 0 1 .228-.228c.01-.006.057-.028.226-.042.178-.014.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.042.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.414.015.792v1.042c0 .378 0 .614-.015.792-.014.17-.036.216-.041.226a.521.521 0 0 1-.228.228ZM3.909 16h.028c.34 0 .642 0 .89-.02.266-.022.542-.07.81-.207.392-.2.71-.519.91-.911.137-.268.186-.543.207-.809.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.119 2.119 0 0 0-.206-.809 2.085 2.085 0 0 0-.911-.91 2.117 2.117 0 0 0-.81-.207c-.248-.02-.55-.02-.89-.02H2.838c-.34 0-.64 0-.89.02-.266.021-.54.07-.809.206-.392.2-.71.52-.91.911a2.118 2.118 0 0 0-.208.81c-.02.248-.02.55-.02.89V13.162c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.911.91.268.137.543.186.809.208.25.02.55.02.89.02H3.91Zm1.018-1.62c-.011.005-.057.028-.226.041a10.95 10.95 0 0 1-.792.016H2.866c-.377 0-.614-.001-.792-.016-.169-.013-.215-.036-.226-.041a.521.521 0 0 1-.228-.228c-.005-.01-.028-.057-.041-.226a10.985 10.985 0 0 1-.016-.792V12.09c0-.377.001-.614.016-.792.013-.168.036-.215.041-.226a.521.521 0 0 1 .228-.228c.01-.005.057-.027.226-.041.178-.015.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.041.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.041.226a.521.521 0 0 1-.228.228ZM12.594 16h.03c.34 0 .64 0 .89-.02.265-.022.54-.07.808-.207.392-.2.711-.519.911-.911a2.12 2.12 0 0 0 .207-.809c.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.12 2.12 0 0 0-.207-.809 2.085 2.085 0 0 0-.91-.91 2.117 2.117 0 0 0-.81-.207c-.249-.02-.55-.02-.89-.02h-1.101c-.34 0-.64 0-.89.02-.265.021-.54.07-.808.206-.392.2-.711.52-.911.911a2.118 2.118 0 0 0-.207.81c-.02.248-.02.55-.02.89V13.162c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.91.91.269.137.544.186.81.208.249.02.55.02.89.02h1.071Zm1.018-1.62c-.01.005-.057.028-.226.041-.178.015-.414.016-.792.016h-1.042c-.378 0-.614-.001-.792-.016-.17-.013-.216-.036-.226-.041a.521.521 0 0 1-.228-.228c-.006-.01-.028-.057-.042-.226a11.009 11.009 0 0 1-.015-.792V12.09c0-.377 0-.614.015-.792.014-.168.036-.215.042-.226a.521.521 0 0 1 .228-.228c.01-.005.057-.027.226-.041.178-.015.414-.015.792-.015h1.042c.378 0 .614 0 .792.015.17.014.216.036.226.041.098.05.178.13.228.228.006.01.028.057.042.226.014.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.042.226a.521.521 0 0 1-.228.228Z"/></symbol><symbol id="motorcycle" viewBox="0 0 16 10"><path d="M2.78 4.333h-.113.113Zm6.16-4H6v1.334h2.393L9.727 3H7.333L4.667 4.333 3.333 3H0v1.333h2.667a2.666 2.666 0 1 0 0 5.334A2.666 2.666 0 0 0 5.333 7l1.334 1.334h2l2.326-4.067.674.673c-.607.487-1 1.227-1 2.06A2.666 2.666 0 1 0 16 7a2.666 2.666 0 0 0-2.667-2.667c-.12 0-.24.02-.353.034L11.607 3h1.726V1l-2.48 1.24L8.94.333Zm4.393 8C12.6 8.334 12 7.734 12 7s.6-1.333 1.333-1.333c.734 0 1.334.6 1.334 1.333 0 .734-.6 1.334-1.334 1.334Zm-10.666 0c-.734 0-1.334-.6-1.334-1.333s.6-1.333 1.334-1.333C3.4 5.667 4 6.267 4 7c0 .734-.6 1.334-1.333 1.334Z"/></symbol><symbol id="mountain" viewBox="0 0 16 10"><path d="m9.455.636-3.07 4.095.91 1.214 2.16-2.887L13.09 7.91H6.938L4.022 4.004 0 9.364h16L9.455.636ZM2.909 7.91l1.106-1.476L5.12 7.909H2.91Z"/></symbol><symbol id="movement-in" viewBox="0 0 16 14"><path d="M3.547 6.111 0 9.667l3.547 3.555v-2.666h6.23V8.778h-6.23V6.11ZM16 4.333 12.453.778v2.667h-6.23v1.777h6.23V7.89L16 4.333Z"/></symbol><symbol id="movement-out" viewBox="0 0 16 13"><path d="M3.547 5.333 0 8.89l3.547 3.555V9.778h6.23V8h-6.23V5.333ZM16 3.556 12.453 0v2.667h-6.23v1.777h6.23v2.667L16 3.556Z"/></symbol><symbol id="movement" viewBox="0 0 16 8"><path d="M12.01 3H0v2h12.01v3L16 4l-3.99-4v3Z"/></symbol><symbol id="moveto" viewBox="0 0 17 10"><path d="m8.569 1.503 2.727 2.735H.5v1.524h10.796L8.561 8.497l1.082 1.075L14.214 5 9.643.43 8.569 1.503ZM14.976.429v9.143H16.5V.429h-1.524Z"/></symbol><symbol id="multi-files" viewBox="0 0 16 15"><path d="M1.455 12.954h12.363v1.455H1.455A1.46 1.46 0 0 1 0 12.954V3.5h1.455v9.454ZM16 3.5v6.545c0 .8-.655 1.455-1.454 1.455H4.364a1.46 1.46 0 0 1-1.455-1.455l.007-8c0-.8.648-1.454 1.448-1.454H8l1.455 1.454h5.09c.8 0 1.455.655 1.455 1.455ZM4.364 10.045h10.181V3.5H8.852L7.396 2.045H4.364v8Z"/></symbol><symbol id="music" viewBox="0 0 12 16"><path d="m6 0 .009 9.378a3.553 3.553 0 0 0-1.778-.49 3.556 3.556 0 1 0 0 7.112 3.541 3.541 0 0 0 3.547-3.556V3.556h3.555V0H6ZM4.231 14.222c-.978 0-1.778-.8-1.778-1.778 0-.977.8-1.777 1.778-1.777s1.778.8 1.778 1.777c0 .978-.8 1.778-1.778 1.778Z"/></symbol><symbol id="new" viewBox="0 0 16 16"><path d="m13.09 5.818.91-2 2-.909L14 2l-.91-2-.908 2-2 .91 2 .908.909 2Zm0 4.364-.908 2-2 .909 2 .909.909 2L14 14l2-.91-2-.908-.91-2Zm-5.454-4-1.818-4-1.818 4L0 8l4 1.818 1.818 4 1.818-4 4-1.818-4-1.818ZM6.538 8.72l-.72 1.585-.72-1.585L3.513 8l1.585-.72.72-1.585.72 1.585L8.124 8l-1.586.72Z"/></symbol><symbol id="next" viewBox="0 0 16 16"><path d="M8 0 6.59 1.41 12.17 7H0v2h12.17l-5.58 5.59L8 16l8-8-8-8Z"/></symbol><symbol id="note" viewBox="0 0 16 16"><path d="M13.6 1.6h-3.344A2.408 2.408 0 0 0 8 0C6.96 0 6.08.672 5.744 1.6H2.4c-.88 0-1.6.72-1.6 1.6v11.2c0 .88.72 1.6 1.6 1.6h11.2c.88 0 1.6-.72 1.6-1.6V3.2c0-.88-.72-1.6-1.6-1.6ZM8 1.4c.328 0 .6.272.6.6 0 .328-.272.6-.6.6a.604.604 0 0 1-.6-.6c0-.328.272-.6.6-.6Zm5.6 13H2.4V3.2h11.2v11.2Z"/><path d="M10.464 8.024 8.768 6.328 4 11.088V12.8h1.68l4.784-4.776Zm1.416-1.408a.396.396 0 0 0 0-.568L10.752 4.92a.396.396 0 0 0-.568 0l-.848.848 1.696 1.696.848-.848Z"/></symbol><symbol id="notification-email" viewBox="0 0 20 18"><path d="M20 6.98V16c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2L.01 4C.01 2.9.9 2 2 2h10.1c-.06.32-.1.66-.1 1 0 .34.04.68.1 1H2l8 5 3.67-2.29c.47.43 1.02.76 1.63.98L10 11 2 6v10h16V7.9c.74-.15 1.42-.48 2-.92ZM14 3c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3Z"/></symbol><symbol id="number" viewBox="0 0 17 8"><path d="M3.847 7.097H2.298V2.452H.75V.903h3.097v6.194Zm6.71-1.549H7.46V4.516h2.064c.568 0 1.033-.464 1.033-1.032V1.936c0-.568-.465-1.033-1.033-1.033H5.911v1.549h3.097v1.032H6.944c-.568 0-1.033.464-1.033 1.032v2.58h4.646V5.549Zm6.193.517v-4.13c0-.567-.465-1.032-1.032-1.032h-3.613v1.549h3.097v1.032h-2.065v1.032h2.065v1.032h-3.097v1.549h3.613c.567 0 1.032-.465 1.032-1.032Z"/></symbol><symbol id="offline" viewBox="0 0 16 14"><path d="M14.546 7.314 16 5.859c-2.713-2.713-6.45-3.745-9.964-3.134L7.913 4.6a9.27 9.27 0 0 1 6.633 2.713ZM13.09 8.768a7.196 7.196 0 0 0-2.705-1.694l2.196 2.196.509-.502Zm-7.273 2.91L8 13.858l2.182-2.182a3.081 3.081 0 0 0-4.364 0ZM1.753.505.727 1.532 2.945 3.75A11.42 11.42 0 0 0 0 5.86l1.455 1.454a9.199 9.199 0 0 1 3.032-2.022l1.63 1.629a7.144 7.144 0 0 0-3.208 1.847l1.455 1.455A5.09 5.09 0 0 1 7.92 8.725l5.15 5.149 1.024-1.026L1.754.506Z"/></symbol><symbol id="online" viewBox="0 0 16 12"><path d="m0 3.432 1.455 1.454a9.257 9.257 0 0 1 13.09 0L16 3.432c-4.415-4.415-11.578-4.415-16 0ZM5.818 9.25 8 11.43l2.182-2.181a3.081 3.081 0 0 0-4.364 0ZM2.91 6.34l1.455 1.455a5.145 5.145 0 0 1 7.272 0l1.455-1.454c-2.807-2.808-7.367-2.808-10.182 0Z"/></symbol><symbol id="openapp" viewBox="0 0 16 14"><path d="M14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452ZM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9ZM14.546.452H1.455C.655.452 0 1.106 0 1.906v2.902h1.455V1.892h13.09v10.203H1.456V9.172H0v2.916c0 .8.655 1.44 1.455 1.44h13.09c.8 0 1.455-.64 1.455-1.44V1.906C16 1.1 15.345.452 14.546.452ZM7.273 9.899l2.909-2.91-2.91-2.908v2.182H0v1.454h7.273V9.9Z"/></symbol><symbol id="openwith" viewBox="0 0 16 16"><path d="M14.222 14.222H1.778V1.778H8V0H1.778C.79 0 0 .8 0 1.778v12.444C0 15.2.791 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V8h-1.778v6.222ZM9.778 0v1.778h3.19l-8.737 8.738 1.253 1.253 8.738-8.738v3.191H16V0H9.778Z"/></symbol><symbol id="palette" viewBox="0 0 16 16"><path d="M8 16c-4.408 0-8-3.592-8-8 0-4.408 3.592-8 8-8 4.408 0 8 3.232 8 7.2 0 2.648-2.152 4.8-4.8 4.8H9.784c-.224 0-.4.176-.4.4 0 .096.04.184.104.264.328.376.512.848.512 1.336a2 2 0 0 1-2 2ZM8 1.6A6.408 6.408 0 0 0 1.6 8c0 3.528 2.872 6.4 6.4 6.4.224 0 .4-.176.4-.4a.433.433 0 0 0-.112-.28 1.986 1.986 0 0 1-.504-1.32 2 2 0 0 1 2-2H11.2a3.2 3.2 0 0 0 3.2-3.2c0-3.088-2.872-5.6-6.4-5.6Z"/><path d="M3.6 8.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4ZM6 5.6a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Zm4 0a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Zm2.4 3.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="paperplane" viewBox="0 0 17 14"><path d="m2.031 2.452 5.722 2.453-5.73-.762.008-1.691Zm5.715 6.643L2.024 11.55V9.857l5.722-.762ZM.508.143.5 5.476 11.929 7 .5 8.524l.008 5.333L16.5 7 .508.143Z"/></symbol><symbol id="paper" viewBox="0 0 20 20"><path d="M16 10h-4v1.5h4V10Zm0 3h-4v1.5h4V13Z"/><path d="M18 5h-5V2c0-1.1-.9-2-2-2H9C7.9 0 7 .9 7 2v3H2C.9 5 0 5.9 0 7v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2ZM9 2h2v5H9V2Zm9 16H2V7h5c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2h5v11Z"/><path d="M7 13a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm2.08 1.18c-.64-.28-1.34-.43-2.08-.43s-1.44.15-2.08.43c-.56.24-.92.78-.92 1.39V16h6v-.43c0-.61-.36-1.15-.92-1.39Z"/></symbol><symbol id="password" viewBox="0 0 16 10"><path d="M.727 7.909h14.546v1.455H.727V7.909Zm.837-2.946.618-1.076.618 1.076.945-.545-.618-1.076h1.237V2.25H3.127l.618-1.07L2.8.637l-.618 1.07-.618-1.07-.946.546.618 1.069H0v1.09h1.236L.618 4.419l.946.545Zm4.872-.545.946.545L8 3.887l.618 1.076.946-.545-.619-1.076h1.237V2.25H8.945l.619-1.07-.946-.545L8 1.706 7.382.635l-.946.546.619 1.069H5.818v1.09h1.237l-.619 1.077ZM16 2.251h-1.236l.618-1.07-.946-.545-.618 1.07L13.2.635l-.945.546.618 1.069h-1.237v1.09h1.237l-.618 1.077.945.545.618-1.076.618 1.076.946-.545-.618-1.076H16V2.25Z"/></symbol><symbol id="pen" viewBox="0 0 16 16"><path d="M.889 16a.86.86 0 0 1-.633-.256.86.86 0 0 1-.256-.633v-2.155a1.755 1.755 0 0 1 .511-1.245L11.733.511c.178-.163.374-.289.59-.378a1.836 1.836 0 0 1 1.366 0c.222.09.415.223.578.4l1.222 1.245c.178.163.307.355.389.578a1.925 1.925 0 0 1 0 1.344 1.666 1.666 0 0 1-.39.589l-11.2 11.2A1.755 1.755 0 0 1 3.045 16H.89ZM12.978 4.267l1.244-1.245-1.244-1.244-1.245 1.244 1.245 1.245Z"/></symbol><symbol id="peoples" viewBox="0 0 16 16"><path d="M6 9.167c-1.56 0-4.667.78-4.667 2.333v1.167h9.334V11.5c0-1.553-3.107-2.333-4.667-2.333Zm-3.107 2.167c.56-.387 1.914-.834 3.107-.834 1.193 0 2.547.447 3.107.834H2.893ZM6 8a2.336 2.336 0 0 0 2.333-2.333A2.336 2.336 0 0 0 6 3.334a2.336 2.336 0 0 0-2.333 2.333A2.336 2.336 0 0 0 6 8Zm0-3.333c.553 0 1 .447 1 1 0 .553-.447 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1Zm4.693 4.54C11.467 9.767 12 10.513 12 11.5v1.167h2.667V11.5c0-1.347-2.334-2.113-3.974-2.293ZM10 8a2.336 2.336 0 0 0 2.333-2.333A2.336 2.336 0 0 0 10 3.334c-.36 0-.693.086-1 .233.42.593.667 1.32.667 2.1S9.42 7.173 9 7.767c.307.146.64.233 1 .233Z"/></symbol><symbol id="people" viewBox="0 0 16 16"><path d="M8 1.9a2.1 2.1 0 1 1 0 4.2 2.1 2.1 0 0 1 0-4.2Zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1ZM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4Zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="percent-circle" viewBox="0 0 16 16"><path d="M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7 7 5.43 7 3.5 5.43 0 3.5 0Zm0 5C2.67 5 2 4.33 2 3.5S2.67 2 3.5 2 5 2.67 5 3.5 4.33 5 3.5 5Zm9 4C10.57 9 9 10.57 9 12.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5S14.43 9 12.5 9Zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5ZM1.41 16 0 14.59 14.59 0 16 1.41 1.41 16Z"/></symbol><symbol id="percent" viewBox="0 0 16 16"><path d="M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7 7 5.43 7 3.5 5.43 0 3.5 0Zm0 5C2.67 5 2 4.33 2 3.5S2.67 2 3.5 2 5 2.67 5 3.5 4.33 5 3.5 5Zm9 4C10.57 9 9 10.57 9 12.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5S14.43 9 12.5 9Zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5ZM1.41 16 0 14.59 14.59 0 16 1.41 1.41 16Z"/></symbol><symbol id="person-add" viewBox="0 0 16 13"><path d="M12.768 5.398h-.905a.753.753 0 0 1-.553-.222.745.745 0 0 1-.223-.55.76.76 0 0 1 .223-.554.746.746 0 0 1 .553-.226h.905v-.904c0-.22.073-.404.221-.553a.745.745 0 0 1 .55-.223c.219 0 .404.074.555.223.15.149.226.333.226.553v.904h.904c.22 0 .404.074.553.222a.745.745 0 0 1 .223.55.76.76 0 0 1-.223.554.746.746 0 0 1-.553.226h-.904v.905c0 .22-.074.404-.222.552a.745.745 0 0 1-.55.224.759.759 0 0 1-.554-.224.746.746 0 0 1-.226-.552v-.905Zm-6.706.825c-.868 0-1.604-.302-2.208-.906-.604-.604-.906-1.34-.906-2.208 0-.868.302-1.603.906-2.205C4.458.3 5.194 0 6.062 0 6.93 0 7.665.301 8.27.904c.604.602.906 1.337.906 2.205 0 .868-.302 1.604-.906 2.208-.604.604-1.34.906-2.208.906ZM0 10.753v-.36c0-.383.094-.734.281-1.055.188-.32.446-.576.774-.766.76-.44 1.563-.778 2.409-1.013a9.646 9.646 0 0 1 2.598-.353c.893 0 1.762.117 2.607.35.846.234 1.646.57 2.4 1.01.328.191.586.446.773.765.188.32.282.673.282 1.061v.36c0 .471-.166.872-.497 1.203a1.64 1.64 0 0 1-1.203.497h-8.73c-.472 0-.871-.166-1.2-.497A1.643 1.643 0 0 1 0 10.753Z"/></symbol><symbol id="personal-data" viewBox="0 0 14 17"><path d="M12.333.5H1.667C.82.5.143 1.186.143 2.024V12.69c0 .839.678 1.524 1.524 1.524h3.047L7 16.5l2.286-2.286h3.047c.838 0 1.524-.685 1.524-1.524V2.024c0-.838-.685-1.524-1.524-1.524Zm0 12.19h-3.68L7 14.345 5.347 12.69h-3.68V2.024h10.666V12.69ZM7 7.357a2.292 2.292 0 0 0 2.286-2.286A2.292 2.292 0 0 0 7 2.786 2.292 2.292 0 0 0 4.714 5.07 2.292 2.292 0 0 0 7 7.357ZM7 4.31c.42 0 .762.342.762.761A.764.764 0 0 1 7 5.833a.764.764 0 0 1-.762-.762c0-.419.343-.761.762-.761Zm4.572 6.537c0-1.905-3.025-2.728-4.572-2.728-1.547 0-4.571.823-4.571 2.728v1.082h9.143v-1.082Zm-7.254-.442c.564-.389 1.7-.762 2.682-.762.983 0 2.118.373 2.682.762H4.318Z"/></symbol><symbol id="phone-download" viewBox="0 0 14 17"><path d="M9.182 12.586H1.909V3.859H7V2.404H1.91v-.727H7V.229L1.91.222C1.11.222.454.877.454 1.677v13.09c0 .8.654 1.455 1.454 1.455h7.273c.8 0 1.454-.654 1.454-1.454V11.13H9.182v1.455Zm0 2.182H1.909v-.728h7.273v.728Z"/><path d="m9.91 9.677 3.636-3.637-1.026-1.025-1.884 1.876V1.677H9.182V6.89L7.298 5.015 6.273 6.04l3.636 3.637Z"/></symbol><symbol id="phone" viewBox="0 0 12 16"><path d="M9.628.007 2.355 0C1.555 0 .908.655.908 1.455v13.09c0 .8.647 1.455 1.447 1.455h7.273c.8 0 1.454-.655 1.454-1.454V1.455c0-.8-.654-1.448-1.454-1.448Zm0 13.084H2.355V2.909h7.273v10.182Z"/></symbol><symbol id="phone-upload" viewBox="0 0 14 17"><path d="M4.176 12.735h5.648V7.088h3.764L7 .5.412 7.088h3.764v5.647ZM7 3.164l2.042 2.042h-1.1v5.647H6.058V5.206h-1.1L7 3.164ZM.412 14.618h13.176V16.5H.412v-1.882Z"/></symbol><symbol id="pie-chart" viewBox="0 0 16 16"><path d="M8 16a7.79 7.79 0 0 1-3.12-.63 8.079 8.079 0 0 1-2.54-1.71 8.08 8.08 0 0 1-1.71-2.54A7.79 7.79 0 0 1 0 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 0 1 4.88.63 7.79 7.79 0 0 1 8 0a7.79 7.79 0 0 1 3.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 0 1-.63 3.12 8.08 8.08 0 0 1-1.71 2.54 8.08 8.08 0 0 1-2.54 1.71A7.79 7.79 0 0 1 8 16Zm0-1.6c1.787 0 3.3-.62 4.54-1.86C13.78 11.3 14.4 9.787 14.4 8H8V1.6c-1.787 0-3.3.62-4.54 1.86C2.22 4.7 1.6 6.213 1.6 8s.62 3.3 1.86 4.54C4.7 13.78 6.213 14.4 8 14.4Z"/></symbol><symbol id="pin" viewBox="0 0 12 16"><path d="M7.2 1.6v4c0 .896.296 1.728.8 2.4H3.2c.52-.688.8-1.52.8-2.4v-4h3.2ZM9.6 0h-8C1.16 0 .8.36.8.8c0 .44.36.8.8.8h.8v4C2.4 6.928 1.328 8 0 8v1.6h4.776v5.6l.8.8.8-.8V9.6H11.2V8a2.397 2.397 0 0 1-2.4-2.4v-4h.8c.44 0 .8-.36.8-.8 0-.44-.36-.8-.8-.8Z"/></symbol><symbol id="plane" viewBox="0 0 16 16"><path d="M15.2 11.2V9.6l-6.4-4V1.2C8.8.536 8.264 0 7.6 0c-.664 0-1.2.536-1.2 1.2v4.4L0 9.6v1.6l6.4-2v4.4l-1.6 1.2V16l2.8-.8 2.8.8v-1.2l-1.6-1.2V9.2l6.4 2Z"/></symbol><symbol id="plus-small" viewBox="0 0 16 16"><path d="M7.135 8.865h-3.44a.837.837 0 0 1-.614-.25.829.829 0 0 1-.25-.61c0-.242.083-.447.25-.616a.83.83 0 0 1 .614-.254h3.44v-3.44c0-.242.084-.447.25-.614a.829.829 0 0 1 .61-.25c.242 0 .447.083.616.25a.83.83 0 0 1 .254.614v3.44h3.44c.242 0 .447.083.614.25.167.166.25.37.25.61a.843.843 0 0 1-.25.616.83.83 0 0 1-.614.254h-3.44v3.44a.837.837 0 0 1-.25.614.829.829 0 0 1-.61.25.843.843 0 0 1-.616-.25.83.83 0 0 1-.254-.614v-3.44Z"/></symbol><symbol id="plus" viewBox="0 0 14 14"><path d="M6 8H1a.968.968 0 0 1-.713-.287A.968.968 0 0 1 0 7c0-.283.096-.52.287-.713A.968.968 0 0 1 1 6h5V1c0-.283.096-.52.287-.713A.968.968 0 0 1 7 0c.283 0 .52.096.713.287A.975.975 0 0 1 8 1v5h5c.283 0 .52.096.713.287.191.192.287.43.287.713s-.096.52-.287.713A.968.968 0 0 1 13 8H8v5c0 .283-.096.52-.287.713A.967.967 0 0 1 7 14a.967.967 0 0 1-.713-.287A.968.968 0 0 1 6 13V8Z"/></symbol><symbol id="pop-inside" viewBox="0 0 13 16"><path d="M12.8 14.4H0V16h12.8v-1.6Zm0-14.4H0v1.6h12.8V0ZM4.328 9.272 3.2 10.4l3.2 3.2 3.2-3.2-1.128-1.128L7.2 10.536V5.464l1.272 1.264L9.6 5.6 6.4 2.4 3.2 5.6l1.128 1.128L5.6 5.464v5.072L4.328 9.272Z"/></symbol><symbol id="previous" viewBox="0 0 16 16"><path d="M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7Z"/></symbol><symbol id="printer" viewBox="0 0 16 15"><path d="M13.6 4h-.8V0H3.2v4h-.8A2.397 2.397 0 0 0 0 6.4v4.8h3.2v3.2h9.6v-3.2H16V6.4C16 5.072 14.928 4 13.6 4ZM4.8 1.6h6.4V4H4.8V1.6Zm6.4 11.2H4.8V9.6h6.4v3.2Zm1.6-3.2V8H3.2v1.6H1.6V6.4c0-.44.36-.8.8-.8h11.2c.44 0 .8.36.8.8v3.2h-1.6Z"/><path d="M12.8 7.6a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6Z"/></symbol><symbol id="qualify" viewBox="0 0 16 13"><path d="m15.658 7.43-3.214 4.559a1.742 1.742 0 0 1-.65.57c-.265.136-.55.205-.854.205H1.823c-.501 0-.93-.179-1.287-.536A1.756 1.756 0 0 1 0 10.94V1.823C0 1.322.179.893.536.536A1.756 1.756 0 0 1 1.823 0h9.117c.304 0 .589.068.855.205.266.137.482.327.65.57l3.213 4.558c.228.32.342.669.342 1.049 0 .38-.114.73-.342 1.048Z"/></symbol><symbol id="radio-checked" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4Z"/><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"/></symbol><symbol id="radio-unchecked" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.398 6.398 0 0 1 1.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4Z"/></symbol><symbol id="refresh" viewBox="0 0 16 16"><path d="M13.64 2.35A7.958 7.958 0 0 0 7.99 0C3.57 0 0 3.58 0 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08a5.99 5.99 0 0 1-5.65 4c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L8.99 7h7V0l-2.35 2.35Z"/></symbol><symbol id="relationship" viewBox="0 0 16 16"><path d="m6.737 10.602.946-.946c-1.82-1.62-3.012-2.712-3.012-3.752 0-.7.533-1.232 1.233-1.232.74 0 1.026.433 1.786 1.332h.62c.746-.873 1.019-1.332 1.785-1.332.58 0 1.033.36 1.18.88.233-.027.453-.04.666-.04.24 0 .466.02.686.053a2.517 2.517 0 0 0-2.525-2.226c-.08 0-.153.02-.233.026a2 2 0 0 0 .133-.693 1.997 1.997 0 0 0-2-1.999 1.996 1.996 0 0 0-1.998 2c0 .246.053.473.133.692-.08-.006-.153-.026-.233-.026a2.537 2.537 0 0 0-2.566 2.565c0 1.613 1.36 2.872 3.399 4.698Z"/><path d="M15 10.829a2.096 2.096 0 0 0-.667-.233c.047-.067.1-.12.14-.187a2.539 2.539 0 0 0-.94-3.505c-1.392-.806-3.171-.26-5.763.6l.346 1.292c2.312-.76 3.858-1.252 4.758-.733.606.354.8 1.073.453 1.686-.373.64-.886.667-2.046.88l-.313.54c.387 1.08.646 1.552.26 2.212-.353.606-1.073.8-1.686.453-.04-.02-.073-.06-.113-.086a5.33 5.33 0 0 1-.687 1.152c.047.027.087.06.134.094a2.539 2.539 0 0 0 3.505-.94c.04-.067.06-.14.093-.213.147.18.32.34.533.46a1.998 1.998 0 0 0 2.732-.733 2.01 2.01 0 0 0-.74-2.74Z"/><path d="M8.216 9.343c-.493 2.385-.846 3.965-1.746 4.485a1.204 1.204 0 0 1-1.686-.454c-.373-.64-.133-1.106.26-2.212l-.306-.54c-1.133-.206-1.666-.22-2.046-.88a1.204 1.204 0 0 1 .453-1.685.964.964 0 0 1 .193-.074 4.482 4.482 0 0 1-.546-1.232 2.539 2.539 0 0 0-1.26 3.658c.04.067.094.12.14.187-.226.04-.453.113-.666.233a2.002 2.002 0 0 0-.733 2.732 1.997 1.997 0 0 0 2.732.733c.213-.12.387-.28.533-.46.033.074.053.147.093.213a2.539 2.539 0 0 0 3.506.94c1.392-.806 1.805-2.619 2.365-5.291l-1.286-.353Z"/></symbol><symbol id="remboursement" viewBox="0 0 16 12"><path d="M13.09 7.273V1.455c0-.8-.654-1.455-1.454-1.455H1.455C.655 0 0 .655 0 1.455v5.818c0 .8.655 1.454 1.455 1.454h10.181c.8 0 1.455-.654 1.455-1.454Zm-1.454 0H1.455V1.455h10.181v5.818Zm-5.09-5.091a2.179 2.179 0 0 0-2.182 2.182c0 1.207.974 2.181 2.181 2.181a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182Zm9.454 0v8c0 .8-.655 1.454-1.454 1.454H2.181v-1.454h12.364v-8H16Z"/></symbol><symbol id="rename" viewBox="0 0 16 17"><path d="M.727 16.8v-2.91h14.546v2.91H.727Zm1.455-4.364v-3.09l8.145-8.128A1.436 1.436 0 0 1 11.345.8c.194 0 .382.036.564.109.182.073.346.182.491.327l1 1.018c.146.134.252.291.318.473.067.182.1.37.1.564a1.5 1.5 0 0 1-.1.536 1.363 1.363 0 0 1-.318.482l-8.127 8.127H2.182Zm9.163-8.145 1.019-1.018-1.019-1.019-1.018 1.019 1.018 1.018Z"/></symbol><symbol id="repare" viewBox="0 0 17 16"><path d="m16.711 13.08-6.608-6.61a4.734 4.734 0 0 0-1.048-5.094A4.73 4.73 0 0 0 2.919.903l2.795 2.802-1.033 1.026-2.788-2.787a4.72 4.72 0 0 0 .473 6.128 4.733 4.733 0 0 0 5.015 1.077l6.63 6.63a.725.725 0 0 0 1.026 0l1.674-1.674a.712.712 0 0 0 0-1.026Zm-2.183 1.164L7.643 7.359a3.182 3.182 0 0 1-1.456.596 3.255 3.255 0 0 1-2.787-.91 3.251 3.251 0 0 1-.961-2.503l2.249 2.249 3.086-3.086-2.25-2.249c.903-.05 1.813.27 2.505.954a3.252 3.252 0 0 1 .902 2.882 3.165 3.165 0 0 1-.64 1.426l6.877 6.878-.64.648Z"/></symbol><symbol id="reply" viewBox="0 0 16 14"><path d="M6.222 3.556V0L0 6.222l6.222 6.222V8.8c4.445 0 7.556 1.422 9.778 4.533-.889-4.444-3.556-8.889-9.778-9.777Z"/></symbol><symbol id="restaurant" viewBox="0 0 15 16"><path d="M10.4 3.2v6.4h2.4V16h1.6V0c-2.208 0-4 1.792-4 3.2Zm-4 2.4H4.8V0H3.2v5.6H1.6V0H0v5.6a3.2 3.2 0 0 0 3.2 3.2V16h1.6V8.8A3.2 3.2 0 0 0 8 5.6V0H6.4v5.6Z"/></symbol><symbol id="restore-straight" viewBox="0 0 14 16"><path d="M8.6 0H2.2C1.32 0 .608.72.608 1.6L.6 14.4c0 .88.712 1.6 1.592 1.6H11.8c.88 0 1.6-.72 1.6-1.6V4.8L8.6 0Zm3.2 14.4H2.2V1.6h5.736L11.8 5.464V14.4ZM4.16 6.856l-.936-.936V8.8h2.88L4.952 7.648A2.52 2.52 0 0 1 7.184 6.28a2.52 2.52 0 1 1 0 5.04 2.512 2.512 0 0 1-2.064-1.08H3.88a3.607 3.607 0 0 0 3.296 2.16c1.984 0 3.6-1.616 3.6-3.6s-1.616-3.6-3.6-3.6A3.581 3.581 0 0 0 4.16 6.856Z"/></symbol><symbol id="restore" viewBox="0 0 14 17"><path d="M7 16.282a6.775 6.775 0 0 1-2.733-.555 7.117 7.117 0 0 1-2.218-1.498 7.118 7.118 0 0 1-1.497-2.217 6.775 6.775 0 0 1-.555-2.733c0-.22.075-.405.224-.555a.753.753 0 0 1 .554-.223c.22 0 .405.074.555.223.149.15.223.334.223.555 0 1.517.529 2.804 1.586 3.861C4.196 14.197 5.483 14.725 7 14.725c1.517 0 2.804-.528 3.861-1.585 1.057-1.057 1.586-2.344 1.586-3.861 0-1.517-.529-2.805-1.586-3.861C9.804 4.36 8.517 3.832 7 3.832h-.117l.662.662a.71.71 0 0 1 .223.544.793.793 0 0 1-.778.788.724.724 0 0 1-.554-.224L4.432 3.6a.746.746 0 0 1-.233-.545.75.75 0 0 1 .233-.545L6.436.506A.724.724 0 0 1 6.99.282a.793.793 0 0 1 .778.788.713.713 0 0 1-.223.545l-.662.661H7c.973 0 1.884.185 2.733.554.85.37 1.589.87 2.218 1.498a7.118 7.118 0 0 1 1.497 2.218c.37.85.555 1.76.555 2.733 0 .973-.185 1.883-.555 2.733a7.117 7.117 0 0 1-1.497 2.217 7.116 7.116 0 0 1-2.218 1.498c-.85.37-1.76.555-2.733.555Z"/></symbol><symbol id="right" viewBox="0 0 16 16"><path d="M8.6 8 4.7 4.1a.948.948 0 0 1-.275-.7c0-.284.092-.517.275-.7a.948.948 0 0 1 .7-.275c.283 0 .517.091.7.275l4.6 4.6c.1.1.17.208.213.325.041.116.062.241.062.375 0 .133-.02.258-.063.375a.878.878 0 0 1-.212.325l-4.6 4.6a.948.948 0 0 1-.7.275.948.948 0 0 1-.7-.275.948.948 0 0 1-.275-.7c0-.284.092-.517.275-.7L8.6 8Z"/></symbol><symbol id="rise" viewBox="0 0 16 16"><path d="M2.5 1.5v2h8.59L1.5 13.09l1.41 1.41 9.59-9.59v8.59h2v-12h-12Z"/></symbol><symbol id="rotate-left" viewBox="0 0 14 17"><path d="m2.802 6.83-1.191-1.2A6.696 6.696 0 0 0 .233 8.916H1.94a5.016 5.016 0 0 1 .862-2.088Zm-.862 3.777H.233a6.683 6.683 0 0 0 1.37 3.288l1.19-1.2a5.067 5.067 0 0 1-.853-2.088Zm.854 4.497a6.697 6.697 0 0 0 3.296 1.36V14.75a4.997 4.997 0 0 1-2.079-.87l-1.217 1.225ZM7.78 3.06V.465L3.935 4.31 7.78 8.07V4.768a5.07 5.07 0 0 1 4.226 4.995 5.07 5.07 0 0 1-4.226 4.995v1.708a6.752 6.752 0 0 0 5.916-6.703A6.752 6.752 0 0 0 7.781 3.06Z"/></symbol><symbol id="rotate-right" viewBox="0 0 14 17"><path d="M9.995 4.31 6.15.466V3.06A6.76 6.76 0 0 0 .233 9.762a6.752 6.752 0 0 0 5.916 6.703v-1.707a5.07 5.07 0 0 1-4.226-4.996A5.07 5.07 0 0 1 6.15 4.767v3.305L9.995 4.31Zm3.702 4.607a6.683 6.683 0 0 0-1.37-3.288l-1.2 1.2c.457.634.744 1.353.863 2.088h1.707ZM7.84 14.749v1.707a6.698 6.698 0 0 0 3.296-1.36L9.92 13.879a4.89 4.89 0 0 1-2.08.87Zm3.288-2.045 1.2 1.191a6.683 6.683 0 0 0 1.37-3.287H11.99a4.984 4.984 0 0 1-.862 2.096Z"/></symbol><symbol id="sad-cozy" viewBox="0 0 52 52"><path d="M38.231 40H13.769C6.175 40 0 33.756 0 26.08c0-3.66 1.394-7.117 3.927-9.733 2.219-2.29 5.093-3.715 8.203-4.086a13.887 13.887 0 014.042-8.292A13.608 13.608 0 0125.801 0c3.62 0 7.04 1.407 9.629 3.968a13.897 13.897 0 014.038 8.25C46.482 12.853 52 18.828 52 26.082 52 33.756 45.82 40 38.23 40h.001zm-.163-3.001h.104c5.97 0 10.828-4.91 10.828-10.947 0-6.035-4.857-10.946-10.828-10.946h-.11c-.779 0-1.417-.627-1.435-1.417C36.492 7.794 31.637 3 25.803 3 19.968 3 15.11 7.796 14.977 13.69a1.445 1.445 0 01-1.403 1.42C7.744 15.244 3 20.153 3 26.052 3 32.09 7.857 37 13.828 37h.088l.035-.002c.03 0 .062 0 .093.002h24.021l.003-.001zm-4.302-11.222c-.875.585-.918 1.659-.92 1.706a.52.52 0 01-.525.517.523.523 0 01-.506-.536c.002-.039.016-.543.251-1.137a7.99 7.99 0 00-11.138-.019c.241.603.257 1.116.257 1.155a.523.523 0 01-.503.536.526.526 0 01-.528-.515c0-.043-.042-1.121-.92-1.706a.536.536 0 01-.15-.731.51.51 0 01.714-.154c.225.15.414.322.572.505a9.006 9.006 0 0112.251.01c.16-.184.35-.36.582-.515a.503.503 0 01.281-.085c.168 0 .333.085.432.24a.537.537 0 01-.15.731v-.002z" fill-rule="evenodd"/></symbol><symbol id="safe" viewBox="0 0 14 17"><path d="M2.429 16.5c-.42 0-.778-.15-1.077-.448a1.467 1.467 0 0 1-.447-1.076V7.357c0-.419.149-.778.447-1.076a1.467 1.467 0 0 1 1.077-.448h.761V4.31c0-1.054.372-1.953 1.115-2.696C5.048.871 5.946.5 7 .5c1.054 0 1.952.371 2.695 1.114.743.743 1.114 1.642 1.114 2.696v1.523h.762c.42 0 .778.15 1.077.448.298.298.447.657.447 1.076v7.62c0 .418-.149.777-.447 1.075a1.467 1.467 0 0 1-1.077.448H2.43ZM7 12.69c.419 0 .778-.149 1.076-.447.299-.299.448-.657.448-1.076 0-.42-.15-.778-.448-1.076A1.467 1.467 0 0 0 7 9.643c-.42 0-.778.15-1.076.447a1.467 1.467 0 0 0-.448 1.077c0 .419.15.777.448 1.076.298.298.657.447 1.076.447ZM4.714 5.833h4.572V4.31a2.21 2.21 0 0 0-.667-1.62A2.204 2.204 0 0 0 7 2.024c-.635 0-1.175.222-1.619.666a2.204 2.204 0 0 0-.667 1.62v1.523Z"/></symbol><symbol id="school" viewBox="0 0 16 14"><path d="M8 0 0 4.364l2.91 1.585v4.364L8 13.09l5.09-2.778V5.949l1.456-.793v5.026H16V4.364L8 0Zm4.96 4.364L8 7.069 3.04 4.364 8 1.658l4.96 2.706Zm-1.324 5.083L8 11.433 4.364 9.447V6.742L8 8.727l3.636-1.985v2.705Z"/></symbol><symbol id="scooter" viewBox="0 0 16 12"><path d="M13.6 2c0-.88-.72-1.6-1.6-1.6H9.6V2H12v2.12L9.216 7.6H6.4v-4H3.2A3.2 3.2 0 0 0 0 6.8v2.4h1.6c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4h3.584L13.6 4.68V2Zm-12 5.6v-.8c0-.88.72-1.6 1.6-1.6h1.6v2.4H1.6ZM4 10c-.44 0-.8-.36-.8-.8h1.6c0 .44-.36.8-.8.8Z"/><path d="M6.4 1.2h-4v1.6h4V1.2Zm7.2 5.6a2.397 2.397 0 0 0-2.4 2.4c0 1.328 1.072 2.4 2.4 2.4 1.328 0 2.4-1.072 2.4-2.4 0-1.328-1.072-2.4-2.4-2.4Zm0 3.2c-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8 0 .44-.36.8-.8.8Z"/></symbol><symbol id="security" viewBox="0 0 16 16"><path d="M8 .667 2 3.333v4c0 3.7 2.56 7.16 6 8 3.44-.84 6-4.3 6-8v-4L8 .667Zm0 7.326h4.667c-.354 2.747-2.187 5.194-4.667 5.96V8H3.333V4.2L8 2.126v5.867Z"/></symbol><symbol id="select-all" viewBox="0 0 16 16"><path d="M14.4 1.6v9.6H4.8V1.6h9.6Zm0-1.6H4.8c-.88 0-1.6.72-1.6 1.6v9.6c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6ZM8.376 9.6 5.6 6.8l1.12-1.128 1.656 1.664L12.48 3.2l1.12 1.128L8.376 9.6ZM1.6 3.2H0v11.2c0 .88.72 1.6 1.6 1.6h11.2v-1.6H1.6V3.2Z"/></symbol><symbol id="server" viewBox="0 0 16 16"><path d="M14.222 10.667v3.555H1.778v-3.555h12.444Zm.89-1.778H.888c-.489 0-.889.4-.889.889v5.333a.893.893 0 0 0 .89.889H15.11c.489 0 .889-.4.889-.889V9.778c0-.49-.4-.89-.889-.89ZM3.555 13.778a1.337 1.337 0 0 1-1.334-1.334c0-.737.605-1.333 1.334-1.333.728 0 1.333.596 1.333 1.333 0 .738-.596 1.334-1.333 1.334Zm10.666-12v3.555H1.778V1.778h12.444ZM15.112 0H.888C.4 0 0 .4 0 .889v5.333c0 .49.4.89.889.89H15.11c.489 0 .889-.4.889-.89V.89a.89.89 0 0 0-.888-.89ZM3.555 4.889a1.337 1.337 0 0 1-1.334-1.333c0-.738.605-1.334 1.334-1.334.728 0 1.333.605 1.333 1.334 0 .728-.596 1.333-1.333 1.333Z"/></symbol><symbol id="setting" viewBox="0 0 16 16"><path d="M13.727 8.784c.032-.256.056-.512.056-.784s-.024-.528-.056-.784l1.688-1.32a.404.404 0 0 0 .097-.512l-1.6-2.768a.4.4 0 0 0-.489-.176l-1.992.8a5.845 5.845 0 0 0-1.351-.784L9.774.336A.39.39 0 0 0 9.383 0h-3.2a.39.39 0 0 0-.392.336l-.304 2.12c-.488.2-.936.472-1.352.784l-1.992-.8A.453.453 0 0 0 2 2.416a.396.396 0 0 0-.344.2l-1.6 2.768a.394.394 0 0 0 .096.512l1.688 1.32c-.032.256-.056.52-.056.784s.024.528.056.784l-1.688 1.32a.404.404 0 0 0-.096.512l1.6 2.768a.4.4 0 0 0 .488.176l1.992-.8c.416.32.864.584 1.352.784l.304 2.12a.39.39 0 0 0 .392.336h3.2a.39.39 0 0 0 .392-.336l.304-2.12c.489-.2.936-.472 1.352-.784l1.993.8a.453.453 0 0 0 .144.024.396.396 0 0 0 .344-.2l1.6-2.768a.404.404 0 0 0-.097-.512l-1.688-1.32Zm-1.584-1.368c.032.248.04.416.04.584 0 .168-.015.344-.04.584l-.112.904.712.56.864.672-.56.968-1.016-.408-.832-.336-.72.544a4.685 4.685 0 0 1-1 .584l-.848.344-.128.904-.16 1.08h-1.12l-.28-1.984-.848-.344a4.54 4.54 0 0 1-.984-.568l-.728-.56-.848.344-1.016.408-.56-.968.864-.672.712-.56-.112-.904A6.435 6.435 0 0 1 3.383 8c0-.16.016-.344.04-.584l.112-.904-.712-.56-.864-.672.56-.968 1.016.408.832.336.72-.544a4.685 4.685 0 0 1 1-.584l.848-.344.128-.904.16-1.08h1.112l.28 1.984.848.344c.344.144.665.328.985.568l.727.56.848-.344 1.017-.408.56.968-.857.68-.712.56.112.904ZM7.783 4.8a3.2 3.2 0 1 0 0 6.4 3.2 3.2 0 1 0 0-6.4Zm0 4.8c-.88 0-1.6-.72-1.6-1.6 0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 .88-.72 1.6-1.6 1.6Z"/></symbol><symbol id="share-circle" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zM6.541 6.92a1.5 1.5 0 1 0 0 2.16l2.47 1.235a1.5 1.5 0 1 0 .447-.894l-2.47-1.236a1.515 1.515 0 0 0 0-.37l2.47-1.235a1.5 1.5 0 1 0-.447-.894L6.541 6.92z"/>\n</symbol><symbol id="share-ios" viewBox="0 0 16 16">\n    <g fill-rule="evenodd">\n        <path d="M5 6v2H3v6h10V8h-2V6h2c1.105 0 2 .895 2 2v6c0 1.105-.895 2-2 2H3c-1.105 0-2-.895-2-2V8c0-1.105.895-2 2-2h2zM8.707.293L11.5 3.086c.39.39.39 1.023 0 1.414-.39.39-1.024.39-1.414 0L9 3.414V11c0 .552-.448 1-1 1s-1-.448-1-1V3.414L6 4.5c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414L7.293.293c.39-.39 1.024-.39 1.414 0z"/>\n    </g>\n</symbol><symbol id="share" viewBox="0 0 16 16"><path d="M12.8 16a2.314 2.314 0 0 1-1.7-.7 2.314 2.314 0 0 1-.7-1.7c0-.093.007-.19.02-.29.013-.1.033-.19.06-.27L4.84 9.76c-.227.2-.48.357-.76.47-.28.113-.573.17-.88.17a2.314 2.314 0 0 1-1.7-.7A2.314 2.314 0 0 1 .8 8c0-.667.233-1.233.7-1.7a2.314 2.314 0 0 1 1.7-.7c.307 0 .6.057.88.17.28.113.533.27.76.47l5.64-3.28a1.464 1.464 0 0 1-.06-.27 2.2 2.2 0 0 1-.02-.29c0-.667.233-1.233.7-1.7a2.314 2.314 0 0 1 1.7-.7c.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7-.307 0-.6-.057-.88-.17a2.635 2.635 0 0 1-.76-.47L5.52 7.44c.027.08.047.17.06.27a2.195 2.195 0 0 1 0 .58c-.013.1-.033.19-.06.27l5.64 3.28c.227-.2.48-.357.76-.47.28-.113.573-.17.88-.17.667 0 1.233.233 1.7.7.467.467.7 1.033.7 1.7s-.233 1.233-.7 1.7c-.467.467-1.033.7-1.7.7Z"/></symbol><symbol id="shield" viewBox="0 0 13 16"><path d="M6.4 0 0 2.4v4.872C0 11.312 2.728 15.08 6.4 16c3.672-.92 6.4-4.688 6.4-8.728V2.4L6.4 0Zm4.8 7.272c0 3.2-2.04 6.16-4.8 7.064-2.76-.904-4.8-3.856-4.8-7.064v-3.76l4.8-1.8 4.8 1.8v3.76Z"/></symbol><symbol id="shop" viewBox="0 0 16 16"><path d="M11.639 8.8c.6 0 1.127-.328 1.4-.824l2.862-5.19a.797.797 0 0 0-.696-1.184H3.37l-.752-1.6H.003v1.6h1.6l2.878 6.07-1.08 1.951C2.819 10.695 3.587 12 4.802 12h9.597v-1.6H4.8l.88-1.6h5.958Zm-7.51-5.598h9.717L11.639 7.2H6.025L4.129 3.202Zm.672 9.596c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599Zm7.997 0c-.88 0-1.591.72-1.591 1.6 0 .88.712 1.599 1.591 1.599.88 0 1.6-.72 1.6-1.6 0-.88-.72-1.599-1.6-1.599Z"/></symbol><symbol id="sound" viewBox="0 0 16 16"><path d="M14.222 8.288c0-1.23-.326-2.352-.978-3.367a6.064 6.064 0 0 0-2.622-2.278.99.99 0 0 1-.489-.478.842.842 0 0 1-.044-.655.878.878 0 0 1 .478-.511.826.826 0 0 1 .7 0A7.827 7.827 0 0 1 14.71 3.92C15.571 5.232 16 6.688 16 8.288s-.43 3.055-1.289 4.366a7.828 7.828 0 0 1-3.444 2.922.826.826 0 0 1-.7 0 .878.878 0 0 1-.478-.51.842.842 0 0 1 .044-.656.99.99 0 0 1 .49-.478 6.064 6.064 0 0 0 2.621-2.278 6.1 6.1 0 0 0 .978-3.366ZM3.556 10.976H.889a.86.86 0 0 1-.633-.255.86.86 0 0 1-.256-.633V6.532a.86.86 0 0 1 .256-.633.86.86 0 0 1 .633-.256h2.667L6.489 2.71c.281-.282.604-.345.967-.19.363.156.544.434.544.834v9.911c0 .4-.181.678-.544.834-.363.155-.686.092-.967-.19l-2.933-2.933ZM12 8.31c0 .622-.14 1.21-.422 1.766a3.964 3.964 0 0 1-1.111 1.367.438.438 0 0 1-.456.011.409.409 0 0 1-.233-.389V5.51a.41.41 0 0 1 .233-.39.438.438 0 0 1 .456.012c.459.37.83.837 1.11 1.4A3.92 3.92 0 0 1 12 8.31Zm-5.778-2.8-1.91 1.91H1.777V9.2H4.31l1.911 1.91v-5.6Z"/></symbol><symbol id="spinner" viewBox="0 0 16 16"><path d="M8 16a7.74 7.74 0 0 1-3.1-.63 8.114 8.114 0 0 1-2.55-1.72A8.115 8.115 0 0 1 .63 11.1 7.74 7.74 0 0 1 0 8c0-1.107.21-2.143.63-3.11a8.146 8.146 0 0 1 1.72-2.54A8.114 8.114 0 0 1 4.9.63 7.74 7.74 0 0 1 8 0c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 0 1-.23.57.774.774 0 0 1-.57.23c-1.773 0-3.283.623-4.53 1.87C2.223 4.717 1.6 6.227 1.6 8c0 1.773.623 3.283 1.87 4.53C4.717 13.777 6.227 14.4 8 14.4c1.773 0 3.283-.623 4.53-1.87C13.777 11.283 14.4 9.773 14.4 8c0-.227.077-.417.23-.57a.774.774 0 0 1 .57-.23c.227 0 .417.077.57.23.153.153.23.343.23.57a7.74 7.74 0 0 1-.63 3.1 8.115 8.115 0 0 1-1.72 2.55 8.146 8.146 0 0 1-2.54 1.72A7.72 7.72 0 0 1 8 16Z"/></symbol><symbol id="sport-bag" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a4 4 0 1 1 8 0h.459a3 3 0 0 1 2.96 2.507l.5 2A3 3 0 0 1 12.958 13H3.042a3 3 0 0 1-2.96-3.493l.5-2A3 3 0 0 1 3.543 5H4Zm2 0a2 2 0 1 1 4 0H6Z"/></symbol><symbol id="stack" viewBox="0 0 16 16"><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 1.778v2.666H1.778V1.778h12.444Zm0 4.444v3.556H1.778V6.222h12.444Zm-12.444 8v-2.666h12.444v2.666H1.778Z"/></symbol><symbol id="star-outline" viewBox="0 0 16 17"><path d="m16 6.692-5.752-.496L8 .9 5.752 6.204 0 6.692l4.368 3.784L3.056 16.1 8 13.116l4.944 2.984-1.304-5.624L16 6.692ZM8 11.62l-3.008 1.816.8-3.424-2.656-2.304 3.504-.304L8 4.18l1.368 3.232 3.504.304-2.656 2.304.8 3.424L8 11.62Z"/></symbol><symbol id="star" viewBox="0 0 16 16"><path d="m8 12.216 4.944 2.984-1.312-5.624L16 5.792l-5.752-.488L8 0 5.752 5.304 0 5.792l4.368 3.784L3.056 15.2 8 12.216Z"/></symbol><symbol id="stats" viewBox="0 0 16 16"><path d="M14.222 0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16h12.444C15.2 16 16 15.2 16 14.222V1.778C16 .8 15.2 0 14.222 0Zm0 14.222H1.778V1.778h12.444v12.444Zm-10.666-8h1.777v6.222H3.556V6.222ZM7.11 3.556h1.78v8.888H7.11V3.556Zm3.556 5.333h1.777v3.555h-1.777V8.89Z"/></symbol><symbol id="stop" viewBox="0 0 12 12"><path d="M10 2v8H2V2h8Zm2-2H0v12h12V0Z"/></symbol><symbol id="subway" viewBox="0 0 16 16"><path d="M12.64.64C11.2.072 9.488 0 8 0 6.512 0 4.8.072 3.36.64 1.224 1.472 0 3.24 0 5.488V16h16V5.488C16 3.24 14.776 1.472 12.64.64ZM5.736 14.4l1.2-1.2h2.128l1.2 1.2H5.736ZM4.008 9.6v-4h8v4h-8Zm7.592 1.6c0 .44-.36.8-.8.8-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8.44 0 .8.36.8.8Zm-6.4-.8c.44 0 .8.36.8.8 0 .44-.36.8-.8.8-.44 0-.8-.36-.8-.8 0-.44.36-.8.8-.8Zm9.2 4h-2.8v-.304l-.92-.928A2.383 2.383 0 0 0 12.8 10.8V5.6c0-2.104-2.4-2.4-4.8-2.4s-4.8.296-4.8 2.4v5.2c0 1.232.928 2.232 2.12 2.368l-.92.928v.304H1.6V5.488c0-1.6.808-2.76 2.344-3.36C5.128 1.664 6.656 1.6 8 1.6c1.344 0 2.872.064 4.056.528 1.536.6 2.344 1.76 2.344 3.36V14.4Z"/></symbol><symbol id="support" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm5.968 5.696-2.224.92a3.986 3.986 0 0 0-2.36-2.352l.92-2.224a6.37 6.37 0 0 1 3.664 3.656ZM8 10.4A2.397 2.397 0 0 1 5.6 8c0-1.328 1.072-2.4 2.4-2.4 1.328 0 2.4 1.072 2.4 2.4 0 1.328-1.072 2.4-2.4 2.4ZM5.704 2.032l.936 2.224a4 4 0 0 0-2.384 2.376l-2.224-.928a6.388 6.388 0 0 1 3.672-3.672Zm-3.672 8.264 2.224-.92a3.975 3.975 0 0 0 2.376 2.368l-.936 2.224a6.397 6.397 0 0 1-3.664-3.672Zm8.272 3.672-.92-2.224a3.983 3.983 0 0 0 2.36-2.376l2.224.936a6.406 6.406 0 0 1-3.664 3.664Z"/></symbol><symbol id="swap" viewBox="0 0 14 16"><path d="M10.556 12.453v-6.23H8.777v6.23H6.11L9.667 16l3.555-3.547h-2.666ZM4.333 0 .778 3.547h2.666v6.23h1.778v-6.23H7.89L4.333 0Zm6.223 12.453v-6.23H8.777v6.23H6.11L9.667 16l3.555-3.547h-2.666ZM4.333 0 .778 3.547h2.666v6.23h1.778v-6.23H7.89L4.333 0Z"/></symbol><symbol id="sync-cozy" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#297EF1">\n            <path d="M8 2c2.21 0 4 1.79 4 4 2.21 0 4 1.79 4 4s-1.79 4-4 4H4c-2.21 0-4-1.79-4-4s1.79-4 4-4c0-2.21 1.79-4 4-4zM4.6 9.014c-.12-.025-.242-.004-.345.055l-.038.024c-.042.029-.08.063-.112.104l-.012.014c-.034.047-.059.1-.074.16l-.006.04C4.008 9.441 4 9.469 4 9.5v2c0 .276.224.5.5.5.237 0 .426-.168.478-.39C5.728 12.459 6.818 13 8 13c1.547 0 2.956-.899 3.632-2.268.122-.247.02-.547-.228-.67-.248-.121-.547-.02-.67.228C10.227 11.322 9.162 12 8 12c-.74 0-1.436-.286-1.976-.754.135-.007.267-.064.36-.176.177-.212.148-.527-.064-.704l-1.5-1.25c-.005-.005-.012-.006-.017-.011l-.04-.024c-.04-.025-.08-.045-.124-.057zM8 5c-1.57 0-2.992.906-3.653 2.291-.119.25-.013.548.236.667.25.118.548.013.667-.236C5.746 6.682 6.817 6 8 6c.769 0 1.477.287 2.017.758-.149-.005-.298.048-.401.172-.177.212-.148.527.064.704l1.5 1.25.011.007c.01.008.023.013.034.02.04.028.083.05.127.063l.04.01c.054.012.11.017.163.01.005 0 .009.002.013.001.063-.01.118-.031.17-.059.014-.007.025-.016.038-.024.04-.027.076-.059.107-.097l.02-.021c.034-.047.06-.1.077-.158.003-.01.002-.02.004-.03.008-.034.016-.068.016-.106v-2c0-.276-.224-.5-.5-.5-.226 0-.41.152-.471.357C10.284 5.523 9.196 5 7.999 5z"/>\n        </g>\n    </g>\n</symbol><symbol id="sync" viewBox="0 0 12 16"><path d="M6 2.182V0L3.09 2.91 6 5.817V3.636A4.367 4.367 0 0 1 10.364 8a4.27 4.27 0 0 1-.51 2.036l1.062 1.062A5.769 5.769 0 0 0 11.818 8 5.817 5.817 0 0 0 6 2.182Zm0 10.182A4.367 4.367 0 0 1 1.636 8c0-.735.182-1.433.51-2.036L1.083 4.902A5.768 5.768 0 0 0 .182 8 5.817 5.817 0 0 0 6 13.818V16l2.91-2.91L6 10.183v2.182Z"/></symbol><symbol id="tab" viewBox="0 0 16 14"><path d="M14.546.454H1.455C.655.454 0 1.108 0 1.908V12.09c0 .8.655 1.454 1.455 1.454h13.09c.8 0 1.455-.654 1.455-1.454V1.908c0-.8-.655-1.454-1.454-1.454Zm0 11.636H1.455V1.908h7.272v2.91h5.819v7.272Z"/></symbol><symbol id="tag" viewBox="0 0 16 16"><path d="M15.527 7.527 8.464.464A1.598 1.598 0 0 0 7.337 0H1.602c-.88 0-1.6.72-1.6 1.6v5.735c0 .424.168.831.472 1.127l7.062 7.063c.624.624 1.64.624 2.264 0l5.735-5.735a1.596 1.596 0 0 0-.008-2.263Zm-6.863 6.87L1.602 7.335V1.6h5.735l7.062 7.062-5.735 5.735Z"/><path d="M3.601 4.8a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"/></symbol><symbol id="target" viewBox="0 0 17 17"><path d="M8.22 16.219v-.731c-1.523-.17-2.829-.8-3.918-1.89-1.09-1.09-1.72-2.396-1.89-3.918H1.68a.707.707 0 0 1-.52-.21.707.707 0 0 1-.211-.52c0-.208.07-.381.21-.521.14-.14.314-.21.52-.21h.731c.17-1.522.8-2.828 1.89-3.918 1.09-1.09 2.396-1.72 3.918-1.89V1.68c0-.207.07-.38.21-.52.14-.14.314-.21.521-.21.207 0 .38.07.52.21.14.14.21.313.21.52v.73c1.523.17 2.829.801 3.918 1.89 1.09 1.09 1.72 2.397 1.89 3.919h.731c.207 0 .38.07.521.21.14.14.21.313.21.52 0 .207-.07.38-.21.52a.707.707 0 0 1-.52.21h-.731c-.17 1.523-.8 2.829-1.89 3.919-1.09 1.09-2.396 1.72-3.918 1.89v.73c0 .208-.07.381-.21.521a.707.707 0 0 1-.521.21.707.707 0 0 1-.52-.21.707.707 0 0 1-.21-.52Zm.73-2.156c1.413 0 2.618-.499 3.617-1.497.998-.999 1.497-2.204 1.497-3.617 0-1.412-.5-2.618-1.498-3.616-.998-.999-2.204-1.498-3.616-1.498s-2.618.5-3.616 1.498c-.999.998-1.498 2.204-1.498 3.616 0 1.413.5 2.618 1.498 3.617.998.998 2.204 1.497 3.616 1.497Zm0-2.191a2.814 2.814 0 0 1-2.064-.859 2.814 2.814 0 0 1-.858-2.064c0-.803.286-1.491.858-2.064a2.814 2.814 0 0 1 2.064-.858c.804 0 1.492.286 2.064.858.572.573.858 1.26.858 2.064s-.286 1.492-.858 2.064a2.814 2.814 0 0 1-2.064.859Zm0-1.462c.402 0 .746-.143 1.032-.429.286-.286.43-.63.43-1.032s-.144-.746-.43-1.032a1.407 1.407 0 0 0-1.032-.429c-.402 0-.746.143-1.032.43-.286.285-.43.63-.43 1.031 0 .402.144.746.43 1.032.286.286.63.43 1.032.43Z"/></symbol><symbol id="task" viewBox="0 0 13 16"><path d="M8 0H1.6C.72 0 .008.72.008 1.6L0 14.4c0 .88.712 1.6 1.592 1.6H11.2c.88 0 1.6-.72 1.6-1.6V4.8L8 0Zm3.2 14.4H1.6V1.6h5.6v4h4v8.8ZM3.856 8.84 2.72 9.968 5.552 12.8l4.528-4.528-1.128-1.128-3.392 3.392L3.856 8.84Z"/></symbol><symbol id="team" viewBox="0 0 16 12"><path d="M3.87 6.553c.697.014 1.345.363 1.78.974.532.75 1.412 1.2 2.35 1.2a2.87 2.87 0 0 0 2.35-1.207c.436-.61 1.083-.96 1.78-.975-.523-.887-2.617-1.454-4.13-1.454-1.505 0-3.607.567-4.13 1.462Zm-1.688-.008a2.179 2.179 0 0 0 2.182-2.181 2.179 2.179 0 0 0-2.182-2.182A2.179 2.179 0 0 0 0 4.364a2.18 2.18 0 0 0 2.182 2.181Zm11.636 0A2.179 2.179 0 0 0 16 4.364a2.179 2.179 0 0 0-2.182-2.182 2.179 2.179 0 0 0-2.182 2.182c0 1.207.975 2.181 2.182 2.181ZM8 4.364a2.179 2.179 0 0 0 2.182-2.182A2.179 2.179 0 0 0 8 0a2.179 2.179 0 0 0-2.182 2.182A2.18 2.18 0 0 0 8 4.364Z"/><path d="M14.546 7.273h-2.379c-.56 0-.982.327-1.222.669-.029.043-.989 1.513-2.945 1.513a3.616 3.616 0 0 1-2.945-1.513c-.284-.4-.728-.67-1.222-.67H1.455C.655 7.273 0 7.928 0 8.728v2.91h5.09V9.992a5.097 5.097 0 0 0 2.91.916 5.097 5.097 0 0 0 2.91-.916v1.643H16V8.727c0-.8-.655-1.454-1.454-1.454Z"/></symbol><symbol id="telecom" viewBox="0 0 16 17"><path d="m4.24 10.35.96-.96C4.4 8.59 4 7.55 4 6.59c0-1.04.4-2.08 1.2-2.8l-.96-.96c-1.04 1.04-1.6 2.4-1.6 3.76 0 1.36.56 2.72 1.6 3.76ZM13.68.91l-.96.96c1.28 1.28 1.92 3.04 1.92 4.72 0 1.68-.64 3.44-1.92 4.72l.96.96c1.6-1.6 2.32-3.6 2.32-5.68 0-2.08-.8-4.08-2.32-5.68Z"/><path d="M3.28 1.87 2.32.91C.8 2.51 0 4.51 0 6.59c0 2.08.8 4.08 2.32 5.68l.96-.96C2 10.03 1.36 8.27 1.36 6.59c0-1.68.64-3.44 1.92-4.72Zm8.48 8.48c1.04-1.04 1.6-2.4 1.6-3.76-.08-1.36-.56-2.72-1.6-3.76l-.96.96c.8.8 1.2 1.84 1.2 2.8 0 1.04-.4 2.08-1.2 2.8l.96.96ZM10 6.59a2 2 0 0 0-4 0c0 .608.272 1.136.696 1.504L4 16.19h1.6l.536-1.6h3.736l.528 1.6H12L9.304 8.094c.424-.368.696-.896.696-1.504Zm-3.336 6.4L8 8.99l1.336 4H6.664Z"/></symbol><symbol id="telephone" viewBox="0 0 16 16"><path d="M15.067 16c-1.852 0-3.682-.404-5.49-1.211-1.807-.807-3.451-1.952-4.933-3.433C3.163 9.874 2.02 8.23 1.211 6.422.404 4.615 0 2.785 0 .933 0 .667.089.444.267.267A.905.905 0 0 1 .933 0h3.6c.208 0 .393.07.556.211.163.14.26.308.289.5l.578 3.111c.03.237.022.437-.023.6a.935.935 0 0 1-.244.422L3.533 7.022a10.75 10.75 0 0 0 1.056 1.59c.407.51.855 1.003 1.344 1.477.46.46.941.885 1.445 1.278.503.392 1.037.751 1.6 1.077l2.089-2.088c.133-.134.307-.234.522-.3a1.43 1.43 0 0 1 .633-.056l3.067.622c.207.06.378.167.511.322.133.156.2.33.2.523v3.6a.904.904 0 0 1-.267.666.904.904 0 0 1-.666.267Z"/></symbol><symbol id="text-info" viewBox="0 0 16 14"><path d="M0 3.53h9.706v1.764H0V3.53Zm0-1.765h9.706V0H0v1.765Zm0 7.059h6.177V7.059H0v1.765Zm13.245-2.762.626-.626a.879.879 0 0 1 1.244 0l.627.626c.344.344.344.9 0 1.244l-.627.627-1.87-1.871Zm-.627.627-4.676 4.676v1.87h1.87L14.49 8.56l-1.87-1.87Z"/></symbol><symbol id="text" viewBox="0 0 16 6"><path d="M0 0h16v2H0V0Zm0 4h10v2H0V4Z"/></symbol><symbol id="top" viewBox="0 0 16 16"><path d="M3.41 11.705 8 7.125l4.59 4.58 1.41-1.41-6-6-6 6 1.41 1.41Z"/></symbol><symbol id="to-the-cloud" viewBox="0 0 16 12"><path d="M12.9 4.693A4.993 4.993 0 0 0 3.567 3.36 3.996 3.996 0 0 0 0 7.333c0 2.207 1.793 4 4 4h8.667A3.335 3.335 0 0 0 16 8a3.317 3.317 0 0 0-3.1-3.307ZM12.667 10H4a2.666 2.666 0 0 1-2.667-2.667 2.649 2.649 0 0 1 2.374-2.647l.713-.073.333-.633A3.646 3.646 0 0 1 8 2a3.669 3.669 0 0 1 3.593 2.953l.2 1 1.02.074c1.04.066 1.854.94 1.854 1.973 0 1.1-.9 2-2 2ZM5.333 6.667h1.7v2h1.934v-2h1.7L8 4 5.333 6.667Z"/></symbol><symbol id="train" viewBox="0 0 14 17"><path d="M4.053 12.29a1.263 1.263 0 1 0 0-2.527 1.263 1.263 0 0 0 0 2.527Zm5.894 0a1.263 1.263 0 1 0 0-2.527 1.263 1.263 0 0 0 0 2.527Z"/><path d="M7 .5C3.632.5.263.921.263 3.868v8a2.95 2.95 0 0 0 2.948 2.948l-1.264 1.263v.421h1.685l1.684-1.684h3.368l1.684 1.684h1.685v-.421l-1.264-1.263a2.95 2.95 0 0 0 2.948-2.948v-8C13.737.921 10.368.5 7 .5Zm0 1.684c2.956 0 4.177.404 4.69.842H2.31c.513-.438 1.734-.842 4.69-.842ZM1.947 4.711h4.21v2.526h-4.21V4.71Zm10.106 7.157c0 .7-.565 1.264-1.264 1.264H3.212a1.261 1.261 0 0 1-1.264-1.264V8.921h10.106v2.947Zm0-4.631h-4.21V4.71h4.21v2.526Z"/></symbol><symbol id="tram" viewBox="0 0 12 16"><path d="m6.8 2.4.6-1.2H10V0H2v1.2h3.8l-.6 1.2C2.696 2.472.4 2.984.4 5.2V12c0 1.2.888 2.184 2.04 2.36L1.2 15.6v.4h1.6l1.6-1.6h3.2L9.2 16h1.6v-.4l-1.24-1.24A2.394 2.394 0 0 0 11.6 12V5.2c0-2.216-2.296-2.728-4.8-2.8ZM5.224 4h1.552c2.2.064 2.896.464 3.12.8H2.104c.224-.336.92-.736 3.12-.8Zm-.144 8.76H2.592A.779.779 0 0 1 2 12v-.8h3.112a1.19 1.19 0 0 0-.312.8c0 .288.104.552.28.76ZM10 12c0 .36-.24.672-.592.76H6.92A1.17 1.17 0 0 0 7.2 12c0-.312-.12-.584-.312-.8H10v.8Zm0-2.4H2V6.4h8v3.2Z"/></symbol><symbol id="trash" viewBox="0 0 16 16"><path d="M3.556 16c-.49 0-.908-.174-1.256-.522a1.712 1.712 0 0 1-.522-1.256V2.667h-.89V.889h4.445V0h5.334v.889h4.444v1.778h-.889v11.555c0 .49-.174.908-.522 1.256a1.712 1.712 0 0 1-1.256.522H3.556Zm8.888-13.333H3.556v11.555h8.888V2.667Zm-7.11 9.777H7.11v-8H5.333v8Zm3.555 0h1.778v-8H8.889v8Z"/></symbol><symbol id="trophy" viewBox="0 0 16 16"><path d="M14.222 1.778h-1.778V0H3.556v1.778H1.778C.8 1.778 0 2.578 0 3.556v.888C0 6.711 1.707 8.56 3.902 8.836a4.453 4.453 0 0 0 3.21 2.63v2.756H3.555V16h8.888v-1.778H8.89v-2.755a4.453 4.453 0 0 0 3.209-2.631C14.293 8.56 16 6.71 16 4.444v-.888c0-.978-.8-1.778-1.778-1.778ZM1.778 4.444v-.888h1.778V6.95a2.672 2.672 0 0 1-1.778-2.506ZM8 9.778A2.675 2.675 0 0 1 5.333 7.11V1.778h5.334V7.11c0 1.467-1.2 2.667-2.667 2.667Zm6.222-5.334a2.675 2.675 0 0 1-1.778 2.507V3.556h1.778v.888Z"/></symbol><symbol id="uncloud" viewBox="0 0 16 13"><path d="M16 7.427a3.317 3.317 0 0 0-3.1-3.307A4.993 4.993 0 0 0 8 .093c-.887 0-1.713.24-2.433.647l.993.993A3.597 3.597 0 0 1 8 1.427a3.665 3.665 0 0 1 3.667 3.666v.334h1a1.997 1.997 0 0 1 1.193 3.6l.94.94c.727-.614 1.2-1.514 1.2-2.54ZM2.94 0 2 .94l1.847 1.847h-.28A3.996 3.996 0 0 0 0 6.76c0 2.207 1.793 4 4 4h7.82l1.333 1.333.94-.94L2.94 0ZM4 9.427a2.666 2.666 0 1 1 0-5.334h1.153l5.334 5.334H4Z"/></symbol><symbol id="unknow" viewBox="0 0 10 17"><path d="M7.218 4.774c0-.604-.2-1.088-.6-1.453-.4-.365-.93-.547-1.59-.547a2.31 2.31 0 0 0-1.105.263c-.33.175-.614.431-.853.768-.224.323-.53.509-.916.558a1.2 1.2 0 0 1-1-.305.996.996 0 0 1-.326-.674 1.2 1.2 0 0 1 .2-.758 4.71 4.71 0 0 1 4-2.126C6.39.5 7.495.886 8.344 1.658c.849.772 1.274 1.782 1.274 3.031 0 .632-.134 1.2-.4 1.706-.267.505-.758 1.101-1.474 1.79-.52.49-.87.873-1.053 1.147a2.33 2.33 0 0 0-.358.936c-.056.337-.2.618-.431.842a1.152 1.152 0 0 1-.832.337c-.323 0-.6-.108-.831-.326a1.067 1.067 0 0 1-.348-.81c0-.548.12-1.05.358-1.506.239-.456.639-.937 1.2-1.442.716-.631 1.19-1.12 1.421-1.463.232-.344.348-.72.348-1.126ZM5.028 16.5c-.463 0-.86-.165-1.19-.495a1.622 1.622 0 0 1-.494-1.19c0-.462.165-.859.495-1.189a1.62 1.62 0 0 1 1.19-.494c.462 0 .859.165 1.189.494.33.33.494.727.494 1.19 0 .463-.165.86-.494 1.19-.33.33-.727.494-1.19.494Z"/></symbol><symbol id="unlink" viewBox="0 0 17 16"><path d="m13.907 11.45-1.19-1.23a2.42 2.42 0 0 0 1.289-.843c.33-.416.495-.902.495-1.457 0-.66-.23-1.223-.694-1.685a2.294 2.294 0 0 0-1.685-.694H9.743a.767.767 0 0 1-.565-.228.767.767 0 0 1-.228-.565c0-.225.076-.413.228-.565a.767.767 0 0 1 .565-.228h2.38c1.096 0 2.031.386 2.805 1.16.773.773 1.16 1.708 1.16 2.805a3.9 3.9 0 0 1-.585 2.082 3.797 3.797 0 0 1-1.596 1.447Zm-2.875-2.915L9.624 7.127h.912c.225 0 .413.076.565.228.152.152.228.34.228.565a.787.787 0 0 1-.08.357.69.69 0 0 1-.217.258Zm3.866 7.236a.752.752 0 0 1-.555.218.752.752 0 0 1-.555-.218L.306 2.29a.752.752 0 0 1-.219-.555c0-.225.073-.41.219-.555A.752.752 0 0 1 .86.961c.224 0 .41.073.555.218l13.482 13.482c.145.146.218.33.218.555 0 .225-.073.41-.218.555ZM4.192 11.885c-1.097 0-2.033-.386-2.806-1.16C.613 9.953.226 9.018.226 7.92c0-.912.278-1.725.833-2.439A3.864 3.864 0 0 1 3.2 4.074L4.667 5.54h-.475c-.661 0-1.223.231-1.686.694a2.294 2.294 0 0 0-.694 1.685c0 .66.232 1.223.694 1.685a2.294 2.294 0 0 0 1.686.694H6.57c.224 0 .413.076.565.228.152.152.228.34.228.565a.767.767 0 0 1-.228.565.767.767 0 0 1-.565.228H4.19Zm1.586-3.172a.767.767 0 0 1-.565-.228.767.767 0 0 1-.228-.565c0-.225.076-.413.228-.565a.767.767 0 0 1 .565-.228h.495L7.84 8.713H5.778Z"/></symbol><symbol id="unlock" viewBox="0 0 14 17"><path d="M2.429 16.5c-.42 0-.778-.15-1.077-.448a1.467 1.467 0 0 1-.447-1.076V7.357c0-.419.149-.778.447-1.076a1.467 1.467 0 0 1 1.077-.448h6.857V4.31a2.21 2.21 0 0 0-.667-1.62A2.204 2.204 0 0 0 7 2.024c-.533 0-1 .162-1.4.486-.4.323-.67.727-.81 1.21a.758.758 0 0 1-.314.428.912.912 0 0 1-.524.162.755.755 0 0 1-.542-.21.51.51 0 0 1-.162-.495 3.843 3.843 0 0 1 1.314-2.21A3.638 3.638 0 0 1 7 .5c1.054 0 1.952.371 2.695 1.114.743.743 1.114 1.642 1.114 2.696v1.523h.762c.42 0 .778.15 1.077.448.298.298.447.657.447 1.076v7.62c0 .418-.149.777-.447 1.075a1.467 1.467 0 0 1-1.077.448H2.43Zm0-1.524h9.142V7.357H2.43v7.62ZM7 12.69c.419 0 .778-.149 1.076-.447.299-.299.448-.657.448-1.076 0-.42-.15-.778-.448-1.076A1.467 1.467 0 0 0 7 9.643c-.42 0-.778.15-1.076.447a1.467 1.467 0 0 0-.448 1.077c0 .419.15.777.448 1.076.298.298.657.447 1.076.447Z"/></symbol><symbol id="upload" viewBox="0 0 16 16"><path d="M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2ZM3 5l1.41 1.41L7 3.83V12h2V3.83l2.59 2.58L13 5 8 0 3 5Z"/></symbol><symbol id="up" viewBox="0 0 16 16"><path d="m7 3.825-4.9 4.9c-.2.2-.433.296-.7.287A1.006 1.006 0 0 1 .7 8.7C.517 8.5.42 8.266.412 8A.916.916 0 0 1 .7 7.3L7.3.7a.88.88 0 0 1 .325-.213C7.742.446 7.867.425 8 .425s.258.02.375.062A.877.877 0 0 1 8.7.7l6.6 6.6a.933.933 0 0 1 .275.687c0 .275-.092.513-.275.713-.2.2-.438.3-.713.3a.973.973 0 0 1-.712-.3L9 3.825V15c0 .283-.096.52-.288.712A.967.967 0 0 1 8 16a.967.967 0 0 1-.713-.288A.968.968 0 0 1 7 15V3.825Z"/></symbol><symbol id="videos" viewBox="0 0 16 14"><path d="M5.818 3.364v5.818l5.091-2.91-5.09-2.908Zm8.728-2.91H1.455C.655.455 0 1.11 0 1.91v8.727c0 .8.655 1.455 1.455 1.455H5.09v1.455h5.818V12.09h3.636c.8 0 1.455-.655 1.455-1.455V1.91c0-.8-.655-1.454-1.454-1.454Zm0 10.182H1.455V1.91h13.09v8.727Z"/></symbol><symbol id="walk" viewBox="0 0 11 17"><path d="M6.244 3.727c.819 0 1.489-.67 1.489-1.489 0-.818-.67-1.488-1.489-1.488-.818 0-1.488.67-1.488 1.488 0 .819.67 1.489 1.488 1.489Zm-2.753 2.53L1.407 16.75H2.97l1.34-5.954 1.562 1.489v4.465H7.36v-5.581L5.798 9.68l.446-2.232a5.45 5.45 0 0 0 4.093 1.86V7.82c-1.414 0-2.604-.744-3.2-1.786l-.744-1.191a1.597 1.597 0 0 0-1.972-.625L.663 5.81v3.498H2.15v-2.53l1.34-.521Z"/></symbol><symbol id="wallet-add" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2 0h11a1 1 0 0 1 1 1v3h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 1 0 0 2h9V2H3zm4 4v3H4v2h3v3h2v-3h3V9H9V6H7z"/>\n</symbol><symbol id="wallet-new" viewBox="0 0 16 16">\n    <path fill-rule="evenodd" d="M2 0h11a1 1 0 0 1 1 1v3h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 1 0 0 2h9V2H3zm4 4v3H4v2h3v3h2v-3h3V9H9V6H7z"/>\n</symbol><symbol id="wallet" viewBox="0 0 16 13"><path d="M12.8 0H3.2A3.2 3.2 0 0 0 0 3.2v6.4a3.2 3.2 0 0 0 3.2 3.2h9.6A3.2 3.2 0 0 0 16 9.6V3.2A3.2 3.2 0 0 0 12.8 0Zm-1.488 7.816c-.192.16-.456.224-.704.16L1.72 5.8c.24-.584.808-1 1.48-1h9.6c.536 0 1.008.272 1.304.672l-2.792 2.344ZM3.2 1.6h9.6c.88 0 1.6.72 1.6 1.6v.44a3.198 3.198 0 0 0-1.6-.44H3.2c-.584 0-1.128.168-1.6.44V3.2c0-.88.72-1.6 1.6-1.6Z"/></symbol><symbol id="warning-circle" viewBox="0 0 16 16"><path d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm.8 12H7.2v-1.6h1.6V12Zm0-3.2H7.2V4h1.6v4.8Z"/></symbol><symbol id="warning" viewBox="0 0 16 14"><path d="M0 13.818h16L8 0 0 13.818Zm8.727-2.182H7.273v-1.454h1.454v1.454Zm0-2.909H7.273V5.818h1.454v2.91Z"/></symbol><symbol id="warn" viewBox="0 0 16 16"><path d="M11.316 0H4.684L0 4.684v6.632L4.684 16h6.632L16 11.316V4.684L11.316 0Zm2.906 10.578-3.644 3.644H5.422l-3.644-3.644V5.422l3.644-3.644h5.156l3.644 3.644v5.156Z"/><path d="M8 12.444a.889.889 0 1 0 0-1.777.889.889 0 0 0 0 1.777Zm-.889-8.888H8.89v6.222H7.11V3.556Z"/></symbol><symbol id="water" viewBox="0 0 13 16"><path d="M6.4 0C2.136 3.64 0 6.784 0 9.44 0 13.424 3.04 16 6.4 16c3.36 0 6.4-2.576 6.4-6.56 0-2.656-2.136-5.8-6.4-9.44Zm0 14.4c-2.68 0-4.8-2.056-4.8-4.96 0-1.872 1.56-4.352 4.8-7.312 3.24 2.96 4.8 5.432 4.8 7.312 0 2.904-2.12 4.96-4.8 4.96ZM3.064 9.6a.6.6 0 0 1 .592.496c.328 1.776 1.824 2.384 2.912 2.296a.602.602 0 0 1 .632.6c0 .32-.256.584-.576.6-1.704.104-3.696-.872-4.152-3.296a.6.6 0 0 1 .592-.696Z"/></symbol><symbol id="work" viewBox="0 0 16 16"><path d="M14.4 3.2h-3.2V1.6c0-.888-.712-1.6-1.6-1.6H6.4c-.888 0-1.6.712-1.6 1.6v1.6H1.6C.712 3.2.008 3.912.008 4.8L0 13.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6V4.8c0-.888-.712-1.6-1.6-1.6Zm-4.8 0H6.4V1.6h3.2v1.6Z"/></symbol><symbol id="wrench-circle" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8Zm0 14.4A6.408 6.408 0 0 1 1.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.192 7.504a2.783 2.783 0 0 0-.648-2.896 2.775 2.775 0 0 0-3.28-.472l1.88 1.88-1.128 1.128-1.88-1.88a2.773 2.773 0 0 0 .472 3.28c.784.784 1.92.992 2.896.648l2.728 2.728c.16.16.408.16.568 0l1.12-1.12a.396.396 0 0 0 0-.568L9.192 7.504Z"/></symbol></svg>'}})}},90774:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>v,iconPropType:()=>m});var n=r(68523),a=r(40160),o=r(38917),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=["icon","width","height","color","style","className","preserveColor","rotate","size","spin"],f={"icon--spin":"styles__icon--spin___ybfC1",spin:"styles__spin___2Vvw3",icon:"styles__icon___23x3R","icon--preserveColor":"styles__icon--preserveColor___3gBz6",shake:"styles__shake___wT_3z"};function p(e){return e instanceof Function}function h(e){var t,r=e.icon,i=e.width,u=e.height,s=e.color,m=e.style,v=e.className,y=e.preserveColor,b=e.rotate,g=e.size,_=e.spin,w=(0,o.A)(e,d);if(!r)return null;var k=r.type===h,O="img"===r.type;if(k||O)return r;if("string"==typeof r&&r.includes(".png"))return l.createElement("img",(0,a.A)({src:r,className:v,style:m,width:i||g||"16",height:u||g||"16"},w));var x=p(r)?r:(t=r.id?"#".concat(r.id):"#"===r[0]?r:"#"+r)?function(e){return l.createElement("svg",e,l.createElement("use",{xlinkHref:t}))}:(console.warn("Icon not found ".concat(r,".")),null),E=m;E=Object.assign({},E),s&&(E.fill=s),b&&(E.transform="rotate(".concat(b,"deg)"));var C=c()(v,f[y?"icon--preserveColor":"icon"],(0,n.A)({},f["icon--spin"],_));return x?l.createElement(x,(0,a.A)({className:C,style:E,width:i||g||"16",height:u||g||"16"},w)):null}h.isProperIcon=function(e){var t=e&&!!e.id,r="string"==typeof e,n=p(e);return t||r||n};var m=s().oneOfType([s().string,s().object,s().func]);h.propTypes={icon:m,width:s().oneOfType([s().string,s().number]),height:s().oneOfType([s().string,s().number]),color:s().oneOfType([s().string,s().object]),style:s().object,className:s().string,preserveColor:s().bool,size:s().oneOfType([s().string,s().number]),rotate:s().number,spin:s().bool},h.defaultProps={spin:!1};let v=h},74710:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(40160),a=r(38917),o=r(42460),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=["size","className","children","color"],f=["default","inherit","primary","secondary"],p=(0,l.forwardRef)(function(e,t){var r=e.size,i=e.className,u=e.children,s=e.color,p=(0,a.A)(e,d),h=f.includes(s)?s:"default";return l.createElement(o.A,(0,n.A)({ref:t,className:c()(i,void 0===r?"large":r,{"cozyStyles-error":"error"===s}),color:h},p),u)});p.displayName="IconButton",p.propTypes={className:s().string,color:s().oneOf(["default","inherit","primary","secondary","error"]),size:s().oneOf(["small","medium","large","xlarge"])};let h=p},39700:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M4.175 5L8 8.817 11.825 5 13 6.175l-5 5-5-5L4.175 5z"}))}},63583:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M6.88 11.68l5.64-5.64-1.12-1.12-4.52 4.52L4.6 7.16 3.48 8.28l3.4 3.4zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16z"}))}},78402:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 11"},e),a.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"#fff"}),a.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint0_linear_11512_6354)"}),a.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint1_linear_11512_6354)"}),a.createElement("path",{d:"M8 1.333a3.669 3.669 0 013.593 2.954l.2 1 1.02.073c1.04.067 1.854.94 1.854 1.973 0 1.1-.9 2-2 2H4a2.666 2.666 0 01-2.667-2.666A2.649 2.649 0 013.707 4.02l.713-.073.333-.634A3.646 3.646 0 018 1.333zM8 0a4.997 4.997 0 00-4.433 2.693A3.996 3.996 0 000 6.667c0 2.206 1.793 4 4 4h8.667A3.335 3.335 0 0016 7.333a3.317 3.317 0 00-3.1-3.306A4.993 4.993 0 008 0z",fill:"url(#cloud-rainbow_svg__paint2_linear_11512_6354)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"cloud-rainbow_svg__paint0_linear_11512_6354",x1:16,y1:6.222,x2:0,y2:6.222,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.13,stopColor:"#A033FF"}),a.createElement("stop",{offset:.61,stopColor:"#0094FF"}),a.createElement("stop",{offset:1,stopColor:"#4FB500"})),a.createElement("linearGradient",{id:"cloud-rainbow_svg__paint1_linear_11512_6354",x1:7.333,y1:3.333,x2:4.833,y2:10.833,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),a.createElement("stop",{offset:.563,stopColor:"#FFC700"})),a.createElement("linearGradient",{id:"cloud-rainbow_svg__paint2_linear_11512_6354",x1:8.667,y1:6.222,x2:12.079,y2:11.642,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.03,stopColor:"#FF3B30",stopOpacity:0}),a.createElement("stop",{offset:.843,stopColor:"#E73B2D"}))))}},90240:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M12.444 7.111V0H3.556v3.556H0V16h7.111v-3.556H8.89V16H16V7.111h-3.556zm-8.888 7.111H1.778v-1.778h1.778v1.778zm0-3.555H1.778V8.889h1.778v1.778zm0-3.556H1.778V5.333h1.778v1.778zm3.555 3.556H5.333V8.889h1.778v1.778zm0-3.556H5.333V5.333h1.778v1.778zm0-3.555H5.333V1.778h1.778v1.778zm3.556 7.11H8.889V8.89h1.778v1.778zm0-3.555H8.889V5.333h1.778v1.778zm0-3.555H8.889V1.778h1.778v1.778zm3.555 10.666h-1.778v-1.778h1.778v1.778zm0-3.555h-1.778V8.889h1.778v1.778z"}))}},14970:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 32 32",fill:"none"},e),a.createElement("g",{filter:"url(#contacts_svg__filter0_d_3096_936)"},a.createElement("path",{d:"M15.992 5.874c5.857 0 10.606 4.102 10.606 9.16 0 5.06-4.749 9.16-10.606 9.16a12.12 12.12 0 01-3.432-.49c-1.203.936-3.069 1.722-5.596 2.356a.485.485 0 01-.541-.706l.18-.329c.84-1.544 1.364-2.811 1.572-3.8-1.733-1.63-2.79-3.804-2.79-6.19 0-5.06 4.749-9.16 10.607-9.16z",fill:"#fff"})),a.createElement("g",{clipPath:"url(#contacts_svg__clip0_3096_936)"},a.createElement("rect",{width:32,height:32,rx:10,fill:"url(#contacts_svg__paint0_linear_3096_936)"}),a.createElement("g",{filter:"url(#contacts_svg__filter1_d_3096_936)",fill:"#fff"},a.createElement("path",{d:"M15.99 16.016a4.5 4.5 0 100-9 4.5 4.5 0 000 9zm8.85 6.028c-.68-1.907-2.795-4.028-8.85-4.028s-8.171 2.122-8.85 4.029c-.599 1.682 1.081 2.971 2.867 2.971h11.965c1.786 0 3.466-1.289 2.867-2.971z"}))),a.createElement("defs",null,a.createElement("filter",{id:"contacts_svg__filter0_d_3096_936",x:3.753,y:4.569,width:24.477,height:23.463,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:.326}),a.createElement("feGaussianBlur",{stdDeviation:.816}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_936"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_936",result:"shape"})),a.createElement("filter",{id:"contacts_svg__filter1_d_3096_936",x:4.16,y:4.731,width:23.66,height:23.714,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:.571}),a.createElement("feGaussianBlur",{stdDeviation:1.429}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3096_936"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_3096_936",result:"shape"})),a.createElement("linearGradient",{id:"contacts_svg__paint0_linear_3096_936",x1:5.548,y1:29.127,x2:30.188,y2:1.958,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.23,stopColor:"#F74EA9"}),a.createElement("stop",{offset:1,stopColor:"#FFB2A8"})),a.createElement("clipPath",{id:"contacts_svg__clip0_3096_936"},a.createElement("path",{fill:"#fff",d:"M0 0h31.983v31.983H0z"}))))}},53811:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M2.4 15L1 13.6 6.6 8 1 2.4 2.4 1 8 6.6 13.6 1 15 2.4 9.4 8l5.6 5.6-1.4 1.4L8 9.4 2.4 15z"}))}},22095:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M5.12 12L8 9.12 10.88 12 12 10.88 9.12 8 12 5.12 10.88 4 8 6.88 5.12 4 4 5.12 6.88 8 4 10.88 5.12 12zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16z",fill:"#5F6368"}))}},91152:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M15 2.41L13.59 1 8 6.59 2.41 1 1 2.41 6.59 8 1 13.59 2.41 15 8 9.41 13.59 15 15 13.59 9.41 8 15 2.41z"}))}},93583:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 4"},e),a.createElement("path",{d:"M2 0C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM8 0C6.9 0 6 .9 6 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))}},57611:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#F5FDFD",stroke:"#0DCBCF"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.4 5.933c0 .92-.746 1.667-1.667 1.667a.802.802 0 01-.588-.245.803.803 0 01-.245-.588V10.05c0-.52.099-1.009.297-1.463.198-.455.465-.851.802-1.188a3.812 3.812 0 011.187-.802A3.628 3.628 0 017.57 6.3c.52 0 1.009.099 1.463.297.455.198.851.465 1.188.802.337.337.604.733.802 1.188.198.454.297.942.297 1.463v2.917a.802.802 0 01-.245.588.802.802 0 01-.588.245c-.92 0-1.667-.746-1.667-1.667V11.3c0-.46.373-.833.833-.833h.417c.23 0 .417-.187.417-.417 0-.812-.283-1.502-.85-2.068-.565-.566-1.255-.849-2.067-.849-.813 0-1.502.283-2.068.85-.566.565-.849 1.255-.849 2.067 0 .23.187.417.417.417h.417c.46 0 .833.373.833.833v.833z",fill:"#0DCBCF"}))}},14196:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 16",fill:"none"},e),a.createElement("path",{d:"M3.52.5h5.792l4.908 4.907V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.52.5z",fill:"#E8EDF3",stroke:"#4F5B69"}),a.createElement("path",{d:"M14.72 5.4L9.32 0v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.2 3.671a1.23 1.23 0 01-.703-.2 1.267 1.267 0 01-.45-.578 2.354 2.354 0 01-.156-.91c0-.352.053-.653.157-.902a1.24 1.24 0 01.45-.568c.197-.13.43-.196.701-.196.271 0 .504.065.7.196.195.13.346.32.451.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 01-.45.577 1.21 1.21 0 01-.7.2zm0-.568c.185 0 .333-.093.443-.28.111-.186.166-.466.165-.84 0-.245-.025-.45-.076-.613a.79.79 0 00-.212-.368.462.462 0 00-.32-.124c-.185 0-.333.093-.444.277-.11.185-.166.46-.167.829 0 .249.024.456.074.623.05.165.122.29.214.373a.466.466 0 00.322.123zm3.204-2.742V9H9.04V6.411h-.02l-.741.465V6.27l.802-.508h.643zm-3.027 4V13h-.684v-2.589h-.02l-.741.465v-.607l.802-.508h.643zm2.04 3.31a1.23 1.23 0 01-.702-.2 1.267 1.267 0 01-.45-.578 2.354 2.354 0 01-.156-.91c0-.352.052-.653.157-.902a1.24 1.24 0 01.45-.568c.196-.13.43-.196.7-.196.272 0 .505.065.7.196.196.13.347.32.452.57.106.247.158.548.157.9 0 .356-.053.66-.158.912a1.257 1.257 0 01-.45.577c-.195.133-.428.2-.7.2zm0-.567c.185 0 .334-.094.444-.28.111-.187.166-.467.165-.84 0-.246-.026-.45-.076-.614a.79.79 0 00-.212-.368.462.462 0 00-.321-.123c-.185 0-.332.092-.443.276-.11.185-.166.46-.168.829 0 .249.025.456.075.623.05.165.122.29.213.373a.47.47 0 00.323.123z",fill:"#4F5B69"}))}},13612:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDF5FA",stroke:"#E643B3"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.404 6.089a.359.359 0 01-.492 0l-2.004-1.88 2-1.875a.365.365 0 11.5.534l-1.44 1.35 1.436 1.347a.36.36 0 010 .524zm3.004-.005a.365.365 0 01-.5-.533l1.44-1.35-1.436-1.347a.36.36 0 11.491-.524l2.005 1.88-2 1.874z",fill:"#E643B3"}))}},88382:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.2h5.834l4.966 4.966V13.6a2.8 2.8 0 01-2.8 2.8h-8a2.8 2.8 0 01-2.8-2.8V4a2.8 2.8 0 012.8-2.8z",fill:"#E8EDF3",stroke:"#4F5B69",strokeWidth:.8}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#4F5B69"}),a.createElement("path",{d:"M4.695 14.05v-1.476L9.278 8a.78.78 0 01.23-.148.718.718 0 01.534 0 .61.61 0 01.226.156l.477.486c.07.064.12.14.152.226a.753.753 0 010 .525.65.65 0 01-.152.23L6.171 14.05H4.695zm5.07-4.583l.486-.486-.487-.487-.486.487.486.486z",fill:"#4F5B69",fillOpacity:.72}))}},6397:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 14",fill:"none"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.125h6.4c.88 0 1.6.731 1.6 1.625v8.125c0 .894-.72 1.625-1.6 1.625H1.6c-.88 0-1.6-.731-1.6-1.625l.008-9.75C.008 1.231.72.5 1.6.5h4.8L8 2.125z",fill:"url(#file-type-folder_svg__paint0_linear_11296_8360)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"file-type-folder_svg__paint0_linear_11296_8360",x1:8,y1:.5,x2:8,y2:16.25,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.044,stopColor:"#1D7AFF"}),a.createElement("stop",{offset:.13,stopColor:"#7CB2FF"}),a.createElement("stop",{offset:.617,stopColor:"#76AFFF"}),a.createElement("stop",{offset:1,stopColor:"#4290FF"}))))}},36572:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FBFDF5",stroke:"#A8D306"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#A8D306"}),a.createElement("circle",{cx:10.632,cy:7.818,r:.938,fill:"#A8D306"}),a.createElement("path",{d:"M3.11 13.385a.23.23 0 00.18.37h8.435a.23.23 0 00.18-.37l-2.64-3.38-2.343 3-1.758-2.25-2.054 2.63z",fill:"#A8D306"}))}},24577:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDFAF5",stroke:"#FFB81E"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zM4.127 14.183v-1.476L8.71 8.132a.78.78 0 01.23-.147.718.718 0 01.534 0 .61.61 0 01.226.156l.477.486c.07.064.12.14.152.226a.75.75 0 010 .525.65.65 0 01-.152.23l-4.574 4.575H4.127zm5.07-4.584l.485-.486-.486-.486-.486.486.486.486z",fill:"#FFB81E"}))}},4799:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 16",fill:"none"},e),a.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#FDF5F4",stroke:"#D32C3C"}),a.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88zM2.757 12.8V9.2h1.486c.255 0 .479.053.67.158.192.106.341.254.448.445.106.19.16.414.16.67 0 .257-.055.48-.165.67a1.102 1.102 0 01-.46.435 1.472 1.472 0 01-.687.153h-.888v-.76h.7c.11 0 .203-.02.28-.059a.426.426 0 00.18-.174.528.528 0 00.064-.265.513.513 0 00-.063-.264.408.408 0 00-.18-.169.606.606 0 00-.281-.06h-.33v2.82h-.934zm4.431 0H5.863V9.2h1.312c.354 0 .66.072.918.216.259.143.458.35.598.619.142.268.212.59.212.965s-.07.697-.21.967c-.14.268-.338.474-.595.618a1.84 1.84 0 01-.91.215zm-.39-.83h.357a1 1 0 00.435-.086.57.57 0 00.276-.297c.064-.14.096-.336.096-.587 0-.25-.033-.447-.098-.587a.572.572 0 00-.282-.297 1.07 1.07 0 00-.454-.086h-.33v1.94zm2.538.83V9.2h2.42v.787H10.27v.62h1.339v.787H10.27V12.8h-.934z",fill:"#D32C3C"}))}},82150:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#F5FDF7",stroke:"#248A3D"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88z",fill:"#248A3D"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.356 9.2h1.32l.806 1.239.824-1.234h1.302l-1.54 2.085 1.608 2.306H8.477l-1.009-1.444-.577.86h.585v.588h-2.2l1.6-2.296L5.356 9.2z",fill:"#34C759"}))}},21452:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 16",fill:"none"},e),a.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#FDFAF5",stroke:"#FF9500"}),a.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88z",fill:"#FF9500"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.557 8.4v4.4h.836v-1.588h1c.701 0 1.27-.63 1.27-1.406 0-.776-.569-1.406-1.27-1.406H5.557zm.836 2.15V9.062h.821c.371 0 .672.333.672.744s-.3.744-.672.744h-.821z",fill:"#FF9500"}))}},82706:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 16",fill:"none"},e),a.createElement("path",{d:"M3.2.5h5.792L13.9 5.407V12.8a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V3.2A2.7 2.7 0 013.2.5z",fill:"#F2F8FF",stroke:"#006BD8"}),a.createElement("path",{d:"M14.4 5.4L9 0v2.793C9 4.233 10.128 5.4 11.52 5.4h2.88zm-8.868 3H4.6l.974 4.4h.955l.632-2.562.608 2.562h.898L9.8 8.4H8.226v.733h.536l-.544 2.104L7.656 8.4h-.9l-.699 2.877L5.532 8.4z",fill:"#006BD8"}))}},946:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#FDF5FA",stroke:"#E64343"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-5.64 6.1v-5h.865v5H9.08zm-4.76 0v-5l3.894 2.5-3.894 2.5z",fill:"#E64343"}))}},29650:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 15 17",fill:"none"},e),a.createElement("path",{d:"M3.52 1.3h5.792l4.908 4.907V13.6a2.7 2.7 0 01-2.7 2.7h-8a2.7 2.7 0 01-2.7-2.7V4a2.7 2.7 0 012.7-2.7z",fill:"#E8EDF3",stroke:"#4F5B69"}),a.createElement("path",{d:"M14.72 6.2L9.32.8v2.793c0 1.44 1.128 2.607 2.52 2.607h2.88zm-8.4 2.35h1.25V9.8H6.32zM7.57 9.8h1.25v1.25H7.57zm-1.25 1.25h1.25v1.25H6.32zm1.25 1.25h1.25v1.25H7.57zm-1.25 1.25h1.25v1.25H6.32z",fill:"#4F5B69"}))}},83108:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zM4.28 13.2A6.353 6.353 0 018 12c1.392 0 2.672.448 3.72 1.2A6.353 6.353 0 018 14.4a6.353 6.353 0 01-3.72-1.2zm8.632-1.104a7.957 7.957 0 00-9.824 0A6.365 6.365 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 1.56-.56 2.984-1.488 4.096z"}),a.createElement("path",{d:"M8 3.2A2.803 2.803 0 005.2 6c0 1.544 1.256 2.8 2.8 2.8 1.544 0 2.8-1.256 2.8-2.8 0-1.544-1.256-2.8-2.8-2.8zm0 4c-.664 0-1.2-.536-1.2-1.2 0-.664.536-1.2 1.2-1.2.664 0 1.2.536 1.2 1.2 0 .664-.536 1.2-1.2 1.2z"}))}},81412:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 17 16"},e),a.createElement("path",{d:"M7.245 16a.748.748 0 01-.52-.2.797.797 0 01-.26-.5l-.24-1.86a3.042 3.042 0 01-.49-.24 6.571 6.571 0 01-.45-.3l-1.74.72a.787.787 0 01-1-.32l-1.48-2.58a.752.752 0 01-.1-.56c.04-.2.14-.36.3-.48l1.5-1.14a1.91 1.91 0 01-.02-.27v-.54c0-.087.007-.177.02-.27l-1.5-1.14a.768.768 0 01-.3-.48.752.752 0 01.1-.56l1.48-2.58a.787.787 0 011-.32l1.74.72c.147-.107.3-.207.46-.3.16-.093.32-.173.48-.24L6.465.7a.797.797 0 01.26-.5.75.75 0 01.52-.2h3c.2 0 .374.067.52.2.147.133.234.3.26.5l.24 1.86c.174.067.337.147.49.24.154.093.304.193.45.3l1.74-.72a.787.787 0 011 .32l1.48 2.58a.75.75 0 01.1.56c-.04.2-.14.36-.3.48l-1.5 1.14c.014.093.02.183.02.27v.54a.984.984 0 01-.04.27l1.5 1.14c.16.12.26.28.3.48a.75.75 0 01-.1.56l-1.48 2.56a.832.832 0 01-.45.36.766.766 0 01-.57-.02l-1.7-.72a5.44 5.44 0 01-.46.3c-.16.093-.32.173-.48.24l-.24 1.86a.798.798 0 01-.26.5.748.748 0 01-.52.2h-3zm.7-1.6h1.58l.28-2.12a4.486 4.486 0 001.15-.47c.354-.207.677-.457.97-.75l1.98.82.78-1.36-1.72-1.3a2.83 2.83 0 00.14-.59 4.93 4.93 0 000-1.26 2.83 2.83 0 00-.14-.59l1.72-1.3-.78-1.36-1.98.84a4.445 4.445 0 00-.97-.77 4.486 4.486 0 00-1.15-.47l-.26-2.12h-1.58l-.28 2.12a4.484 4.484 0 00-1.15.47 4.78 4.78 0 00-.97.75l-1.98-.82-.78 1.36 1.72 1.28c-.066.2-.113.4-.14.6a4.848 4.848 0 000 1.26c.027.2.074.4.14.6l-1.72 1.3.78 1.36 1.98-.84c.294.307.617.563.97.77a4.5 4.5 0 001.15.47l.26 2.12zm.84-3.6c.774 0 1.434-.273 1.98-.82.547-.547.82-1.207.82-1.98 0-.773-.273-1.433-.82-1.98a2.698 2.698 0 00-1.98-.82c-.786 0-1.45.273-1.99.82A2.715 2.715 0 005.985 8c0 .773.27 1.433.81 1.98.54.547 1.204.82 1.99.82z"}))}},37582:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M7.2 12.8h1.6v-1.6H7.2v1.6zM8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.408 6.408 0 011.6 8c0-3.528 2.872-6.4 6.4-6.4 3.528 0 6.4 2.872 6.4 6.4 0 3.528-2.872 6.4-6.4 6.4zM8 3.2a3.2 3.2 0 00-3.2 3.2h1.6c0-.88.72-1.6 1.6-1.6.88 0 1.6.72 1.6 1.6 0 1.6-2.4 1.4-2.4 4h1.6c0-1.8 2.4-2 2.4-4A3.2 3.2 0 008 3.2z"}))}},49663:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M8 12a.774.774 0 00.57-.23.774.774 0 00.23-.57V8a.774.774 0 00-.23-.57A.774.774 0 008 7.2a.774.774 0 00-.57.23.774.774 0 00-.23.57v3.2c0 .227.077.417.23.57.153.153.343.23.57.23zm0-6.4a.774.774 0 00.57-.23.774.774 0 00.23-.57.774.774 0 00-.23-.57A.774.774 0 008 4a.774.774 0 00-.57.23.774.774 0 00-.23.57c0 .227.077.417.23.57.153.153.343.23.57.23zM8 16a7.79 7.79 0 01-3.12-.63 8.079 8.079 0 01-2.54-1.71 8.08 8.08 0 01-1.71-2.54A7.79 7.79 0 010 8c0-1.107.21-2.147.63-3.12.42-.973.99-1.82 1.71-2.54A8.079 8.079 0 014.88.63 7.79 7.79 0 018 0a7.79 7.79 0 013.12.63c.973.42 1.82.99 2.54 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.013.63 3.12a7.79 7.79 0 01-.63 3.12 8.08 8.08 0 01-1.71 2.54 8.08 8.08 0 01-2.54 1.71A7.79 7.79 0 018 16z"}))}},23325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M12.444 4.444l-1.253 1.254 1.405 1.413H5.333V8.89h7.263l-1.405 1.404 1.253 1.263L16 8l-3.556-3.556zM1.778 1.778H8V0H1.778C.8 0 0 .8 0 1.778v12.444C0 15.2.8 16 1.778 16H8v-1.778H1.778V1.778z"}))}},13691:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 17 17"},e),a.createElement("path",{d:"M12.18 10.808h-.723l-.256-.247a5.92 5.92 0 001.436-3.87 5.946 5.946 0 10-5.946 5.947 5.92 5.92 0 003.87-1.437l.247.256v.723l4.574 4.565 1.363-1.363-4.565-4.574zm-5.489 0a4.111 4.111 0 01-4.116-4.117A4.111 4.111 0 016.69 2.575a4.111 4.111 0 014.117 4.116 4.111 4.111 0 01-4.117 4.117z"}))}},83555:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.289 1.92l.02-.02.737-.737.02-.02c.241-.24.454-.453.645-.615a2.11 2.11 0 01.718-.426c.418-.136.87-.136 1.288 0 .286.093.515.253.718.426.191.162.404.374.644.615l.02.02.738.737.02.02c.24.241.454.454.615.645.173.203.333.432.426.718.136.419.136.87 0 1.288a2.117 2.117 0 01-.426.718c-.162.191-.374.404-.615.644l-.02.02-.737.738-.02.02c-.241.24-.454.454-.645.615a2.118 2.118 0 01-.718.426c-.418.136-.87.136-1.288 0a2.117 2.117 0 01-.718-.426 10.947 10.947 0 01-.644-.615l-.02-.02-.738-.737-.02-.02c-.24-.241-.454-.454-.615-.645a2.118 2.118 0 01-.426-.718 2.084 2.084 0 010-1.288 2.11 2.11 0 01.426-.718c.161-.191.374-.404.615-.644zm.576 1.657c-.11.129-.126.177-.13.189a.521.521 0 000 .322c.004.012.02.06.13.19.116.136.283.303.55.57l.737.737c.267.267.434.434.57.55.13.11.178.126.19.13a.521.521 0 00.322 0c.011-.004.06-.02.19-.13.136-.116.303-.283.57-.55l.737-.737c.267-.267.434-.434.55-.57.11-.13.126-.178.13-.19a.521.521 0 000-.322c-.004-.012-.02-.06-.13-.19a11.036 11.036 0 00-.55-.57l-.737-.737a10.98 10.98 0 00-.57-.55c-.13-.11-.178-.126-.19-.13a.521.521 0 00-.322 0c-.012.004-.06.02-.19.13a10.98 10.98 0 00-.57.55l-.737.737c-.267.267-.434.434-.55.57zM3.91 7.314h.028c.34 0 .641 0 .89-.02a2.12 2.12 0 00.81-.207c.392-.2.71-.519.91-.91a2.12 2.12 0 00.207-.81c.02-.249.02-.55.02-.89V3.376c0-.34 0-.64-.02-.89a2.119 2.119 0 00-.206-.808 2.085 2.085 0 00-.911-.911 2.118 2.118 0 00-.81-.207c-.249-.02-.55-.02-.89-.02H2.837c-.34 0-.64 0-.89.02a2.12 2.12 0 00-.809.207c-.392.2-.71.519-.91.91a2.118 2.118 0 00-.208.81c-.02.249-.02.55-.02.89v1.101c0 .34 0 .64.02.89.022.265.07.54.207.808.2.392.519.711.911.911.268.137.543.185.809.207.25.02.55.02.89.02H3.91zm1.018-1.62c-.011.006-.057.028-.226.042a11.01 11.01 0 01-.792.015H2.866c-.377 0-.614 0-.792-.015-.169-.014-.215-.036-.226-.042a.521.521 0 01-.228-.228c-.005-.01-.028-.057-.041-.226a10.986 10.986 0 01-.016-.792V3.406c0-.378.001-.614.016-.792.013-.17.036-.216.041-.226a.521.521 0 01.228-.228c.01-.006.057-.028.226-.042.178-.014.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.042.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.414.015.792v1.042c0 .378 0 .614-.015.792-.014.17-.036.216-.041.226a.521.521 0 01-.228.228zM3.909 16h.028c.34 0 .642 0 .89-.02a2.12 2.12 0 00.81-.207c.392-.2.71-.519.91-.911.137-.268.186-.543.207-.809.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.119 2.119 0 00-.206-.809 2.085 2.085 0 00-.911-.91 2.117 2.117 0 00-.81-.207c-.248-.02-.55-.02-.89-.02H2.838c-.34 0-.64 0-.89.02-.266.021-.54.07-.809.206-.392.2-.71.52-.91.911a2.118 2.118 0 00-.208.81c-.02.248-.02.55-.02.89v1.099c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.911.91.268.137.543.186.809.208.25.02.55.02.89.02H3.91zm1.018-1.62c-.011.005-.057.028-.226.041a10.95 10.95 0 01-.792.016H2.866c-.377 0-.614-.001-.792-.016-.169-.013-.215-.036-.226-.041a.521.521 0 01-.228-.228c-.005-.01-.028-.057-.041-.226a10.985 10.985 0 01-.016-.792V12.09c0-.377.001-.614.016-.792.013-.168.036-.215.041-.226a.521.521 0 01.228-.228c.01-.005.057-.027.226-.041.178-.015.415-.015.792-.015H3.91c.377 0 .614 0 .792.015.169.014.215.036.226.041.098.05.178.13.228.228.005.01.027.057.041.226.015.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.041.226a.521.521 0 01-.228.228zM12.594 16h.03c.34 0 .64 0 .89-.02.265-.022.54-.07.808-.207.392-.2.711-.519.911-.911a2.12 2.12 0 00.207-.809c.02-.25.02-.55.02-.89v-1.101c0-.34 0-.64-.02-.89a2.12 2.12 0 00-.207-.809 2.085 2.085 0 00-.91-.91 2.117 2.117 0 00-.81-.207c-.249-.02-.55-.02-.89-.02h-1.101c-.34 0-.64 0-.89.02-.265.021-.54.07-.808.206-.392.2-.711.52-.911.911a2.118 2.118 0 00-.207.81c-.02.248-.02.55-.02.89v1.099c0 .34 0 .64.02.89.022.266.07.54.207.809.2.392.519.71.91.91.269.137.544.186.81.208.249.02.55.02.89.02h1.071zm1.018-1.62c-.01.005-.057.028-.226.041a10.6 10.6 0 01-.792.016h-1.042a10.6 10.6 0 01-.792-.016c-.17-.013-.216-.036-.226-.041a.521.521 0 01-.228-.228c-.006-.01-.028-.057-.042-.226a11.009 11.009 0 01-.015-.792V12.09c0-.377 0-.614.015-.792.014-.168.036-.215.042-.226a.521.521 0 01.228-.228c.01-.005.057-.027.226-.041.178-.015.414-.015.792-.015h1.042c.378 0 .614 0 .792.015.17.014.216.036.226.041.098.05.178.13.228.228.006.01.028.057.042.226.014.178.015.415.015.793v1.042c0 .377 0 .614-.015.792-.014.169-.036.215-.042.226a.521.521 0 01-.228.228z"}))}},12939:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 15"},e),a.createElement("path",{d:"M1.455 12.954h12.363v1.455H1.455A1.46 1.46 0 010 12.954V3.5h1.455v9.454zM16 3.5v6.545c0 .8-.655 1.455-1.454 1.455H4.364a1.46 1.46 0 01-1.455-1.455l.007-8c0-.8.648-1.454 1.448-1.454H8l1.455 1.454h5.09c.8 0 1.455.655 1.455 1.455zM4.364 10.045h10.181V3.5H8.852L7.396 2.045H4.364v8z"}))}},54215:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 17 14"},e),a.createElement("path",{d:"M2.031 2.452l5.722 2.453-5.73-.762.008-1.691zm5.715 6.643L2.024 11.55V9.857l5.722-.762zM.508.143L.5 5.476 11.929 7 .5 8.524l.008 5.333L16.5 7 .508.143z"}))}},66052:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M.889 16a.86.86 0 01-.633-.256.86.86 0 01-.256-.633v-2.155a1.755 1.755 0 01.511-1.245L11.733.511c.178-.163.374-.289.59-.378a1.836 1.836 0 011.366 0c.222.09.415.223.578.4l1.222 1.245c.178.163.307.355.389.578a1.925 1.925 0 010 1.344 1.666 1.666 0 01-.39.589l-11.2 11.2A1.755 1.755 0 013.045 16H.89zM12.978 4.267l1.244-1.245-1.244-1.244-1.245 1.244 1.245 1.245z"}))}},70804:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M8 1.9a2.1 2.1 0 110 4.2 2.1 2.1 0 010-4.2zm0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H1.9V13c0-.64 3.13-2.1 6.1-2.1zM8 0C5.79 0 4 1.79 4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}))}},20375:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 13"},e),a.createElement("path",{d:"M12.768 5.398h-.905a.753.753 0 01-.553-.222.745.745 0 01-.223-.55.76.76 0 01.223-.554.746.746 0 01.553-.226h.905v-.904c0-.22.073-.404.221-.553a.745.745 0 01.55-.223.76.76 0 01.555.223c.15.149.226.333.226.553v.904h.904c.22 0 .404.074.553.222a.745.745 0 01.223.55.76.76 0 01-.223.554.746.746 0 01-.553.226h-.904v.905a.75.75 0 01-.222.552.745.745 0 01-.55.224.759.759 0 01-.554-.224.746.746 0 01-.226-.552v-.905zm-6.706.825c-.868 0-1.604-.302-2.208-.906-.604-.604-.906-1.34-.906-2.208 0-.868.302-1.603.906-2.205C4.458.3 5.194 0 6.062 0 6.93 0 7.665.301 8.27.904c.604.602.906 1.337.906 2.205 0 .868-.302 1.604-.906 2.208-.604.604-1.34.906-2.208.906zM0 10.753v-.36c0-.383.094-.734.281-1.055.188-.32.446-.576.774-.766.76-.44 1.563-.778 2.409-1.013a9.646 9.646 0 012.598-.353c.893 0 1.762.117 2.607.35.846.234 1.646.57 2.4 1.01.328.191.586.446.773.765.188.32.282.673.282 1.061v.36c0 .471-.166.872-.497 1.203a1.64 1.64 0 01-1.203.497h-8.73c-.472 0-.871-.166-1.2-.497A1.643 1.643 0 010 10.753z"}))}},94283:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 14 14"},e),a.createElement("path",{d:"M6 8H1a.968.968 0 01-.713-.287A.968.968 0 010 7c0-.283.096-.52.287-.713A.968.968 0 011 6h5V1c0-.283.096-.52.287-.713A.968.968 0 017 0c.283 0 .52.096.713.287A.975.975 0 018 1v5h5c.283 0 .52.096.713.287.191.192.287.43.287.713s-.096.52-.287.713A.968.968 0 0113 8H8v5c0 .283-.096.52-.287.713A.967.967 0 017 14a.967.967 0 01-.713-.287A.968.968 0 016 13V8z"}))}},60610:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7z"}))}},87681:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 17"},e),a.createElement("path",{d:"M.727 16.8v-2.91h14.546v2.91H.727zm1.455-4.364v-3.09l8.145-8.128A1.436 1.436 0 0111.345.8c.194 0 .382.036.564.109.182.073.346.182.491.327l1 1.018c.146.134.252.291.318.473.067.182.1.37.1.564a1.5 1.5 0 01-.1.536 1.363 1.363 0 01-.318.482l-8.127 8.127H2.182zm9.163-8.145l1.019-1.018-1.019-1.019-1.018 1.019 1.018 1.018z"}))}},83393:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M8.6 8L4.7 4.1a.948.948 0 01-.275-.7c0-.284.092-.517.275-.7a.948.948 0 01.7-.275c.283 0 .517.091.7.275l4.6 4.6c.1.1.17.208.213.325.041.116.062.241.062.375 0 .133-.02.258-.063.375a.878.878 0 01-.212.325l-4.6 4.6a.948.948 0 01-.7.275.948.948 0 01-.7-.275.948.948 0 01-.275-.7c0-.284.092-.517.275-.7L8.6 8z"}))}},7196:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M14.4 1.6v9.6H4.8V1.6h9.6zm0-1.6H4.8c-.88 0-1.6.72-1.6 1.6v9.6c0 .88.72 1.6 1.6 1.6h9.6c.88 0 1.6-.72 1.6-1.6V1.6c0-.88-.72-1.6-1.6-1.6zM8.376 9.6L5.6 6.8l1.12-1.128 1.656 1.664L12.48 3.2l1.12 1.128L8.376 9.6zM1.6 3.2H0v11.2c0 .88.72 1.6 1.6 1.6h11.2v-1.6H1.6V3.2z"}))}},56706:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e,{role:"progressbar","aria-busy":"true"}),a.createElement("path",{d:"M8 16a7.74 7.74 0 01-3.1-.63 8.114 8.114 0 01-2.55-1.72A8.115 8.115 0 01.63 11.1 7.74 7.74 0 010 8c0-1.107.21-2.143.63-3.11a8.146 8.146 0 011.72-2.54A8.114 8.114 0 014.9.63 7.74 7.74 0 018 0c.227 0 .417.077.57.23.153.153.23.343.23.57a.774.774 0 01-.23.57.774.774 0 01-.57.23c-1.773 0-3.283.623-4.53 1.87C2.223 4.717 1.6 6.227 1.6 8c0 1.773.623 3.283 1.87 4.53C4.717 13.777 6.227 14.4 8 14.4c1.773 0 3.283-.623 4.53-1.87C13.777 11.283 14.4 9.773 14.4 8c0-.227.077-.417.23-.57a.774.774 0 01.57-.23c.227 0 .417.077.57.23.153.153.23.343.23.57a7.74 7.74 0 01-.63 3.1 8.115 8.115 0 01-1.72 2.55 8.146 8.146 0 01-2.54 1.72A7.72 7.72 0 018 16z"}))}},34507:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M8 12.216l4.944 2.984-1.312-5.624L16 5.792l-5.752-.488L8 0 5.752 5.304 0 5.792l4.368 3.784L3.056 15.2 8 12.216z"}))}},37149:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 17"},e),a.createElement("path",{d:"M16 6.692l-5.752-.496L8 .9 5.752 6.204 0 6.692l4.368 3.784L3.056 16.1 8 13.116l4.944 2.984-1.304-5.624L16 6.692zM8 11.62l-3.008 1.816.8-3.424-2.656-2.304 3.504-.304L8 4.18l1.368 3.232 3.504.304-2.656 2.304.8 3.424L8 11.62z"}))}},81539:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 12 12"},e),a.createElement("path",{d:"M10 2v8H2V2h8zm2-2H0v12h12V0z"}))}},23566:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 12"},e),a.createElement("path",{d:"M3.87 6.553c.697.014 1.345.363 1.78.974.532.75 1.412 1.2 2.35 1.2a2.87 2.87 0 002.35-1.207c.436-.61 1.083-.96 1.78-.975-.523-.887-2.617-1.454-4.13-1.454-1.505 0-3.607.567-4.13 1.462zm-1.688-.008a2.179 2.179 0 002.182-2.181 2.179 2.179 0 00-2.182-2.182A2.179 2.179 0 000 4.364a2.18 2.18 0 002.182 2.181zm11.636 0A2.179 2.179 0 0016 4.364a2.179 2.179 0 00-2.182-2.182 2.179 2.179 0 00-2.182 2.182c0 1.207.975 2.181 2.182 2.181zM8 4.364a2.179 2.179 0 002.182-2.182A2.179 2.179 0 008 0a2.179 2.179 0 00-2.182 2.182A2.18 2.18 0 008 4.364z"}),a.createElement("path",{d:"M14.546 7.273h-2.379c-.56 0-.982.327-1.222.669-.029.043-.989 1.513-2.945 1.513a3.616 3.616 0 01-2.945-1.513c-.284-.4-.728-.67-1.222-.67H1.455C.655 7.273 0 7.928 0 8.728v2.91h5.09V9.992a5.097 5.097 0 002.91.916 5.097 5.097 0 002.91-.916v1.643H16V8.727c0-.8-.655-1.454-1.454-1.454z"}))}},58057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M3.556 16c-.49 0-.908-.174-1.256-.522a1.712 1.712 0 01-.522-1.256V2.667h-.89V.889h4.445V0h5.334v.889h4.444v1.778h-.889v11.555c0 .49-.174.908-.522 1.256a1.712 1.712 0 01-1.256.522H3.556zm8.888-13.333H3.556v11.555h8.888V2.667zm-7.11 9.777H7.11v-8H5.333v8zm3.555 0h1.778v-8H8.889v8z"}))}},77395:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 22 22",fill:"none"},e),a.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint0_linear_1573_14803)"}),a.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint1_linear_1573_14803)"}),a.createElement("rect",{x:.498,y:.495,width:21.51,height:21.51,rx:6.563,fill:"url(#twake-workplace_svg__paint2_linear_1573_14803)"}),a.createElement("path",{d:"M11.281 3.7c.008.006.017.01.027.012l.014.002a.405.405 0 01.156.05c.015.007.03.016.044.024l1.068.605 1.25.707.906.512.056.032a.487.487 0 01.229.363l.002.1v3.145a.489.489 0 01-.71.401c-.017-.008-.034-.018-.05-.027l-1.606-.909-1.138-.642-.056-.032a.542.542 0 00-.178-.051h-.058a.462.462 0 00-.213.053c-.02.01-.038.021-.056.032l-1.215.696-1.458.835a3.52 3.52 0 01-.063.036.533.533 0 01-.176.058l-.07.002a.433.433 0 01-.195-.046.48.48 0 01-.283-.433V6.05a.483.483 0 01.224-.404l.05-.029.86-.493 1.021-.585 1.033-.59.256-.147.056-.032a.553.553 0 01.107-.044.53.53 0 01.071-.013.048.048 0 00.025-.012l.07-.002zm-7.514 8.774a.036.036 0 00.026-.032.487.487 0 01.27-.389l.652-.376 1.455-.84.566-.326.063-.036a.49.49 0 01.702.418v3.209a.49.49 0 00.213.394.671.671 0 00.068.04l.62.348 1.278.714.792.442.062.035c.11.064.188.168.22.29a.463.463 0 01.013.192.476.476 0 01-.224.35c-.02.013-.042.024-.063.036L8.411 18.08l-.704.386c-.019.01-.036.022-.057.031a.494.494 0 01-.48-.016l-.217-.127-2.877-1.692a.533.533 0 01-.055-.033.487.487 0 01-.219-.306c-.005-.02-.007-.043-.01-.064a.028.028 0 00-.018-.02.04.04 0 00-.007-.003v-3.763zm11.207 6.103a.078.078 0 00-.017-.012.533.533 0 00-.055-.016.47.47 0 01-.127-.049l-.069-.04-1.063-.613-1.573-.907-.05-.03a.477.477 0 01-.224-.4.477.477 0 01.27-.448l.896-.514 1.21-.692.566-.325.074-.043a.487.487 0 00.227-.35 1.02 1.02 0 00.006-.115v-3.092c0-.024 0-.04.002-.058a.481.481 0 01.356-.43.471.471 0 01.113-.019.492.492 0 01.285.084l.722.415 1.268.733.665.383.062.036a.469.469 0 01.19.218.15.15 0 01.015.048.083.083 0 00.016.032v3.964a.032.032 0 00-.015.023.178.178 0 01-.017.055.48.48 0 01-.18.208.67.67 0 01-.062.035l-.978.56-2.18 1.25a.376.376 0 01-.055.032.468.468 0 01-.127.05.389.389 0 00-.048.013.03.03 0 00-.016.014h-.087z",fill:"#fff"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"twake-workplace_svg__paint0_linear_1573_14803",x1:22.008,y1:13.042,x2:.498,y2:13.042,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.13,stopColor:"#A033FF"}),a.createElement("stop",{offset:.61,stopColor:"#0094FF"}),a.createElement("stop",{offset:1,stopColor:"#4FB500"})),a.createElement("linearGradient",{id:"twake-workplace_svg__paint1_linear_1573_14803",x1:10.356,y1:7.217,x2:3.634,y2:20.66,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FFD600",stopOpacity:0}),a.createElement("stop",{offset:.563,stopColor:"#FFC700"})),a.createElement("linearGradient",{id:"twake-workplace_svg__paint2_linear_1573_14803",x1:12.149,y1:13.042,x2:19.767,y2:21.109,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:.03,stopColor:"#FF3B30",stopOpacity:0}),a.createElement("stop",{offset:.843,stopColor:"#E73B2D"}))))}},6918:function(e,t,r){"use strict";r.d(t,{A:()=>o});var n=r(40160),a=r(96540);let o=function(e){return a.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M14 11v3H2v-3H0v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM3 5l1.41 1.41L7 3.83V12h2V3.83l2.59 2.58L13 5 8 0 3 5z"}))}},2589:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(64054).A},8443:function(e,t,r){"use strict";r.d(t,{PE:()=>g,UC:()=>w,gZ:()=>_});var n=r(40160),a=r(68523),o=r(38917),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=r(24242),f=["children","className","monoColumn","withTopBar"],p=["className","children"],h=["className","children"],m={"o-layout":"styles__o-layout___3TSz9","o-layout-2panes":"styles__o-layout-2panes___1CDQw","o-layout-main":"styles__o-layout-main___3mPxz","o-layout-main-topbar":"styles__o-layout-main-topbar___3FSE_","o-layout-main-2panes":"styles__o-layout-main-2panes___3ickD","o-layout-content":"styles__o-layout-content___3D5gN","o-layout-content-2panes":"styles__o-layout-content-2panes___2Hotr"},v=(0,l.createContext)(),y=function(){var e=(0,l.useContext)(v);if(!e)throw Error("useLayout must be used within a LayoutContext");return e},b=l.memo(function(e){var t=e.monoColumn,r=e.withTopBar,n=e.children,a=(0,l.useMemo)(function(){return{monoColumn:t,withTopBar:r}},[t,r]);return l.createElement(v.Provider,{value:a},n)});b.displayName="LayoutProvider";var g=(0,l.forwardRef)(function(e,t){var r=e.children,i=e.className,u=e.monoColumn,s=e.withTopBar,d=(0,o.A)(e,f);return l.createElement(b,{monoColumn:u,withTopBar:s},l.createElement("div",(0,n.A)({ref:t,className:c()(i,m["o-layout"],(0,a.A)({},m["o-layout-main-2panes"],!u))},d),r))});g.displayName="Layout";var _=(0,l.forwardRef)(function(e,t){var r,i=e.className,u=e.children,s=(0,o.A)(e,p),f=(0,d.useBreakpoints)().isDesktop,h=y(),v=h.monoColumn,b=h.withTopBar;return l.createElement("main",(0,n.A)({ref:t,className:c()(i,m["o-layout-main"],(r={},(0,a.A)(r,m["o-layout-main-2panes"],!v),(0,a.A)(r,m["o-layout-main-topbar"],b&&!f),r))},s),u)});_.displayName="Main";var w=(0,l.forwardRef)(function(e,t){var r=e.className,a=e.children,i=(0,o.A)(e,h),u=y().monoColumn;return l.createElement("div",(0,n.A)({role:"main",ref:t,className:c()(r,m["o-layout-content"],m["o-layout-content-".concat(u?"monocolumn":"2panes")])},i),a)});w.displayName="Content",g.propTypes={children:s().node,className:s().string,withTopBar:s().bool,monoColumn:s().bool},g.defaultProps={withTopBar:!0,monoColumn:!1}},29411:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(10782).A},70879:function(e,t,r){"use strict";r.r(t),r.d(t,{BorderedList:()=>a,default:()=>o});var n=r(73486),a=(0,r(85437).A)({root:{borderTop:"1px solid var(--silver)"}})(n.A);let o=n.A},27282:function(e,t,r){"use strict";r.r(t),r.d(t,{LitItemPropTypes:()=>j,default:()=>D});var n=r(40160),a=r(68523),o=r(38917),i=r(50384),c=r(64910),u=r(4103),s=r.n(u),l=r(55364),d=r.n(l),f=r(5556),p=r.n(f),h=r(96540),m=r(82096),v=function(e){var t,r;return e?(null==(t=e.type)?void 0:t.displayName)||(null==(r=e.type)?void 0:r.name)||"Node":null},y=function(e){var t=h.Children.toArray(e.children);return h.Children.count(t)>0?t:null},b=function(e){var t=y(e);return h.Children.count(t)||null},g=function(e){var t=y(e);if(!t)return null;var r=t[t.length-1];return r.type===h.Fragment?y(r.props)[0]:r},_=["gutters"],w=["gutters"],k=["gutters","ellipsis"],O=["className","gutters","ellipsis","componentElement"];function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C=(0,m.A)({gutters:{paddingLeft:function(e){return e.guttersValue.left},paddingRight:function(e){return e.guttersValue.right}},secondaryAction:{paddingRight:function(e){return e.secondaryActionPaddingRight}}}),S=function(e){var t=e.gutters,r=g((0,o.A)(e,_));return r&&(0,c.default)(r,["ListItemSecondaryAction"])?48*b(r.props)+("double"===t?24:8):0},A=function(e){var t=e.gutters,r=(0,o.A)(e,w),n="double"===t?32:16,a=g(r);return{left:n,right:a&&v(a).includes("ListItemIcon")?n-8:n}},P=function(e){var t=e.gutters,r=e.ellipsis,n=(0,o.A)(e,k),a=y(n),i=b(n);return h.Children.map(a,function(e,n){var a=n===i-1&&(0,c.default)(e,["ListItemSecondaryAction"])||!1,o=v(e).includes("ListItemText");return a&&"double"===t?h.cloneElement(e,{className:"".concat(e.props.className," u-mr-1")}):o?h.cloneElement(e,{ellipsis:r}):e})},M=(0,h.forwardRef)(function(e,t){var r=e.className,a=e.gutters,c=e.ellipsis,u=e.componentElement,l=(0,o.A)(e,O),f=C({secondaryActionPaddingRight:S(E({gutters:a},l)),guttersValue:A(E({gutters:a},l))}),p=P(E({gutters:a,ellipsis:c},l));return h.createElement(i.A,(0,n.A)({},l,{component:u||l.component,ref:t,classes:d()(l.classes,f),className:s()(r,l.size),disableGutters:l.disableGutters||"disabled"===a}),p)});M.displayName="ListItem",M.defaultProps={gutters:"default",size:"medium"};var j={gutters:p().oneOf(["disabled","double","default"]),size:p().oneOf(["small","medium","large"]),ellipsis:p().bool,componentElement:p().elementType};M.propTypes=j;let D=M},72637:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>h,largeSize:()=>f,mediumSize:()=>d,smallSize:()=>l});var n=r(40160),a=r(38917),o=r(61466),i=r(4103),c=r.n(i),u=r(96540),s=["className"],l=16,d=24,f=32,p=(0,u.forwardRef)(function(e,t){var r=e.className,i=(0,a.A)(e,s);return u.createElement(o.A,(0,n.A)({},i,{ref:t,className:c()(r,"cozyListItemIcon")}))});p.displayName="ListItemIcon";let h=p},77148:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(25196).A},38143:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(40160),a=r(38917),o=r(68523),i=r(77430),c=r(4103),u=r.n(c),s=r(58059),l=r.n(s),d=r(96540),f=["primaryText","secondaryText","primaryTextClassName","secondaryTextClassName","primary","secondary","ellipsis"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var h=l()(function(){console.warn('primaryText/primaryTextClassName and secondaryText/secondaryTextClassName are deprecated. Please use directly the primary prop : primary={<span className="u-error">Error</span>} for example.')}),m={variant:"caption"},v=function(e,t,r){return t||r?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({classes:{root:u()(t,r&&"u-db u-ellipsis")}},e):e},y=(0,d.forwardRef)(function(e,t){var r=e.primaryText,o=e.secondaryText,c=e.primaryTextClassName,u=e.secondaryTextClassName,s=e.primary,l=e.secondary,p=e.ellipsis,y=(0,a.A)(e,f);(0,d.useEffect)(function(){(r||o||c||u)&&h()},[r,o,c,u]);var b=s||r,g=l||o,_=e.primaryTypographyProps,w=e.secondaryTypographyProps;return _=(0,d.useMemo)(function(){return v(_,c,p)},[_,c,p]),w=(0,d.useMemo)(function(){return v(w||m,u,p)},[w,u,p]),d.createElement(i.A,(0,n.A)({ref:t,primary:b,secondary:g,primaryTypographyProps:_,secondaryTypographyProps:w},y))});y.displayName="ListItemText",y.defaultProps={ellipsis:!0};let b=y},62858:function(e,t,r){"use strict";r.d(t,{A:()=>f});var n=r(40160),a=r(45152),o=r(55364),i=r.n(o),c=r(5556),u=r.n(c),s=r(96540),l=(0,r(82096).A)({gutters:{paddingLeft:function(e){return e.guttersValue},paddingRight:function(e){return e.guttersValue}}}),d=(0,s.forwardRef)(function(e,t){var r=l({guttersValue:"double"===e.gutters?32:16});return s.createElement(a.A,(0,n.A)({},e,{ref:t,classes:i()(e.classes,r),disableGutters:e.disableGutters||"disabled"===e.gutters}))});d.displayName="ListSubheader",d.defaultProps={gutters:"default"},d.propTypes={gutters:u().oneOf(["disabled","double","default"])};let f=d},41666:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(96540),a=r(75331),o=r.n(a),i=r(29411),c=r(39274);let u=function(e){var t=e.content;return n.createElement(o(),{source:t,renderers:{link:function(e){var t=e.children,r=e.href;return n.createElement(i.default,{href:r,rel:"noreferrer",target:"_blank"},t)},heading:function(e){var t=e.children,r=e.level;return n.createElement(c.default,{variant:"h".concat(r),className:"u-mb-1"},t)},paragraph:function(e){var t=e.children;return n.createElement(c.default,{variant:"body1",className:"u-mb-1"},t)}}})}},26988:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(66364).A},31639:function(e,t,r){"use strict";r.d(t,{A:()=>l});var n=r(40160),a=r(38917),o=r(84630),i=r(96540),c=r(27282),u=["component"],s=(0,i.forwardRef)(function(e,t){var r=e.component,s=(0,a.A)(e,u);return i.createElement(o.A,(0,n.A)({ref:t,component:c.default,componentElement:r,gutters:"disabled"},s))});s.displayName="MenuItem",s.propTypes=c.LitItemPropTypes;let l=s},32859:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(3148).A},51757:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(81773).A},29781:function(e,t,r){"use strict";r.d(t,{A:()=>l});var n=r(40160),a=r(97551),o=r(96540),i=r(90774);let c=function(e){return o.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),o.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"}),o.createElement("path",{d:"M8 12a4 4 0 100-8 4 4 0 000 8z"}))},u=function(e){return o.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),o.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm0 14.4A6.398 6.398 0 011.6 8c0-3.536 2.864-6.4 6.4-6.4 3.536 0 6.4 2.864 6.4 6.4 0 3.536-2.864 6.4-6.4 6.4z"}))};var s=function(e){return o.createElement(a.A,(0,n.A)({},e,{icon:o.createElement(i.default,{icon:u}),checkedIcon:o.createElement(i.default,{icon:c})}))};s.defaultProps={color:"primary"};let l=s},5379:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>R});var n=r(40160),a=r(68523),o=r(95590),i=r(38917),c=r(4103),u=r.n(c),s=r(38221),l=r.n(s),d=r(5556),f=r.n(d),p=r(96540),h=r(28485),m={en:{SearchBar:{placeholder:"Search"}},fr:{SearchBar:{placeholder:"Rechercher"}}};(0,h.A)(m);let v=r(49206).A;var y=r(90774),b=r(74710),g=r(53811),_=r(13691);let w=r(70639).A;var k=r(32859),O=r(39274),x=r(33616),E=r(56207),C=r(82096),S=["placeholder","icon","size","type","label","componentsProps","disabledClear","disabledFocus","disabledHover","className","defaultValue","value","elevation","disabled","onChange","onClear","onFocus","onBlur"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M={small:40,medium:48,large:56,auto:"auto"},j={small:14,medium:16,large:16,auto:16},D={small:20,medium:24,large:28,auto:24},T=(0,C.A)(function(e){return{root:{display:"flex",boxSizing:"border-box",position:"relative",alignItems:"center",height:function(e){return M[e.size]},flex:"auto",borderRadius:function(e){return D[e.size]},borderStyle:"solid",borderWidth:1,borderColor:"transparent",backgroundColor:e.palette.background.default,"&:hover":{"&:not($disabled):not($focused)":{"& $focusHighlight":{opacity:1}}}},flat:{backgroundColor:e.palette.background.default},inputBase:{flex:1,fontSize:function(e){return j[e.size]},paddingLeft:function(e){return!e.icon&&"1rem"}},buttonBase:{flex:1,justifyContent:"start",height:"100%",borderRadius:99},typography:{color:"currentColor",opacity:.42,paddingLeft:function(e){return!e.icon&&"1rem"}},icon:{color:e.palette.text.secondary,padding:"0 1rem"},commonHighlight:{overflow:"hidden",position:"absolute",top:-1,right:-1,bottom:-1,left:-1,borderRadius:"inherit",opacity:0,transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})},focusHighlight:{pointerEvents:"none",backgroundColor:e.palette.action.hover},disableHighlight:{backgroundColor:e.palette.action.disabled},focused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.background.paper},disabled:{"& $icon":{color:e.palette.text.disabled},"& $disableHighlight":{opacity:1}}}}),I=(0,p.forwardRef)(function(e,t){var r,c,s=e.placeholder,d=e.icon,f=e.size,h=e.type,m=e.label,_=e.componentsProps,E=e.disabledClear,C=e.disabledFocus,A=e.disabledHover,M=e.className,j=e.defaultValue,D=e.value,I=e.elevation,R=e.disabled,N=e.onChange,L=e.onClear,F=e.onFocus,B=e.onBlur,z=(0,i.A)(e,S),H=(0,x.useI18n)().t,U=T({size:f,type:h,icon:d}),V=(0,p.useState)(j),Z=(0,o.A)(V,2),G=Z[0],q=Z[1],W=(0,p.useState)(!1),Q=(0,o.A)(W,2),J=Q[0],Y=Q[1],$=s||H("SearchBar.placeholder"),K=m||H("SearchBar.placeholder"),X=D||G,ee=void 0===D,et=(0,p.useMemo)(function(){return l()(N,375)},[N]),er=function(e){N(P(P({},e),{},{target:P(P({},e.target),{},{value:""})})),L(e),q("")};return p.createElement(k.default,(0,n.A)({component:"form",elevation:I,className:u()(M,U.root,(r={},(0,a.A)(r,U.flat,!I),(0,a.A)(r,U.elevation,I),(0,a.A)(r,U.focused,J&&!C),(0,a.A)(r,U.disabled,R),r)),ref:t},z),"button"===h?p.createElement(v,{className:U.buttonBase},d&&p.createElement(y.default,{className:U.icon,icon:d}),"string"==typeof K?p.createElement(O.default,{className:U.typography},K):K):p.createElement(p.Fragment,null,d&&p.createElement(y.default,{className:U.icon,icon:d}),p.createElement(w,(0,n.A)({},null==_?void 0:_.inputBase,{className:u()(U.inputBase,null==_||null==(c=_.inputBase)?void 0:c.className),placeholder:R?null:$,value:R?$:X,disabled:R,"aria-label":$,onChange:function(e){if(!ee)return N(e);var t=e.target.value;t.length>=1?(et(e),q(t)):er(e)},onFocus:function(e){F(e),Y(!0)},onBlur:function(e){B(e),Y(!1)}}))),X&&!E&&p.createElement(b.default,{size:"medium",onClick:er},p.createElement(y.default,{icon:g.A})),!A&&p.createElement("span",{className:u()(U.commonHighlight,U.focusHighlight)}),R&&p.createElement("span",{className:u()(U.commonHighlight,U.disableHighlight)}))});I.displayName="SearchBar",I.defaultProps={elevation:1,icon:_.default,size:"small",type:"search",disabledClear:!1,disabledFocus:!1,disabledHover:!1,defaultValue:"",onChange:function(){},onFocus:function(){},onClear:function(){},onBlur:function(){}},I.propTypes={className:f().string,type:f().oneOf(["button","search"]),icon:y.iconPropType,size:f().oneOf(["small","medium","large","auto"]),componentsProps:f().shape({inputBase:f().object}),value:f().string,defaultValue:f().string,disabledClear:f().bool,disabledFocus:f().bool,disabledHover:f().bool,elevation:f().number,placeholder:f().string,label:f().oneOfType([f().string,f().func,f().object]),disabled:f().bool,onChange:f().func,onFocus:f().func,onClear:f().func,onBlur:f().func};let R=(0,p.forwardRef)(function(e,t){return(0,E.default)(m),p.createElement(I,(0,n.A)({},e,{ref:t}))})},420:function(e,t,r){"use strict";r.d(t,{A:()=>h});var n=r(40160),a=r(68523),o=r(38917),i=r(5556),c=r.n(i),u=r(96540),s=r(64687),l=["selectProps","innerProps"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=function(e){var t=e.selectProps.onControlClicked,r=e.innerProps,a=(0,o.A)(e,l),i=f(f({},r),{},{onClick:t,onTouchStart:t});return u.createElement(s.c.Control,(0,n.A)({},a,{innerProps:i}))};p.propTypes={selectProps:c().object.isRequired};let h=p},55540:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(22488).A},79293:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(5556),a=r.n(n),o=r(96540),i=r(82092),c=r(27282),u=r(72637),s=r(38143),l=r(55540),d=function(e){var t=e.hasSecondary,r=e.divider,n=e.gutters;return o.createElement(o.Fragment,null,o.createElement(c.default,{gutters:n},o.createElement(u.default,null,o.createElement(l.default,{className:"u-bdrs-4",variant:"rect",width:32,height:32})),o.createElement(s.default,{primary:o.createElement(l.default,{width:"75%",height:13}),secondary:t?o.createElement(l.default,{width:"37%",height:13}):void 0})),r&&o.createElement(i.default,null))};d.propTypes={hasSecondary:a().bool,divider:a().bool,gutters:a().string};let f=d},60076:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(10716).A},39968:function(e,t,r){"use strict";r.d(t,{A:()=>h});var n=r(68523),a=r(4103),o=r.n(a),i=r(5556),c=r.n(i),u=r(96540),s=r(90774),l=r(56706),d=r(39274),f=r(66550),p=function(e){var t,r=e.t,a=e.loadingType,i=e.middle,c=e.noMargin,f=e.color,p=e.size,h=e.className;return u.createElement("div",{className:o()("styles__c-spinner___1snK7",(t={},(0,n.A)(t,"styles__c-spinner--middle___RwyII",i),(0,n.A)(t,"styles__c-spinner--nomargin___13JyW",c),t),h)},u.createElement(s.default,{icon:l.A,color:f,spin:!0,size:{tiny:8,small:12,medium:16,large:24,xlarge:36,xxlarge:80}[p]}),a&&u.createElement(d.default,{variant:"body1",color:"textSecondary",component:"p"},r("loading.".concat(a))))};p.propTypes={loadingType:c().string,middle:c().bool,noMargin:c().bool,color:c().string,size:c().oneOf(["tiny","small","medium","large","xlarge","xxlarge"]),className:c().string},p.defaultProps={loadingType:"",middle:!1,noMargin:!1,color:"var(--primaryColor)",size:"medium",className:""};let h=(0,f.A)()(p)},95037:function(e,t,r){"use strict";r.d(t,{A:()=>h,Z:()=>p});var n=r(40160),a=r(38917),o=r(4103),i=r.n(o),c=r(5556),u=r.n(c),s=r(96540),l=["spacing","tag"],d={"Stack--m":"styles__Stack--m___1tSpV","Stack--xs":"styles__Stack--xs___2R5lW","Stack--s":"styles__Stack--s___22WMg","Stack--l":"styles__Stack--l___3oxCJ","Stack--xl":"styles__Stack--xl___3qy-m","Stack--xxl":"styles__Stack--xxl___2KAsb"},f=function(e){var t=e.spacing,r=e.tag,o=(0,a.A)(e,l);return s.createElement(r,(0,n.A)({},o,{className:i()(o.className,t&&d["Stack--"+t])}))},p=u().oneOf(["xs","s","m","l","xl","xxl"]);f.propTypes={spacing:p},f.defaultProps={spacing:"m",tag:"div"};let h=f},67476:function(e,t,r){"use strict";r.d(t,{A:()=>W});var n=r(40160),a=r(68523),o=r(95590),i=r(38917),c=r(5556),u=r.n(c),s=r(96540),l=r(40067),d=r(4103),f=r.n(d),p=r(88245);let h=r(71260).A;var m=r(82096),v=(0,m.A)({root:{width:function(e){return e.column.width},maxWidth:function(e){return e.column.maxWidth}}});let y=function(e){var t,r=e.className,n=e.column,a=e.orderBy,o=e.orderDirection,i=e.onClick,c=v({column:n});return s.createElement(p.default,{key:n.id,classes:c,align:null!=(t=n.textAlign)?t:"left",padding:n.disablePadding?"none":"normal",sortDirection:a===n.id&&o},!1!==n.sortable?s.createElement(h,{active:a===n.id,direction:a===n.id?o:"asc",onClick:i},n.label,a===n.id&&s.createElement("span",{className:r},"desc"===o?"sorted descending":"sorted ascending")):n.label)};var b=r(71973),g=r(38599),_=(0,m.A)({visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}});let w=function(e){var t=e.columns,r=e.orderDirection,n=e.orderBy,a=e.rowCount,o=e.context,i=e.onClick,c=e.onSelectAllClick,u=_(),l=o.selectedItems.length;return s.createElement(g.default,null,s.createElement(p.default,{align:"center",padding:"checkbox"},s.createElement(b.default,{className:f()("virtualizedCheckbox",{checked:l>0}),indeterminate:l>0&&l<a,checked:a>0&&l===a,inputProps:{"aria-label":"select all"},size:"small",onChange:c})),t.map(function(e){return s.createElement(y,{key:e.id,className:u.visuallyHidden,column:e,orderDirection:r,orderBy:n,onClick:function(){return i(e.id)}})}))};var k=r(58156),O=r.n(k),x=r(67278),E=(0,m.A)({root:{cursor:function(e){return e.isClickable?"pointer":void 0},width:function(e){return e.column.width},maxWidth:function(e){return e.column.maxWidth}}});let C=s.memo(function(e){var t,r=e.row,n=e.columns,a=e.column,i=e.onClick,c=e.onLongPress,u=e.children,l=(0,s.useState)(!1),d=(0,o.A)(l,2),f=d[0],h=d[1],m=E({column:a,isClickable:!!i}),v=O()(r,a.id,"—"),y=(0,x.w)(function(){a.disableClick||(h(!0),null==c||c(r,a))});return s.createElement(p.default,{key:a.id,ref:y,classes:m,align:null!=(t=a.textAlign)?t:"left",padding:a.disablePadding?"none":"normal",onClick:function(){a.disableClick||(f?h(!1):null==i||i(r,a))},onContextMenu:f?function(e){return e.preventDefault()}:void 0},u?s.Children.map(u,function(e){return s.isValidElement(e)?s.cloneElement(e,{row:r,columns:n,column:a,cell:v}):null}):v)}),S=s.memo(function(e){var t=e.index,r=e.row,n=e.columns,a=e.context,o=e.children,i=e.onSelectClick,c=e.onLongPress,u=e.onClick,l=a.selectedItems.length;return s.createElement(s.Fragment,null,s.createElement(p.default,{align:"center",padding:"checkbox"},s.createElement(b.default,{className:f()("virtualizedCheckbox",{visible:l>0,checked:a.isSelectedItem(r)}),checked:a.isSelectedItem(r),inputProps:{"aria-labelledby":"enhanced-table-checkbox-".concat(t)},size:"small",onClick:function(e){return i(r,e,t)}})),n.map(function(e){return s.createElement(C,{key:e.id,row:r,columns:n,column:e,onClick:u,onLongPress:c},o)}))});var A=function(e){var t=e.a,r=e.b,n=e.orderDirection,a=e.orderBy,o=e.lang,i=O()(t,a,""),c=O()(r,a,"");if("string"==typeof i){var u=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}/.test(i),s=!isNaN(parseInt(i));return u?new Date(c)-new Date(i):s?parseInt(c)-parseInt(i):(0,Intl.Collator(o||"en",{caseFirst:"asc"===n?"upper":"lower"}).compare)(c,i)}return c-i},P=function(e,t){var r=e.map(function(e,t){return[e,t]});return r.sort(function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]}),r.map(function(e){return e[0]})},M=["item","context","className"];let j=function(e){var t=e.item,r=e.context,a=e.className,o=(0,i.A)(e,M),c=t||r.data[o["data-item-index"]],u=r.isSelectedItem(c);return s.createElement(g.default,(0,n.A)({},o,{className:f()(a,"virtualized"),selected:u,hover:!0}))};var D=r(15133),T=r(83181),I=r(69640);let R=r(78912).A,N=r(87860).A;var L=["context"],F=["context"],B=["context","className"],z=["context"],H=["context"],U={Scroller:(0,s.forwardRef)(function(e,t){e.context;var r=(0,i.A)(e,L);return s.createElement(I.default,(0,n.A)({},r,{ref:t}))}),Table:(0,s.forwardRef)(function(e,t){e.context;var r=(0,i.A)(e,F);return s.createElement(D.default,(0,n.A)({},r,{ref:t}))}),TableHead:(0,s.forwardRef)(function(e,t){e.context;var r=e.className,a=(0,i.A)(e,B);return s.createElement(N,(0,n.A)({},a,{className:f()(r,"virtualized"),ref:t}))}),TableBody:(0,s.forwardRef)(function(e,t){e.context;var r=(0,i.A)(e,z);return s.createElement(T.default,(0,n.A)({},r,{ref:t}))}),TableFooter:(0,s.forwardRef)(function(e,t){e.context;var r=(0,i.A)(e,H);return s.createElement(R,(0,n.A)({},r,{ref:t}))}),TableRow:function(e){return s.createElement(j,e)}},V=["rows","columns","groups","defaultOrder","secondarySort","selectedItems","onSelect","onSelectAll","isSelectedItem","componentsProps","context","components","onSortChange"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q=(0,s.forwardRef)(function(e,t){var r,a,c,u=e.rows,d=e.columns,f=e.groups,h=e.defaultOrder,m=e.secondarySort,v=e.selectedItems,y=e.onSelect,b=e.onSelectAll,g=e.isSelectedItem,_=e.componentsProps,k=e.context,O=e.components,x=e.onSortChange,E=(0,i.A)(e,V),C=(0,s.useState)(null!=(a=null==h?void 0:h.direction)?a:"asc"),M=(0,o.A)(C,2),j=M[0],D=M[1],T=(0,s.useState)(null!=(c=null==h?void 0:h.by)?c:void 0),I=(0,o.A)(T,2),R=I[0],N=I[1],L=R?P(u,"desc"===j?function(e,t){return A({a:e,b:t,orderDirection:j,orderBy:R,lang:void 0})}:function(e,t){return-A({a:e,b:t,orderDirection:j,orderBy:R,lang:r})}):u,F=m?m(L):L,B=(null==f?void 0:f(F))||{},z=B.groupLabels,H=B.groupCounts,Z=!!H,q=G(G(G({},k),Z&&{data:F}),{},{isSelectedItem:g,selectedItems:v}),W=function(e){var t=R===e&&"asc"===j?"desc":"asc";D(t),N(e),null==x||x({order:t,orderBy:e})},Q=function(e){var t;if(null!=e&&null!=(t=e.target)&&t.checked)return void b(u);b([])},J=Z?l.kk:l.Sd;return s.createElement(J,(0,n.A)({},E,{ref:t,data:Z?void 0:F,groupCounts:Z?H:[],context:q,components:O||U,fixedHeaderContent:function(){return s.createElement(w,(0,n.A)({},null==_?void 0:_.fixedHeaderContent,{columns:d,rowCount:u.length,context:q,orderDirection:j,orderBy:R,onClick:W,onSelectAllClick:Q}))}},Z&&{groupContent:function(e){return s.createElement(p.default,{colSpan:d.length+1,size:"small"},z[e])}},{itemContent:function(e){var t;return s.createElement(S,(0,n.A)({},null==_?void 0:_.rowContent,{index:e,row:F[e],columns:d,context:q,onSelectClick:y}),null==_||null==(t=_.rowContent)?void 0:t.children)},rowSpan:2}))});q.displayName="VirtualizedTable",q.defaultProps={selectedItems:[],isSelectedItem:function(){},onSelect:function(){},onSelectAll:function(){}},q.propTypes={rows:u().array,columns:u().array,groups:u().func,defaultOrder:u().shape({direction:u().oneOf(["asc","desc"]),by:u().string}),secondarySort:u().func,selectedItems:u().array,onSelect:u().func,onSelectAll:u().func,isSelectedItem:u().func,onSortChange:u().func};let W=q},15133:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(79764).A},83181:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(24896).A},88245:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>n});let n=r(90652).A},69640:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(40160),a=r(68523),o=r(90648),i=r(96540),c=r(32859);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let s=(0,i.forwardRef)(function(e,t){return i.createElement(o.A,(0,n.A)({},e,{ref:t,component:c.default,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({zIndex:"var(--zIndex-app)"},e.style),elevation:0,square:!0}))})},38599:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(40160),a=r(38917),o=r(65594),i=r(4103),c=r.n(i),u=r(96540),s=["disabled","className"],l=(0,u.forwardRef)(function(e,t){var r=e.disabled,i=e.className,l=(0,a.A)(e,s);return u.createElement(o.A,(0,n.A)({},l,{className:c()(i,{disabled:r}),disabled:r,ref:t}))});l.displayName="TableRow";let d=l},29592:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(40160),a=r(38917),o=r(40703),i=r(96540),c=r(95590),u=r(55364),s=r.n(u),l=r(5556),d=r.n(l),f=r(15278),p=r(68946),h=r(90774),m=r(39700),v=r(2589),y=r(72637),b=r(38143),g=r(29781),_=["name","options","disabled","value","children","onClick","onChange"],w=(0,i.forwardRef)(function(e,t){var r,u=e.name,l=e.options,d=e.disabled,w=e.value,k=e.children,O=e.onClick,x=e.onChange,E=(0,a.A)(e,_),C=(0,i.useState)({label:"",value:""}),S=(0,c.A)(C,2),A=S[0],P=S[1],M=(0,i.useState)(!1),j=(0,c.A)(M,2),D=j[0],T=j[1],I=null==(r=l.find(function(e){return e.value===w}))?void 0:r.label,R=function(e){var t=e.value,r=e.children,n=e.onClick;return function(e){null==n||n(s()({},e,{target:{value:t}})),P({label:r,value:t}),null==x||x({target:{value:t}})}};return(0,i.useEffect)(function(){P({label:I||"",value:w||""})},[I,w]),i.createElement(i.Fragment,null,i.createElement(o.A,{style:{display:"none"},type:"hidden",name:u,value:A.value}),i.createElement(o.A,(0,n.A)({},E,{ref:t,type:"button","aria-controls":"simple-menu","aria-haspopup":"true",name:"dummy",value:A.label,disabled:d,inputProps:{className:"u-ta-left"},InputProps:{endAdornment:i.createElement(v.default,{position:"end"},i.createElement(h.default,{icon:m.A,color:d?"var(--disabledTextColor)":"var(--iconTextColor)"}))},onClick:function(){T(!0),null==O||O()}})),D&&i.createElement(p.A,{open:!0,autoClose:!0,onClose:function(){T(!1)}},i.Children.map(k,function(e){return i.isValidElement(e)?i.createElement(f.A,(0,n.A)({},e.props,{size:"small",autoFocus:e.props.value===w,onClick:R(e.props)}),i.createElement(y.default,null,i.createElement(g.A,{"aria-hidden":"true",tabIndex:"-1",checked:e.props.value===A.value})),i.createElement(b.default,{primary:e.props.children})):null})))});w.propTypes={name:d().string,options:d().array,disabled:d().bool,value:d().string,children:d().oneOfType([d().node,d().arrayOf(d().node)]),onClick:d().func,onChange:d().func};var k=function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)})},O=function(){var e,t,r;return(null==(e=window)||null==(t=e.crypto)||null==(r=t.randomUUID)?void 0:r.call(t))||k()},x=r(24242),E=["select","options","children"],C=(0,i.forwardRef)(function(e,t){var r=e.select,c=e.options,u=e.children,s=(0,a.A)(e,E),l=O();return(0,x.useBreakpoints)().isMobile&&r&&c?i.createElement(w,(0,n.A)({ref:t,id:l,options:c},s),u):i.createElement(o.A,(0,n.A)({ref:t,id:l,select:r,SelectProps:{IconComponent:function(e){return i.createElement(h.default,(0,n.A)({},e,{icon:m.A,color:s.disabled?"var(--disabledTextColor)":"var(--iconTextColor)"}))}}},s),u)});C.displayName="TextField";let S=C},39274:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(40160),a=r(38917),o=r(54392),i=r(96540),c=["color","variant","children"];let u=(0,i.forwardRef)(function(e,t){var r=e.color,u=e.variant,s=e.children,l=(0,a.A)(e,c);return i.createElement(o.A,(0,n.A)({ref:t,variant:u,color:r||("caption"===u?"textSecondary":"textPrimary")},l),s)})},24203:function(e,t,r){"use strict";r.d(t,{D:()=>s});var n=r(26232),a=r(7127),o=r(18340),i=r(47670),c=r(95926),u=function(e){var t=document.getElementById("sidebar");return t?getComputedStyle(t).getPropertyValue("background-color"):e.palette.background.paper},s=(0,a.isFlagshipApp)()||o.H6?function(){var e=(0,n.A)(),t=(0,c.useCozyTheme)().isLight;(0,i.K9)({bottomBackground:e.palette.background.paper,bottomTheme:t?"dark":"light",topOverlay:"rgba(0, 0, 0, 0.5)",topBackground:e.palette.background.paper,topTheme:"light"},{bottomBackground:u(e),bottomTheme:t?"dark":"light",topOverlay:"transparent",topBackground:e.palette.background.paper,topTheme:t?"dark":"light"},"cozy-ui/ActionMenu")}:function(){}},56211:function(e,t,r){"use strict";r.r(t),r.d(t,{Button:()=>k,ButtonLink:()=>O,default:()=>x});var n=r(40160),a=r(38917),o=r(68523),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=r(90774),f=r(56706),p=["busy","disabled"],h=["children","icon","iconOnly","label","subtle","className","extension","round","size","theme","align","extraRight","tag"],m={"c-btn":"styles__c-btn___3kXsk","c-btn--regular":"styles__c-btn--regular___1ilYT","c-btn--ghost":"styles__c-btn--ghost___Md7mm","c-btn--highlight":"styles__c-btn--highlight___GlDOj","c-btn--alpha":"styles__c-btn--alpha___2-bRT","c-btn--action":"styles__c-btn--action___3z98K","c-btn--close":"styles__c-btn--close___C19bl","c-btn--danger":"styles__c-btn--danger___wzHFo","c-btn--secondary":"styles__c-btn--secondary___1hLVM","c-btn--danger-outline":"styles__c-btn--danger-outline___BCng5","c-btn--text":"styles__c-btn--text___33vmu","c-btn--left":"styles__c-btn--left___3f1zH","c-btn--center":"styles__c-btn--center___Nny0n","c-btn--right":"styles__c-btn--right___1B9Tn","c-btn--tiny":"styles__c-btn--tiny___fK37G","c-btn--small":"styles__c-btn--small___9JKyq","c-btn--large":"styles__c-btn--large___3PnsT","c-btn--full":"styles__c-btn--full___1VumB","c-btn--narrow":"styles__c-btn--narrow___erKsd","c-btn--round":"styles__c-btn--round___35GfW","c-btn--subtle":"styles__c-btn--subtle___2rRQ0",spin:"styles__spin___3VrS0",shake:"styles__shake___1yyjR"},v=function(e){var t,r=e.className,n=e.extension,a=e.size,i=e.theme,u=e.variant,s=e.round,l=e.align;return c()(m["c-btn"],(t={},(0,o.A)(t,m["c-btn--".concat(i)],i),(0,o.A)(t,m["c-btn--".concat(a)],"normal"!==a),(0,o.A)(t,m["c-btn--".concat(u)],u),(0,o.A)(t,m["c-btn--".concat(n)],n),(0,o.A)(t,m["c-btn--".concat(l)],l),(0,o.A)(t,m["c-btn--round"],s),t),r)},y=function(e){return function(t){var r=t.busy,n=t.disabled,o=(0,a.A)(t,p);return r&&(o["aria-busy"]=!0),n&&(o["aria-disabled"]=!0),"button"===e&&n&&(o.disabled=!0),o}},b={button:y("button"),a:y("a")},g=function(e){return e},_={tiny:8,small:12,large:18},w=function(e){var t=e.children,r=e.icon,o=e.iconOnly,i=e.label,c=e.subtle,u=e.className,s=e.extension,p=e.round,m=e.size,y=e.theme,w=e.align,k=e.extraRight,O=e.tag,x=(0,a.A)(e,h),E=b[O]||g,C=o?i:null;return l.createElement(O,(0,n.A)({},E(x),{className:v({extension:s,align:w,round:p,size:m,theme:y,className:u,variant:c&&"subtle"}),title:C}),l.createElement("span",null,d.default.isProperIcon(r)?l.createElement(d.default,{size:_[m],icon:r,"aria-hidden":!0,focusable:"false"}):r,i&&l.createElement("span",{className:o?"u-visuallyhidden":null},i),t,k&&l.createElement("span",{className:"u-ml-auto"},k),x.busy&&l.createElement(d.default,{size:_[m],icon:f.A,spin:!0,className:"u-ml-half","aria-hidden":!0,focusable:"false"})))},k=function(e){return l.createElement(w,e)},O=function(e){return l.createElement(w,e)};let x=function(e){return e.tag?l.createElement(w,e):l.createElement(k,e)};k.propTypes={children:s().node,label:s().node.isRequired,icon:s().oneOfType([s().node,d.iconPropType]),iconOnly:s().bool,theme:s().string,size:s().oneOf(["tiny","small","large","normal"]),extension:s().oneOf(["narrow","full"]),align:s().oneOf(["left","right","center"]),round:s().bool,className:s().string,onClick:s().func,extraRight:s().PropTypes.node,busy:s().bool,disabled:s().bool,type:s().oneOf(["button","reset","submit"]),subtle:s().bool},k.defaultProps={type:"submit",tag:"button",size:"normal",align:"center"},O.defaultProps={tag:"a"}},98408:function(e,t,r){"use strict";r.d(t,{A:()=>w});var n=r(68523),a=r(38917),o=r(40160),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=r(90774),f=r(74710),p=r(53811),h=r(95037),m=r(39274),v=r(35855),y=["title","text","icon","actionButton","isImportant"],b={Infos:"styles__Infos___tpCYh","Infos--primary":"styles__Infos--primary____iqfw","Infos--secondary":"styles__Infos--secondary___2rlHM","Infos--danger":"styles__Infos--danger___1HWww","Infos-description":"styles__Infos-description___3q8sW","Info-close":"styles__Info-close___EnUCb"},g=function(e){var t=e.description,r=e.action,n=e.dismissAction,a=e.dismissButtonProps,i=e.theme,u=e.className;return l.createElement("div",{className:c()(b.Infos,b["Infos--".concat(i)],u)},l.createElement(h.A,{spacing:"m"},l.createElement("div",{className:b["Infos-description"]},l.createElement(h.A,{spacing:"xs"},t)),r&&l.createElement("div",null,r)),n&&l.createElement("div",{className:b["Info-close"]},l.createElement(f.default,(0,o.A)({size:"medium",onClick:n},a),l.createElement(d.default,{icon:p.A,size:"12"}))))};g.propTypes={description:s().element.isRequired,action:s().element,dismissAction:s().func,className:s().string,theme:s().oneOf(["primary","secondary","danger"]),dismissButtonProps:s().object},g.defaultProps={theme:"primary"};var _=(0,v.A)();let w=l.memo(function(e){if(!(e.actionButton||e.icon||e.isImportant||e.text||e.title))return l.createElement(g,e);var t=e.title,r=e.text,i=e.icon,u=e.actionButton,s=e.isImportant,f=(0,a.A)(e,y);return _("The Infos component API has changed, using any of the following props is deprecated: title, text, icon, actionButton, isImportant"),l.createElement(g,(0,o.A)({className:"u-maw-6",theme:s?"danger":"secondary",description:l.createElement(l.Fragment,null,t&&l.createElement(m.default,{variant:"h5",className:c()({"u-error":s})},t),l.createElement("div",{className:c()("u-flex","u-w-100")},i&&l.createElement(d.default,{icon:i,className:c()(b.Infos__icon,"u-w-1","u-h-1","u-flex-shrink-0")}),r&&l.createElement(m.default,{variant:"body1",className:c()((0,n.A)({},"u-pl-half",null!==i))},r))),action:u},f))})},42837:function(e,t,r){"use strict";r.d(t,{$:()=>m,Bd:()=>y,E:()=>v});var n=r(40160),a=r(68523),o=r(38917),i=r(4103),c=r.n(i),u=r(5556),s=r.n(u),l=r(96540),d=["children","className","align"],f=["children","className","style"],p=["children","className","style"],h={media:"styles__media___1rIBu","media--top":"styles__media--top___1t0j5","media--bottom":"styles__media--bottom___XsQQe",bd:"styles__bd___3SAX2",img:"styles__img___3sztD"},m=function(e){var t=e.children,r=e.className,i=e.align,u=(0,o.A)(e,d);return l.createElement("div",(0,n.A)({className:c()(h.media,(0,a.A)({},h["media--"+i],i&&"middle"!==i),r)},u),t)};m.propTypes={align:s().oneOf(["top","middle","bottom"])};var v=function(e){var t=e.children,r=e.className,a=e.style,i=(0,o.A)(e,f);return l.createElement("div",(0,n.A)({className:c()(h.img,r),style:a},i),t)},y=function(e){var t=e.children,r=e.className,a=e.style,i=(0,o.A)(e,p);return l.createElement("div",(0,n.A)({className:c()(h.bd,r),style:a},i),t)}},26273:function(e,t,r){"use strict";r.d(t,{XI:()=>v,nA:()=>_});var n=r(40160),a=r(38917),o=r(4103),i=r.n(o),c=r(5556),u=r.n(c),s=r(96540),l=["className"],d=["className"],f=["className"],p=["className"],h=["className"],m=["className"],v=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,l);return s.createElement("div",(0,n.A)({className:i()("styles__Table___39nEw",r)},o,{ref:t}))}),y=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,d);return s.createElement("div",(0,n.A)({className:i()("styles__TableHead___3ZqIs",r)},o,{ref:t}))}),b=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,f);return s.createElement("div",(0,n.A)({className:i()("styles__TableBody___4ThMV",r)},o,{ref:t}))}),g=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,p);return s.createElement("div",(0,n.A)({className:i()("styles__TableRow___UyGEc",r)},o,{ref:t}))}),_=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,h);return s.createElement("div",(0,n.A)({className:i()("styles__TableCell___3vgVE",r)},o,{ref:t}))}),w=s.forwardRef(function(e,t){var r=e.className,o=(0,a.A)(e,m);return s.createElement("div",(0,n.A)({className:i()("styles__TableHeader___ERsVK",r)},o,{ref:t}))});v.propTypes={className:u().string},y.propTypes={className:u().string},b.propTypes={className:u().string},g.propTypes={className:u().string},_.propTypes={className:u().string},w.propTypes={className:u().string}},98712:function(e,t,r){"use strict";r.d(t,{Ay:()=>u,Ps:()=>i,bF:()=>c});var n=r(95590),a=r(73916),o=r.n(a),i=function(e,t){var r=t||window.innerWidth;return o()(e,function(e){var t=(0,n.A)(e,2),a=t[0],o=t[1];return r>=a&&(void 0===o||r<=o)})},c=function(){try{return window.self!==window.top}catch(e){return!0}};let u={isExtraLarge:[1201],isLarge:[1024,1200],isMedium:[769,1023],isSmall:[544,768],isTiny:[0,543],isDesktop:[1024],isTablet:[769,1023],isMobile:[0,768]}},35855:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=function(){var e=!1;return function(t){e||console.warn(t),e=!0}}},56100:function(e,t,r){"use strict";r.d(t,{A:()=>n});let n=function(){return navigator&&navigator.userAgent&&navigator.userAgent.includes("Argos")}},21977:function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")?e.current:e}r.d(t,{D:()=>n})},71231:function(e,t,r){"use strict";r.d(t,{A:()=>m});var n=r(40160),a=r(25533),o=r(48061),i=r(20469),c=r(56654),u=r(77946),s=r(7350),l=r.n(s),d=r(5556),f=r.n(d),p=r(96540),h=r(98712);f().shape(Object.keys(h.Ay).reduce(function(e,t){return e[t]=f().bool.isRequired,e},{}));let m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.Ay;return function(t){var r=function(r){(0,i.A)(f,r);var s,d=(s=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,u.A)(f);return e=s?Reflect.construct(t,arguments,(0,u.A)(this).constructor):t.apply(this,arguments),(0,c.A)(this,e)});function f(t){var r;return(0,a.A)(this,f),(r=d.call(this,t)).state={breakpoints:(0,h.Ps)(e)},r.checkBreakpoints=l()(function(){r.setState({breakpoints:(0,h.Ps)(e)})},100,{trailing:!0}),r}return(0,o.A)(f,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkBreakpoints)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkBreakpoints)}},{key:"render",value:function(){var e=this.props,r=this.state.breakpoints;return p.createElement(t,(0,n.A)({},e,{breakpoints:r}))}}]),f}(p.Component);return r.displayName="withBreakpoints(".concat(t.displayName||t.name,")"),r}}},73112:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(96540),a=r(21977);let o=function(e,t,r){(0,n.useEffect)(function(){var n=(0,a.D)(e);if(n&&t&&r)return n.addEventListener(t,r),function(){n.removeEventListener(t,r)}},[t,r,e])}},18340:function(e,t,r){"use strict";r.d(t,{H6:()=>a,Wc:()=>i,Yu:()=>o});var n=r(7127),a=!!document.getElementById("rsg-root"),o=a?function(){var e,t=(null==(e=JSON.parse(localStorage.getItem("flagship-app")))?void 0:e.contained)==="on";return{immersive:!t,statusBarHeight:40*!t,navbarHeight:40*!t}}:n.getFlagshipMetadata,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topBackground,r=e.topOverlay,n=e.topTheme,o=e.bottomBackground,i=e.bottomOverlay,c=e.bottomTheme;if(a){var u=document.getElementsByTagName("body")[0];t&&u.style.setProperty("--flagship-top-bgcolor",t),r&&u.style.setProperty("--flagship-top-overlay",r),n&&u.style.setProperty("--flagship-top-color","dark"===n?"black":"white"),o&&u.style.setProperty("--flagship-bottom-bgcolor",o),i&&u.style.setProperty("--flagship-bottom-overlay",i),c&&u.style.setProperty("--flagship-bottom-color","dark"===c?"black":"white")}}},47670:function(e,t,r){"use strict";r.d(t,{EF:()=>v,F4:()=>a,K9:()=>y});var n,a,o=r(83488),i=r.n(o),c=r(62193),u=r.n(c),s=r(23805),l=r.n(s),d=r(71086),f=r.n(d),p=r(96540),h=r(84660),m=r(18340);(n=a||(a={})).Dark="dark",n.Light="light";var v=function(e,t,r){var n=l()(t)?f()(t,i()):void 0,a=!u()(n)&&n;(0,m.Wc)(n),e&&a&&e.call("setFlagshipUI",a,r)},y=function(e,t,r){var n=(0,h.useWebviewIntent)();(0,p.useEffect)(function(){return v(n,e,"".concat(r||"unknown"," (onMount)")),function(){return v(n,t,"".concat(r||"unknown"," (onUnmount)"))}},[n])}},89253:function(e,t,r){"use strict";r.d(t,{Y:()=>a});var n=Object.values(r(98175).O3).filter(Boolean),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Array.from(e.toUpperCase()).map(function(e){return e.charCodeAt(0)}).reduce(function(e,t){return e+t},0)%n.length;return n[t]}},64155:function(e,t,r){"use strict";r.d(t,{A:()=>b});var n=r(4103),a=r.n(n),o=r(86139),i=r.n(o),c=r(5556),u=r.n(c),s=r(96540),l=r(89253),d={xsmall:16,small:24,medium:32,large:48,xlarge:64},f=function(e){var t=Number.isInteger(e)?e:d[e];return{"--circleSize":"".concat(t,"px")}},p=function(e){var t=e.children,r=e.backgroundColor,n=e.size,o=e.className,i=Object.assign({backgroundColor:r},f(n));return s.createElement("div",{className:a()("styles__c-circle___1DuMR",o),style:i},s.createElement("span",{className:"styles__c-circle-text___1jFgD"},t))};p.propTypes={backgroundColor:u().string,size:u().oneOfType([u().oneOf(["xsmall","small","medium","large","xlarge"]),u().number]),className:u().string},p.defaultProps={size:"medium",className:""};var h=r(90774),m=r(70804),v=function(e){var t=e.text,r=e.textId;return t?{background:"".concat((0,l.Y)(r||t))}:{}},y=function(e){var t=e.text,r=e.textId,n=e.image,o=e.size,c=e.className,u=e.style,l=e.disabled,d=e.ghost,p=e.icon,m=f(o),y=v({text:t,textId:r}),b=i()(y,m,u),g=h.default.isProperIcon(p)?s.createElement(h.default,{icon:p}):p;return s.createElement("div",{"data-testid":"Avatar",className:a()("styles__c-avatar___3jjlO",t?"styles__c-avatar--text___3Xssl":"",n?"styles__c-avatar--image___2GZnA":"",l?"styles__c-avatar--disabled___3rlUN":"",d?"styles__c-avatar--ghost___3aaZ2":"",c),style:b},n&&s.createElement("img",{src:n,className:"styles__c-avatar-image___UhZDi",alt:""}),!n&&t&&s.createElement("span",{className:"styles__c-avatar-initials___2dEdT"},t),!n&&!t&&g)};y.propTypes={text:u().string,image:u().string,size:u().oneOfType([u().oneOf(["xsmall","small","medium","large","xlarge"]),u().number]),className:u().string,disabled:u().bool,icon:u().oneOfType([u().node,h.iconPropType]),ghost:u().bool,style:u().object},y.defaultProps={text:"",image:"",size:"medium",className:"",disabled:!1,icon:m.A,ghost:!1,style:{}};let b=y},27344:function(e,t,r){"use strict";r.d(t,{Ay:()=>R,MW:()=>D});var n=r(40160),a=r(38917),o=r(95590),i=r(68523),c=r(96540),u=r(83666),s=r(4103),l=r.n(s),d=r(55364),f=r.n(d),p=r(5556),h=r.n(p),m=r(90774),v=r(63583),y=r(49663),b=r(82096),g=["className","classes","icon","severity","block","color","square","action","variant","style","children"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var w={success:c.createElement(m.default,{icon:v.A}),warning:c.createElement(m.default,{icon:function(e){return c.createElement("svg",(0,n.A)({viewBox:"0 0 16 14"},e),c.createElement("path",{d:"M0 13.818h16L8 0 0 13.818zm8.727-2.182H7.273v-1.454h1.454v1.454zm0-2.909H7.273V5.818h1.454v2.91z"}))}}),error:c.createElement(m.default,{icon:function(e){return c.createElement("svg",(0,n.A)({viewBox:"0 0 16 16"},e),c.createElement("path",{d:"M8 0C3.584 0 0 3.584 0 8s3.584 8 8 8 8-3.584 8-8-3.584-8-8-8zm.8 12H7.2v-1.6h1.6V12zm0-3.2H7.2V4h1.6v4.8z"}))}}),info:c.createElement(m.default,{icon:y.A})},k=(0,b.A)({message:{maxWidth:function(e){var t=e.block,r=e.iconSize;return t&&"calc(100% - ".concat(r,"px - 12px)")}}}),O=(0,c.forwardRef)(function(e,t){var r,o=e.className,s=e.classes,d=e.icon,p=e.severity,h=e.block,v=e.color,b=e.square,O=e.action,x=e.variant,E=e.style,C=e.children,S=(0,a.A)(e,g),A=["primary","secondary"].includes(p)?"success":p,P=!1!==d&&(d||["primary","secondary"].includes(p)&&c.createElement(m.default,{icon:y.A})||void 0),M=k({iconSize:(null==d||null==(r=d.props)?void 0:r.size)||16,block:h}),j=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({backgroundColor:v,borderRadius:b&&0},E);return c.createElement(u.A,(0,n.A)({ref:t,style:j,className:l()(o,"cozyStyles-".concat(p,"-").concat(x),{block:h},{action:!!O}),classes:f()(M,s),variant:x,severity:A,iconMapping:w,icon:P,action:O},S),C)});O.displayName="Alert",O.propTypes={className:h().string,icon:h().oneOfType([h().element,h().bool]),severity:h().oneOf(["primary","secondary","success","error","warning","info"]),block:h().bool,color:h().string,square:h().bool,variant:h().oneOf(["standard","outlined","filled"])},O.defaultProps={severity:"primary",block:!1,square:!1,variant:"standard"};let x=r(44866).A;var E=r(60527),C=["children"],S=(0,c.forwardRef)(function(e,t){var r=e.children,o=(0,a.A)(e,C);return c.createElement(E.A,(0,n.A)({ref:t,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o),r)});S.displayName="Snackbar",S.defaultProps={autoHideDuration:2e3};var A=["open","message","title","duration"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=(0,c.createContext)(),D=function(){var e=(0,c.useContext)(j);if(!e)throw Error("useAlert must be used within a AlertProvider");return e},T={title:"",message:"",duration:null,open:!1},I=function(e,t){return function(){return t(M(M({},e),{},{open:!1}))}};let R=c.memo(function(e){var t=e.children,r=(0,c.useState)(T),i=(0,o.A)(r,2),u=i[0],s=i[1],l=u.open,d=u.message,f=u.title,p=u.duration,h=(0,a.A)(u,A),m=(0,c.useMemo)(function(){return{showAlert:function(e){s(M({open:!0},e))}}},[]);return c.createElement(j.Provider,{value:m},t,c.createElement(S,{open:l,autoHideDuration:p,onClose:I(u,s)},c.createElement(O,(0,n.A)({variant:"filled",elevation:6,onClose:I(u,s)},h),f&&c.createElement(x,null,f),d)))})},24242:function(e,t,r){"use strict";r.r(t),r.d(t,{BreakpointsProvider:()=>m,default:()=>y,useBreakpoints:()=>v});var n=r(95590),a=r(7350),o=r.n(a),i=r(5556),c=r.n(i),u=r(96540),s=r(98712),l=function(e){var t=e.parentBasedIframe,r=(0,u.useState)(!1),a=(0,n.A)(r,2),o=a[0],i=a[1],c=t&&(0,s.bF)();return(0,u.useEffect)(function(){var e=function(e){"UI-breakpoints-needParentBreakpoints"===e.data&&i(!0)};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[]),(0,u.useEffect)(function(){c&&window.parent.postMessage("UI-breakpoints-needParentBreakpoints","*")},[c]),{hasIframe:o}},d=function(){return window.frames[1].postMessage("UI-breakpoints-value:".concat(window.innerWidth),"*")},f=function(e){var t=e.hasIframe;(0,u.useEffect)(function(){t&&d()},[t]),(0,u.useEffect)(function(){var e=o()(function(){t&&d()},100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[t])},p=function(e){var t=e.parentBasedIframe,r=(0,u.useState)(),a=(0,n.A)(r,2),o=a[0],i=a[1],c=t&&(0,s.bF)();return(0,u.useEffect)(function(){var e=function(e){var t,r;if(c&&"string"==typeof e.data&&null!=(t=(r=e.data).includes)&&t.call(r,"UI-breakpoints-value:")){var n=e.data.split(":")[1];i((0,s.Ps)(s.Ay,n))}};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}},[c]),{parentBreakpoints:o}},h=(0,u.createContext)(null),m=function(e){var t=e.parentBasedIframe,r=e.children,a=(0,u.useState)((0,s.Ps)(s.Ay)),i=(0,n.A)(a,2),c=i[0],d=i[1];f({hasIframe:l({parentBasedIframe:t}).hasIframe});var m=p({parentBasedIframe:t}).parentBreakpoints;return(0,u.useEffect)(function(){var e=o()(function(){d((0,s.Ps)(s.Ay))},100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),u.createElement(h.Provider,{value:m||c},r)};m.defaultProps={parentBasedIframe:!1},m.propTypes={parentBasedIframe:c().bool};var v=function(){var e=(0,u.useContext)(h);if(null===e)throw Error("Cannot use useBreakpoints without BreakpointsProvider. The component must have a BreakpointsProvider above it.");return e};let y=v},95926:function(e,t,r){"use strict";r.r(t),r.d(t,{useCozyTheme:()=>en,default:()=>eo,CozyThemeContext:()=>er});var n=r(38917),a=r(5556),o=r.n(a),i=r(96540),c=r(40918),u=r.n(c),s=r(40160),l=r(42895),d=r(68523),f=r(4103),p=r.n(f),h=r(64454),m=r(19773),v=function(e,t){return"TwakeTheme--".concat(e,"-").concat(t)},y=function(e,t){var r=v(e,t);return document.getElementsByClassName(r)[0]},b=function(e,t){if(!y(e,t)){var r=document.createElement("div");r.className=v(e,t),r.style.display="none",document.body.prepend(r)}},g=function(e,t,r){var n=y(t,r);return window.getComputedStyle(n).getPropertyValue("--".concat(e)).trim()},_=function(e,t,r){return g(e,t,r)},w=function(e){var t=e.theme,r=e.severity;return{standard:(0,m.X4)(t.palette[r].main,t.palette.background.contrastOpacity),outlined:t.palette[r].main,filled:t.palette[r].main}},k=function(e,t){return{"&-standard":{color:e.palette.text.primary,backgroundColor:w({theme:e,severity:t}).standard,"& $icon":{color:"secondary"===t?e.palette.text.primary:e.palette[t].main},"& $action":{'& button[title="Close"]':{color:e.palette.text.secondary}}},"&-outlined":{color:e.palette.text.primary,border:"1px solid ".concat(w({theme:e,severity:t}).outlined),"& $icon":{color:"secondary"===t?e.palette.text.primary:e.palette[t].main}},"&-filled":{color:e.palette[t].contrastText,backgroundColor:w({theme:e,severity:t}).filled,"& $action":{'& button[title="Close"]':{color:e.palette[t].contrastText}}}}},O=function(e,t){return{color:e.palette.text[t]||e.palette[t].main,borderColor:"primary"===t?e.palette.border.main:(0,m.X4)(e.palette[t].main,e.palette.border.opacity),"&$clickable, &$deletable":{"&:hover, &:focus":{borderColor:"primary"===t?e.palette.border.main:(0,m.X4)(e.palette[t].main,e.palette.border.opacity),backgroundColor:"primary"===t?e.palette.action.hover:(0,m.X4)(e.palette[t].main,e.palette.action.hoverOpacity)}},"& $icon":{color:"primary"===t?e.palette.text.icon:e.palette[t].main,fill:"primary"===t?e.palette.text.icon:e.palette[t].main},"& $deleteIcon":{color:"primary"===t?e.palette.text.secondary:e.palette[t].main,fill:"primary"===t?e.palette.text.secondary:e.palette[t].main},"&$colorPrimary":{padding:"0 1px",color:e.palette[t].contrastText,backgroundColor:e.palette[t].main,"& $icon, & $deleteIcon":{color:e.palette[t].contrastText,fill:e.palette[t].contrastText},"&$disabled":{opacity:1,color:e.palette.text.disabled,backgroundColor:e.palette.action.disabledBackground,"& $icon, & $deleteIcon":{color:e.palette.text.disabled,fill:e.palette.text.disabled}},"&$clickable, &$deletable":{"&:hover, &:focus":{backgroundColor:e.palette[t].dark}}},"&.ghost":{borderWidth:"1px",borderStyle:"dashed","&:not($disabled)":{color:e.palette[t].main,borderColor:(0,m.X4)(e.palette[t].main,e.palette.border.ghostOpacity),backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.ghostOpacity),"& $icon, & $deleteIcon":{color:e.palette[t].main,fill:e.palette[t].main}},"&$clickable, &$deletable":{"&:hover, &:focus":{borderColor:(0,m.X4)(e.palette[t].main,e.palette.border.ghostOpacity),backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.hoverGhostOpacity)}}}}},x=function(e,t){return{color:e.palette[t].main,borderColor:e.palette[t].main,"&:hover":{backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&.ghost":{backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.ghostOpacity),"&:hover":{backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.hoverGhostOpacity),"@media (hover: none)":{backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.ghostOpacity)}}}}},E=function(e,t){return{color:e.palette[t].main,"&:hover":{backgroundColor:(0,m.X4)(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},C=function(e,t){return{color:e.palette[t].contrastText,backgroundColor:e.palette[t].main,"&:hover":{backgroundColor:e.palette[t].dark,"@media (hover: none)":{backgroundColor:e.palette[t].main}}}},S=function(e){return"var(--flagship-".concat(e,"-height, 0px)")},A=r(55364),P=r.n(A),M={light:{normal:{action:{hoverOpacity:.04,selectedOpacity:.08,disabledOpacity:.32,focusOpacity:.12,activatedOpacity:.12,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.32,ghostOpacity:.48},background:{contrastOpacity:.12}},inverted:{action:{hoverOpacity:.08,selectedOpacity:.16,disabledOpacity:.32,focusOpacity:.25,activatedOpacity:.24,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.48,ghostOpacity:.48},background:{contrastOpacity:.24}}},dark:{normal:{action:{hoverOpacity:.08,selectedOpacity:.16,disabledOpacity:.32,focusOpacity:.24,activatedOpacity:.24,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.48,ghostOpacity:.48},background:{contrastOpacity:.24}},inverted:{action:{hoverOpacity:.04,selectedOpacity:.08,disabledOpacity:.32,focusOpacity:.12,activatedOpacity:.12,ghostOpacity:.08,hoverGhostOpacity:.16},border:{opacity:.32,ghostOpacity:.48},background:{contrastOpacity:.12}}}},j=function(e,t){var r={type:e,variant:t,primary:{light:_("primaryColorLight",e,t),main:_("primaryColor",e,t),dark:_("primaryColorDark",e,t),contrastText:_("primaryContrastTextColor",e,t)},secondary:{light:_("secondaryColorLight",e,t),main:_("secondaryColor",e,t),dark:_("secondaryColorDark",e,t),contrastText:_("secondaryContrastTextColor",e,t)},error:{light:_("errorColorLight",e,t),main:_("errorColor",e,t),dark:_("errorColorDark",e,t),contrastText:_("errorColorContrastText",e,t)},warning:{light:_("warningColorLight",e,t),main:_("warningColor",e,t),dark:_("warningColorDark",e,t),contrastText:_("warningColorContrastText",e,t)},success:{light:_("successColorLight",e,t),main:_("successColor",e,t),dark:_("successColorDark",e,t),contrastText:_("successColorContrastText",e,t)},info:{light:_("infoColorLight",e,t),main:_("infoColor",e,t),dark:_("infoColorDark",e,t),contrastText:_("infoColorContrastText",e,t)},text:{primary:_("primaryTextColor",e,t),secondary:_("secondaryTextColor",e,t),disabled:_("disabledTextColor",e,t),hint:_("hintTextColor",e,t),icon:_("iconTextColor",e,t)},grey:{50:_("grey50",e,t),100:_("grey100",e,t),200:_("grey200",e,t),300:_("grey300",e,t),400:_("grey400",e,t),500:_("grey500",e,t),600:_("grey600",e,t),700:_("grey700",e,t),800:_("grey800",e,t),900:_("grey900",e,t),A100:_("greyA100",e,t),A200:_("greyA200",e,t),A400:_("greyA400",e,t),A700:_("greyA700",e,t)},divider:_("dividerColor",e,t),action:{active:_("actionColorActive",e,t),hover:_("actionColorHover",e,t),selected:_("actionColorSelected",e,t),disabled:_("actionColorDisabled",e,t),disabledBackground:_("actionColorDisabledBackground",e,t),focus:_("actionColorFocus",e,t),ghost:_("actionColorGhost",e,t),hoverGhost:_("actionColorHoverGhost",e,t)},border:{main:_("borderMainColor",e,t),disabled:_("borderDisabledColor",e,t),ghost:_("borderGhostColor",e,t),ghostDisabled:_("borderGhostDisabledColor",e,t)},background:{default:_("defaultBackgroundColor",e,t),paper:_("paperBackgroundColor",e,t),contrast:_("contrastBackgroundColor",e,t),selected:"#F5FAFF"}};return P()(r,M[e][t])};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=function(e){var t,r,n,a;return{MuiSelect:{iconOutlined:{top:"auto",right:14},outlined:{"&&":{paddingRight:39}}},MuiOutlinedInput:{root:{borderRadius:4,"&$disabled":{background:e.palette.background.contrast},"&$focused $notchedOutline":{borderWidth:"0.0625rem"},"&$error $notchedOutline":{borderColor:(0,m.X4)(e.palette.error.main,e.palette.border.opacity)},"&$focused&$error $notchedOutline":{borderColor:e.palette.error.main},"&:hover $notchedOutline":{borderColor:e.palette.text.hint},"&:hover&$error $notchedOutline":{borderColor:e.palette.error.main}},notchedOutline:{borderColor:e.palette.border.main,transition:"border-color ".concat(e.transitions.duration.shorter,"ms")},input:{textAlign:"left",padding:"18.5px 16px"},inputMarginDense:{paddingTop:14,paddingBottom:15}},MuiInputLabel:{outlined:{"&$marginDense":{transform:"translate(14px, 14px) scale(1)"},"&:not($shrink)":{"&$error":{color:e.palette.text.secondary}}}},MuiToggleButtonGroup:{groupedHorizontal:{"&.rounded":{marginRight:12,"&:last-child":{marginRight:0},"&:not(:first-child)":{borderTopLeftRadius:"inherit",borderBottomLeftRadius:"inherit",marginLeft:"inherit",borderLeft:"inherit"},"&:not(:last-child)":{"&.rounded":{borderTopRightRadius:"inherit",borderBottomRightRadius:"inherit"}}}}},MuiToggleButton:{root:{borderRadius:0,color:e.palette.text.secondary,border:"1px solid ".concat(e.palette.border.main),padding:15,"&$selected":{color:e.palette.text.primary,backgroundColor:"transparent","&:not($disabled)":{"&.customColor":{"&-primary":{color:e.palette.primary.main}}}},"&$disabled":{color:e.palette.text.disabled},"&.rounded":{border:0,borderRadius:e.shape.borderRadius,padding:"10px 12px","&$selected":{backgroundColor:e.palette.action.selected,"&:not($disabled)":{"&.customColor":{"&-primary":{color:e.palette.text.primary,backgroundColor:(0,m.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{textDecoration:"none",backgroundColor:(0,m.X4)(e.palette.primary.main,e.palette.action.activatedOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}}}},sizeSmall:{padding:11,"&.rounded":{padding:"7px 10px"}},sizeLarge:{padding:19,"&.rounded":{padding:12}}},MuiButton:{root:{borderRadius:100,lineHeight:"normal",padding:"10px 24px","&.customSize":{"&-default":{height:"2.5rem"},"&-auto":{minHeight:"2.5rem"}},"&.ghost":{border:0,"&:hover":{border:0}}},sizeSmall:{padding:"10px 16px","&.customSize":{"&-default":{height:"2.25rem"},"&-auto":{minHeight:"2.25rem"}},"&$text":{padding:"8px 16px"}},sizeLarge:{padding:"14px 32px","&.customSize":{"&-default":{height:"3rem"},"&-auto":{minHeight:"3rem"}},"&$text":{padding:"14px 10px"}},text:{minWidth:"auto",padding:"10px 8px","&:not($disabled)":{"&.customColor":{"&-success":E(e,"success"),"&-warning":E(e,"warning"),"&-error":E(e,"error"),"&-info":E(e,"info")}}},outlined:{"&:not($disabled)":{"&.ghost":{backgroundColor:(0,m.X4)(e.palette.primary.main,.25),"&:hover":{backgroundColor:(0,m.e$)((0,m.X4)(e.palette.primary.main,.25),.1),"@media (hover: none)":{backgroundColor:(0,m.X4)(e.palette.primary.main,.25)}}},"&.customColor":{"&-primary":{color:e.palette.primary.main,borderColor:e.palette.primary.main,"&:hover":{backgroundColor:(0,m.X4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&.ghost":{color:e.palette.text.primary,borderColor:e.palette.background.default}},"&-success":x(e,"success"),"&-warning":x(e,"warning"),"&-error":x(e,"error"),"&-info":x(e,"info")}}},contained:{boxShadow:0,"&:not($disabled)":{"&.customColor":{"&-success":C(e,"success"),"&-warning":C(e,"warning"),"&-error":C(e,"error"),"&-info":C(e,"info")}}},startIcon:{marginLeft:"0 !important"}},MuiTabs:{root:{"&.segmented":{borderRadius:"99px",backgroundColor:e.palette.background.contrast,overflow:"visible",minHeight:"2.5rem","& $indicator":{top:"1px",height:"calc(100% - 2px)",transform:"scale(0.99)",borderRadius:"99px",zIndex:0,boxShadow:e.shadows[1],backgroundColor:e.palette.background.paper},"& $fixed":{overflow:"visible !important"},"& $scrollButtons":{borderRadius:"99px"}}}},MuiTab:{root:T(T({},e.typography.subtitle2),{},{"&:hover":{color:e.palette.text.primary,opacity:1},"&:focus":{color:e.palette.text.primary},"&.narrowed":(0,d.A)({minWidth:"auto"},e.breakpoints.up("sm"),{minWidth:"auto"}),"&.segmented":T(T({},e.typography.body2),{},{textTransform:"initial",zIndex:1,borderRadius:"99px",minHeight:"2.5rem","&$selected":{color:e.palette.text.primary}})})},MuiAccordion:{rounded:{borderRadius:e.shape.borderRadius},root:{boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.08)",borderWidth:"0.0625rem",borderStyle:"solid",borderColor:e.palette.border.main,overflow:"hidden",marginBottom:"1rem"}},MuiAccordionSummary:{expanded:{},root:{backgroundColor:e.palette.grey[100],textTransform:"uppercase",fontWeight:"bold",fontSize:"0.875rem",minHeight:"3.5rem",padding:0,color:e.palette.text.primary,"&$expanded":{minHeight:"3.5rem"}},expandIcon:{order:0,"&&":{marginLeft:"0.3125rem"},transform:"rotate(-90deg)","&$expanded":{marginLeft:"0.3125rem",transform:"rotate(0)"}},content:{margin:"0.75rem 0",paddingLeft:"0.5rem",paddingRight:"0.25rem",order:1,"& > :last-child":{paddingRight:0},"&$expanded":{margin:"0.75rem 0"}}},MuiAccordionDetails:{root:{padding:0,borderTop:"0.0625rem solid ".concat(e.palette.border.main)}},MuiStepConnector:{line:{borderColor:e.palette.divider}},MuiStepContent:{root:{borderColor:e.palette.divider}},MuiStepLabel:{label:T(T({},e.typography.body1),{},{"&$active":T({},e.typography.h6),"&$completed":T({},e.typography.h6)})},MuiListItemIcon:{root:{minWidth:"auto",width:32,height:32,alignItems:"center",justifyContent:"center",color:e.palette.text.icon}},MuiListItem:{root:{gap:16,paddingTop:12,paddingBottom:12,minHeight:56,"&.small":{paddingTop:8,paddingBottom:8,minHeight:48},"&.large":{paddingTop:16,paddingBottom:16,minHeight:64},"&.cozyActionsItem":{wordBreak:"break-word"}},dense:{paddingTop:8,paddingBottom:8,minHeight:48,"&.small":{paddingTop:4,paddingBottom:4,minHeight:40},"&.large":{paddingTop:12,paddingBottom:12,minHeight:56}}},MuiListSubheader:{root:T(T({},e.typography.subtitle2),{},{paddingBottom:8,paddingTop:8,marginBottom:"0.5rem",backgroundColor:e.palette.background.contrast}),sticky:{backgroundColor:e.palette.background.default}},MuiListItemText:{root:{marginTop:1,marginBottom:1},multiline:{marginTop:1,marginBottom:1},secondary:{marginTop:1}},MuiListItemSecondaryAction:{root:{right:0}},MuiMenu:{paper:{maxWidth:320}},MuiMenuItem:{root:(t={whiteSpace:"normal",overflow:"auto",wordBreak:"break-word",paddingTop:4,paddingBottom:4},(0,d.A)(t,e.breakpoints.up("sm"),{minHeight:40}),(0,d.A)(t,"&.cozyActionsItem",{minWidth:256}),(0,d.A)(t,"& .cozyListItemIcon",{width:16,height:16}),t),gutters:{paddingLeft:16,paddingRight:16}},MuiTableHead:{root:{backgroundColor:e.palette.background.paper,"&.virtualized":{"& .virtualizedCheckbox":{opacity:0,"&.checked":{opacity:1},"&:hover":{opacity:1}},"&:hover":{"& .virtualizedCheckbox":{opacity:.5}}}}},MuiTableRow:{root:{"&.disabled":{cursor:"pointer",pointerEvents:"none",opacity:.5},"&.virtualized":{"& .virtualizedCheckbox":{opacity:0,"&.visible":{opacity:.5},"&.checked":{opacity:1},"&:hover":{opacity:1}},"&:hover":{"& .virtualizedCheckbox":{opacity:.5}}}}},MuiTableCell:{root:{padding:"8px 4px"},head:T(T({},e.typography.subtitle2),{},{color:e.palette.text.secondary,lineHeight:1.292}),body:{color:e.palette.text.secondary,height:"2rem"},sizeSmall:T(T({},e.typography.subtitle2),{},{paddingBottom:0,paddingTop:0,outline:"1px solid ".concat(e.palette.background.default),borderBottom:"none",backgroundColor:e.palette.background.default}),paddingCheckbox:{width:32,padding:0},stickyHeader:{backgroundColor:e.palette.background.paper}},MuiTableSortLabel:{root:{padding:"8px 0",color:e.palette.text.secondary},icon:{fontSize:14}},MuiFormLabel:{root:{color:e.palette.text.secondary,"&$disabled&$error":{color:e.palette.text.disabled}}},MuiFormHelperText:{root:{fontStyle:"italic",fontSize:"0.875rem",marginTop:4,"&$disabled&$error":{color:e.palette.text.disabled}}},MuiDialog:{paper:{width:"100%","&.small":(0,d.A)({maxWidth:"480px"},e.breakpoints.down("md"),{margin:"16px",padding:"0 8px 8px",height:"auto",maxHeight:"calc(100% - 32px)",borderRadius:"6px","& .divider--dialog":{marginLeft:"-8px",marginRight:"-8px"}}),"&.medium":{maxWidth:"544px"},"&.large":{maxWidth:"800px"},"&.full":{maxWidth:"100%"}},scrollPaper:{"&.alignTop":{alignItems:"start"}},paperFullScreen:{"&.small":{maxWidth:"100%"},"&.medium":{maxWidth:"100%"},"&.large":{maxWidth:"100%"},"& .cozyDialogActions":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(S("bottom"),")")},'& [class*="DialogCloseButton"]':{transform:"translateY(".concat(S("top"),")")},'& [class*="DialogBackButton"]':{transform:"translateY(".concat(S("top"),")")},".flagship-app & .cozyDialogTitle":{paddingTop:"calc(".concat(S("top")," + 0.75rem) !important")},".flagship-app & .cozyDialogContent":{marginBottom:"".concat(S("bottom")," !important")}}},MuiDialogTitle:{root:T(T({},e.typography.h3),{},(r={boxSizing:"border-box",width:"100%",padding:"1.5rem 2rem"},(0,d.A)(r,e.breakpoints.down("sm"),T(T({},e.typography.h4),{},{padding:"0.75rem 1rem"})),(0,d.A)(r,"&.dialogTitleWithBack",(0,d.A)({paddingLeft:"4rem"},e.breakpoints.down("sm"),{paddingLeft:"3rem"})),(0,d.A)(r,"&.dialogTitleWithClose",(0,d.A)({paddingRight:"4rem"},e.breakpoints.down("sm"),{paddingRight:"3rem"})),(0,d.A)(r,"&.dialogTitleFluid",{paddingTop:0}),r))},MuiDialogContent:{root:(n={padding:"24px 32px 0"},(0,d.A)(n,e.breakpoints.down("sm"),{padding:"24px 16px 0"}),(0,d.A)(n,"&.disableGutters",{padding:0,"& .dialogContentInner":{marginBottom:0},"& .dialogTitleFluidContainer":{marginLeft:0,marginRight:0,marginTop:0}}),(0,d.A)(n,"& .dialogContentInner",{marginBottom:"24px","&.withFluidActions":(0,d.A)({},e.breakpoints.down("sm"),{marginBottom:0,display:"flex",flexDirection:"column",height:"100%","& .dialogContentWrapper":{flexGrow:1,"&:not(.withActions)":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(S("bottom")," + 16px)")}},"& .cozyDialogActions":{paddingBottom:"calc(env(safe-area-inset-bottom) + ".concat(S("bottom")," + 16px)")}}),"& .dialogTitleFluidContainer":(0,d.A)({marginLeft:"-2rem",marginRight:"-2rem"},e.breakpoints.down("sm"),{marginLeft:"-1rem",marginRight:"-1rem",marginTop:"-0.75rem"})}),n)},MuiDialogActions:{root:(a={margin:"16px 32px",padding:0},(0,d.A)(a,e.breakpoints.down("sm"),{margin:"8px 16px","& button":{flexGrow:1}}),(0,d.A)(a,"&.dialogActionsFluid",{margin:"24px 0 0"}),(0,d.A)(a,"&.columnLayout",{display:"flex",flexDirection:"column-reverse","& button":{width:"100%",margin:0,"&:not(:first-child)":{marginBottom:"8px"}}}),(0,d.A)(a,"&:not(.columnLayout) > :not(:first-child):not(:first-child)",{marginLeft:4}),a)},MuiDivider:{inset:{marginLeft:64,"&.divider--dialog":{marginLeft:80}}},MuiAvatarGroup:{root:{"& > div:last-child":{boxShadow:"inset 0px 0px 0px 1px ".concat(e.palette.border.main)}},avatar:{border:"2px solid ".concat(e.palette.background.paper)}},MuiAvatar:{root:{fontWeight:600,"&.size":{"&-xs":{width:16,height:16,fontSize:8,"& svg":{width:10,height:10}},"&-s":{width:24,height:24,fontSize:11,"& svg":{width:16,height:16}},"&-m":{width:32,height:32,fontSize:16,"& svg":{width:20,height:20}},"&-l":{width:48,height:48,fontSize:24,"& svg":{width:28,height:28}},"&-xl":{width:64,height:64,fontSize:32,"& svg":{width:36,height:36}}},"&.disabled":{color:e.palette.primary.contrastText,background:"var(--silver)","& img":{filter:"grayscale(1) brightness(2)",opacity:.5}},"&.displayInline":{display:"inline-flex"},"&.border":{border:"2px solid ".concat(e.palette.background.paper)},"&.innerBorder":{boxShadow:"inset 0px 0px 0px 1px ".concat(e.palette.border.main)}},colorDefault:{backgroundColor:e.palette.background.paper,color:e.palette.text.secondary}},MuiCheckbox:{root:{padding:8,"&.small":{padding:6}},colorSecondary:{"&$checked":{color:e.palette.error.main}}},MuiSwitch:{root:{width:50,height:40,padding:"6px 1px"},checked:{"& + $track$track":{opacity:1}},switchBase:{padding:5,top:5,color:e.palette.text.icon,"& .cozySwitchThumb":{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:"50%",boxShadow:e.shadows[1],backgroundColor:e.palette.common.white},"&$checked":{transform:"translateX(15px)"}},thumb:{width:20,height:20,backgroundColor:e.palette.common.white},track:{width:44,height:"100%",borderRadius:100,opacity:1,backgroundColor:e.palette.text.disabled},colorPrimary:{"&$disabled + $track":{opacity:1,backgroundColor:e.palette.action.disabledBackground}},colorSecondary:{"&$checked":{color:e.palette.success.main,"&$disabled + $track":{opacity:1,backgroundColor:e.palette.action.disabledBackground},"& + $track":{backgroundColor:e.palette.success.main}}},disabled:{"&$checked + $track":{backgroundColor:e.palette.action.disabledBackground},"& .cozySwitchThumb":{backgroundColor:e.palette.background.default},"& $thumb":{backgroundColor:e.palette.common.white}}},MuiLinearProgress:{root:{height:3},colorPrimary:{backgroundColor:e.palette.divider}},MuiTooltip:{tooltip:{backgroundColor:(0,m.X4)(e.palette.grey[800],.9),fontSize:"1rem",lineHeight:"1.3",borderRadius:"4px",padding:"8px 12px"}},MuiIconButton:{root:{color:e.palette.text.secondary,"&.small":{padding:8},"&.medium":{padding:12},"&.large":{padding:16},"&.xlarge":{padding:20},"&.dialogIconButton":{backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:e.palette.action.selected}},"&.cozyStyles":{"&-error":{color:e.palette.error.main,"&:hover":{backgroundColor:(0,m.X4)(e.palette.error.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}},MuiBadge:{badge:{boxSizing:"content-box",padding:0,borderRadius:"100%","&.badgeBorder":{border:"2px solid ".concat(e.palette.background.paper)},"&.badgeSizeLarge":{fontSize:".6875rem",height:"1rem",minWidth:"1rem"},"&.badgeSizeMedium":{height:".875rem",minWidth:".875rem",fontSize:".625rem"},"&.badgeSizeSmall":{height:".75rem",minWidth:".75rem",fontSize:".5rem"}},colorPrimary:{"&.colorSuccess":{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText},"&.colorWarning":{backgroundColor:e.palette.warning.main,color:e.palette.warning.contrastText},"&.colorInfo":{backgroundColor:e.palette.info.main,color:e.palette.info.contrastText}},anchorOriginTopRightRectangular:{transform:"scale(1) translate(37%, -37%)"},anchorOriginBottomRightRectangular:{transform:"scale(1) translate(37%, 37%)"},anchorOriginBottomLeftRectangular:{transform:"scale(1) translate(-37%, 37%)"},anchorOriginTopLeftRectangular:{transform:"scale(1) translate(-37%, -37%)"},dot:{borderRadius:"100%",padding:0,"&.badgeSizeLarge":{height:".625rem",minWidth:".625rem"},"&.badgeSizeMedium":{height:".5rem",minWidth:".5rem"},"&.badgeSizeSmall":{height:".375rem",minWidth:".375rem"}}},MuiRadio:{root:{padding:"12px","&$disabled svg":{borderRadius:"50%",backgroundColor:e.palette.background.contrast,fill:e.palette.border.disabled},"&:not($checked) svg":{fill:e.palette.border.main}},colorPrimary:{"&$checked svg":{fill:e.palette.primary.main},"&$disabled&$checked svg":{fill:e.palette.text.disabled}},colorSecondary:{"&$checked svg":{fill:e.palette.error.main},"&$disabled&$checked svg":{fill:e.palette.text.disabled}}},MuiChip:{root:{"&.noLabel":{width:"32px","& $label":{display:"none"},"& $icon":{margin:0}},"&.customColor":{"&-primary":O(e,"primary"),"&-success":O(e,"success"),"&-error":O(e,"error"),"&-warning":O(e,"warning"),"&-info":O(e,"info")}}},MuiAlert:{root:{padding:"8px 16px","&.cozyStyles":{"&-primary":k(e,"primary"),"&-secondary":k(e,"secondary"),"&-success":k(e,"success"),"&-error":k(e,"error"),"&-warning":k(e,"warning"),"&-info":k(e,"info")},"& $icon":{paddingTop:"9px"},"&.block":{flexWrap:"wrap","& $action":{width:"100%",paddingLeft:0,justifyContent:"end"}}},message:{flex:"auto",display:"flex",alignItems:"center",flexWrap:"wrap"},action:{marginRight:"-8px"}},MuiAlertTitle:{root:{width:"100%",fontWeight:"bold"}},MuiSnackbarContent:{root:{padding:"4px 12px",backgroundColor:e.palette.grey[600]}},MuiFab:{root:{borderRadius:28,width:96,height:96,color:e.palette.text.primary,backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:(0,m.e$)(e.palette.background.paper,.05)},"@media (hover: none)":{backgroundColor:e.palette.background.paper}},primary:{color:e.palette.primary.dark,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:(0,m.e$)(e.palette.primary.light,.05),"@media (hover: none)":{backgroundColor:e.palette.primary.light}}},extended:{borderRadius:16,height:56,minWidth:56,padding:"0 20px","&$sizeSmall":{borderRadius:16,height:42,minWidth:42,padding:"0 12px"},"&$sizeMedium":{borderRadius:16,height:48,minWidth:48,padding:"0 16px"}},sizeSmall:{borderRadius:12},sizeMedium:{borderRadius:16,width:56,height:56}},MuiMobileStepper:{root:{background:"transparent",height:40,padding:0},dot:{backgroundColor:"transparent",width:"10px",height:"10px",margin:"0 3px",border:"1px solid ".concat(e.palette.border.main),boxSizing:"border-box"},dotActive:{border:"none"}}}},R=function(e){return P()(I(e),{MuiLinearProgress:{colorPrimary:{backgroundColor:"rgba(255,255,255,0.2)"},colorSecondary:{backgroundColor:"rgba(255,255,255,0.2)"}},MuiSnackbarContent:{root:{backgroundColor:e.palette.grey[200]}},MuiTabs:{root:{"&.segmented":{"& $indicator":{backgroundColor:e.palette.primary.main}}}},MuiTab:{root:{"&.segmented":{"&$selected":{color:e.palette.primary.contrastText}}}},MuiSwitch:{switchBase:{color:e.palette.grey[100]},colorPrimary:{"&$checked":{"& + $track":{backgroundColor:e.palette.success.dark}}},colorSecondary:{"&$checked":{"& + $track":{backgroundColor:e.palette.success.dark}}}}})},N=r(56100),L=r(48603);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var z=B({shape:{borderRadius:6},breakpoints:{values:{xs:0,sm:480,md:768,lg:1023,xl:1200}},zIndex:{modal:"var(--zIndex-modal)"},textShadows:["none","0px 2px 8px rgba(29, 33, 42, 0.16), 0px 0px 1px rgba(29, 33, 42, 0.48)"]},(0,N.A)()&&{transitions:{create:function(){return"none"}}}),H=function(e,t){b(e,t);var r,n=j(e,t),a=(0,L.A)(B(B({},z),{},{typography:{fontFamily:"var(--primaryFont)",h1:{fontSize:45,fontWeight:600,lineHeight:1.087},h2:{fontSize:32,fontWeight:600,lineHeight:1.313},h3:{fontSize:24,fontWeight:600,lineHeight:1.167},h4:{fontSize:22,fontWeight:600,lineHeight:1.167},h5:{fontSize:16,fontWeight:500,lineHeight:1.313,letterSpacing:"0.15px"},h6:{fontSize:14,fontWeight:500,lineHeight:1.313,letterSpacing:"0.1px"},subtitle1:{fontSize:14,fontWeight:500,lineHeight:1.358,letterSpacing:"0.1px"},subtitle2:{fontSize:14,fontWeight:600,lineHeight:1.334,letterSpacing:"0.25px"},body1:{fontSize:16,fontWeight:400,lineHeight:1.313,letterSpacing:"-0.15px"},body2:{fontSize:14,fontWeight:500,lineHeight:1.313,letterSpacing:"0.25px"},button:{fontSize:16,fontWeight:500,lineHeight:1.313,textTransform:"inherit"},caption:{fontSize:12,fontWeight:500,lineHeight:1.313,letterSpacing:"0.5px"},overline:{fontSize:11,fontWeight:500,lineHeight:"16px",letterSpacing:"0.5px",textTransform:"inherit"}},shadows:(0,h.A)(Array(26)).map(function(r,n){return _("shadow".concat(n),e,t)}),type:e,variant:t,palette:n})),o={light:{normal:I(r=a),inverted:R(r)},dark:{normal:I(r),inverted:R(r)}}[e][t];return B(B({},a),{},{overrides:o})},U={light:{normal:H("light","normal"),inverted:H("light","inverted")},dark:{normal:H("dark","normal"),inverted:H("dark","inverted")}},V=function(e,t){var r,n=null==(r=U[e])?void 0:r[t];if(!n){var a=Object.keys(U).join(", ");throw Error("[MuiCozyTheme] Unknown theme variant: ".concat(t,". Possible variants are ").concat(a))}return n},Z=r(65429),G=function(e){var t=e.type,r=e.variant,n=e.children,a=V(t,r);return i.createElement(Z.A,{theme:a},n)};G.propTypes={type:o().oneOf(["light","dark"]),variant:o().oneOf(["normal","inverted"])},G.defaultProps={type:"light",variant:"normal"};var q=r(56424);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=function(e){var t,r=e.variant,n=e.className,a=e.ignoreItself,o=e.settingsThemeType,c=e.children,u=localStorage.getItem("ui-theme-type"),s=localStorage.getItem("ui-theme-variant"),l=(0,q.A)("(prefers-color-scheme: dark)",Q(Q({},void 0),{},{noSsr:!0}))?"dark":"light",f=["light","dark"].includes(o)?o:void 0,h=u||f||l,m=s||r;return i.createElement(er.Provider,{value:{type:h,variant:m,isLight:"light"===h}},i.createElement(G,{type:h,variant:m},i.createElement("div",{className:p()(n,(t={},(0,d.A)(t,"TwakeTheme--".concat(h,"-").concat(m),!!m),(0,d.A)(t,"u-dc",a),t))},c)))};J.propTypes={variant:o().oneOf(["normal","inverted"]),ignoreItself:o().bool,className:o().string,settingsThemeType:o().oneOf(["light","dark","auto"]),children:o().node};var Y="io.cozy.settings",$=l.fetchPolicies.olderThan(3e5),K=["data"];let X=function(e){var t={definition:(0,l.Q)(Y).getById("io.cozy.settings.instance"),options:{as:"".concat(Y,"/io.cozy.settings.instance"),fetchPolicy:$,singleDocData:!0}},r=(0,l.useQuery)(t.definition,t.options),a=r.data,o=(0,n.A)(r,K);return(0,l.isQueryLoading)(o)&&!(0,l.hasQueryBeenLoaded)(o)?null:i.createElement(J,(0,s.A)({},e,{settingsThemeType:null==a?void 0:a.colorScheme}))};var ee=r(18340),et=["ignoreCozySettings"],er=(0,i.createContext)(),en=function(){var e=(0,i.useContext)(er);return e||(u()("error","`CozyThemeContext` is missing. `useCozyTheme()` must be used within a `<CozyTheme>`. `light normal` is returned as fallback value."),{type:"light",variant:"normal",isLight:!0})},ea=function(e){var t=e.ignoreCozySettings,r=(0,n.A)(e,et),a=t||ee.H6?J:X;return i.createElement(a,r)};ea.propTypes={variant:o().oneOf(["normal","inverted"]),ignoreItself:o().bool,ignoreCozySettings:o().bool,className:o().string,children:o().node},ea.defaultProps={variant:"normal",ignoreCozySettings:!1,ignoreItself:!0};let eo=ea},99919:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(14682),a=r.n(n),o=r(96540),i=r(33616),c=r(31266);let u=function(e){return function(){var t=((0,i.useI18n)()||{lang:i.DEFAULT_LANG}).lang;return(0,o.useMemo)(function(){var r=new(a())({locale:i.DEFAULT_LANG,phrases:e[i.DEFAULT_LANG]});if(t&&t!==i.DEFAULT_LANG)try{r.locale(t),r.extend(e[t])}catch(e){console.warn('The dict phrases for "'.concat(t,"\" can't be loaded"))}var n=(0,c.WU)(t);return{t:r.t.bind(r),f:n,lang:t}},[t])}}},31266:function(e,t,r){"use strict";r.d(t,{WU:()=>eo});var n=r(68523);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){o(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function c(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function u(e){o(1,arguments);var t=i(e),r=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(7*(r<1)+r-1)),t.setUTCHours(0,0,0,0),t}function s(e){o(1,arguments);var t=i(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=u(n),c=new Date(0);c.setUTCFullYear(r,0,4),c.setUTCHours(0,0,0,0);var s=u(c);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}var l={};function d(e,t){o(1,arguments);var r,n,a,u,s,d,f,p,h=c(null!=(r=null!=(n=null!=(a=null!=(u=null==t?void 0:t.weekStartsOn)?u:null==t||null==(s=t.locale)||null==(d=s.options)?void 0:d.weekStartsOn)?a:l.weekStartsOn)?n:null==(f=l.locale)||null==(p=f.options)?void 0:p.weekStartsOn)?r:0);if(!(h>=0&&h<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=i(e),v=m.getUTCDay();return m.setUTCDate(m.getUTCDate()-(7*(v<h)+v-h)),m.setUTCHours(0,0,0,0),m}function f(e,t){o(1,arguments);var r,n,a,u,s,f,p,h,m=i(e),v=m.getUTCFullYear(),y=c(null!=(r=null!=(n=null!=(a=null!=(u=null==t?void 0:t.firstWeekContainsDate)?u:null==t||null==(s=t.locale)||null==(f=s.options)?void 0:f.firstWeekContainsDate)?a:l.firstWeekContainsDate)?n:null==(p=l.locale)||null==(h=p.options)?void 0:h.firstWeekContainsDate)?r:1);if(!(y>=1&&y<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(v+1,0,y),b.setUTCHours(0,0,0,0);var g=d(b,t),_=new Date(0);_.setUTCFullYear(v,0,y),_.setUTCHours(0,0,0,0);var w=d(_,t);return m.getTime()>=g.getTime()?v+1:m.getTime()>=w.getTime()?v:v-1}function p(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return(e<0?"-":"")+r}let h=function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return p("yy"===t?n%100:n,t.length)},m=function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):p(r+1,2)},v=function(e,t){var r=t.length;return p(Math.floor(e.getUTCMilliseconds()*Math.pow(10,r-3)),t.length)};function y(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;return 0===o?r+String(a):r+String(a)+(t||"")+p(o,2)}function b(e,t){return e%60==0?(e>0?"-":"+")+p(Math.abs(e)/60,2):g(e,t)}function g(e,t){var r=Math.abs(e);return(e>0?"-":"+")+p(Math.floor(r/60),2)+(t||"")+p(r%60,2)}let _={G:function(e,t,r){var n=+(e.getUTCFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear();return r.ordinalNumber(n>0?n:1-n,{unit:"year"})}return h(e,t)},Y:function(e,t,r,n){var a=f(e,n),o=a>0?a:1-a;return"YY"===t?p(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):p(o,t.length)},R:function(e,t){return p(s(e),t.length)},u:function(e,t){return p(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return p(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return p(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return m(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return p(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var a=function(e,t){o(1,arguments);var r=i(e);return Math.round((d(r,t).getTime()-(function(e,t){o(1,arguments);var r,n,a,i,u,s,p,h,m=c(null!=(r=null!=(n=null!=(a=null!=(i=null==t?void 0:t.firstWeekContainsDate)?i:null==t||null==(u=t.locale)||null==(s=u.options)?void 0:s.firstWeekContainsDate)?a:l.firstWeekContainsDate)?n:null==(p=l.locale)||null==(h=p.options)?void 0:h.firstWeekContainsDate)?r:1),v=f(e,t),y=new Date(0);return y.setUTCFullYear(v,0,m),y.setUTCHours(0,0,0,0),d(y,t)})(r,t).getTime())/6048e5)+1}(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):p(a,t.length)},I:function(e,t,r){var n=function(e){o(1,arguments);var t=i(e);return Math.round((u(t).getTime()-(function(e){o(1,arguments);var t=s(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),u(r)})(t).getTime())/6048e5)+1}(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):p(n,t.length)},d:function(e,t,r){var n,a;return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):(n=e,a=t,p(n.getUTCDate(),a.length))},D:function(e,t,r){var n=function(e){o(1,arguments);var t=i(e),r=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((r-t.getTime())/864e5)+1}(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):p(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return p(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return p(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return p(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,a=e.getUTCHours();switch(n=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,a=e.getUTCHours();switch(n=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n,a,o=e.getUTCHours()%12;return 0===o&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return n=e,a=t,p(n.getUTCHours()%12||12,a.length)},H:function(e,t,r){var n,a;return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):(n=e,a=t,p(n.getUTCHours(),a.length))},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):p(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return(0===n&&(n=24),"ko"===t)?r.ordinalNumber(n,{unit:"hour"}):p(n,t.length)},m:function(e,t,r){var n,a;return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):(n=e,a=t,p(n.getUTCMinutes(),a.length))},s:function(e,t,r){var n,a;return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):(n=e,a=t,p(n.getUTCSeconds(),a.length))},S:function(e,t){return v(e,t)},X:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return b(a);case"XXXX":case"XX":return g(a);default:return g(a,":")}},x:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return b(a);case"xxxx":case"xx":return g(a);default:return g(a,":")}},O:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y(a,":");default:return"GMT"+g(a,":")}},z:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y(a,":");default:return"GMT"+g(a,":")}},t:function(e,t,r,n){return p(Math.floor((n._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,r,n){return p((n._originalDate||e).getTime(),t.length)}};var w=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},k=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};let O={p:k,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return w(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",w(a,t)).replace("{{time}}",k(o,t))}};var x=["D","DD"],E=["YY","YYYY"];function C(e,t,r){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var S={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};let A=function(e,t,r){var n,a=S[e];if(n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix)if(r.comparison&&r.comparison>0)return"in "+n;else return n+" ago";return n};function P(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var M={date:P({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:P({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:P({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},j={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};let D=function(e,t,r,n){return j[e]};function T(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):a;n=e.formattingValues[o]||e.formattingValues[a]}else{var i=e.defaultWidth,c=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[c]||e.values[i]}return n[e.argumentCallback?e.argumentCallback(t):t]}}var I={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:T({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:T({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:T({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:T({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:T({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function R(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var c=i[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(u)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}(u,function(e){return e.test(c)}):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}(u,function(e){return e.test(c)});return r=e.valueCallback?e.valueCallback(s):s,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(c.length)}}}function N(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(a.length)}}}var L={ordinalNumber:N({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:R({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:R({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:R({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:R({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:R({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};let F={code:"en-US",formatDistance:A,formatLong:M,formatRelative:D,localize:I,match:L,options:{weekStartsOn:0,firstWeekContainsDate:1}};var B=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H=/^'([^]*?)'?$/,U=/''/g,V=/[a-zA-Z]/;let Z={code:"en-GB",formatDistance:A,formatLong:{date:P({formats:{full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:P({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:P({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:D,localize:I,match:L,options:{weekStartsOn:1,firstWeekContainsDate:4}};var G={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},q={date:P({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:P({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:P({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},W={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd’hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};let Q={code:"fr",formatDistance:function(e,t,r){var n,a=G[e];if(n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),null!=r&&r.addSuffix)if(r.comparison&&r.comparison>0)return"dans "+n;else return"il y a "+n;return n},formatLong:q,formatRelative:function(e,t,r,n){return W[e]},localize:{ordinalNumber:function(e,t){var r,n=Number(e),a=null==t?void 0:t.unit;return 0===n?"0":(r=1===n?a&&["year","week","hour","minute","second"].includes(a)?"\xe8re":"er":"\xe8me",n+r)},era:T({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:T({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:T({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:T({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:T({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},match:{ordinalNumber:N({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:R({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:R({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:R({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:R({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:R({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};var J={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},Y={date:P({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:P({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:P({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},K={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};let X={code:"es",formatDistance:function(e,t,r){var n,a=J[e];if(n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix)if(r.comparison&&r.comparison>0)return"en "+n;else return"hace "+n;return n},formatLong:Y,formatRelative:function(e,t,r,n){return 1!==t.getUTCHours()?K[e]:$[e]},localize:{ordinalNumber:function(e,t){return Number(e)+"\xba"},era:T({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:T({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:T({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:T({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:T({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:N({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:R({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:R({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:R({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:R({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:R({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};var ee=r(33616);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var er=function(e){switch(e){case"en":return Z;case"fr":return Q;case"es":return X;default:throw Error("Locale not found")}},en=function(e){return'The "'.concat(e,"\" locale isn't supported by date-fns or has not been included in the build. Check if you have configured a ContextReplacementPlugin that is too restrictive.")},ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.DEFAULT_LANG;try{return er(e)}catch(t){console.warn(en(e))}try{return er(t)}catch(e){console.warn(en(t))}},eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.DEFAULT_LANG;return function(r,u){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=ea(e,t),f=r&&"string"==typeof r?new Date(r):r;try{return function(e,t,r){o(2,arguments);var n,u,s,d,f,p,h,m,v,y,b,g,w,k,S,A,P,M,j,D=String(t),T=null!=(u=null!=(s=null==r?void 0:r.locale)?s:l.locale)?u:F,I=c(null!=(d=null!=(f=null!=(p=null!=(h=null==r?void 0:r.firstWeekContainsDate)?h:null==r||null==(m=r.locale)||null==(v=m.options)?void 0:v.firstWeekContainsDate)?p:l.firstWeekContainsDate)?f:null==(y=l.locale)||null==(b=y.options)?void 0:b.firstWeekContainsDate)?d:1);if(!(I>=1&&I<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=c(null!=(g=null!=(w=null!=(k=null!=(S=null==r?void 0:r.weekStartsOn)?S:null==r||null==(A=r.locale)||null==(P=A.options)?void 0:P.weekStartsOn)?k:l.weekStartsOn)?w:null==(M=l.locale)||null==(j=M.options)?void 0:j.weekStartsOn)?g:0);if(!(R>=0&&R<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw RangeError("locale must contain localize property");if(!T.formatLong)throw RangeError("locale must contain formatLong property");var N=i(e);if(!function(e){return o(1,arguments),(!!function(e){return o(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)||"number"==typeof e)&&!isNaN(Number(i(e)))}(N))throw RangeError("Invalid time value");var L=((n=new Date(Date.UTC(N.getFullYear(),N.getMonth(),N.getDate(),N.getHours(),N.getMinutes(),N.getSeconds(),N.getMilliseconds()))).setUTCFullYear(N.getFullYear()),N.getTime()-n.getTime()),Z=function(e,t){return o(2,arguments),function(e,t){return o(2,arguments),new Date(i(e).getTime()+c(t))}(e,-c(t))}(N,L),G={firstWeekContainsDate:I,weekStartsOn:R,locale:T,_originalDate:N};return D.match(z).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,O[t])(e,T.formatLong):e}).join("").match(B).map(function(n){if("''"===n)return"'";var a,o,i=n[0];if("'"===i){return(o=(a=n).match(H))?o[1].replace(U,"'"):a}var c=_[i];if(c)return null!=r&&r.useAdditionalWeekYearTokens||-1===E.indexOf(n)||C(n,t,String(e)),null!=r&&r.useAdditionalDayOfYearTokens||-1===x.indexOf(n)||C(n,t,String(e)),c(Z,n,T.localize,G);if(i.match(V))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n}).join("")}(f,u,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({locale:d},s))}catch(e){console.error("Error in initFormat",e)}}}},39149:function(e,t,r){"use strict";r.d(t,{T:()=>c});var n=r(33616),a=r(31266),o=r(57771),i=function(e){var t=document.querySelector("[role=application]"),r={dataset:{cozy:JSON.stringify({locale:localStorage.getItem("lang")||e})}},n=JSON.parse((t||r).dataset.cozy).locale;return/^\{\{\..*\}\}$/.test(n)?e:n},c=function(e,t,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.DEFAULT_LANG,u=e||i(c),s=(0,o.i9)(u,t,r,c),l=(0,a.WU)(u);return{t:s.t.bind(s),f:l,lang:u}}},33616:function(e,t,r){"use strict";r.r(t),r.d(t,{DEFAULT_LANG:()=>b,I18n:()=>w,I18nContext:()=>g,createUseI18n:()=>v.A,default:()=>k,extend:()=>h.X$,initTranslation:()=>h.i9,translate:()=>m.A,useExtendI18n:()=>y.default,useI18n:()=>_});var n=r(25533),a=r(48061),o=r(40321),i=r(20469),c=r(56654),u=r(77946),s=r(68523),l=r(5556),d=r.n(l),f=r(96540),p=r(31266),h=r(57771),m=r(66550),v=r(99919),y=r(56207),b="en",g=f.createContext(),_=function(){var e=(0,f.useContext)(g);if(!e)throw Error("`I18nContext` is missing. `useI18n()` must be used within a `<I18n>`");return e},w=function(e){(0,i.A)(l,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,u.A)(l);return e=t?Reflect.construct(r,arguments,(0,u.A)(this).constructor):r.apply(this,arguments),(0,c.A)(this,e)});function l(e){var t;return(0,n.A)(this,l),t=r.call(this,e),(0,s.A)((0,o.A)(t),"UNSAFE_componentWillReceiveProps",function(e){e.lang!==t.props.lang&&t.init(e)}),t.init(t.props),t}return(0,a.A)(l,[{key:"init",value:function(e){var t=e.polyglot,r=e.lang,n=e.dictRequire,a=e.context,o=e.defaultLang;this.translator=t||(0,h.i9)(r,n,a,o),this.format=(0,p.WU)(r,o),this.t=this.translator.t.bind(this.translator),this.contextValue=this.getContextValue(e)}},{key:"getContextValue",value:function(e){return{t:this.t,f:this.format,polyglot:(e||this.props).polyglot||this.translator,lang:(e||this.props).lang}}},{key:"getChildContext",value:function(){return this.contextValue}},{key:"render",value:function(){return f.createElement(g.Provider,{value:this.contextValue},this.props.children)}}]),l}(f.Component);w.propTypes={lang:d().string.isRequired,polyglot:d().object,dictRequire:d().func,context:d().string,defaultLang:d().string},w.defaultProps={defaultLang:b},w.childContextTypes={t:d().func,f:d().func,polyglot:d().object,lang:d().string};let k=w},66550:function(e,t,r){"use strict";r.d(t,{A:()=>i});var n=r(40160),a=r(96540),o=r(33616);let i=function(){return function(e){var t=(0,a.forwardRef)(function(t,r){var i=(0,a.useContext)(o.I18nContext);return a.createElement(e,(0,n.A)({},t,{ref:r,t:i&&i.t,f:i&&i.f,lang:i&&i.lang}))});return t.displayName="withI18n(".concat(e.displayName||e.name,")"),t}}},57771:function(e,t,r){"use strict";r.d(t,{X$:()=>u,i9:()=>c});var n,a=r(14682),o=r.n(a),i=r(33616),c=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DEFAULT_LANG;if(n=new(o())({phrases:t(a),locale:a}),e&&e!==a)try{var c=t(e);n.extend(c),n.locale(e)}catch(t){console.warn('The dict phrases for "'.concat(e,"\" can't be loaded"))}if(r)try{var u=t(e,r);n.extend(u)}catch(t){console.warn("The context ".concat(r," cannot be loaded for lang ").concat(e))}return n},u=function(e,t){var r;return null==(r=t||n)?void 0:r.extend(e)}},56207:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(95590),a=r(14682),o=r.n(a),i=r(96540),c=r(33616),u=r(57771);let s=function(e){var t=(0,c.useI18n)(),r=t.lang,a=t.polyglot,s=(0,i.useState)(""),l=(0,n.A)(s,2),d=l[0],f=l[1];if(e&&r&&a&&d!==r){var p=new(o())({phrases:e[r],locale:r});(0,u.X$)(a.phrases,p),(0,u.X$)(p.phrases,a),f(r)}}},28485:function(e,t,r){"use strict";r.d(t,{A:()=>u});var n=r(68523),a=r(40160),o=r(96540),i=r(33616);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let u=function(e){return function(t){var r="function"==typeof e?e:function(t){return e[t]},u=(0,o.forwardRef)(function(e,n){var c=(0,i.useI18n)().lang;return o.createElement(i.I18n,{dictRequire:r,lang:c},o.createElement(t,(0,a.A)({},e,{ref:n})))});return u.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.propTypes||{}),u.displayName="withOnlyLocales(".concat(t.displayName||t.name,")"),u}}},52245:function(e,t,r){"use strict";r.r(t),r.d(t,{MuiThemeProvider:()=>n.sA,ServerStyleSheets:()=>n.bW,StylesProvider:()=>n.W$,ThemeProvider:()=>n.NP,alpha:()=>n.X4,createGenerateClassName:()=>n.$D,createMuiTheme:()=>n.Dk,createStyles:()=>n.rU,createTheme:()=>n.an,darken:()=>n.e$,decomposeColor:()=>n.rP,duration:()=>n.p0,easing:()=>n.cz,emphasize:()=>n.tL,fade:()=>n.Rv,getContrastRatio:()=>n.eM,getLuminance:()=>n.J1,hexToRgb:()=>n.E2,hslToRgb:()=>n.YL,jssPreset:()=>n._4,lighten:()=>n.a,makeStyles:()=>n.n9,recomposeColor:()=>n.X0,responsiveFontSizes:()=>n.Q1,rgbToHex:()=>n.Ob,styled:()=>n.I4,unstable_createMuiStrictModeTheme:()=>n.qP,useTheme:()=>n.DP,withStyles:()=>n.Xy,withTheme:()=>n.SL});var n=r(63898)},71583:function(e,t,r){e=r.nmd(e),(function(){var t,n,a,o,i,c,u,s,l,d,f,p,h,m,v,y,b,g,_,w,k,O,x,E,C,S,A,P,M,j,D=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return -1},T=[].slice;(null!==e?e.exports:void 0)?(j=r(90031),P=r(37141)):(j=window.utf8,P=window.quotedPrintable),M={begin:/^BEGIN:VCARD$/i,end:/^END:VCARD$/i,beginNonVCard:/^BEGIN:(.*)$/i,endNonVCard:/^END:(.*)$/i,simple:/^(version|fn|n|title|org|note|categories|bday|url|nickname|uid|tz|lang|geo|gender|kind)(;CHARSET=UTF-8)?(;ENCODING=QUOTED-PRINTABLE)?\:(.+)$/i,composedkey:/^item(\d{1,2})\.([^\:]+):(.+)$/,complex:/^([^\:\;]+);([^\:]+)\:(.+)$/,property:/^(.+)=(.+)$/,extended:/^X-([^\:]+)\:(.+)$/i,applebday:/^(version|fn|n|title|org|note|categories|bday|url);value=date:(.+)$/i,android:/^x-android-custom\:(.+)$/i},o=["skype","skype-username","aim","msn","yahoo","qq","google-talk","gtalk","icq","jabber","sip","gad"],c=["phonetic-first-name","phonetic-middle-name","phonetic-last-name"],t=["custom","assistant","brother","child","domestic partner","father","friend","manager","mother","parent","partner","referred by","relative","sister","spouse"],n=["fn","bday","org","title","url","note","nickname","uid"],a=["tz","lang","geo","gender","kind"],u={twitter:"http://twitter.com/",facebook:"http://facebook.com/",flickr:"http://www.flickr.com/photos/",linkedin:"http://www.linkedin.com/in/",myspace:"http://www.myspace.com/",sina:"http://weibo.com/n/"},i={msn:"MSN:msnim",skype:"Skype:skype","google-talk":"GoogleTalk:xmpp",googletalk:"GoogleTalk:xmpp",gtalk:"GoogleTalk:xmpp",facebook:"Facebook:xmpp",aim:"AIM:aim",yahoo:"Yahoo:aim",icq:"ICQ:aim",jabber:"Jabber:xmpp",qq:"QQ:x-apple",gadugadu:"GaduGadu:x-apple"},A=function(e){var t,r,n,a;return null!==(n=/^(\d{4})[-\/](\d{2})[-\/](\d{2})$/.exec(e))&&(a=parseInt(n[1]),r=parseInt(n[2]-1),(e=new Date(a,r,t=parseInt(n[3]))).getDate()===t&&e.getMonth()===r&&e.getFullYear()===a)},l=function(e){return null!=e?""+e.charAt(0).toUpperCase()+e.toLowerCase().slice(1):""},S=function(e,r,n){var a,o;if("anniversary"===(r=r.toLowerCase().replace("_"," ")))a=1;else if("died"===r)a=2;else{for(a=0,o=t.length;a<o&&t[a]!==r;)a++;a===o&&(r=null)}return r?"X-ANDROID-CUSTOM:vnd.android.cursor.item/"+e+";"+n+";"+a+";;;;;;;;;;;;;":null},(s=function(){function e(e){this.reset(),e&&this.read(e)}return e.prototype.reset=function(){return this.contacts=[],this.currentContact=null,this.currentDatapoint=null,this.currentIndex=null,this.currentVersion="3.0"},e.prototype.storeCurrentDatapoint=function(){if(this.currentDatapoint)return this.currentContact.datapoints.push(this.currentDatapoint),this.currentDatapoint=null},e.prototype.addDatapoint=function(e,t,r){return this.storeCurrentDatapoint(),this.currentContact.datapoints.push({name:e,type:t,value:r})},e.prototype.addTypeProperty=function(e,t){return null!=e.type&&"internet"!==e.type?e.type=""+e.type+" "+t:e.type=t},e.prototype.storeCurrentContact=function(){var t;return null==this.currentContact.n&&null==this.currentContact.fn&&console.error("There should be at least a N field or a FN field"),(null==this.currentContact.n||""===(t=this.currentContact.n)||";;;;"===t)&&(this.currentContact.n=e.fnToN(this.currentContact.fn).join(";")),(null==this.currentContact.fn||""===this.currentContact.fn)&&(this.currentContact.fn=e.nToFN(this.currentContact.n)),this.contacts.push(this.currentContact)},e.prototype.read=function(e){var t,r,n,a,o;for(r=0,a=this.splitLines(e),o=[],n=a.length;r<n;r++)t=a[r],o.push(this.handleLine(t));return o},e.prototype.splitLines=function(e){var t,r,n;return n=e.split(/\r?\n/),r=[],t=!1,n.forEach(function(e){var n;if(null!=e&&""!==e)if(" "!==e[0]&&!t)return/^(.+)ENCODING=QUOTED-PRINTABLE(.+)=$/i.test(e)&&(t=!0,e=e.slice(0,-1)),r.push(e);else return(" "===e[0]&&(e=e.slice(1)),t&&("="===e[e.length-1]?e=e.slice(0,-1):t=!1),(n=r.length-1)>=0)?r[n]=r[n]+e:r.push(e)}),r},e.prototype.handleLine=function(e){if(this.nonVCard){if(M.endNonVCard.test(e)&&e.match(M.endNonVCard)[1]===this.nonVCard)return this.nonVCard=!1}else if(M.begin.test(e))return this.currentContact={datapoints:[]};else if(M.beginNonVCard.test(e))return this.nonVCard=e.match(M.beginNonVCard)[1];else if(M.end.test(e))return this.storeCurrentDatapoint(),this.storeCurrentContact();else if(M.simple.test(e))return this.handleSimpleLine(e);else if(M.applebday.test(e))return this.handleSimpleLine(e,!0);else if(M.android.test(e))return this.handleAndroidLine(e);else if(M.extended.test(e))return this.handleExtendedLine(e);else if(M.composedkey.test(e))return this.handleComposedLine(e);else if(M.complex.test(e))return this.handleComplexLine(e)},e.prototype.handleSimpleLine=function(t,r){var o,i,c,u,s,l,d,f;if(null==r&&(r=!1),r?((d=t.match(M.applebday))[0],o=d[1],s=d[2]):((f=t.match(M.simple))[0],o=f[1],f[2],u=f[3],s=f[4]),null!=u&&(s=e.unquotePrintable(s)),s=e.unescapeText(s),"version"===(o=o.toLowerCase()))return this.currentversion=s;if("rev"===o)return this.currentContact.revision=s;if("categories"===o)return this.currentContact.tags=s.split(/(?!\\),/).map(e.unescapeText);if("n"===o)return 5===(i=s.split(/(?!\\);/)).length?this.currentContact.n=s:(c=["","","","",""],i.length<=5?i.forEach(function(e,t){return c[t]=e}):6===i.length?(c.push(""),i.forEach(function(e,t){return c[t]=e})):c[2]=i.join(" "),this.currentContact.n=c.join(";"));if(D.call(n,o)>=0)if("org"!==o)return this.currentContact[o.toLowerCase()]=s;else return 2===(l=s.split(";")).length?(this.currentContact.org=l[0],this.currentContact.department=l[1]):this.currentContact.org=s;else if(D.call(a,o)>=0)return this.currentContact[o.toLowerCase()]=s},e.prototype.handleExtendedLine=function(e){var t,r,n,a,i,u,s,l,d,f,p;if((p=e.match(M.extended))[0],r=p[1],l=p[2],null!=r){if(r=r.toLowerCase(),D.call(o,r)>=0)return this.currentContact.datapoints.push({name:"chat",type:r,value:l});if(D.call(c,r)>=0)return r=r.replace(/-/g," "),this.currentContact.datapoints.push({name:"about",type:r,value:l});if(0===r.indexOf("socialprofile")){for(d=0,n=r.split(";"),t={},f=n.length;d<f;d++)t[(a=n[d].split("="))[0].replace("x-","")]=a[1];if(t.user||(t.user=l),t.type&&t.user)return i=t.type,u=t.user,this.currentContact.datapoints.push({name:"social",type:i,value:u})}else if("activity-alert"===r)return(s=l.split(",")).length>1&&(i=null!=(i=s.splice(0,1)[0])?i.split("=")[1].replace(/\\/g,""):void 0,l=s.join(",")),this.currentContact.datapoints.push({name:"alerts",type:i,value:l})}},e.prototype.handleAndroidLine=function(e){var r,n,a,o,i;switch((o=e.match(M.android))[0],(r=o[1].split(";"))[0].replace("vnd.android.cursor.item/","")){case"contact_event":return a=r[1],n="0"===(i=r[2])||"2"===i?r[3]:"1"===r[2]?"anniversary":"birthday",this.currentContact.datapoints.push({name:"about",type:n,value:a});case"relation":return a=r[1],"custom"===(n=t[+r[2]])&&(n=r[3]),this.currentContact.datapoints.push({name:"relation",type:n,value:a});case"nickname":return a=r[1],this.currentContact.nickname=a}},e.prototype.handleCurrentSpecialCases=function(){var e,t,r;if(t=null!=(e=this.currentDatapoint)?e.type:void 0,D.call(o,t)>=0&&(e.name="chat",null!=e["x-service-type"]&&(e.value=e.value.split(":")[1],r=e["x-service-type"],0>D.call(o,r)&&(e.type=e["x-service-type"]))),(null!=e?e.name:void 0)==="impp")return e.name="chat",e.value=e.value.split(":")[1]},e.prototype.handleComposedLine=function(t){var r,n,a,o,i,c;return((c=t.match(M.composedkey))[0],r=c[1],a=c[2],i=c[3],null!==this.currentIndex&&this.currentIndex===r&&this.currentDatapoint||(this.handleCurrentSpecialCases(),this.storeCurrentDatapoint(),this.currentDatapoint={}),this.currentIndex=r,n=(a=a.split(";"))[0],o=a.splice(1),1===(i=i.split(";")).length&&(i=i[0].replace("_$!<","").replace(">!$_","").replace("\\:",":")),"x-ablabel"===(n=n.toLowerCase())||"x-abadr"===n)?this.addTypeProperty(this.currentDatapoint,i.toLowerCase()):(this.handleProperties(this.currentDatapoint,o),"x-abdate"===n&&(n="about"),"x-abrelatednames"===n&&(n="relation"),"adr"===n&&(i=Array.isArray(i)?i.map(e.unescapeText):["","",e.unescapeText(i),"","","",""]),this.currentDatapoint.name=n.toLowerCase(),this.currentDatapoint.value=i)},e.prototype.handleComplexLine=function(t){var r,n,a,o;return((o=t.match(M.complex))[0],r=o[1],n=o[2],a=o[3],this.storeCurrentDatapoint(),this.currentDatapoint={},1===(a=a.split(";")).length&&(a=a[0]),"photo"===(r=r.toLowerCase()))?(this.currentContact.photo=a,this.currentDatapoint=null):"email"!==r&&"tel"!==r&&"adr"!==r&&"url"!==r?this.currentDatapoint=null:(this.currentDatapoint.name=r,"adr"===r&&(a=Array.isArray(a)?a.map(e.unescapeText):["","",e.unescapeText(a),"","","",""]),this.handleProperties(this.currentDatapoint,n.split(";")),"quoted-printable"===this.currentDatapoint.encoding&&(a=Array.isArray(a)?a.map(e.unquotePrintable):e.unquotePrintable(a),delete this.currentDatapoint.encoding),this.currentDatapoint.value=a)},e.prototype.handleProperties=function(e,t){var r,n,a,o,i,c,u,s;for(c=0,s=[],u=t.length;c<u;c++)(r=(o=t[c]).match(M.property))?(r[0],n=r[1],i=(i=r[2]).toLowerCase(),null!=(a=e[n.toLowerCase()])&&"internet"!==a&&(i=""+a+" "+i)):"PREF"===o?(n="pref",i=!0,null!=e.type?e.type=""+e.type+" "+o.toLowerCase():e.type=o.toLowerCase()):(n="type",i=null!=e.type?""+e.type+" "+o.toLowerCase():o.toLowerCase()),"type"===n&&"pref"===i&&(n="pref",i=!0),s.push(e[n.toLowerCase()]=i);return s},e}()).unquotePrintable=function(e){e=e||"";try{return j.decode(P.decode(e))}catch(t){return e}},s.escapeText=function(e){return null==e?e:e.replace(/([,;\\])/ig,"\\$1").replace(/\n/g,"\\n")},s.unescapeText=function(e){return null==e?e:e.replace(/\\n/ig,"\n").replace(/\\([,;\\])/ig,"$1")},s.toVCF=function(e,t,r){var n,a,o,i,c,u,l,S,A,P,M,j,D,T;for(o in null==t&&(t=null),null==r&&(r="google"),i=0,(l=["BEGIN:VCARD"]).push("VERSION:3.0"),E(l,e),null!=e.revision&&k(l,e),null!=e.n&&b(l,e),h(l,e),y(l,e),null!=e.tags&&e.tags.length>0&&x(l,e),D=e.datapoints)if(null!=(n=D[o]).name&&null!=n.value){if(c=n.name.toUpperCase(),S=(null!=(T=n.type)?T.toUpperCase():void 0)||null,P=Array.isArray(P=n.value)?P.map(s.escapeText):s.escapeText(P),a="",null!=S)for(M=0,j=(A=S.split(" ")).length;M<j;M++)a+=";TYPE="+A[M];switch(u={out:l,type:S,formattedType:a,value:P,mode:r,itemCounter:i,key:c},c){case"ABOUT":i=d(u);break;case"OTHER":i=g(u);break;case"CHAT":i=m(u);break;case"URL":i=C(u);break;case"RELATION":i=w(u);break;case"ADR":i=f(u);break;case"SOCIAL":i=O(u);break;case"ALERTS":i=p(u);break;default:i=v(u)}}return null!=t&&_(l,t),l.push("END:VCARD"),l.join("\n")+"\n"},E=function(e,t){var r,n;if(null!=(r=(null!=(n=t.carddavuri)?n.substring(0,n.length-4):void 0)||t.id))return e.push("UID:"+r)},h=function(e,t){var r,a,o,i,c;for(o=0,c=[],i=n.length;o<i;o++)(a=t[r=n[o]])&&(a=s.escapeText(a)),"org"===r&&null!=t.department&&t.department.length>0&&(a=""+a+";"+s.escapeText(t.department)),a?c.push(e.push(""+r.toUpperCase()+":"+a)):c.push(void 0);return c},y=function(e,t){var r,n,o,i,c;for(o=0,c=[],i=a.length;o<i;o++)n=t[r=a[o]],"geo"===r?n&&(n="geo:"+n[0]+":"+n[1]):n&&(n=s.escapeText(n)),n?c.push(e.push(""+r.toUpperCase()+":"+n)):c.push(void 0);return c},b=function(e,t){return e.push("N:"+t.n)},k=function(e,t){return"date"==typeof t.revision?e.push("REV:"+t.revision.toISOString()):e.push("REV:"+t.revision)},x=function(e,t){var r;return r=t.tags.map(s.escapeText).join(","),e.push("CATEGORIES:"+r)},d=function(e){var t,r,n,a,o,i;return a=e.out,o=e.type,t=e.formattedType,i=e.value,n=e.mode,r=e.itemCounter,"DIED"===o||"ANNIVERSARY"===o?"android"===n?a.push(S("contact_event",o,i)):(r++,a.push("item"+r+".X-ABDATE:"+i),t=l(o),a.push("item"+r+".X-ABLabel:"+t)):(null!=o?o.indexOf("PHONETIC"):void 0)===0?a.push("X-"+(null!=o?o.replace(/\s/g,"-"):void 0)+":"+i):A(i)?(r++,a.push("item"+r+".X-ABDATE:"+i),t=l(o),a.push("item"+r+".X-ABLabel:"+t)):a.push("X-"+o+":"+i),r},g=function(e){var t,r,n,a;return n=e.out,e.type,t=e.formattedType,a=e.value,e.mode,r=e.itemCounter,n.push("X-EVENT"+t+":"+a),r},m=function(e){var t,r,n,a,o,c,u;return a=e.out,c=e.type,e.formattedType,u=e.value,n=e.mode,t=e.itemCounter,"SKYPE"===c&&"android"===n?a.push("X-SKYPE-USERNAME:"+u):"ios"===n?(t++,r=null!=(o=i[null!=c?c.toLowerCase():void 0])?"item"+t+".IMPP;"+("X-SERVICE-TYPE="+o+":")+u:"item"+t+".IMPP;"+("X-SERVICE-TYPE="+(c=l(null!=c?c.toLowerCase():void 0))+":x-apple:")+u,a.push(r)):a.push("X-"+c+":"+u),t},C=function(e){var t,r,n,a,o,i;return a=e.out,o=e.type,t=e.formattedType,i=e.value,n=e.mode,r=e.itemCounter,null!=o?(r++,a.push("item"+r+".URL:"+i),"PROFILE"!==o&&"BLOG"!==o?(t=l(null!=o?o.toLowerCase():void 0),"ios"===n&&("HOME"===o||"WORK"===o||"OTHER"===o)?a.push("item"+r+".X-ABLabel:_$!<"+t+">!$_"):"ios"===n?a.push("item"+r+".X-ABLabel:"+t):a.push("item"+r+".X-ABLabel:_$!<"+t+">!$_")):a.push("item"+r+".X-ABLabel:"+o)):a.push("URL:"+i),r},w=function(e){var t,r,n,a,o,i,c;return o=e.out,i=e.type,t=e.formattedType,c=e.value,a=e.mode,r=e.itemCounter,"android"===a?(n=S("relation",i,c))&&o.push(n):(r++,o.push("item"+r+".X-ABRELATEDNAMES:"+c),t=l(null!=i?i.toLowerCase():void 0),o.push("item"+r+".X-ABLabel:_$!<"+t+">!$_")),r},f=function(e){var t,r,n,a,o;return a=e.out,e.type,t=e.formattedType,o=e.value,e.mode,r=e.itemCounter,n=e.key,Array.isArray(o)&&(o=o.join(";")),a.push(""+n+t+":"+o),r},O=function(e){var t,r,n,a,o,i,c,s;return n=e.out,o=e.type,t=e.formattedType,s=e.value,e.mode,r=e.itemCounter,e.key,i=s,null!=(c=u[null!=o?o.toLowerCase():void 0])?i=""+c+s:t=";TYPE="+(t=l(null!=o?o.toLowerCase():void 0)),a="X-SOCIALPROFILE"+t+";x-user="+s+":"+i,n.push(a),r},p=function(e){var t,r,n,a,o;return r=e.out,a=e.type,e.formattedType,o=e.value,e.mode,t=e.itemCounter,e.key,n="X-ACTIVITY-ALERT:type="+(a=null!=a?a.toLowerCase():void 0)+"\\,"+(o=o.replace(/\\\\\\/g,"\\")),r.push(n),t},v=function(e){var t,r,n,a,o;return a=e.out,e.type,t=e.formattedType,o=e.value,e.mode,r=e.itemCounter,n=e.key,a.push(""+n+t+":"+o),r},_=function(e,t){var r;return r=t.match(/.{1,75}/g).join("\n "),e.push("PHOTO;ENCODING=B;TYPE=JPEG;VALUE=BINARY:\n "+r)},s.nToFN=function(e){var t,r,n;return t=(e=e||[])[0],r=e[1],n=e[2],[e[3],r,n,t,e[4]].filter(function(e){return null!=e&&""!==e}).join(" ")},s.fnToN=function(e){return["",e=e||"","","",""]},s.fnToNLastnameNFirstname=function(e){var t,r,n,a;return t=(a=(e=e||"").split(" "))[0],r=3<=a.length?T.call(a,1,n=a.length-1):(n=1,[]),[a[n++],t,r.join(" "),"",""]},s.adrArrayToString=function(e){var t,r,n,a;return e=e||[],n=(a=function(e){return(e=e.filter(function(e){return null!=e&&""!==e})).join(", ")})(e.slice(0,3)),t=a(e.slice(3,7)),r=n,""!==t&&(r+="\n"+t),r},s.adrStringToArray=function(e){return["","",e=e||"","","","",""]},(null!==e?e.exports:void 0)?e.exports=s:window.VCardParser=s}).call(this)},11732:function(e){!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var a="";for(var o in e)t.call(e,o)&&e[o]&&(a=n(a,o));return a}(o)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return r}):window.classNames=r}()},16920:function(e){"use strict";e.exports=["apps","context"]},44513:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Show menu drawer","profile":"Profile","appearance":"Appearance","plans":"Plans","permissions":"Permissions","connectedDevices":"Connected devices","connections":"Connections","storage":"Storage","storage_phrase":"%{diskUsage} GB of %{diskQuota} GB used","help":"FAQ","contact":"Contact us","logout":"Log out","soon":"soon","termsOfService":"Terms of Service","legalNotice":"Legal notice","error_UnavailableStack":"The stack is unreachable (connection timed-out).","error_UnauthorizedStack":"Some permissions are missing, the application can\'t access the requested resource on the stack.","no_apps":"No applications found on the Cozy.","menu":{"apps":"Apps","settings":"Settings","home_mobile":"Back to dashboard...","home":"Back to dashboard","home_title":"Home"},"Categories":{"cozy":"Cozy apps","partners":"Partners apps","ptnb":"expPTNB","others":"Other apps"},"permsModal":{"title":"Access your whole Cozy from your application","description":"Authorize %{app} to display your Cozy applications on this device","button":"Authorize access"},"comingSoon":{"store":{"title":"The Store application will be available soon in your Cozy.","description":"Thanks to Cozy Store you will be able to install the applications that you want in your Cozy."}},"banner":{"tos-updated":{"description":"To comply with the GDPR, Cozy Cloud has updated its Terms of Services that have taken effect on May 25, 2018","CTA":"Read now"},"moved":{"description":"The Cozy has been moved to a new address"}},"userMenu":{"addAccount":"Add account","manageProfile":"Manage profile","createBusinessAccount":"Create business account","storage":"Storage","storageAvailable":"%{smart_count} GB available","logOut":"Log out"}}')},75522:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Mostrar el menu lateral","profile":"Perfil","connectedDevices":"Aparatos conectados","storage":"Espacio en el disco","storage_phrase":"%{diskUsage} Go de %{diskQuota} Go","view_offers":"Ver ofertas","view_my_offer":"Mi oferta","help":"Ayuda","logout":"Desconectar","soon":"pronto","error_UnavailableStack":"Conexi\xf3n a la stack imposible ( se agot\xf3 el tiempo para la conexi\xf3n ).","error_UnauthorizedStack":"Faltan algunos permisos, la aplicaci\xf3n no puede acceder a los recursos solicitados.","no_apps":"No se han encontrado aplicaciones en su Cozy.","menu":{"apps":"Aplicaciones","settings":"Par\xe1metros","home_mobile":"Regresar a Inicio...","home":"Regresar a Inicio","home_title":"Inicio"},"Categories":{"cozy":"Aplicaciones Cozy","partners":"Aplicaciones de asociados","ptnb":"expPTNB","others":"Otras aplicaciones"},"permsModal":{"title":"Acceder a su Cozy desde su aplicaci\xf3n","description":"Autorizar a %{app} para mostrar sus aplicaciones Cozy en este aparato","button":"Autorizar el acceso"},"comingSoon":{"store":{"title":"En breve, la aplicaci\xf3n Store estar\xe1 disponible en su Cozy","description":"Gracias a Cozy Store usted podr\xe1 instalar en su Cozy las aplicaciones que desee."}},"banner":{"tos-updated":{"description":"Para cumplir con el RGPD, Cozy Cloud ha actualizado sus Condiciones de utilizaci\xf3n que entraron en vigor desde el 25 de mayo de 2018.","CTA":"Leerlo ahora"}}}')},46522:function(e){"use strict";e.exports=JSON.parse('{"drawer":"Afficher le menu lat\xe9ral","profile":"Profil","appearance":"Apparence","plans":"Offres et options","permissions":"Permissions","connectedDevices":"Appareils connect\xe9s","connections":"Connexions","storage":"Stockage","storage_phrase":"%{diskUsage} Go sur %{diskQuota} Go","help":"Manuel d\'utilisation","contact":"Nous contacter","logout":"D\xe9connexion","soon":"\xe0 venir","termsOfService":"Conditions g\xe9n\xe9rales d’utilisation","legalNotice":"Mentions l\xe9gales","error_UnavailableStack":"Connexion \xe0 la stack impossible (connection timed-out)","error_UnauthorizedStack":"Des permissions sont manquante, l\'application ne peut acc\xe9der aux ressources demand\xe9es.","no_apps":"Pas d\'applications Cozy trouv\xe9es.","menu":{"apps":"Applications","settings":"Param\xe8tres","home_mobile":"Retour vers le tableau de bord...","home":"Retour vers le tableau de bord","home_title":"Accueil "},"Categories":{"cozy":"Apps Cozy","partners":"Exp\xe9rimentation MesInfos","ptnb":"Exp\xe9rimentation Carnet du logement","others":"Autres apps"},"permsModal":{"title":"Acc\xe9der \xe0 ton Cozy \xe0 partir de ton application","description":"Autoriser %{app} \xe0 afficher les applications de ton Cozy sur cet appareil","button":"Autoriser l\'acc\xe8s"},"comingSoon":{"store":{"title":"L\'application Store sera bient\xf4t disponible dans votre Cozy","description":"Gr\xe2ce \xe0 cozy Store vous pourrez installer les applications que vous souhaitez sur votre Cozy."}},"banner":{"tos-updated":{"description":"Dans le cadre du RGPD, Cozy Cloud met \xe0 jour ses Conditions G\xe9n\xe9rales d\'Utilisation qui ont pris effet le 25 Mai 2018","CTA":"Lire maintenant"},"moved":{"description":"Ce Cozy a \xe9t\xe9 d\xe9plac\xe9 vers une nouvelle adresse"}},"userMenu":{"addAccount":"Ajouter un compte","manageProfile":"G\xe9rer mon profil","createBusinessAccount":"Cr\xe9er un compte entreprise","storage":"Stockage","storageAvailable":"%{smart_count} Go disponible","logOut":"Se d\xe9connecter"}}')},81722:function(e){"use strict";e.exports=JSON.parse('{"qualifications":[{"label":"identity_photo","purpose":"attestation","subjects":["identity"]},{"label":"national_id_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"passport","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"residence_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"immigration","subjects":["permit","identity"]},{"label":"family_record_book","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"birth_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity","family"]},{"label":"driver_license","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["permit","driving"]},{"label":"other_identity_document","purpose":"attestation","subjects":["identity"]},{"label":"wedding","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"pacs","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"divorce","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"large_family_card","purpose":"attestation","sourceCategory":"transport","subjects":["right"]},{"label":"caf","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["right"]},{"label":"other_family_document","subjects":["family"]},{"label":"diploma","purpose":"attestation","sourceCategory":"education","subjects":["achievement"]},{"label":"work_contract","purpose":"contract","sourceCategory":"employer","subjects":["work","employment"]},{"label":"pay_sheet","purpose":"attestation","sourceCategory":"employer","subjects":["work","revenues"]},{"label":"fidelity_card","sourceCategory":"shopping"},{"label":"single_parent_benefit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["revenues"]},{"label":"transport_card","sourceCategory":"transport","subjects":["vehicule"]},{"label":"electoral_card","sourceCategory":"gov"},{"label":"employment_center_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["employment"]},{"label":"unemployment_benefit","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"pension","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"other_revenue","purpose":"attestation","subjects":["revenues"]},{"label":"gradebook","purpose":"report","sourceCategory":"education","subjects":["history"]},{"label":"student_card","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","employment","education"]},{"label":"resume","purpose":"description","subjects":["employment"]},{"label":"motivation_letter","purpose":"description","subjects":["employment"]},{"label":"other_work_document","purpose":"employment"},{"label":"health_book","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"health_certificate","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"pregnancy_medical_certificate","purpose":"attestation","sourceCategory":"health","subjects":["pregnancy"]},{"label":"work_disability_recognition","purpose":"attestation","sourceCategory":"health","subjects":["right"]},{"label":"national_health_insurance_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["insurance"]},{"label":"national_health_insurance_right_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["right","insurance"]},{"label":"health_insurance_card","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"health","subjects":["insurance"]},{"label":"prescription","purpose":"attestation","sourceCategory":"health","subjects":["right","medecine"]},{"label":"health_invoice","purpose":"invoice","sourceCategory":"health"},{"label":"other_health_document","subjects":["health"]},{"label":"vehicle_registration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["vehicule","identity","right"]},{"label":"car_insurance","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"transport","subjects":["insurance","car"]},{"label":"mechanic_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"transport_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"other_transport_document","sourceCategory":"transport"},{"label":"house_sale_agreeement","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"real_estate_tax","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["tax","house"]},{"label":"building_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["permit","house"]},{"label":"technical_diagnostic_record","purpose":"report","sourceCategory":"real_estate","subjects":["compliance","house"]},{"label":"lease","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"rent_receipt","purpose":"invoice","sourceCategory":"real_estate","subjects":["house"]},{"label":"house_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance","house"]},{"label":"work_quote","purpose":"description","sourceCategory":"building","subjects":["building","house"]},{"label":"work_invoice","purpose":"invoice","sourceCategory":"building","subjects":["building","house"]},{"label":"other_house_document","subjects":["house"]},{"label":"phone_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"mobile"},{"label":"isp_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"internet","subjects":["subscription"]},{"label":"telecom_invoice","purpose":"invoice","sourceCategory":"telecom"},{"label":"energy_invoice","purpose":"invoice","sourceCategory":"energy"},{"label":"water_invoice","purpose":"invoice","sourceCategory":"water"},{"label":"energy_contract","purpose":"contract","sourceCategory":"energy"},{"label":"appliance_invoice","purpose":"invoice","sourceCategory":"retail"},{"label":"web_service_invoice","purpose":"invoice","sourceCategory":"web"},{"label":"restaurant_invoice","purpose":"invoice","sourceCategory":"alimentation"},{"label":"grocery_invoice","purpose":"invoice","sourceCategory":"shopping"},{"label":"other_invoice","purpose":"invoice"},{"label":"tax_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["tax"]},{"label":"tax_return","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_notice","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_timetable","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"other_tax_document","subjects":["tax"]},{"label":"bank_details","purpose":"attestation","sourceCategory":"bank","subjects":["bank_account"]},{"label":"bank_statement","purpose":"report","sourceCategory":"bank","subjects":["history"]},{"label":"loan_agreement","purpose":"contract","sourceCategory":"bank"},{"label":"other_bank_document","sourceCategory":"bank"},{"label":"receipt","purpose":"report"},{"label":"payment_proof_family_allowance","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["subvention"]},{"label":"school_attendance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","education"]},{"label":"school_insurance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["education","insurance"]},{"label":"unfit_for_habitation_declaration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["compliance"]},{"label":"accommodation_proof","purpose":"attestation","sourceCategory":"individual","subjects":["address"]},{"label":"citizen_registration_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["achievement","education"]},{"label":"personal_sporting_licence","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"other_activity_document","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"real_estate_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance"]},{"label":"person_insurance","purpose":"contract","sourceCategory":"insurance","subjects":["insurance"]},{"label":"other_administrative_document"},{"label":"expense_claim","purpose":"invoice"},{"label":"fine","purpose":"invoice","sourceCategory":"gov"},{"label":"condition_report","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"note_identity_document"},{"label":"note_family_document"},{"label":"note_work_document"},{"label":"note_health_document"},{"label":"note_house_document"},{"label":"note_transport_document"},{"label":"note_activity_document"},{"label":"note_finance"},{"label":"note_invoice"}],"purposeKnownValues":["attestation","contract","invoice","report","description","evaluation","employment"],"sourceCategoryKnownValues":["bank","insurance","retail","telecom","energy","water","health","gov","association","education","employer","transport","goods","alimentation","building","real_estate","web","individual","shopping"],"sourceSubCategoryKnownValues":["civil_registration","immigration","transport","family","tax","health","real_estate","mobile","internet","citizen","sport"],"subjectsKnownValues":["identity","permit","family","address","driving","right","subvention","achievement","degree","work","employment","revenues","history","insurance","medical_act","vehicule","car","moto","truck","boat","subscription","buy/sale","house","compliance","building","food","real_estate","tax","address","education","statement","course","internet","phone","vaccine","capacity","health","drugs","child","pregnancy","bank_account"]}')},5573:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"Emirian","AF":"Afghan","AG":"Antiguans","AL":"Albanian","AM":"Armenian","AO":"Angolan","AR":"Argentinean","AT":"Austrian","AU":"Australian","AX":"\xc5land Islands","AZ":"Azerbaijani","BA":"Bosnian - Herzegovinian","BB":"Barbadian","BD":"Bangladeshi","BE":"Belgian","BF":"Burkinabe","BG":"Bulgarian","BH":"Bahraini","BI":"Burundian","BJ":"Beninese","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Bruneian","BO":"Bolivian","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazilian","BS":"Bahamian","BT":"Bhutanese","BV":"Bouvet Island","BW":"Batswana","BY":"Belarusian","BZ":"Belizean","CA":"Canadian","CC":"Cocos (Keeling) Islands","CD":"Congolese (Democratic Republic of the Congo)","CF":"Central African","CG":"Congolese (Republic of the Congo)","CH":"Swiss","CI":"Ivorian","CK":"Cook Islands","CL":"Chilean","CM":"Cameroonian","CN":"Chinese","CO":"Colombian","CR":"Costa Rican","CU":"Cuban","CV":"Cape Verdean","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cypriot","CZ":"Czech","DE":"German","DJ":"Djibouti","DK":"Danish","DM":"Dominican (Dominica)","DO":"Dominican (Dominican Republic)","DZ":"Algerian","EC":"Ecuadorean","EE":"Estonian","EG":"Egyptian","EH":"Western Sahara","ER":"Eritrean","ES":"Spanish","ET":"Ethiopian","FI":"Finnish","FJ":"Fijian","FK":"Falkland Islands (Malvinas)","FM":"Micronesian","FO":"Faroe Islands","FR":"French","GA":"Gabonese","GB":"British","GD":"Grenadian","GE":"Georgian","GF":"French (French Guiana)","GG":"Guernsey","GH":"Ghanaian","GI":"Gibraltar","GL":"Greenland","GM":"Gambian","GN":"Guinean","GP":"Guadeloupe","GQ":"Equatorial Guinean","GR":"Greek","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemalan","GU":"Guam","GW":"Guinea-Bissauan","GY":"Guyanese","HK":"Hong Kong","HM":"Heard Island and Mcdonald Islands","HN":"Honduran","HR":"Croatian","HT":"Haitian","HU":"Hungarian","ID":"Indonesian","IE":"Irish","IL":"Israeli","IM":"Manx","IN":"Indian","IO":"British Indian Ocean Territory","IQ":"Iraqi","IR":"Iranian","IS":"Icelandic","IT":"Italian","JE":"Jersey","JM":"Jamaican","JO":"Jordanian","JP":"Japanese","KE":"Kenyan","KG":"Kyrgyz","KH":"Cambodian","KI":"I-Kiribati","KM":"Comoran","KN":"Kittian and Nevisian","KP":"North Korean","KR":"South Korean","KW":"Kuwaiti","KY":"Cayman Islands","KZ":"Kazakhstani","LA":"Laotian","LB":"Lebanese","LC":"Saint Lucian","LI":"Liechtensteiner","LK":"Sri Lankan","LR":"Liberian","LS":"Mosotho","LT":"Lithuanian","LU":"Luxembourger","LV":"Latvian","LY":"Libyan","MA":"Moroccan","MC":"Monacan","MD":"Moldovan","ME":"Montenegrin","MF":"Saint Martin (French part)","MG":"Malagasy","MH":"Marshallese","MK":"Macedonian","ML":"Malian","MM":"Burmese","MN":"Mongolian","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritanian","MS":"Montserrat","MT":"Maltese","MU":"Mauritian","MV":"Maldivan","MW":"Malawian","MX":"Mexican","MY":"Malaysian","MZ":"Mozambican","NA":"Namibian","NC":"New Caledonia","NE":"Nigerien","NF":"Norfolk Island","NG":"Nigerian","NI":"Nicaraguan","NL":"Dutch","NO":"Norwegian","NP":"Nepalese","NR":"Nauruan","NU":"Niue","NZ":"New Zealander","OM":"Omani","PA":"Panamanian","PE":"Peruvian","PF":"French (French Polynesia)","PG":"Papua New Guinea","PH":"Filipino","PK":"Pakistani","PL":"Polish","PM":"Saint Pierre and Miquelon","PN":"Pitcairn","PR":"Puerto Rico","PS":"Palestinian Territory, Occupied","PT":"Portuguese","PW":"Palauan","PY":"Paraguayan","QA":"Qatari","RE":"Reunion","RO":"Romanian","RS":"Serbian","RU":"Russian","RW":"Rwandan","SA":"Saudi","SB":"Solomon Islander","SC":"Seychellois","SD":"Sudanese","SE":"Swedish","SG":"Singaporean","SH":"Saint Helena","SI":"Slovenian","SJ":"Svalbard and Jan Mayen","SK":"Slovakian","SL":"Sierra Leonean","SM":"San Marinese","SN":"Senegalese","SO":"Somali","SR":"Surinamer","SS":"South Sudan","ST":"Sao Tomean","SV":"Salvadoran","SX":"Sint Maarten (Dutch part)","SY":"Syrian","SZ":"Swazi","TC":"Turks and Caicos Islands","TD":"Chadian","TF":"French (French Southern Territories)","TG":"Togolese","TH":"Thai","TJ":"Tajik","TK":"Tokelau","TL":"East Timorese","TM":"Turkmenistan","TN":"Tunisian","TO":"Tongan","TR":"Turkish","TT":"Trinidadian or Tobagonian","TV":"Tuvaluan","TW":"Taiwanese","TZ":"Tanzanian","UA":"Ukrainian","UG":"Ugandan","UM":"United States Minor Outlying Islands","US":"American","UY":"Uruguayan","UZ":"Uzbekistani","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuelan","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnamese","VU":"Vanuatu","WF":"Welsh","WS":"Samoan","YE":"Yemenite","YT":"Mayotte","ZA":"South African","ZM":"Zambian","ZW":"Zimbabwean"},"countries":{"AD":"Andorra","AE":"United Arab Emirates","AF":"Afghanistan","AG":"Antigua and Barbuda","AL":"Albania","AM":"Armenia","AO":"Angola","AR":"Argentina","AT":"Austria","AU":"Australia","AX":"\xc5land Islands","AZ":"Azerbaijan","BA":"Bosnia and Herzegovina","BB":"Barbados","BD":"Bangladesh","BE":"Belgium","BF":"Burkina Faso","BG":"Bulgaria","BH":"Bahrain","BI":"Burundi","BJ":"Benin","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Brunei Darussalam","BO":"Bolivia","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazil","BS":"Bahamas","BT":"Bhutan","BV":"Bouvet Island","BW":"Botswana","BY":"Belarus","BZ":"Belize","CA":"Canada","CC":"Cocos (Keeling) Islands","CD":"Democratic Republic of the Congo","CF":"Central African Republic","CG":"Republic of the Congo","CH":"Switzerland","CI":"Ivory Coast","CK":"Cook Islands","CL":"Chile","CM":"Cameroon","CN":"People\'s Republic of China","CO":"Colombia","CR":"Costa Rica","CU":"Cuba","CV":"Cape Verde","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cyprus","CZ":"Czech Republic","DE":"Germany","DJ":"Djibouti","DK":"Denmark","DM":"Dominica","DO":"Dominican Republic","DZ":"Algeria","EC":"Ecuador","EE":"Estonia","EG":"Egypt","EH":"Western Sahara","ER":"Eritrea","ES":"Spain","ET":"Ethiopia","FI":"Finland","FJ":"Fiji","FK":"Falkland Islands (Malvinas)","FM":"Micronesia, Federated States of","FO":"Faroe Islands","FR":"France","GA":"Gabon","GB":"United Kingdom","GD":"Grenada","GE":"Georgia","GF":"French Guiana","GG":"Guernsey","GH":"Ghana","GI":"Gibraltar","GL":"Greenland","GM":"Gambia","GN":"Guinea","GP":"Guadeloupe","GQ":"Equatorial Guinea","GR":"Greece","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemala","GU":"Guam","GW":"Guinea-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"Heard Island and McDonald Islands","HN":"Honduras","HR":"Croatia","HT":"Haiti","HU":"Hungary","ID":"Indonesia","IE":"Ireland","IL":"Israel","IM":"Isle of Man","IN":"India","IO":"British Indian Ocean Territory","IQ":"Iraq","IR":"Iran","IS":"Iceland","IT":"Italy","JE":"Jersey","JM":"Jamaica","JO":"Jordan","JP":"Japan","KE":"Kenya","KG":"Kyrgyzstan","KH":"Cambodia","KI":"Kiribati","KM":"Comoros","KN":"Saint Kitts and Nevis","KP":"North Korea","KR":"South Korea","KW":"Kuwait","KY":"Cayman Islands","KZ":"Kazakhstan","LA":"Lao People\'s Democratic Republic","LB":"Lebanon","LC":"Saint Lucia","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Liberia","LS":"Lesotho","LT":"Lithuania","LU":"Luxembourg","LV":"Latvia","LY":"Libya","MA":"Morocco","MC":"Monaco","MD":"Moldova, Republic of","ME":"Montenegro","MF":"Saint Martin (French part)","MG":"Madagascar","MH":"Marshall Islands","MK":"North Macedonia","ML":"Mali","MM":"Myanmar","MN":"Mongolia","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritania","MS":"Montserrat","MT":"Malta","MU":"Mauritius","MV":"Maldives","MW":"Malawi","MX":"Mexico","MY":"Malaysia","MZ":"Mozambique","NA":"Namibia","NC":"New Caledonia","NE":"Niger","NF":"Norfolk Island","NG":"Nigeria","NI":"Nicaragua","NL":"Netherlands","NO":"Norway","NP":"Nepal","NR":"Nauru","NU":"Niue","NZ":"New Zealand","OM":"Oman","PA":"Panama","PE":"Peru","PF":"French Polynesia","PG":"Papua New Guinea","PH":"Philippines","PK":"Pakistan","PL":"Poland","PM":"Saint Pierre and Miquelon","PN":"Pitcairn Islands","PR":"Puerto Rico","PS":"Palestine","PT":"Portugal","PW":"Palau","PY":"Paraguay","QA":"Qatar","RE":"Reunion","RO":"Romania","RS":"Serbia","RU":"Russia","RW":"Rwanda","SA":"Saudi Arabia","SB":"Solomon Islands","SC":"Seychelles","SD":"Sudan","SE":"Sweden","SG":"Singapore","SH":"Saint Helena","SI":"Slovenia","SJ":"Svalbard and Jan Mayen","SK":"Slovakia","SL":"Sierra Leone","SM":"San Marino","SN":"Senegal","SO":"Somalia","SR":"Suriname","SS":"South Sudan","ST":"Sao Tome and Principe","SV":"El Salvador","SX":"Sint Maarten (Dutch part)","SY":"Syrian Arab Republic","SZ":"Eswatini","TC":"Turks and Caicos Islands","TD":"Chad","TF":"French Southern Territories","TG":"Togo","TH":"Thailand","TJ":"Tajikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkmenistan","TN":"Tunisia","TO":"Tonga","TR":"Turkey","TT":"Trinidad and Tobago","TV":"Tuvalu","TW":"Taiwan","TZ":"United Republic of Tanzania","UA":"Ukraine","UG":"Uganda","UM":"United States Minor Outlying Islands","US":"United States of America","UY":"Uruguay","UZ":"Uzbekistan","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuela","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis and Futuna","WS":"Samoa","YE":"Yemen","YT":"Mayotte","ZA":"South Africa","ZM":"Zambia","ZW":"Zimbabwe"}}')},85990:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"\xc9mirien","AF":"Afghan","AG":"Antiguayen","AL":"Albanais","AM":"Arm\xe9nien","AO":"Angolais","AR":"Argentin","AT":"Autrichien","AU":"Australien","AX":"\xceles Aland","AZ":"Azerba\xefdjanais","BA":"Bosnien","BB":"Barbadien","BD":"Bangladais","BE":"Belge","BF":"Burkinab\xe9","BG":"Bulgare","BH":"Bahre\xefnien","BI":"Burundais","BJ":"B\xe9ninois","BL":"Saint-Barth\xe9lemy","BM":"Bermudien","BN":"Brun\xe9ien","BO":"Bolivien","BQ":"Pays-Bas Carib\xe9ens","BR":"Br\xe9silien","BS":"Bahamien","BT":"Bhoutanais","BV":"\xcele Bouvet","BW":"Botswanais","BY":"Bi\xe9lorusse","BZ":"B\xe9lizien","CA":"Canadien","CC":"\xceles Cocos","CD":"Congolais (R\xe9publique d\xe9mocratique du Congo)","CF":"Centrafricain","CG":"Congolais (R\xe9publique du Congo)","CH":"Suisse","CI":"Ivoirien","CK":"\xceles Cook","CL":"Chilien","CM":"Camerounais","CN":"Chinois","CO":"Colombien","CR":"Costaricain","CU":"Cubain","CV":"Cap verdien","CW":"Curacien","CX":"L\'\xeele Christmas","CY":"Chypriote","CZ":"Tch\xe8que","DE":"Allemand","DJ":"Djiboutien","DK":"Danois","DM":"Dominicain (Dominique)","DO":"Dominicain (R\xe9publique dominicaine)","DZ":"Alg\xe9rien","EC":"\xc9quatorien","EE":"Estonien","EG":"\xc9gyptien","EH":"Sahara Occidental","ER":"\xc9rythr\xe9en","ES":"Espagnol","ET":"\xc9thiopien","FI":"Finlandais","FJ":"Fidjien","FK":"Malouin","FM":"Micron\xe9sien","FO":"F\xe9ro\xefen","FR":"Fran\xe7ais","GA":"Gabonais","GB":"Britannique","GD":"Grenadien","GE":"G\xe9orgien","GF":"Fran\xe7ais (Guyane)","GG":"Guernesiais","GH":"Ghan\xe9en","GI":"Gibraltariens","GL":"Groenlandais","GM":"Gambien","GN":"Guin\xe9en","GP":"Guadeloup\xe9en","GQ":"\xc9quato-guin\xe9en","GR":"Grec","GS":"G\xe9orgie du Sud et les \xeeles Sandwich du Sud","GT":"Guat\xe9malt\xe8que","GU":"Guam","GW":"Bissaoguin\xe9en","GY":"Guyanais","HK":"Hongkongais","HM":"\xceles Heard-et-MacDonald","HN":"Hondurien","HR":"Croate","HT":"Ha\xeftien","HU":"Hongrois","ID":"Indon\xe9sien","IE":"Irlandais","IL":"Isra\xe9lien","IM":"\xcele de Man","IN":"Indien","IO":"Territoire britannique de l\'oc\xe9an Indien","IQ":"Irakien","IR":"Iranien","IS":"Islandais","IT":"Italien","JE":"Jersiais","JM":"Jama\xefquain","JO":"Jordanien","JP":"Japonais","KE":"K\xe9nyan","KG":"Kirghiz","KH":"Cambodgien","KI":"Kiribatiens","KM":"Comorien","KN":"Afro-Kittitien et Afro-Nevisien","KP":"Nord cor\xe9en","KR":"Sud cor\xe9en","KW":"Kowe\xeftien","KY":"Ca\xefmanien","KZ":"Kazakhstanais","LA":"Laotien","LB":"Libanais","LC":"Saint-Lucien","LI":"Liechtensteinois","LK":"Sri Lankais","LR":"Liberian","LS":"Mosotho","LT":"Lituanien","LU":"Luxembourgeois","LV":"Letton","LY":"Libyen","MA":"Marocain","MC":"Mon\xe9gasque","MD":"Moldave","ME":"Mont\xe9n\xe9grin","MF":"Saint-Martinois (France)","MG":"Malgache","MH":"Marshallais","MK":"Mac\xe9donien","ML":"Malien","MM":"Birman","MN":"Mongol","MO":"Macan\xe9en","MP":"\xceles Mariannes du Nord","MQ":"Martiniquais","MR":"Mauritanien","MS":"Montserratien","MT":"Maltais","MU":"Mauricien","MV":"Maldivien","MW":"Malawien","MX":"Mexicain","MY":"Malaisien","MZ":"Mozambicain","NA":"Namibien","NC":"N\xe9o-Cal\xe9donien","NE":"Nig\xe9rien","NF":"Norfolkais","NG":"Nig\xe9rian","NI":"Nicaraguayen","NL":"N\xe9erlandais","NO":"Norv\xe9gien","NP":"N\xe9palais","NR":"Nauruan","NU":"Niu\xe9en","NZ":"N\xe9o-Z\xe9landais","OM":"Omanais","PA":"Panam\xe9en","PE":"P\xe9ruvien","PF":"Fran\xe7ais (Polyn\xe9sie fran\xe7aise)","PG":"Papouasien","PH":"Philippin","PK":"Pakistanais","PL":"Polonais","PM":"Saint-Pierrais ou Miquelonais","PN":"\xceles Pitcairn","PR":"Portoricain","PS":"Territoires Palestiniens, Occup\xe9s","PT":"Portugais","PW":"Palauan","PY":"Paraguayen","QA":"Qatarien","RE":"R\xe9unionnais","RO":"Roumain","RS":"Serbe","RU":"Russe","RW":"Rwandais","SA":"Saoudien","SB":"Salomonais","SC":"Seychellois","SD":"Soudanais","SE":"Su\xe9dois","SG":"Singapourien","SH":"Sainte H\xe9l\xe8ne","SI":"Slov\xe8ne","SJ":"Svalbard et Jan Mayen","SK":"Slovaque","SL":"Sierra L\xe9onais","SM":"Saint-Marinais","SN":"S\xe9n\xe9galais","SO":"Somalien","SR":"Surinamais","SS":"Sud-Soudanais","ST":"Santom\xe9en","SV":"Salvadorien","SX":"Saint-Martinois (Pays-Bas)","SY":"Syrien","SZ":"Swazi","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchadien","TF":"Fran\xe7ais (TAAF)","TG":"Togolais","TH":"Tha\xeflandais","TJ":"Tadjik","TK":"Tok\xe9laou","TL":"Est-Timorais","TM":"Turkm\xe8ne","TN":"Tunisien","TO":"Tongien","TR":"Turc","TT":"Trinidadien ou Tobagonien","TV":"Tuvalais","TW":"Ta\xefwanais","TZ":"Tanzanien","UA":"Ukrainien","UG":"Ougandais","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"Am\xe9ricain","UY":"Uruguayen","UZ":"Ouzbek","VA":"Saint-Si\xe8ge (\xc9tat de la cit\xe9 du Vatican)","VC":"Vincentais","VE":"V\xe9n\xe9zu\xe9lien","VG":"\xceles Vierges Britanniques","VI":"\xceles Vierges Am\xe9ricaines","VN":"Vietnamien","VU":"Vanuatais","WF":"Gallois","WS":"Samoan","YE":"Y\xe9m\xe9nite","YT":"Mahorais","ZA":"Sud Africain","ZM":"Zambien","ZW":"Zimbabw\xe9en"},"countries":{"AD":"Andorre","AE":"\xc9mirats Arabes Unis","AF":"Afghanistan","AG":"Antigua-et-Barbuda","AL":"Albanie","AM":"Arm\xe9nie","AO":"Angola","AR":"Argentine","AT":"Autriche","AU":"Australie","AX":"\xc5land","AZ":"Azerba\xefdjan","BA":"Bosnie-Herz\xe9govine","BB":"Barbade","BD":"Bangladesh","BE":"Belgique","BF":"Burkina Faso","BG":"Bulgarie","BH":"Bahre\xefn","BI":"Burundi","BJ":"B\xe9nin","BL":"Saint-Barth\xe9lemy","BM":"Bermudes","BN":"Brunei Darussalam","BO":"Bolivie","BQ":"Bonaire, Saint-Eustache et Saba","BR":"Br\xe9sil","BS":"Bahamas","BT":"Bhoutan","BV":"\xcele Bouvet","BW":"Botswana","BY":"Bi\xe9lorussie","BZ":"Belize","CA":"Canada","CC":"\xceles Cocos","CD":"R\xe9publique d\xe9mocratique du Congo","CF":"R\xe9publique Centrafricaine","CG":"R\xe9publique du Congo","CH":"Suisse","CI":"C\xf4te-d\'Ivoire","CK":"\xceles Cook","CL":"Chili","CM":"Cameroun","CN":"Chine","CO":"Colombie","CR":"Costa Rica","CU":"Cuba","CV":"Cap-Vert","CW":"Cura\xe7ao","CX":"\xcele Christmas","CY":"Chypre","CZ":"R\xe9publique Tch\xe8que","DE":"Allemagne","DJ":"Djibouti","DK":"Danemark","DM":"Dominique","DO":"R\xe9publique Dominicaine","DZ":"Alg\xe9rie","EC":"\xc9quateur","EE":"Estonie","EG":"\xc9gypte","EH":"Sahara occidental","ER":"\xc9rythr\xe9e","ES":"Espagne","ET":"\xc9thiopie","FI":"Finlande","FJ":"Fidji","FK":"\xceles Malouines","FM":"Micron\xe9sie","FO":"\xceles F\xe9ro\xe9","FR":"France","GA":"Gabon","GB":"Royaume-Uni","GD":"Grenade","GE":"G\xe9orgie","GF":"Guyane fran\xe7aise","GG":"Guernesey","GH":"Ghana","GI":"Gibraltar","GL":"Groenland","GM":"Gambie","GN":"Guin\xe9e","GP":"Guadeloupe","GQ":"Guin\xe9e \xe9quatoriale","GR":"Gr\xe8ce","GS":"G\xe9orgie du Sud-et-les \xceles Sandwich du Sud","GT":"Guatemala","GU":"Guam","GW":"Guin\xe9e-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"\xceles Heard-et-MacDonald","HN":"Honduras","HR":"Croatie","HT":"Ha\xefti","HU":"Hongrie","ID":"Indon\xe9sie","IE":"Irlande","IL":"Isra\xebl","IM":"\xcele de Man","IN":"Inde","IO":"Oc\xe9an Indien Britannique","IQ":"Irak","IR":"Iran","IS":"Islande","IT":"Italie","JE":"Jersey","JM":"Jama\xefque","JO":"Jordanie","JP":"Japon","KE":"Kenya","KG":"Kirghizistan","KH":"Cambodge","KI":"Kiribati","KM":"Comores","KN":"Saint-Christophe-et-Ni\xe9v\xe8s","KP":"Cor\xe9e du Nord","KR":"Cor\xe9e du Sud","KW":"Kowe\xeft","KY":"\xceles Ca\xefmans","KZ":"Kazakhstan","LA":"Laos","LB":"Liban","LC":"Sainte-Lucie","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Lib\xe9ria","LS":"Lesotho","LT":"Lituanie","LU":"Luxembourg","LV":"Lettonie","LY":"Libye","MA":"Maroc","MC":"Monaco","MD":"Moldavie","ME":"Mont\xe9n\xe9gro","MF":"Saint-Martin (partie fran\xe7aise)","MG":"Madagascar","MH":"\xceles Marshall","MK":"Mac\xe9doine du Nord","ML":"Mali","MM":"Myanmar","MN":"Mongolie","MO":"Macao","MP":"\xceles Mariannes du Nord","MQ":"Martinique","MR":"Mauritanie","MS":"Montserrat","MT":"Malte","MU":"Maurice","MV":"Maldives","MW":"Malawi","MX":"Mexique","MY":"Malaisie","MZ":"Mozambique","NA":"Namibie","NC":"Nouvelle-Cal\xe9donie","NE":"Niger","NF":"\xcele Norfolk","NG":"Nig\xe9ria","NI":"Nicaragua","NL":"Pays-Bas","NO":"Norv\xe8ge","NP":"N\xe9pal","NR":"Nauru","NU":"Niu\xe9","NZ":"Nouvelle-Z\xe9lande","OM":"Oman","PA":"Panama","PE":"P\xe9rou","PF":"Polyn\xe9sie fran\xe7aise","PG":"Papouasie-Nouvelle-Guin\xe9e","PH":"Philippines","PK":"Pakistan","PL":"Pologne","PM":"Saint-Pierre-et-Miquelon","PN":"\xceles Pitcairn","PR":"Porto Rico","PS":"Palestine","PT":"Portugal","PW":"Palaos","PY":"Paraguay","QA":"Qatar","RE":"R\xe9union","RO":"Roumanie","RS":"Serbie","RU":"Russie","RW":"Rwanda","SA":"Arabie Saoudite","SB":"\xceles Salomon","SC":"Seychelles","SD":"Soudan","SE":"Su\xe8de","SG":"Singapour","SH":"Sainte-H\xe9l\xe8ne","SI":"Slov\xe9nie","SJ":"Svalbard et \xcele Jan Mayen","SK":"Slovaquie","SL":"Sierra Leone","SM":"Saint-Marin","SN":"S\xe9n\xe9gal","SO":"Somalie","SR":"Suriname","SS":"Soudan du Sud","ST":"S\xe3o Tom\xe9-et-Principe","SV":"El Salvador","SX":"Saint-Martin (partie n\xe9erlandaise)","SY":"Syrie","SZ":"Royaume d\'Eswatini","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchad","TF":"Terres australes fran\xe7aises","TG":"Togo","TH":"Tha\xeflande","TJ":"Tadjikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkm\xe9nistan","TN":"Tunisie","TO":"Tonga","TR":"Turquie","TT":"Trinit\xe9-et-Tobago","TV":"Tuvalu","TW":"Ta\xefwan","TZ":"R\xe9publique unie de Tanzanie","UA":"Ukraine","UG":"Ouganda","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"\xc9tats-Unis d\'Am\xe9rique","UY":"Uruguay","UZ":"Ouzb\xe9kistan","VA":"Saint-Si\xe8ge (Vatican)","VC":"Saint-Vincent-et-les-Grenadines","VE":"Venezuela","VG":"\xceles vierges britanniques","VI":"\xceles vierges am\xe9ricaines","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis-et-Futuna","WS":"Samoa","YE":"Y\xe9men","YT":"Mayotte","ZA":"Afrique du Sud","ZM":"Zambie","ZW":"Zimbabwe"}}')},87834:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"Foreign"},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Describe","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionality. Please, try again later.","uploading":"You are already uploading a file. Please wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully described your file! "},"items":{"accommodation_proof":"Proof of accommodation |||| Proof of accommodations","appliance_invoice":"Appliance invoice |||| Appliance invoices","bank_details":"Bank detail |||| Bank details","bank_statement":"Bank statement |||| Bank statements","birth_certificate":"Birth certificate |||| Birth certificates","building_permit":"Building permit |||| Building permits","caf":"Social benefit rate |||| Social benefit rates","car_insurance":"Car insurance certificate |||| Car insurance certificates","citizen_registration_certificate":"Certificate of citizen registration |||| Certificates of citizen registration","condition_report":"Condition report |||| Condition reports","diploma":"Diploma |||| Diplomas","divorce":"Divorce |||| Divorces","driver_license":"Driving license |||| Driving licenses","electoral_card":"Electoral card |||| Electoral cards","employment_center_certificate":"Employment center certificate |||| Employment center certificates","energy_contract":"Energy provider contract |||| Energy provider contracts","energy_invoice":"Energy invoice |||| Energy invoices","expense_claim":"Expense claim |||| Expense claims","family_record_book":"Family record book |||| Family record books","family":"Family","fidelity_card":"Benefit card |||| Benefit cards","fine":"Fine |||| Fines","gradebook":"Gradebook |||| Gradebooks","grocery_invoice":"Grocery invoice |||| Grocery invoices","health_book":"Health book |||| Health books","health_certificate":"Health/Vaccination certificate |||| Health/Vaccination certificates","health_insurance_card":"Insurance card |||| Insurance cards","health_invoice":"Health invoice |||| Health invoices","health":"Health","home":"Home","house_insurance":"Home insurance |||| Home insurances","house_sale_agreeement":"House sale agreement |||| House sale agreements","identity_photo":"Identity photo |||| Identity photos","identity":"Identity","invoice":"Invoice |||| Invoices","isp_invoice":"ISP invoice |||| ISP invoices","large_family_card":" Large Family Card |||| Large Family Cards","lease":"Lease |||| Leases","loan_agreement":"Loan agreement |||| Loan agreements","mechanic_invoice":"Repair bill |||| Repair bills","motivation_letter":"Motivation letter |||| Motivation letters","national_health_insurance_card":"National health insurance card |||| National health insurance cards","national_health_insurance_right_certificate":"National health insurance right certificate |||| National health insurance right certificates","national_id_card":"ID card |||| ID cards","note_identity_document":"Note Identity |||| Notes Identity","note_family_document":"Note Family |||| Notes Family","note_work_document":"Note Work & Study |||| Notes Work & Study","note_health_document":"Note Health |||| Notes Health","note_house_document":"Note Home |||| Notes Home","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activities |||| Notes Activities","note_finance":"Note Finance |||| Notes Finance","note_invoice":"Note Invoice |||| Notes Invoice","other_activity_document":"Other activities document |||| Other activities documents","other_bank_document":"Other financial document |||| Other financial documents","other_family_document":"Other family document |||| Other family documents","other_health_document":"Other health document |||| Other health documents","other_house_document":"Other house document |||| Other house documents","other_identity_document":"Other document of identity |||| Other documents of identity","other_invoice":"Other invoice |||| Other invoices","other_revenue":"Other revenue |||| Other revenues","other_tax_document":"Other tax document |||| Other tax documents","other_transport_document":"Other transport document |||| Other transport documents","other_work_document":"Other work document |||| Other work documents","other_administrative_document":"Other administrative document |||| Other administrative documents","others":"Others","pacs":"Civil union |||| Civil unions","passport":"Passeport |||| Passeports","pay_sheet":"Pay sheet |||| Pay sheets","payment_proof_family_allowance":"family allowance payment proof |||| family allowance payment proofs","pension":"Pension |||| Pensions","person_insurance":"Individual insurance certificate |||| Individual insurance certificates","personal_sporting_licence":"Sporting licence |||| Sporting licences","phone_invoice":"Phone invoice |||| Phone invoices","pregnancy_medical_certificate":"Certificate of pregnancy |||| Certificates of pregnancy","prescription":"Prescription |||| Prescriptions","real_estate_insurance":"Real estate insurance certificate |||| Real estate insurance certificates","real_estate_tax":"Real estate tax |||| Real estate taxes","receipt":"Receipt |||| Receipts","rent_receipt":"Rent receipt |||| Rent receipts","residence_permit":"Residence permit |||| Residence permits","restaurant_invoice":"Restaurant invoice |||| Restaurant invoices","resume":"Resume |||| Resumes","school_attendance_certificate":"Certificate of school attendance |||| Certificates of school attendance","school_insurance_certificate":"Certificate of school insurance |||| Certificates of school insurance","single_parent_benefit":"Single parent benefit |||| Single parent benefits","student_card":"Student card |||| Student cards","tax_certificate":"Tax certificate |||| Tax certificates","tax_notice":"Tax notice |||| Tax notices","tax_return":"Tax return |||| Tax returns","tax_timetable":"Payment Plans Installment Agreement |||| Payment Plans Installment Agreements","technical_diagnostic_record":"Technical diagnostic record |||| Technical diagnostic records","telecom_invoice":"Telecom invoice |||| Telecom invoices","transport_card":"Transport card |||| Transport cards","transport_invoice":"Transport invoice |||| Transport invoices","transport":"Transport","unemployment_benefit":"Unemployment benefit |||| Unemployment benefits","unfit_for_habitation_declaration":"Declaration of unfit for habitation |||| Declarations of unfit for habitation","vehicle_registration":"Vehicle registration |||| Vehicle registrations","water_invoice":"Water invoice |||| Water invoices","web_service_invoice":"Web service invoice |||| Web service invoices","wedding":"Wedding contract |||| Wedding contracts","work_contract":"Work contract |||| Work contracts","work_disability_recognition":"Recognition of disability |||| Recognitions of disability","work_invoice":"Work invoice |||| Work invoices","work_quote":"Work quote |||| Work quotes","work_study":"Work & Study"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternate","internship":"Internship","other":"Other"},"noticePeriod":{"oneWeek":"1 week before","oneMonth":"1 month before","threeMonth":"3 months before","oneYear":"1 year before","custom":"Custom","noAlert":"Do not be alerted"}},"themes":{"none":"None","activity":"Activities","family":"Family","finance":"Finance","health":"Health","home":"Home","identity":"Identity","invoice":"Invoice","others":"Others","transport":"Transport","undefined":"Undefined","work_study":"Work & Study"},"expiration":{"expired":"Expired","expiresIn":"Expires in %{duration}","description":"This document expires in %{duration}, consider renewing it"},"qualification":{"date":{"title":{"datetime":"Added on","AObtentionDate":"License A, delivered on","BObtentionDate":"License B, delivered on","CObtentionDate":"License C, delivered on","DObtentionDate":"License D, delivered on","issueDate":"Delivered on","expirationDate":"Expiration date","referencedDate":"Referenced date","shootingDate":"Shooting date","obtentionDate":"Date obtained","date":"Document date"}},"information":{"title":{"fine":{"number":"Amount of the fine"},"fidelity_card":{"number":"Card number"},"caf":{"number":"CAF file number"},"payment_proof_family_allowance":{"number":"CAF file number"},"vehicle":{"licenseNumber":"Vehicle registration number","confidentialNumber":"Confidential vehicle registration code"},"vehicle_registration":{"number":"Vehicle registration number (VIN)"},"national_id_card":{"number":"National ID card number"},"bank_details":{"number":"IBAN number"},"passport":{"number":"Passport number"},"driver_license":{"number":"License number"},"residence_permit":{"number":"License number"},"national_health_insurance_card":{"number":"National health insurance card number"},"pay_sheet":{"number":"Gross remuneration"},"tax_return":{"number":"Reference tax number"},"tax_notice":{"number":"Reference tax number"},"real_estate_tax":{"number":"Reference tax number"},"tax_timetable":{"number":"Reference tax number"},"country":"Document issuing country","refTaxIncome":"Reference tax income","contractType":"Contract type","noticePeriod":"Expiration alert","netSocialAmount":"Net social amount","employerName":"Name of employer","employer":"Name of employer","amount":"Amount of expenditure","subtype":"Purpose of expenditure","bicNumber":"BIC number"},"day":"day |||| days"},"contact":"Owner","page":"Side of the document","front":"Front side","back":"Back side","qualification":"Qualification","noInfo":"No information"}},"MagicFolders":{"administrative":"Administrative","photos":"Photos"}}')},71153:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"\xc9tranger"},"Scan":{"scan_a_doc":"Num\xe9riser un doc","save_doc":"Enregistrer le document","filename":"Nom du fichier","save":"Sauvegarder","cancel":"Annuler","qualify":"Qualifier","apply":"Appliquer","error":{"offline":"Vous \xeates actuellement d\xe9connect\xe9, vous ne pouvez donc pas utiliser cette fonctionnalit\xe9. Connectez-vous \xe0 internet et recommencez. ","uploading":"Vous avez d\xe9j\xe0 un fichier en cours de t\xe9l\xe9chargement. Attendez la fin et recommencez.","generic":"Un probl\xe8me est survenu. Veuillez r\xe9essayer. "},"successful":{"qualified_ok":"Vous venez de qualifier votre fichier avec succ\xe8s !"},"items":{"accommodation_proof":"Attestation d\'h\xe9bergement |||| Attestations d\'h\xe9bergement","appliance_invoice":"Facture d\'\xe9lectrom\xe9nager |||| Factures d\'\xe9lectrom\xe9nager","bank_details":"RIB","bank_statement":"Relev\xe9 de compte |||| Relev\xe9s de compte","birth_certificate":"Acte de naissance |||| Actes de naissance","building_permit":"Permis de construire","caf":"Attestation de quotient familial CAF |||| Attestations de quotient familial CAF","car_insurance":"Attestation d\'assurance auto |||| Attestations d\'assurance auto","citizen_registration_certificate":"Attestation de recensement citoyen |||| Attestations de recensement citoyen","condition_report":"\xc9tat des lieux - Entr\xe9e/Sortie |||| \xc9tats des lieux - Entr\xe9e/Sortie","diploma":"Dipl\xf4me |||| Dipl\xf4mes","divorce":"Attestation de divorce |||| Attestations de divorce","driver_license":"Permis de conduire","electoral_card":"Carte \xe9lectorale |||| Cartes \xe9lectorales","employment_center_certificate":"Attestation de France Travail |||| Attestations de France Travail","energy_contract":"Contrat de fournisseur d\'\xe9nergies |||| Contrats de fournisseur d\'\xe9nergies","energy_invoice":"Facture d\'\xe9nergie |||| Factures d\'\xe9nergie","expense_claim":"Note de frais |||| Notes de frais","family_record_book":"Livret de famille |||| Livrets de famille","family":"Famille","fidelity_card":"Carte avantage |||| Cartes avantages","fine":"Amende |||| Amendes","gradebook":"Bulletin de notes |||| Bulletins de notes","grocery_invoice":"Facture de courses |||| Factures de courses","health_book":"Carnet de sant\xe9 |||| Carnets de sant\xe9","health_certificate":"Certificat de sant\xe9/vaccination |||| Certificats de sant\xe9/vaccination","health_insurance_card":"Carte de mutuelle |||| Cartes de mutuelle","health_invoice":"Facture m\xe9dicale |||| Factures m\xe9dicales","health":"Sant\xe9","home":"Logement","house_insurance":"Assurance logement |||| Assurances logement","house_sale_agreeement":"Compromis de vente","identity_photo":"Photo d\'identit\xe9 |||| Photos d\'identit\xe9","identity":"Identit\xe9","invoice":"Facture |||| Factures","isp_invoice":"Facture d\'internet |||| Factures d\'internet","large_family_card":"Carte famille nombreuse |||| Cartes famille nombreuse","lease":"Bail |||| Baux","loan_agreement":"Contrat de pr\xeat |||| Contrats de pr\xeat","mechanic_invoice":"Facture de r\xe9paration |||| Factures de r\xe9paration","motivation_letter":"Lettre de motivation |||| Lettres de motivation","national_health_insurance_card":"Carte vitale |||| Cartes vitales","national_health_insurance_right_certificate":"Attestation de droits de l\'Assurance Maladie |||| Attestations de droits de l\'Assurance Maladie","national_id_card":"Carte d\'identit\xe9 |||| Cartes d\'identit\xe9","note_identity_document":"Note Identit\xe9 |||| Notes Identit\xe9","note_family_document":"Note Famille |||| Notes Famille","note_work_document":"Note Travail & \xc9tudes |||| Notes Travail & \xc9tudes","note_health_document":"Note Sant\xe9 |||| Notes Sant\xe9","note_house_document":"Note Logement |||| Notes Logement","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activit\xe9s & loisirs |||| Notes Activit\xe9s & loisirs","note_finance":"Note Finances |||| Notes Finances","note_invoice":"Note Factures |||| Notes Factures","other_activity_document":"Autre document de loisirs |||| Autres documents de loisirs","other_bank_document":"Autre document financier |||| Autres documents financiers","other_family_document":"Autre document de famille |||| Autres documents de famille","other_health_document":"Autre document de sant\xe9 |||| Autres documents de sant\xe9","other_house_document":"Autre document de logement |||| Autres documents de logement","other_identity_document":"Autre document d\'identit\xe9 |||| Autres documents d\'identit\xe9","other_invoice":"Autre facture |||| Autres factures","other_revenue":"Autre revenu |||| Autres revenus","other_tax_document":"Imp\xf4ts - Autre document |||| Imp\xf4ts - Autres documents","other_transport_document":"Autre document de transport |||| Autres documents de transport","other_work_document":"Autre document de travail |||| Autres documents de travail","other_administrative_document":"Autre document administratif |||| Autres documents administratifs","others":"Autres","pacs":"Attestation de PACS |||| Attestations de PACS","passport":"Passeport |||| Passeports","pay_sheet":"Fiche de paie |||| Fiches de paie","payment_proof_family_allowance":"Attestation de paiement CAF |||| Attestations de paiement CAF","pension":"Retraite |||| Retraites","person_insurance":"Attestation d\'assurance individuelle |||| Attestations d\'assurance individuelle","personal_sporting_licence":"Licence sportive |||| Licences sportives","phone_invoice":"Facture de t\xe9l\xe9phone |||| Factures de t\xe9l\xe9phone","pregnancy_medical_certificate":"Certificat de grossesse |||| Certificats de grossesse","prescription":"Ordonnance |||| Ordonnances","real_estate_insurance":"Attestation d\'assurance immobili\xe8re |||| Attestations d\'assurance immobili\xe8re","real_estate_tax":"Imp\xf4ts - Taxe fonci\xe8re |||| Imp\xf4ts - Taxes fonci\xe8res","receipt":"Accus\xe9 de r\xe9ception |||| Accus\xe9s de r\xe9ception","rent_receipt":"Quittance de loyer |||| Quittances de loyer","residence_permit":"Titre de s\xe9jour |||| Titres de s\xe9jour","restaurant_invoice":"Facture de restaurant |||| Factures de restaurant","resume":"CV","school_attendance_certificate":"Certificat de scolarit\xe9 |||| Certificats de scolarit\xe9","school_insurance_certificate":"Attestation d\'assurance scolaire |||| Attestations d\'assurance scolaire","single_parent_benefit":"Allocation parent isol\xe9 |||| Allocations parent isol\xe9","student_card":"Carte d\'\xe9tudiant |||| Cartes d\'\xe9tudiant","tax_certificate":"Attestation fiscale |||| Attestations fiscales","tax_notice":"Imp\xf4ts - Avis d\'imposition","tax_return":"Imp\xf4ts - D\xe9claration de revenus |||| Imp\xf4ts - D\xe9clarations de revenus","tax_timetable":"Imp\xf4ts - Ech\xe9ancier |||| Imp\xf4ts - Ech\xe9anciers","technical_diagnostic_record":"Dossier de diagnostic technique |||| Dossiers de diagnostic technique","telecom_invoice":"Facture de t\xe9l\xe9com |||| Factures de t\xe9l\xe9com","transport_card":"Carte de transport |||| Cartes de transport","transport_invoice":"Facture de transport |||| Factures de transport","transport":"Transport","unemployment_benefit":"Allocation ch\xf4mage |||| Allocations ch\xf4mage","unfit_for_habitation_declaration":"Arr\xeat\xe9 d\'insalubrit\xe9 |||| Arr\xeat\xe9s d\'insalubrit\xe9","vehicle_registration":"Carte grise |||| Cartes grises","water_invoice":"Facture d\'eau |||| Factures d\'eau","web_service_invoice":"Facture de service web |||| Factures de service web","wedding":"Contrat de mariage |||| Contrats de mariage","work_contract":"Contrat de travail |||| Contrats de travail","work_disability_recognition":"Reconnaissance de handicap - RQTH |||| Reconnaissances de handicap - RQTH","work_invoice":"Facture de travaux |||| Factures de travaux","work_quote":"Devis de travaux","work_study":"Travail & \xc9tudes"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternance","internship":"Stage","other":"Autre"},"noticePeriod":{"oneWeek":"1 semaine avant","oneMonth":"1 mois avant","threeMonth":"3 mois avant","oneYear":"1 an avant","custom":"Personnalis\xe9","noAlert":"Ne pas \xeatre alert\xe9"}},"themes":{"none":"Aucun","activity":"Activit\xe9s & loisirs","family":"Famille","finance":"Finances","health":"Sant\xe9","home":"Logement","identity":"Identit\xe9","invoice":"Factures","others":"Autres","transport":"Transport","undefined":"Ind\xe9fini","work_study":"Travail & \xc9tudes"},"expiration":{"expired":"Expir\xe9","expiresIn":"Expire dans %{duration}","description":"Ce document expire dans %{duration}, pensez \xe0 le renouveler"},"qualification":{"date":{"title":{"datetime":"Ajout\xe9 le","AObtentionDate":"Permis A, d\xe9livr\xe9 le","BObtentionDate":"Permis B, d\xe9livr\xe9 le","CObtentionDate":"Permis C, d\xe9livr\xe9 le","DObtentionDate":"Permis D, d\xe9livr\xe9 le","issueDate":"D\xe9livr\xe9 le","expirationDate":"Date d\'expiration","referencedDate":"Date de r\xe9f\xe9rence","shootingDate":"Date de prise de vue","obtentionDate":"Date d\'obtention","date":"Date du document"}},"information":{"title":{"fine":{"number":"Montant de l\'amende"},"fidelity_card":{"number":"Num\xe9ro de la carte"},"caf":{"number":"Num\xe9ro de dossier CAF"},"payment_proof_family_allowance":{"number":"Num\xe9ro de dossier CAF"},"vehicle":{"licenseNumber":"Num\xe9ro d\'immatriculation","confidentialNumber":"Code confidentiel de la carte grise"},"vehicle_registration":{"number":"Num\xe9ro de la carte grise (VIN)"},"national_id_card":{"number":"Num\xe9ro de la carte d\'identit\xe9"},"bank_details":{"number":"Num\xe9ro d\'IBAN"},"passport":{"number":"Num\xe9ro du passeport"},"driver_license":{"number":"Num\xe9ro du permis"},"residence_permit":{"number":"Num\xe9ro du permis"},"national_health_insurance_card":{"number":"Num\xe9ro de s\xe9curit\xe9 sociale"},"pay_sheet":{"number":"R\xe9mun\xe9ration brute"},"tax_return":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_notice":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"real_estate_tax":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_timetable":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"country":"Pays \xe9metteur du document","refTaxIncome":"Revenu fiscal de r\xe9f\xe9rence","contractType":"Type de contrat","noticePeriod":"Alerte d’expiration","netSocialAmount":"Montant net social","employerName":"Nom de l\'employeur","employer":"Nom de l\'employeur","amount":"Montant de la d\xe9pense","subtype":"Objet de la d\xe9pense","bicNumber":"Num\xe9ro BIC"},"day":"jour |||| jours"},"contact":"Titulaire","page":"Face du document","front":"Face avant","back":"Face arri\xe8re","qualification":"Qualification","noInfo":"Non renseign\xe9(e)"}},"MagicFolders":{"administrative":"Administratif","photos":"Photos"}}')},51996:function(e){"use strict";e.exports=JSON.parse('{"qualifications":[{"label":"identity_photo","purpose":"attestation","subjects":["identity"]},{"label":"national_id_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"passport","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity"]},{"label":"residence_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"immigration","subjects":["permit","identity"]},{"label":"family_record_book","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"birth_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["identity","family"]},{"label":"driver_license","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["permit","driving"]},{"label":"other_identity_document","purpose":"attestation","subjects":["identity"]},{"label":"wedding","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"pacs","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"divorce","purpose":"contract","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["family"]},{"label":"large_family_card","purpose":"attestation","sourceCategory":"transport","subjects":["right"]},{"label":"caf","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["right"]},{"label":"other_family_document","subjects":["family"]},{"label":"diploma","purpose":"attestation","sourceCategory":"education","subjects":["achievement"]},{"label":"work_contract","purpose":"contract","sourceCategory":"employer","subjects":["work","employment"]},{"label":"pay_sheet","purpose":"attestation","sourceCategory":"employer","subjects":["work","revenues"]},{"label":"fidelity_card","sourceCategory":"shopping"},{"label":"single_parent_benefit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"family","subjects":["revenues"]},{"label":"transport_card","sourceCategory":"transport","subjects":["vehicule"]},{"label":"electoral_card","sourceCategory":"gov"},{"label":"employment_center_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["employment"]},{"label":"unemployment_benefit","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"pension","purpose":"attestation","sourceCategory":"gov","subjects":["revenues"]},{"label":"other_revenue","purpose":"attestation","subjects":["revenues"]},{"label":"gradebook","purpose":"report","sourceCategory":"education","subjects":["history"]},{"label":"student_card","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","employment","education"]},{"label":"resume","purpose":"description","subjects":["employment"]},{"label":"motivation_letter","purpose":"description","subjects":["employment"]},{"label":"other_work_document","purpose":"employment"},{"label":"health_book","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"health_certificate","purpose":"attestation","sourceCategory":"health","subjects":["capacity","vaccine"]},{"label":"pregnancy_medical_certificate","purpose":"attestation","sourceCategory":"health","subjects":["pregnancy"]},{"label":"work_disability_recognition","purpose":"attestation","sourceCategory":"health","subjects":["right"]},{"label":"national_health_insurance_card","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["insurance"]},{"label":"national_health_insurance_right_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"health","subjects":["right","insurance"]},{"label":"health_insurance_card","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"health","subjects":["insurance"]},{"label":"prescription","purpose":"attestation","sourceCategory":"health","subjects":["right","medecine"]},{"label":"health_invoice","purpose":"invoice","sourceCategory":"health"},{"label":"other_health_document","subjects":["health"]},{"label":"vehicle_registration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"transport","subjects":["vehicule","identity","right"]},{"label":"car_insurance","purpose":"attestation","sourceCategory":"insurance","sourceSubCategory":"transport","subjects":["insurance","car"]},{"label":"mechanic_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"transport_invoice","purpose":"invoice","sourceCategory":"transport"},{"label":"other_transport_document","sourceCategory":"transport"},{"label":"house_sale_agreeement","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"real_estate_tax","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["tax","house"]},{"label":"building_permit","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["permit","house"]},{"label":"technical_diagnostic_record","purpose":"report","sourceCategory":"real_estate","subjects":["compliance","house"]},{"label":"lease","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"rent_receipt","purpose":"invoice","sourceCategory":"real_estate","subjects":["house"]},{"label":"house_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance","house"]},{"label":"work_quote","purpose":"description","sourceCategory":"building","subjects":["building","house"]},{"label":"work_invoice","purpose":"invoice","sourceCategory":"building","subjects":["building","house"]},{"label":"other_house_document","subjects":["house"]},{"label":"phone_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"mobile"},{"label":"isp_invoice","purpose":"invoice","sourceCategory":"telecom","sourceSubCategory":"internet","subjects":["subscription"]},{"label":"telecom_invoice","purpose":"invoice","sourceCategory":"telecom"},{"label":"energy_invoice","purpose":"invoice","sourceCategory":"energy"},{"label":"water_invoice","purpose":"invoice","sourceCategory":"water"},{"label":"energy_contract","purpose":"contract","sourceCategory":"energy"},{"label":"appliance_invoice","purpose":"invoice","sourceCategory":"retail"},{"label":"web_service_invoice","purpose":"invoice","sourceCategory":"web"},{"label":"restaurant_invoice","purpose":"invoice","sourceCategory":"alimentation"},{"label":"grocery_invoice","purpose":"invoice","sourceCategory":"shopping"},{"label":"other_invoice","purpose":"invoice"},{"label":"tax_certificate","purpose":"attestation","sourceCategory":"gov","subjects":["tax"]},{"label":"tax_return","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_notice","purpose":"invoice","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"tax_timetable","purpose":"report","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["tax"]},{"label":"other_tax_document","subjects":["tax"]},{"label":"bank_details","purpose":"attestation","sourceCategory":"bank","subjects":["bank_account"]},{"label":"bank_statement","purpose":"report","sourceCategory":"bank","subjects":["history"]},{"label":"loan_agreement","purpose":"contract","sourceCategory":"bank"},{"label":"other_bank_document","sourceCategory":"bank"},{"label":"receipt","purpose":"report"},{"label":"payment_proof_family_allowance","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"tax","subjects":["subvention"]},{"label":"school_attendance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["identity","right","education"]},{"label":"school_insurance_certificate","purpose":"attestation","sourceCategory":"education","subjects":["education","insurance"]},{"label":"unfit_for_habitation_declaration","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"real_estate","subjects":["compliance"]},{"label":"accommodation_proof","purpose":"attestation","sourceCategory":"individual","subjects":["address"]},{"label":"citizen_registration_certificate","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"civil_registration","subjects":["achievement","education"]},{"label":"personal_sporting_licence","purpose":"attestation","sourceCategory":"gov","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"other_activity_document","sourceSubCategory":"sport","subjects":["permit","invoice"]},{"label":"real_estate_insurance","purpose":"contract","sourceCategory":"insurance","sourceSubCategory":"real_estate","subjects":["insurance"]},{"label":"person_insurance","purpose":"contract","sourceCategory":"insurance","subjects":["insurance"]},{"label":"other_administrative_document"},{"label":"expense_claim","purpose":"invoice"},{"label":"fine","purpose":"invoice","sourceCategory":"gov"},{"label":"condition_report","purpose":"contract","sourceCategory":"real_estate","subjects":["house"]},{"label":"note_identity_document"},{"label":"note_family_document"},{"label":"note_work_document"},{"label":"note_health_document"},{"label":"note_house_document"},{"label":"note_transport_document"},{"label":"note_activity_document"},{"label":"note_finance"},{"label":"note_invoice"}],"purposeKnownValues":["attestation","contract","invoice","report","description","evaluation","employment"],"sourceCategoryKnownValues":["bank","insurance","retail","telecom","energy","water","health","gov","association","education","employer","transport","goods","alimentation","building","real_estate","web","individual","shopping"],"sourceSubCategoryKnownValues":["civil_registration","immigration","transport","family","tax","health","real_estate","mobile","internet","citizen","sport"],"subjectsKnownValues":["identity","permit","family","address","driving","right","subvention","achievement","degree","work","employment","revenues","history","insurance","medical_act","vehicule","car","moto","truck","boat","subscription","buy/sale","house","compliance","building","food","real_estate","tax","address","education","statement","course","internet","phone","vaccine","capacity","health","drugs","child","pregnancy","bank_account"]}')},45383:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"Emirian","AF":"Afghan","AG":"Antiguans","AL":"Albanian","AM":"Armenian","AO":"Angolan","AR":"Argentinean","AT":"Austrian","AU":"Australian","AX":"\xc5land Islands","AZ":"Azerbaijani","BA":"Bosnian - Herzegovinian","BB":"Barbadian","BD":"Bangladeshi","BE":"Belgian","BF":"Burkinabe","BG":"Bulgarian","BH":"Bahraini","BI":"Burundian","BJ":"Beninese","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Bruneian","BO":"Bolivian","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazilian","BS":"Bahamian","BT":"Bhutanese","BV":"Bouvet Island","BW":"Batswana","BY":"Belarusian","BZ":"Belizean","CA":"Canadian","CC":"Cocos (Keeling) Islands","CD":"Congolese (Democratic Republic of the Congo)","CF":"Central African","CG":"Congolese (Republic of the Congo)","CH":"Swiss","CI":"Ivorian","CK":"Cook Islands","CL":"Chilean","CM":"Cameroonian","CN":"Chinese","CO":"Colombian","CR":"Costa Rican","CU":"Cuban","CV":"Cape Verdean","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cypriot","CZ":"Czech","DE":"German","DJ":"Djibouti","DK":"Danish","DM":"Dominican (Dominica)","DO":"Dominican (Dominican Republic)","DZ":"Algerian","EC":"Ecuadorean","EE":"Estonian","EG":"Egyptian","EH":"Western Sahara","ER":"Eritrean","ES":"Spanish","ET":"Ethiopian","FI":"Finnish","FJ":"Fijian","FK":"Falkland Islands (Malvinas)","FM":"Micronesian","FO":"Faroe Islands","FR":"French","GA":"Gabonese","GB":"British","GD":"Grenadian","GE":"Georgian","GF":"French (French Guiana)","GG":"Guernsey","GH":"Ghanaian","GI":"Gibraltar","GL":"Greenland","GM":"Gambian","GN":"Guinean","GP":"Guadeloupe","GQ":"Equatorial Guinean","GR":"Greek","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemalan","GU":"Guam","GW":"Guinea-Bissauan","GY":"Guyanese","HK":"Hong Kong","HM":"Heard Island and Mcdonald Islands","HN":"Honduran","HR":"Croatian","HT":"Haitian","HU":"Hungarian","ID":"Indonesian","IE":"Irish","IL":"Israeli","IM":"Manx","IN":"Indian","IO":"British Indian Ocean Territory","IQ":"Iraqi","IR":"Iranian","IS":"Icelandic","IT":"Italian","JE":"Jersey","JM":"Jamaican","JO":"Jordanian","JP":"Japanese","KE":"Kenyan","KG":"Kyrgyz","KH":"Cambodian","KI":"I-Kiribati","KM":"Comoran","KN":"Kittian and Nevisian","KP":"North Korean","KR":"South Korean","KW":"Kuwaiti","KY":"Cayman Islands","KZ":"Kazakhstani","LA":"Laotian","LB":"Lebanese","LC":"Saint Lucian","LI":"Liechtensteiner","LK":"Sri Lankan","LR":"Liberian","LS":"Mosotho","LT":"Lithuanian","LU":"Luxembourger","LV":"Latvian","LY":"Libyan","MA":"Moroccan","MC":"Monacan","MD":"Moldovan","ME":"Montenegrin","MF":"Saint Martin (French part)","MG":"Malagasy","MH":"Marshallese","MK":"Macedonian","ML":"Malian","MM":"Burmese","MN":"Mongolian","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritanian","MS":"Montserrat","MT":"Maltese","MU":"Mauritian","MV":"Maldivan","MW":"Malawian","MX":"Mexican","MY":"Malaysian","MZ":"Mozambican","NA":"Namibian","NC":"New Caledonia","NE":"Nigerien","NF":"Norfolk Island","NG":"Nigerian","NI":"Nicaraguan","NL":"Dutch","NO":"Norwegian","NP":"Nepalese","NR":"Nauruan","NU":"Niue","NZ":"New Zealander","OM":"Omani","PA":"Panamanian","PE":"Peruvian","PF":"French (French Polynesia)","PG":"Papua New Guinea","PH":"Filipino","PK":"Pakistani","PL":"Polish","PM":"Saint Pierre and Miquelon","PN":"Pitcairn","PR":"Puerto Rico","PS":"Palestinian Territory, Occupied","PT":"Portuguese","PW":"Palauan","PY":"Paraguayan","QA":"Qatari","RE":"Reunion","RO":"Romanian","RS":"Serbian","RU":"Russian","RW":"Rwandan","SA":"Saudi","SB":"Solomon Islander","SC":"Seychellois","SD":"Sudanese","SE":"Swedish","SG":"Singaporean","SH":"Saint Helena","SI":"Slovenian","SJ":"Svalbard and Jan Mayen","SK":"Slovakian","SL":"Sierra Leonean","SM":"San Marinese","SN":"Senegalese","SO":"Somali","SR":"Surinamer","SS":"South Sudan","ST":"Sao Tomean","SV":"Salvadoran","SX":"Sint Maarten (Dutch part)","SY":"Syrian","SZ":"Swazi","TC":"Turks and Caicos Islands","TD":"Chadian","TF":"French (French Southern Territories)","TG":"Togolese","TH":"Thai","TJ":"Tajik","TK":"Tokelau","TL":"East Timorese","TM":"Turkmenistan","TN":"Tunisian","TO":"Tongan","TR":"Turkish","TT":"Trinidadian or Tobagonian","TV":"Tuvaluan","TW":"Taiwanese","TZ":"Tanzanian","UA":"Ukrainian","UG":"Ugandan","UM":"United States Minor Outlying Islands","US":"American","UY":"Uruguayan","UZ":"Uzbekistani","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuelan","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnamese","VU":"Vanuatu","WF":"Welsh","WS":"Samoan","YE":"Yemenite","YT":"Mayotte","ZA":"South African","ZM":"Zambian","ZW":"Zimbabwean"},"countries":{"AD":"Andorra","AE":"United Arab Emirates","AF":"Afghanistan","AG":"Antigua and Barbuda","AL":"Albania","AM":"Armenia","AO":"Angola","AR":"Argentina","AT":"Austria","AU":"Australia","AX":"\xc5land Islands","AZ":"Azerbaijan","BA":"Bosnia and Herzegovina","BB":"Barbados","BD":"Bangladesh","BE":"Belgium","BF":"Burkina Faso","BG":"Bulgaria","BH":"Bahrain","BI":"Burundi","BJ":"Benin","BL":"Saint Barth\xe9lemy","BM":"Bermuda","BN":"Brunei Darussalam","BO":"Bolivia","BQ":"Bonaire, Sint Eustatius and Saba","BR":"Brazil","BS":"Bahamas","BT":"Bhutan","BV":"Bouvet Island","BW":"Botswana","BY":"Belarus","BZ":"Belize","CA":"Canada","CC":"Cocos (Keeling) Islands","CD":"Democratic Republic of the Congo","CF":"Central African Republic","CG":"Republic of the Congo","CH":"Switzerland","CI":"Ivory Coast","CK":"Cook Islands","CL":"Chile","CM":"Cameroon","CN":"People\'s Republic of China","CO":"Colombia","CR":"Costa Rica","CU":"Cuba","CV":"Cape Verde","CW":"Cura\xe7ao","CX":"Christmas Island","CY":"Cyprus","CZ":"Czech Republic","DE":"Germany","DJ":"Djibouti","DK":"Denmark","DM":"Dominica","DO":"Dominican Republic","DZ":"Algeria","EC":"Ecuador","EE":"Estonia","EG":"Egypt","EH":"Western Sahara","ER":"Eritrea","ES":"Spain","ET":"Ethiopia","FI":"Finland","FJ":"Fiji","FK":"Falkland Islands (Malvinas)","FM":"Micronesia, Federated States of","FO":"Faroe Islands","FR":"France","GA":"Gabon","GB":"United Kingdom","GD":"Grenada","GE":"Georgia","GF":"French Guiana","GG":"Guernsey","GH":"Ghana","GI":"Gibraltar","GL":"Greenland","GM":"Gambia","GN":"Guinea","GP":"Guadeloupe","GQ":"Equatorial Guinea","GR":"Greece","GS":"South Georgia and the South Sandwich Islands","GT":"Guatemala","GU":"Guam","GW":"Guinea-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"Heard Island and McDonald Islands","HN":"Honduras","HR":"Croatia","HT":"Haiti","HU":"Hungary","ID":"Indonesia","IE":"Ireland","IL":"Israel","IM":"Isle of Man","IN":"India","IO":"British Indian Ocean Territory","IQ":"Iraq","IR":"Iran","IS":"Iceland","IT":"Italy","JE":"Jersey","JM":"Jamaica","JO":"Jordan","JP":"Japan","KE":"Kenya","KG":"Kyrgyzstan","KH":"Cambodia","KI":"Kiribati","KM":"Comoros","KN":"Saint Kitts and Nevis","KP":"North Korea","KR":"South Korea","KW":"Kuwait","KY":"Cayman Islands","KZ":"Kazakhstan","LA":"Lao People\'s Democratic Republic","LB":"Lebanon","LC":"Saint Lucia","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Liberia","LS":"Lesotho","LT":"Lithuania","LU":"Luxembourg","LV":"Latvia","LY":"Libya","MA":"Morocco","MC":"Monaco","MD":"Moldova, Republic of","ME":"Montenegro","MF":"Saint Martin (French part)","MG":"Madagascar","MH":"Marshall Islands","MK":"North Macedonia","ML":"Mali","MM":"Myanmar","MN":"Mongolia","MO":"Macao","MP":"Northern Mariana Islands","MQ":"Martinique","MR":"Mauritania","MS":"Montserrat","MT":"Malta","MU":"Mauritius","MV":"Maldives","MW":"Malawi","MX":"Mexico","MY":"Malaysia","MZ":"Mozambique","NA":"Namibia","NC":"New Caledonia","NE":"Niger","NF":"Norfolk Island","NG":"Nigeria","NI":"Nicaragua","NL":"Netherlands","NO":"Norway","NP":"Nepal","NR":"Nauru","NU":"Niue","NZ":"New Zealand","OM":"Oman","PA":"Panama","PE":"Peru","PF":"French Polynesia","PG":"Papua New Guinea","PH":"Philippines","PK":"Pakistan","PL":"Poland","PM":"Saint Pierre and Miquelon","PN":"Pitcairn Islands","PR":"Puerto Rico","PS":"Palestine","PT":"Portugal","PW":"Palau","PY":"Paraguay","QA":"Qatar","RE":"Reunion","RO":"Romania","RS":"Serbia","RU":"Russia","RW":"Rwanda","SA":"Saudi Arabia","SB":"Solomon Islands","SC":"Seychelles","SD":"Sudan","SE":"Sweden","SG":"Singapore","SH":"Saint Helena","SI":"Slovenia","SJ":"Svalbard and Jan Mayen","SK":"Slovakia","SL":"Sierra Leone","SM":"San Marino","SN":"Senegal","SO":"Somalia","SR":"Suriname","SS":"South Sudan","ST":"Sao Tome and Principe","SV":"El Salvador","SX":"Sint Maarten (Dutch part)","SY":"Syrian Arab Republic","SZ":"Eswatini","TC":"Turks and Caicos Islands","TD":"Chad","TF":"French Southern Territories","TG":"Togo","TH":"Thailand","TJ":"Tajikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkmenistan","TN":"Tunisia","TO":"Tonga","TR":"Turkey","TT":"Trinidad and Tobago","TV":"Tuvalu","TW":"Taiwan","TZ":"United Republic of Tanzania","UA":"Ukraine","UG":"Uganda","UM":"United States Minor Outlying Islands","US":"United States of America","UY":"Uruguay","UZ":"Uzbekistan","VA":"Holy See (Vatican City State)","VC":"Saint Vincent and the Grenadines","VE":"Venezuela","VG":"Virgin Islands, British","VI":"Virgin Islands, U.S.","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis and Futuna","WS":"Samoa","YE":"Yemen","YT":"Mayotte","ZA":"South Africa","ZM":"Zambia","ZW":"Zimbabwe"}}')},82356:function(e){"use strict";e.exports=JSON.parse('{"nationalities":{"AD":"Andorran","AE":"\xc9mirien","AF":"Afghan","AG":"Antiguayen","AL":"Albanais","AM":"Arm\xe9nien","AO":"Angolais","AR":"Argentin","AT":"Autrichien","AU":"Australien","AX":"\xceles Aland","AZ":"Azerba\xefdjanais","BA":"Bosnien","BB":"Barbadien","BD":"Bangladais","BE":"Belge","BF":"Burkinab\xe9","BG":"Bulgare","BH":"Bahre\xefnien","BI":"Burundais","BJ":"B\xe9ninois","BL":"Saint-Barth\xe9lemy","BM":"Bermudien","BN":"Brun\xe9ien","BO":"Bolivien","BQ":"Pays-Bas Carib\xe9ens","BR":"Br\xe9silien","BS":"Bahamien","BT":"Bhoutanais","BV":"\xcele Bouvet","BW":"Botswanais","BY":"Bi\xe9lorusse","BZ":"B\xe9lizien","CA":"Canadien","CC":"\xceles Cocos","CD":"Congolais (R\xe9publique d\xe9mocratique du Congo)","CF":"Centrafricain","CG":"Congolais (R\xe9publique du Congo)","CH":"Suisse","CI":"Ivoirien","CK":"\xceles Cook","CL":"Chilien","CM":"Camerounais","CN":"Chinois","CO":"Colombien","CR":"Costaricain","CU":"Cubain","CV":"Cap verdien","CW":"Curacien","CX":"L\'\xeele Christmas","CY":"Chypriote","CZ":"Tch\xe8que","DE":"Allemand","DJ":"Djiboutien","DK":"Danois","DM":"Dominicain (Dominique)","DO":"Dominicain (R\xe9publique dominicaine)","DZ":"Alg\xe9rien","EC":"\xc9quatorien","EE":"Estonien","EG":"\xc9gyptien","EH":"Sahara Occidental","ER":"\xc9rythr\xe9en","ES":"Espagnol","ET":"\xc9thiopien","FI":"Finlandais","FJ":"Fidjien","FK":"Malouin","FM":"Micron\xe9sien","FO":"F\xe9ro\xefen","FR":"Fran\xe7ais","GA":"Gabonais","GB":"Britannique","GD":"Grenadien","GE":"G\xe9orgien","GF":"Fran\xe7ais (Guyane)","GG":"Guernesiais","GH":"Ghan\xe9en","GI":"Gibraltariens","GL":"Groenlandais","GM":"Gambien","GN":"Guin\xe9en","GP":"Guadeloup\xe9en","GQ":"\xc9quato-guin\xe9en","GR":"Grec","GS":"G\xe9orgie du Sud et les \xeeles Sandwich du Sud","GT":"Guat\xe9malt\xe8que","GU":"Guam","GW":"Bissaoguin\xe9en","GY":"Guyanais","HK":"Hongkongais","HM":"\xceles Heard-et-MacDonald","HN":"Hondurien","HR":"Croate","HT":"Ha\xeftien","HU":"Hongrois","ID":"Indon\xe9sien","IE":"Irlandais","IL":"Isra\xe9lien","IM":"\xcele de Man","IN":"Indien","IO":"Territoire britannique de l\'oc\xe9an Indien","IQ":"Irakien","IR":"Iranien","IS":"Islandais","IT":"Italien","JE":"Jersiais","JM":"Jama\xefquain","JO":"Jordanien","JP":"Japonais","KE":"K\xe9nyan","KG":"Kirghiz","KH":"Cambodgien","KI":"Kiribatiens","KM":"Comorien","KN":"Afro-Kittitien et Afro-Nevisien","KP":"Nord cor\xe9en","KR":"Sud cor\xe9en","KW":"Kowe\xeftien","KY":"Ca\xefmanien","KZ":"Kazakhstanais","LA":"Laotien","LB":"Libanais","LC":"Saint-Lucien","LI":"Liechtensteinois","LK":"Sri Lankais","LR":"Liberian","LS":"Mosotho","LT":"Lituanien","LU":"Luxembourgeois","LV":"Letton","LY":"Libyen","MA":"Marocain","MC":"Mon\xe9gasque","MD":"Moldave","ME":"Mont\xe9n\xe9grin","MF":"Saint-Martinois (France)","MG":"Malgache","MH":"Marshallais","MK":"Mac\xe9donien","ML":"Malien","MM":"Birman","MN":"Mongol","MO":"Macan\xe9en","MP":"\xceles Mariannes du Nord","MQ":"Martiniquais","MR":"Mauritanien","MS":"Montserratien","MT":"Maltais","MU":"Mauricien","MV":"Maldivien","MW":"Malawien","MX":"Mexicain","MY":"Malaisien","MZ":"Mozambicain","NA":"Namibien","NC":"N\xe9o-Cal\xe9donien","NE":"Nig\xe9rien","NF":"Norfolkais","NG":"Nig\xe9rian","NI":"Nicaraguayen","NL":"N\xe9erlandais","NO":"Norv\xe9gien","NP":"N\xe9palais","NR":"Nauruan","NU":"Niu\xe9en","NZ":"N\xe9o-Z\xe9landais","OM":"Omanais","PA":"Panam\xe9en","PE":"P\xe9ruvien","PF":"Fran\xe7ais (Polyn\xe9sie fran\xe7aise)","PG":"Papouasien","PH":"Philippin","PK":"Pakistanais","PL":"Polonais","PM":"Saint-Pierrais ou Miquelonais","PN":"\xceles Pitcairn","PR":"Portoricain","PS":"Territoires Palestiniens, Occup\xe9s","PT":"Portugais","PW":"Palauan","PY":"Paraguayen","QA":"Qatarien","RE":"R\xe9unionnais","RO":"Roumain","RS":"Serbe","RU":"Russe","RW":"Rwandais","SA":"Saoudien","SB":"Salomonais","SC":"Seychellois","SD":"Soudanais","SE":"Su\xe9dois","SG":"Singapourien","SH":"Sainte H\xe9l\xe8ne","SI":"Slov\xe8ne","SJ":"Svalbard et Jan Mayen","SK":"Slovaque","SL":"Sierra L\xe9onais","SM":"Saint-Marinais","SN":"S\xe9n\xe9galais","SO":"Somalien","SR":"Surinamais","SS":"Sud-Soudanais","ST":"Santom\xe9en","SV":"Salvadorien","SX":"Saint-Martinois (Pays-Bas)","SY":"Syrien","SZ":"Swazi","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchadien","TF":"Fran\xe7ais (TAAF)","TG":"Togolais","TH":"Tha\xeflandais","TJ":"Tadjik","TK":"Tok\xe9laou","TL":"Est-Timorais","TM":"Turkm\xe8ne","TN":"Tunisien","TO":"Tongien","TR":"Turc","TT":"Trinidadien ou Tobagonien","TV":"Tuvalais","TW":"Ta\xefwanais","TZ":"Tanzanien","UA":"Ukrainien","UG":"Ougandais","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"Am\xe9ricain","UY":"Uruguayen","UZ":"Ouzbek","VA":"Saint-Si\xe8ge (\xc9tat de la cit\xe9 du Vatican)","VC":"Vincentais","VE":"V\xe9n\xe9zu\xe9lien","VG":"\xceles Vierges Britanniques","VI":"\xceles Vierges Am\xe9ricaines","VN":"Vietnamien","VU":"Vanuatais","WF":"Gallois","WS":"Samoan","YE":"Y\xe9m\xe9nite","YT":"Mahorais","ZA":"Sud Africain","ZM":"Zambien","ZW":"Zimbabw\xe9en"},"countries":{"AD":"Andorre","AE":"\xc9mirats Arabes Unis","AF":"Afghanistan","AG":"Antigua-et-Barbuda","AL":"Albanie","AM":"Arm\xe9nie","AO":"Angola","AR":"Argentine","AT":"Autriche","AU":"Australie","AX":"\xc5land","AZ":"Azerba\xefdjan","BA":"Bosnie-Herz\xe9govine","BB":"Barbade","BD":"Bangladesh","BE":"Belgique","BF":"Burkina Faso","BG":"Bulgarie","BH":"Bahre\xefn","BI":"Burundi","BJ":"B\xe9nin","BL":"Saint-Barth\xe9lemy","BM":"Bermudes","BN":"Brunei Darussalam","BO":"Bolivie","BQ":"Bonaire, Saint-Eustache et Saba","BR":"Br\xe9sil","BS":"Bahamas","BT":"Bhoutan","BV":"\xcele Bouvet","BW":"Botswana","BY":"Bi\xe9lorussie","BZ":"Belize","CA":"Canada","CC":"\xceles Cocos","CD":"R\xe9publique d\xe9mocratique du Congo","CF":"R\xe9publique Centrafricaine","CG":"R\xe9publique du Congo","CH":"Suisse","CI":"C\xf4te-d\'Ivoire","CK":"\xceles Cook","CL":"Chili","CM":"Cameroun","CN":"Chine","CO":"Colombie","CR":"Costa Rica","CU":"Cuba","CV":"Cap-Vert","CW":"Cura\xe7ao","CX":"\xcele Christmas","CY":"Chypre","CZ":"R\xe9publique Tch\xe8que","DE":"Allemagne","DJ":"Djibouti","DK":"Danemark","DM":"Dominique","DO":"R\xe9publique Dominicaine","DZ":"Alg\xe9rie","EC":"\xc9quateur","EE":"Estonie","EG":"\xc9gypte","EH":"Sahara occidental","ER":"\xc9rythr\xe9e","ES":"Espagne","ET":"\xc9thiopie","FI":"Finlande","FJ":"Fidji","FK":"\xceles Malouines","FM":"Micron\xe9sie","FO":"\xceles F\xe9ro\xe9","FR":"France","GA":"Gabon","GB":"Royaume-Uni","GD":"Grenade","GE":"G\xe9orgie","GF":"Guyane fran\xe7aise","GG":"Guernesey","GH":"Ghana","GI":"Gibraltar","GL":"Groenland","GM":"Gambie","GN":"Guin\xe9e","GP":"Guadeloupe","GQ":"Guin\xe9e \xe9quatoriale","GR":"Gr\xe8ce","GS":"G\xe9orgie du Sud-et-les \xceles Sandwich du Sud","GT":"Guatemala","GU":"Guam","GW":"Guin\xe9e-Bissau","GY":"Guyana","HK":"Hong Kong","HM":"\xceles Heard-et-MacDonald","HN":"Honduras","HR":"Croatie","HT":"Ha\xefti","HU":"Hongrie","ID":"Indon\xe9sie","IE":"Irlande","IL":"Isra\xebl","IM":"\xcele de Man","IN":"Inde","IO":"Oc\xe9an Indien Britannique","IQ":"Irak","IR":"Iran","IS":"Islande","IT":"Italie","JE":"Jersey","JM":"Jama\xefque","JO":"Jordanie","JP":"Japon","KE":"Kenya","KG":"Kirghizistan","KH":"Cambodge","KI":"Kiribati","KM":"Comores","KN":"Saint-Christophe-et-Ni\xe9v\xe8s","KP":"Cor\xe9e du Nord","KR":"Cor\xe9e du Sud","KW":"Kowe\xeft","KY":"\xceles Ca\xefmans","KZ":"Kazakhstan","LA":"Laos","LB":"Liban","LC":"Sainte-Lucie","LI":"Liechtenstein","LK":"Sri Lanka","LR":"Lib\xe9ria","LS":"Lesotho","LT":"Lituanie","LU":"Luxembourg","LV":"Lettonie","LY":"Libye","MA":"Maroc","MC":"Monaco","MD":"Moldavie","ME":"Mont\xe9n\xe9gro","MF":"Saint-Martin (partie fran\xe7aise)","MG":"Madagascar","MH":"\xceles Marshall","MK":"Mac\xe9doine du Nord","ML":"Mali","MM":"Myanmar","MN":"Mongolie","MO":"Macao","MP":"\xceles Mariannes du Nord","MQ":"Martinique","MR":"Mauritanie","MS":"Montserrat","MT":"Malte","MU":"Maurice","MV":"Maldives","MW":"Malawi","MX":"Mexique","MY":"Malaisie","MZ":"Mozambique","NA":"Namibie","NC":"Nouvelle-Cal\xe9donie","NE":"Niger","NF":"\xcele Norfolk","NG":"Nig\xe9ria","NI":"Nicaragua","NL":"Pays-Bas","NO":"Norv\xe8ge","NP":"N\xe9pal","NR":"Nauru","NU":"Niu\xe9","NZ":"Nouvelle-Z\xe9lande","OM":"Oman","PA":"Panama","PE":"P\xe9rou","PF":"Polyn\xe9sie fran\xe7aise","PG":"Papouasie-Nouvelle-Guin\xe9e","PH":"Philippines","PK":"Pakistan","PL":"Pologne","PM":"Saint-Pierre-et-Miquelon","PN":"\xceles Pitcairn","PR":"Porto Rico","PS":"Palestine","PT":"Portugal","PW":"Palaos","PY":"Paraguay","QA":"Qatar","RE":"R\xe9union","RO":"Roumanie","RS":"Serbie","RU":"Russie","RW":"Rwanda","SA":"Arabie Saoudite","SB":"\xceles Salomon","SC":"Seychelles","SD":"Soudan","SE":"Su\xe8de","SG":"Singapour","SH":"Sainte-H\xe9l\xe8ne","SI":"Slov\xe9nie","SJ":"Svalbard et \xcele Jan Mayen","SK":"Slovaquie","SL":"Sierra Leone","SM":"Saint-Marin","SN":"S\xe9n\xe9gal","SO":"Somalie","SR":"Suriname","SS":"Soudan du Sud","ST":"S\xe3o Tom\xe9-et-Principe","SV":"El Salvador","SX":"Saint-Martin (partie n\xe9erlandaise)","SY":"Syrie","SZ":"Royaume d\'Eswatini","TC":"\xceles Turques-et-Ca\xefques","TD":"Tchad","TF":"Terres australes fran\xe7aises","TG":"Togo","TH":"Tha\xeflande","TJ":"Tadjikistan","TK":"Tokelau","TL":"Timor-Leste","TM":"Turkm\xe9nistan","TN":"Tunisie","TO":"Tonga","TR":"Turquie","TT":"Trinit\xe9-et-Tobago","TV":"Tuvalu","TW":"Ta\xefwan","TZ":"R\xe9publique unie de Tanzanie","UA":"Ukraine","UG":"Ouganda","UM":"\xceles mineures \xe9loign\xe9es des \xc9tats-Unis","US":"\xc9tats-Unis d\'Am\xe9rique","UY":"Uruguay","UZ":"Ouzb\xe9kistan","VA":"Saint-Si\xe8ge (Vatican)","VC":"Saint-Vincent-et-les-Grenadines","VE":"Venezuela","VG":"\xceles vierges britanniques","VI":"\xceles vierges am\xe9ricaines","VN":"Vietnam","VU":"Vanuatu","WF":"Wallis-et-Futuna","WS":"Samoa","YE":"Y\xe9men","YT":"Mayotte","ZA":"Afrique du Sud","ZM":"Zambie","ZW":"Zimbabwe"}}')},96100:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"Foreign"},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Describe","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionality. Please, try again later.","uploading":"You are already uploading a file. Please wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully described your file! "},"items":{"accommodation_proof":"Proof of accommodation |||| Proof of accommodations","appliance_invoice":"Appliance invoice |||| Appliance invoices","bank_details":"Bank detail |||| Bank details","bank_statement":"Bank statement |||| Bank statements","birth_certificate":"Birth certificate |||| Birth certificates","building_permit":"Building permit |||| Building permits","caf":"Social benefit rate |||| Social benefit rates","car_insurance":"Car insurance certificate |||| Car insurance certificates","citizen_registration_certificate":"Certificate of citizen registration |||| Certificates of citizen registration","condition_report":"Condition report |||| Condition reports","diploma":"Diploma |||| Diplomas","divorce":"Divorce |||| Divorces","driver_license":"Driving license |||| Driving licenses","electoral_card":"Electoral card |||| Electoral cards","employment_center_certificate":"Employment center certificate |||| Employment center certificates","energy_contract":"Energy provider contract |||| Energy provider contracts","energy_invoice":"Energy invoice |||| Energy invoices","expense_claim":"Expense claim |||| Expense claims","family_record_book":"Family record book |||| Family record books","family":"Family","fidelity_card":"Benefit card |||| Benefit cards","fine":"Fine |||| Fines","gradebook":"Gradebook |||| Gradebooks","grocery_invoice":"Grocery invoice |||| Grocery invoices","health_book":"Health book |||| Health books","health_certificate":"Health/Vaccination certificate |||| Health/Vaccination certificates","health_insurance_card":"Insurance card |||| Insurance cards","health_invoice":"Health invoice |||| Health invoices","health":"Health","home":"Home","house_insurance":"Home insurance |||| Home insurances","house_sale_agreeement":"House sale agreement |||| House sale agreements","identity_photo":"Identity photo |||| Identity photos","identity":"Identity","invoice":"Invoice |||| Invoices","isp_invoice":"ISP invoice |||| ISP invoices","large_family_card":" Large Family Card |||| Large Family Cards","lease":"Lease |||| Leases","loan_agreement":"Loan agreement |||| Loan agreements","mechanic_invoice":"Repair bill |||| Repair bills","motivation_letter":"Motivation letter |||| Motivation letters","national_health_insurance_card":"National health insurance card |||| National health insurance cards","national_health_insurance_right_certificate":"National health insurance right certificate |||| National health insurance right certificates","national_id_card":"ID card |||| ID cards","note_identity_document":"Note Identity |||| Notes Identity","note_family_document":"Note Family |||| Notes Family","note_work_document":"Note Work & Study |||| Notes Work & Study","note_health_document":"Note Health |||| Notes Health","note_house_document":"Note Home |||| Notes Home","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activities |||| Notes Activities","note_finance":"Note Finance |||| Notes Finance","note_invoice":"Note Invoice |||| Notes Invoice","other_activity_document":"Other activities document |||| Other activities documents","other_bank_document":"Other financial document |||| Other financial documents","other_family_document":"Other family document |||| Other family documents","other_health_document":"Other health document |||| Other health documents","other_house_document":"Other house document |||| Other house documents","other_identity_document":"Other document of identity |||| Other documents of identity","other_invoice":"Other invoice |||| Other invoices","other_revenue":"Other revenue |||| Other revenues","other_tax_document":"Other tax document |||| Other tax documents","other_transport_document":"Other transport document |||| Other transport documents","other_work_document":"Other work document |||| Other work documents","other_administrative_document":"Other administrative document |||| Other administrative documents","others":"Others","pacs":"Civil union |||| Civil unions","passport":"Passeport |||| Passeports","pay_sheet":"Pay sheet |||| Pay sheets","payment_proof_family_allowance":"family allowance payment proof |||| family allowance payment proofs","pension":"Pension |||| Pensions","person_insurance":"Individual insurance certificate |||| Individual insurance certificates","personal_sporting_licence":"Sporting licence |||| Sporting licences","phone_invoice":"Phone invoice |||| Phone invoices","pregnancy_medical_certificate":"Certificate of pregnancy |||| Certificates of pregnancy","prescription":"Prescription |||| Prescriptions","real_estate_insurance":"Real estate insurance certificate |||| Real estate insurance certificates","real_estate_tax":"Real estate tax |||| Real estate taxes","receipt":"Receipt |||| Receipts","rent_receipt":"Rent receipt |||| Rent receipts","residence_permit":"Residence permit |||| Residence permits","restaurant_invoice":"Restaurant invoice |||| Restaurant invoices","resume":"Resume |||| Resumes","school_attendance_certificate":"Certificate of school attendance |||| Certificates of school attendance","school_insurance_certificate":"Certificate of school insurance |||| Certificates of school insurance","single_parent_benefit":"Single parent benefit |||| Single parent benefits","student_card":"Student card |||| Student cards","tax_certificate":"Tax certificate |||| Tax certificates","tax_notice":"Tax notice |||| Tax notices","tax_return":"Tax return |||| Tax returns","tax_timetable":"Payment Plans Installment Agreement |||| Payment Plans Installment Agreements","technical_diagnostic_record":"Technical diagnostic record |||| Technical diagnostic records","telecom_invoice":"Telecom invoice |||| Telecom invoices","transport_card":"Transport card |||| Transport cards","transport_invoice":"Transport invoice |||| Transport invoices","transport":"Transport","unemployment_benefit":"Unemployment benefit |||| Unemployment benefits","unfit_for_habitation_declaration":"Declaration of unfit for habitation |||| Declarations of unfit for habitation","vehicle_registration":"Vehicle registration |||| Vehicle registrations","water_invoice":"Water invoice |||| Water invoices","web_service_invoice":"Web service invoice |||| Web service invoices","wedding":"Wedding contract |||| Wedding contracts","work_contract":"Work contract |||| Work contracts","work_disability_recognition":"Recognition of disability |||| Recognitions of disability","work_invoice":"Work invoice |||| Work invoices","work_quote":"Work quote |||| Work quotes","work_study":"Work & Study"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternate","internship":"Internship","other":"Other"},"noticePeriod":{"oneWeek":"1 week before","oneMonth":"1 month before","threeMonth":"3 months before","oneYear":"1 year before","custom":"Custom","noAlert":"Do not be alerted"}},"themes":{"none":"None","activity":"Activities","family":"Family","finance":"Finance","health":"Health","home":"Home","identity":"Identity","invoice":"Invoice","others":"Others","transport":"Transport","undefined":"Undefined","work_study":"Work & Study"},"expiration":{"expired":"Expired","expiresIn":"Expires in %{duration}","description":"This document expires in %{duration}, consider renewing it"},"qualification":{"date":{"title":{"datetime":"Added on","AObtentionDate":"License A, delivered on","BObtentionDate":"License B, delivered on","CObtentionDate":"License C, delivered on","DObtentionDate":"License D, delivered on","issueDate":"Delivered on","expirationDate":"Expiration date","referencedDate":"Referenced date","shootingDate":"Shooting date","obtentionDate":"Date obtained","date":"Document date"}},"information":{"title":{"fine":{"number":"Amount of the fine"},"fidelity_card":{"number":"Card number"},"caf":{"number":"CAF file number"},"payment_proof_family_allowance":{"number":"CAF file number"},"vehicle":{"licenseNumber":"Vehicle registration number","confidentialNumber":"Confidential vehicle registration code"},"vehicle_registration":{"number":"Vehicle registration number (VIN)"},"national_id_card":{"number":"National ID card number"},"bank_details":{"number":"IBAN number"},"passport":{"number":"Passport number"},"driver_license":{"number":"License number"},"residence_permit":{"number":"License number"},"national_health_insurance_card":{"number":"National health insurance card number"},"pay_sheet":{"number":"Gross remuneration"},"tax_return":{"number":"Reference tax number"},"tax_notice":{"number":"Reference tax number"},"real_estate_tax":{"number":"Reference tax number"},"tax_timetable":{"number":"Reference tax number"},"country":"Document issuing country","refTaxIncome":"Reference tax income","contractType":"Contract type","noticePeriod":"Expiration alert","netSocialAmount":"Net social amount","employerName":"Name of employer","employer":"Name of employer","amount":"Amount of expenditure","subtype":"Purpose of expenditure","bicNumber":"BIC number"},"day":"day |||| days"},"contact":"Owner","page":"Side of the document","front":"Front side","back":"Back side","qualification":"Qualification","noInfo":"No information"}},"MagicFolders":{"administrative":"Administrative","photos":"Photos"}}')},23967:function(e){"use strict";e.exports=JSON.parse('{"country":{"foreign":"\xc9tranger"},"Scan":{"scan_a_doc":"Num\xe9riser un doc","save_doc":"Enregistrer le document","filename":"Nom du fichier","save":"Sauvegarder","cancel":"Annuler","qualify":"Qualifier","apply":"Appliquer","error":{"offline":"Vous \xeates actuellement d\xe9connect\xe9, vous ne pouvez donc pas utiliser cette fonctionnalit\xe9. Connectez-vous \xe0 internet et recommencez. ","uploading":"Vous avez d\xe9j\xe0 un fichier en cours de t\xe9l\xe9chargement. Attendez la fin et recommencez.","generic":"Un probl\xe8me est survenu. Veuillez r\xe9essayer. "},"successful":{"qualified_ok":"Vous venez de qualifier votre fichier avec succ\xe8s !"},"items":{"accommodation_proof":"Attestation d\'h\xe9bergement |||| Attestations d\'h\xe9bergement","appliance_invoice":"Facture d\'\xe9lectrom\xe9nager |||| Factures d\'\xe9lectrom\xe9nager","bank_details":"RIB","bank_statement":"Relev\xe9 de compte |||| Relev\xe9s de compte","birth_certificate":"Acte de naissance |||| Actes de naissance","building_permit":"Permis de construire","caf":"Attestation de quotient familial CAF |||| Attestations de quotient familial CAF","car_insurance":"Attestation d\'assurance auto |||| Attestations d\'assurance auto","citizen_registration_certificate":"Attestation de recensement citoyen |||| Attestations de recensement citoyen","condition_report":"\xc9tat des lieux - Entr\xe9e/Sortie |||| \xc9tats des lieux - Entr\xe9e/Sortie","diploma":"Dipl\xf4me |||| Dipl\xf4mes","divorce":"Attestation de divorce |||| Attestations de divorce","driver_license":"Permis de conduire","electoral_card":"Carte \xe9lectorale |||| Cartes \xe9lectorales","employment_center_certificate":"Attestation de France Travail |||| Attestations de France Travail","energy_contract":"Contrat de fournisseur d\'\xe9nergies |||| Contrats de fournisseur d\'\xe9nergies","energy_invoice":"Facture d\'\xe9nergie |||| Factures d\'\xe9nergie","expense_claim":"Note de frais |||| Notes de frais","family_record_book":"Livret de famille |||| Livrets de famille","family":"Famille","fidelity_card":"Carte avantage |||| Cartes avantages","fine":"Amende |||| Amendes","gradebook":"Bulletin de notes |||| Bulletins de notes","grocery_invoice":"Facture de courses |||| Factures de courses","health_book":"Carnet de sant\xe9 |||| Carnets de sant\xe9","health_certificate":"Certificat de sant\xe9/vaccination |||| Certificats de sant\xe9/vaccination","health_insurance_card":"Carte de mutuelle |||| Cartes de mutuelle","health_invoice":"Facture m\xe9dicale |||| Factures m\xe9dicales","health":"Sant\xe9","home":"Logement","house_insurance":"Assurance logement |||| Assurances logement","house_sale_agreeement":"Compromis de vente","identity_photo":"Photo d\'identit\xe9 |||| Photos d\'identit\xe9","identity":"Identit\xe9","invoice":"Facture |||| Factures","isp_invoice":"Facture d\'internet |||| Factures d\'internet","large_family_card":"Carte famille nombreuse |||| Cartes famille nombreuse","lease":"Bail |||| Baux","loan_agreement":"Contrat de pr\xeat |||| Contrats de pr\xeat","mechanic_invoice":"Facture de r\xe9paration |||| Factures de r\xe9paration","motivation_letter":"Lettre de motivation |||| Lettres de motivation","national_health_insurance_card":"Carte vitale |||| Cartes vitales","national_health_insurance_right_certificate":"Attestation de droits de l\'Assurance Maladie |||| Attestations de droits de l\'Assurance Maladie","national_id_card":"Carte d\'identit\xe9 |||| Cartes d\'identit\xe9","note_identity_document":"Note Identit\xe9 |||| Notes Identit\xe9","note_family_document":"Note Famille |||| Notes Famille","note_work_document":"Note Travail & \xc9tudes |||| Notes Travail & \xc9tudes","note_health_document":"Note Sant\xe9 |||| Notes Sant\xe9","note_house_document":"Note Logement |||| Notes Logement","note_transport_document":"Note Transport |||| Notes Transport","note_activity_document":"Note Activit\xe9s & loisirs |||| Notes Activit\xe9s & loisirs","note_finance":"Note Finances |||| Notes Finances","note_invoice":"Note Factures |||| Notes Factures","other_activity_document":"Autre document de loisirs |||| Autres documents de loisirs","other_bank_document":"Autre document financier |||| Autres documents financiers","other_family_document":"Autre document de famille |||| Autres documents de famille","other_health_document":"Autre document de sant\xe9 |||| Autres documents de sant\xe9","other_house_document":"Autre document de logement |||| Autres documents de logement","other_identity_document":"Autre document d\'identit\xe9 |||| Autres documents d\'identit\xe9","other_invoice":"Autre facture |||| Autres factures","other_revenue":"Autre revenu |||| Autres revenus","other_tax_document":"Imp\xf4ts - Autre document |||| Imp\xf4ts - Autres documents","other_transport_document":"Autre document de transport |||| Autres documents de transport","other_work_document":"Autre document de travail |||| Autres documents de travail","other_administrative_document":"Autre document administratif |||| Autres documents administratifs","others":"Autres","pacs":"Attestation de PACS |||| Attestations de PACS","passport":"Passeport |||| Passeports","pay_sheet":"Fiche de paie |||| Fiches de paie","payment_proof_family_allowance":"Attestation de paiement CAF |||| Attestations de paiement CAF","pension":"Retraite |||| Retraites","person_insurance":"Attestation d\'assurance individuelle |||| Attestations d\'assurance individuelle","personal_sporting_licence":"Licence sportive |||| Licences sportives","phone_invoice":"Facture de t\xe9l\xe9phone |||| Factures de t\xe9l\xe9phone","pregnancy_medical_certificate":"Certificat de grossesse |||| Certificats de grossesse","prescription":"Ordonnance |||| Ordonnances","real_estate_insurance":"Attestation d\'assurance immobili\xe8re |||| Attestations d\'assurance immobili\xe8re","real_estate_tax":"Imp\xf4ts - Taxe fonci\xe8re |||| Imp\xf4ts - Taxes fonci\xe8res","receipt":"Accus\xe9 de r\xe9ception |||| Accus\xe9s de r\xe9ception","rent_receipt":"Quittance de loyer |||| Quittances de loyer","residence_permit":"Titre de s\xe9jour |||| Titres de s\xe9jour","restaurant_invoice":"Facture de restaurant |||| Factures de restaurant","resume":"CV","school_attendance_certificate":"Certificat de scolarit\xe9 |||| Certificats de scolarit\xe9","school_insurance_certificate":"Attestation d\'assurance scolaire |||| Attestations d\'assurance scolaire","single_parent_benefit":"Allocation parent isol\xe9 |||| Allocations parent isol\xe9","student_card":"Carte d\'\xe9tudiant |||| Cartes d\'\xe9tudiant","tax_certificate":"Attestation fiscale |||| Attestations fiscales","tax_notice":"Imp\xf4ts - Avis d\'imposition","tax_return":"Imp\xf4ts - D\xe9claration de revenus |||| Imp\xf4ts - D\xe9clarations de revenus","tax_timetable":"Imp\xf4ts - Ech\xe9ancier |||| Imp\xf4ts - Ech\xe9anciers","technical_diagnostic_record":"Dossier de diagnostic technique |||| Dossiers de diagnostic technique","telecom_invoice":"Facture de t\xe9l\xe9com |||| Factures de t\xe9l\xe9com","transport_card":"Carte de transport |||| Cartes de transport","transport_invoice":"Facture de transport |||| Factures de transport","transport":"Transport","unemployment_benefit":"Allocation ch\xf4mage |||| Allocations ch\xf4mage","unfit_for_habitation_declaration":"Arr\xeat\xe9 d\'insalubrit\xe9 |||| Arr\xeat\xe9s d\'insalubrit\xe9","vehicle_registration":"Carte grise |||| Cartes grises","water_invoice":"Facture d\'eau |||| Factures d\'eau","web_service_invoice":"Facture de service web |||| Factures de service web","wedding":"Contrat de mariage |||| Contrats de mariage","work_contract":"Contrat de travail |||| Contrats de travail","work_disability_recognition":"Reconnaissance de handicap - RQTH |||| Reconnaissances de handicap - RQTH","work_invoice":"Facture de travaux |||| Factures de travaux","work_quote":"Devis de travaux","work_study":"Travail & \xc9tudes"},"attributes":{"contractType":{"cdi":"CDI","cdd":"CDD","alternate":"Alternance","internship":"Stage","other":"Autre"},"noticePeriod":{"oneWeek":"1 semaine avant","oneMonth":"1 mois avant","threeMonth":"3 mois avant","oneYear":"1 an avant","custom":"Personnalis\xe9","noAlert":"Ne pas \xeatre alert\xe9"}},"themes":{"none":"Aucun","activity":"Activit\xe9s & loisirs","family":"Famille","finance":"Finances","health":"Sant\xe9","home":"Logement","identity":"Identit\xe9","invoice":"Factures","others":"Autres","transport":"Transport","undefined":"Ind\xe9fini","work_study":"Travail & \xc9tudes"},"expiration":{"expired":"Expir\xe9","expiresIn":"Expire dans %{duration}","description":"Ce document expire dans %{duration}, pensez \xe0 le renouveler"},"qualification":{"date":{"title":{"datetime":"Ajout\xe9 le","AObtentionDate":"Permis A, d\xe9livr\xe9 le","BObtentionDate":"Permis B, d\xe9livr\xe9 le","CObtentionDate":"Permis C, d\xe9livr\xe9 le","DObtentionDate":"Permis D, d\xe9livr\xe9 le","issueDate":"D\xe9livr\xe9 le","expirationDate":"Date d\'expiration","referencedDate":"Date de r\xe9f\xe9rence","shootingDate":"Date de prise de vue","obtentionDate":"Date d\'obtention","date":"Date du document"}},"information":{"title":{"fine":{"number":"Montant de l\'amende"},"fidelity_card":{"number":"Num\xe9ro de la carte"},"caf":{"number":"Num\xe9ro de dossier CAF"},"payment_proof_family_allowance":{"number":"Num\xe9ro de dossier CAF"},"vehicle":{"licenseNumber":"Num\xe9ro d\'immatriculation","confidentialNumber":"Code confidentiel de la carte grise"},"vehicle_registration":{"number":"Num\xe9ro de la carte grise (VIN)"},"national_id_card":{"number":"Num\xe9ro de la carte d\'identit\xe9"},"bank_details":{"number":"Num\xe9ro d\'IBAN"},"passport":{"number":"Num\xe9ro du passeport"},"driver_license":{"number":"Num\xe9ro du permis"},"residence_permit":{"number":"Num\xe9ro du permis"},"national_health_insurance_card":{"number":"Num\xe9ro de s\xe9curit\xe9 sociale"},"pay_sheet":{"number":"R\xe9mun\xe9ration brute"},"tax_return":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_notice":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"real_estate_tax":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"tax_timetable":{"number":"Num\xe9ro fiscal de r\xe9f\xe9rence"},"country":"Pays \xe9metteur du document","refTaxIncome":"Revenu fiscal de r\xe9f\xe9rence","contractType":"Type de contrat","noticePeriod":"Alerte d’expiration","netSocialAmount":"Montant net social","employerName":"Nom de l\'employeur","employer":"Nom de l\'employeur","amount":"Montant de la d\xe9pense","subtype":"Objet de la d\xe9pense","bicNumber":"Num\xe9ro BIC"},"day":"jour |||| jours"},"contact":"Titulaire","page":"Face du document","front":"Face avant","back":"Face arri\xe8re","qualification":"Qualification","noInfo":"Non renseign\xe9(e)"}},"MagicFolders":{"administrative":"Administratif","photos":"Photos"}}')}}]);